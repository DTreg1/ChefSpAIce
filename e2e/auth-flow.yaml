appId: ${APP_ID}
name: Authentication Flow
---

- launchApp

- runScript:
    file: helpers/generate-email.js

- assertVisible:
    text: "Create Account"

- tapOn:
    text: "Email"
- inputText: "${output.TEST_EMAIL}"

- tapOn:
    text: "Password"
    index: 0
- inputText: "TestP@ssw0rd123!"

- tapOn:
    text: "Confirm Password"
- inputText: "TestP@ssw0rd123!"

- tapOn:
    text: "Create Account"
    index: 0

- extendedWaitUntil:
    visible:
      text: "Welcome"
    timeout: 15000

- assertVisible:
    text: "Welcome"

- tapOn:
    text: "Next"
    optional: true

- tapOn:
    text: "Continue"
    optional: true

- tapOn:
    text: "Next"
    optional: true

- tapOn:
    text: "Continue"
    optional: true

- tapOn:
    text: "Get Started"
    optional: true

- tapOn:
    text: "Skip"
    optional: true

- extendedWaitUntil:
    visible:
      id: "tab-kitchen"
    timeout: 15000

- assertVisible:
    id: "tab-kitchen"

- assertVisible:
    id: "tab-recipes"
