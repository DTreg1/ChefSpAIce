appId: com.chefspaice.chefspaice
name: Profile Flow
---

- evalScript: "console.log('LOG: Starting profile flow')"

- runFlow: auth-flow.yaml

- evalScript: "console.log('LOG: Auth complete, navigating to profile tab')"

- tapOn:
    id: "tab-profile"
    optional: true

- tapOn:
    id: "button-open-drawer"
    optional: true

- evalScript: "console.log('LOG: Hamburger menu / drawer toggle attempted')"

- tapOn:
    text: "Profile"
    optional: true

- evalScript: "console.log('LOG: Profile screen, verifying profile elements')"

- extendedWaitUntil:
    visible:
      text: "Theme"
    timeout: 10000

- assertVisible:
    text: "Theme"

- evalScript: "console.log('LOG: Profile screen loaded, checking theme buttons')"

- assertVisible:
    id: "button-theme-dark"
    optional: true

- assertVisible:
    id: "button-theme-light"
    optional: true

- assertVisible:
    id: "button-theme-system"
    optional: true

- evalScript: "console.log('LOG: Theme toggle options checked (dark/light/system)')"

- evalScript: "console.log('LOG: Checking subscription section')"

- assertVisible:
    id: "link-subscription"
    optional: true

- assertVisible:
    id: "button-manage-subscription"
    optional: true

- assertVisible:
    id: "button-upgrade-subscription"
    optional: true

- evalScript: "console.log('LOG: Subscription section check done')"

- evalScript: "console.log('LOG: Checking biometric login toggle')"

- scrollUntilVisible:
    element:
      id: "switch-biometric-login"
    direction: DOWN
    timeout: 5000
    optional: true

- assertVisible:
    id: "switch-biometric-login"
    optional: true

- evalScript: "console.log('LOG: Biometric login toggle check done')"

- evalScript: "console.log('LOG: Checking active sessions section')"

- assertVisible:
    id: "session-card"
    optional: true

- evalScript: "console.log('LOG: Active sessions check done')"

- evalScript: "console.log('LOG: Checking Instacart settings section')"

- assertVisible:
    id: "container-preferred-retailer"
    optional: true

- assertVisible:
    id: "input-postal-code"
    optional: true

- evalScript: "console.log('LOG: Instacart settings check done')"

- evalScript: "console.log('LOG: Checking for sign out button')"

- scrollUntilVisible:
    element:
      id: "button-sign-out"
    direction: DOWN
    timeout: 5000
    optional: true

- assertVisible:
    id: "button-sign-out"
    optional: true

- evalScript: "console.log('LOG: Sign out button verified present')"

- assertVisible:
    text: "Member since"
    optional: true

- assertVisible:
    text: "Account"
    optional: true

- evalScript: "console.log('LOG: Profile flow complete')"
