appId: com.chefspaice.chefspaice
name: Onboarding Flow
---

- evalScript: "console.log('LOG: Starting onboarding flow with fresh account')"

- runScript:
    file: helpers/generate-email.js

- evalScript: "console.log('LOG: Generated unique email: ' + output.TEST_EMAIL)"

- launchApp:
    clearState: true

- evalScript: "console.log('LOG: App launched with cleared state, waiting for app to stabilize')"

- waitForAnimationToEnd
- wait: 3000

- evalScript: "console.log('LOG: App stabilized, waiting for auth screen')"

- extendedWaitUntil:
    visible:
      id: "input-email"
    timeout: 15000

- waitForAnimationToEnd

- evalScript: "console.log('LOG: Auth screen visible, switching to sign up mode')"

- tapOn:
    text: "Create Account"
    optional: true

- tapOn:
    text: "Sign Up"
    optional: true

- tapOn:
    id: "button-switch-auth-mode"
    optional: true

- waitForAnimationToEnd

- extendedWaitUntil:
    visible:
      id: "input-confirm-password"
    timeout: 5000
    optional: true

- tapOn:
    id: "input-email"
- waitForAnimationToEnd
- inputText: "${output.TEST_EMAIL}"

- tapOn:
    id: "input-password"
- waitForAnimationToEnd
- inputText: "OnboardTest@2026!"

- tapOn:
    id: "input-confirm-password"
    optional: true
- waitForAnimationToEnd
- inputText: "OnboardTest@2026!"

- evalScript: "console.log('LOG: New account credentials entered, submitting')"

- tapOn:
    id: "button-auth-submit"

- waitForAnimationToEnd
- wait: 2000

- evalScript: "console.log('LOG: Account created, waiting for onboarding')"

- extendedWaitUntil:
    visible:
      id: "onboarding-welcome-step"
    timeout: 15000

- waitForAnimationToEnd

- assertVisible:
    id: "onboarding-welcome-step"

- evalScript: "console.log('LOG: Onboarding welcome step visible')"

- tapOn:
    id: "button-get-started"
    optional: true

- tapOn:
    text: "Get Started"
    optional: true

- waitForAnimationToEnd

- evalScript: "console.log('LOG: Tapped Get Started, proceeding through onboarding steps')"

- tapOn:
    text: "Next"
    optional: true

- waitForAnimationToEnd

- evalScript: "console.log('LOG: Onboarding step 2')"

- tapOn:
    text: "Continue"
    optional: true

- waitForAnimationToEnd

- evalScript: "console.log('LOG: Onboarding step 3')"

- tapOn:
    text: "Next"
    optional: true

- waitForAnimationToEnd

- evalScript: "console.log('LOG: Onboarding step 4')"

- tapOn:
    text: "Continue"
    optional: true

- waitForAnimationToEnd

- evalScript: "console.log('LOG: Onboarding step 5')"

- tapOn:
    text: "Next"
    optional: true

- waitForAnimationToEnd

- tapOn:
    text: "Skip"
    optional: true

- waitForAnimationToEnd

- tapOn:
    text: "Continue"
    optional: true

- waitForAnimationToEnd

- tapOn:
    text: "Get Started"
    optional: true

- waitForAnimationToEnd

- tapOn:
    text: "Done"
    optional: true

- waitForAnimationToEnd

- evalScript: "console.log('LOG: Onboarding steps completed, waiting for main tabs')"

- extendedWaitUntil:
    visible:
      id: "tab-kitchen"
    timeout: 20000

- assertVisible:
    id: "tab-kitchen"

- assertVisible:
    id: "tab-recipes"

- evalScript: "console.log('LOG: Main tabs visible, onboarding flow complete')"
