appId: com.chefspaice.chefspaice
name: Meal Plan Flow
---

- evalScript: "console.log('LOG: Starting meal plan flow')"

- runFlow: auth-flow.yaml

- evalScript: "console.log('LOG: Auth complete, navigating to meal plan tab')"

- tapOn:
    id: "tab-mealplan"

- evalScript: "console.log('LOG: Tapped meal plan tab, waiting for screen to load')"

- extendedWaitUntil:
    visible:
      text: "Meal Plan"
    timeout: 10000
    optional: true

- evalScript: "console.log('LOG: Checking for meal plan screen elements')"

- assertVisible:
    text: "Meal Plan"
    optional: true

- assertVisible:
    text: "Mon"
    optional: true

- assertVisible:
    text: "Tue"
    optional: true

- assertVisible:
    text: "Wed"
    optional: true

- assertVisible:
    text: "Thu"
    optional: true

- assertVisible:
    text: "Fri"
    optional: true

- assertVisible:
    text: "Sat"
    optional: true

- assertVisible:
    text: "Sun"
    optional: true

- evalScript: "console.log('LOG: Day selectors verified, checking meal slots')"

- assertVisible:
    text: "Breakfast"
    optional: true

- assertVisible:
    text: "Lunch"
    optional: true

- assertVisible:
    text: "Dinner"
    optional: true

- assertVisible:
    text: "Snack"
    optional: true

- evalScript: "console.log('LOG: Meal slots verified (Breakfast/Lunch/Dinner/Snack), checking drag handles')"

- evalScript: "console.log('LOG: Drag handles use dynamic IDs (drag-handle-{slotId}), skipping ID-based assertion')"

- evalScript: "console.log('LOG: Drag handle check done, testing week navigation')"

- swipe:
    direction: LEFT
    optional: true

- evalScript: "console.log('LOG: Swiped left for next week')"

- extendedWaitUntil:
    visible:
      text: "Mon"
    timeout: 5000
    optional: true

- evalScript: "console.log('LOG: Next week loaded, swiping back')"

- swipe:
    direction: RIGHT
    optional: true

- evalScript: "console.log('LOG: Swiped right back to current week')"

- extendedWaitUntil:
    visible:
      text: "Mon"
    timeout: 5000
    optional: true

- evalScript: "console.log('LOG: Week navigation verified, meal plan flow complete')"
