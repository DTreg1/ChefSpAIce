appId: com.chefspaice.chefspaice
name: Subscription Flow
---

- evalScript: "console.log('LOG: Starting subscription flow')"

- runFlow: auth-flow.yaml

- evalScript: "console.log('LOG: Auth complete, navigating to profile for subscription info')"

- tapOn:
    id: "tab-profile"
    optional: true

- tapOn:
    id: "button-open-drawer"
    optional: true

- tapOn:
    text: "Profile"
    optional: true

- tapOn:
    text: "Settings"
    optional: true

- evalScript: "console.log('LOG: Profile/settings screen, looking for subscription elements')"

- extendedWaitUntil:
    visible:
      text: "Theme"
    timeout: 10000

- tapOn:
    id: "link-subscription"
    optional: true

- tapOn:
    text: "Subscription"
    optional: true

- tapOn:
    text: "Manage Subscription"
    optional: true

- evalScript: "console.log('LOG: Checking for subscription-related UI elements')"

- assertVisible:
    id: "button-manage-subscription"
    optional: true

- assertVisible:
    id: "button-subscribe"
    optional: true

- assertVisible:
    id: "button-trial-subscribe"
    optional: true

- assertVisible:
    id: "button-restore-purchases"
    optional: true

- assertVisible:
    id: "button-refresh-subscription"
    optional: true

- evalScript: "console.log('LOG: Core subscription buttons checked')"

- assertVisible:
    id: "button-continue-to-app"
    optional: true

- evalScript: "console.log('LOG: Continue to app button check done')"

- assertVisible:
    id: "button-cancel-subscription"
    optional: true

- evalScript: "console.log('LOG: Cancel subscription button check done')"

- evalScript: "console.log('LOG: Checking for trial-related badges or banners')"

- assertVisible:
    text: "Trial"
    optional: true

- assertVisible:
    text: "Free"
    optional: true

- assertVisible:
    text: "Pro"
    optional: true

- assertVisible:
    text: "Premium"
    optional: true

- evalScript: "console.log('LOG: Checking subscription status text elements')"

- assertVisible:
    text: "Active"
    optional: true

- assertVisible:
    text: "Expired"
    optional: true

- assertVisible:
    text: "Cancelled"
    optional: true

- assertVisible:
    text: "Monthly"
    optional: true

- assertVisible:
    text: "Annual"
    optional: true

- assertVisible:
    text: "Yearly"
    optional: true

- evalScript: "console.log('LOG: Subscription status text elements checked, subscription flow complete')"
