appId: ${APP_ID}
name: Inventory Flow
---

- runFlow: auth-flow.yaml

- tapOn:
    id: "tab-kitchen"

- extendedWaitUntil:
    visible:
      id: "screen-inventory"
    timeout: 10000

- assertVisible:
    id: "screen-inventory"

- tapOn:
    id: "add-button"

- tapOn:
    id: "menu-manual"
    optional: true

- tapOn:
    text: "Manual Entry"
    optional: true

- tapOn:
    text: "Add Manually"
    optional: true

- extendedWaitUntil:
    visible:
      id: "input-item-name"
    timeout: 10000

- tapOn:
    id: "input-item-name"
- inputText: "Test Apple"

- tapOn:
    id: "input-item-quantity"
    optional: true
- eraseText
- inputText: "3"

- scrollUntilVisible:
    element:
      id: "chip-category-fruits"
    direction: DOWN
    timeout: 5000

- tapOn:
    id: "chip-category-fruits"

- tapOn:
    id: "button-save-item"

- extendedWaitUntil:
    visible:
      text: "Test Apple"
    timeout: 10000

- assertVisible:
    text: "Test Apple"

- swipe:
    direction: LEFT
    from:
      text: "Test Apple"

- tapOn:
    text: "Delete"
    optional: true

- tapOn:
    text: "Remove"
    optional: true

- extendedWaitUntil:
    notVisible:
      text: "Test Apple"
    timeout: 10000
