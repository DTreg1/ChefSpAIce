appId: com.chefspaice.chefspaice
name: Cookware Flow
---

- evalScript: "console.log('LOG: Starting cookware flow')"

- runFlow: auth-flow.yaml

- evalScript: "console.log('LOG: Auth complete, navigating to cookware tab')"

- tapOn:
    id: "tab-cookware"

- evalScript: "console.log('LOG: Tapped cookware tab, waiting for screen to load')"

- extendedWaitUntil:
    visible:
      text: "Cookware"
    timeout: 10000

- evalScript: "console.log('LOG: Cookware screen loaded')"

- assertVisible:
    text: "Cookware"

- evalScript: "console.log('LOG: Checking for add button by testID')"

- assertVisible:
    id: "add-button"
    optional: true

- runFlow:
    when:
      visible:
        id: "add-button"
    commands:
      - evalScript: "console.log('LOG: Add button found via testID, tapping to add cookware')"
      - tapOn:
          id: "add-button"
      - evalScript: "console.log('LOG: Add button tapped, checking for add cookware modal or screen')"
      - extendedWaitUntil:
          visible:
            text: "Add"
          timeout: 5000
          optional: true
      - back
      - evalScript: "console.log('LOG: Returned from add cookware flow')"

- runFlow:
    when:
      visible:
        text: "Add"
    commands:
      - evalScript: "console.log('LOG: Add cookware button visible by text')"
      - assertVisible:
          text: "Add"

- evalScript: "console.log('LOG: Checking cookware items state')"

- runFlow:
    when:
      visible:
        text: "No cookware"
    commands:
      - evalScript: "console.log('LOG: Empty state visible - no cookware items yet')"

- runFlow:
    when:
      notVisible:
        text: "No cookware"
    commands:
      - evalScript: "console.log('LOG: Cookware items are present on screen, verifying list')"
      - assertVisible:
          text: "Cookware"
      - evalScript: "console.log('LOG: Cookware list items confirmed visible')"

- evalScript: "console.log('LOG: Cookware flow complete')"
