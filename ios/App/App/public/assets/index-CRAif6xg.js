var uoe=Object.defineProperty;var pM=e=>{throw TypeError(e)};var doe=(e,t,n)=>t in e?uoe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var foe=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Q=(e,t,n)=>doe(e,typeof t!="symbol"?t+"":t,n),JA=(e,t,n)=>t.has(e)||pM("Cannot "+n);var B=(e,t,n)=>(JA(e,t,"read from private field"),n?n.call(e):t.get(e)),Ae=(e,t,n)=>t.has(e)?pM("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),_e=(e,t,n,r)=>(JA(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),Me=(e,t,n)=>(JA(e,t,"access private method"),n);var Ex=(e,t,n,r)=>({set _(i){_e(e,t,i,n)},get _(){return B(e,t,r)}});var Stt=foe((Wtt,rx)=>{function Jz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(e,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var ic=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function en(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var eV={exports:{}},GS={},tV={exports:{}},nn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ev=Symbol.for("react.element"),hoe=Symbol.for("react.portal"),poe=Symbol.for("react.fragment"),moe=Symbol.for("react.strict_mode"),goe=Symbol.for("react.profiler"),yoe=Symbol.for("react.provider"),voe=Symbol.for("react.context"),xoe=Symbol.for("react.forward_ref"),boe=Symbol.for("react.suspense"),woe=Symbol.for("react.memo"),Soe=Symbol.for("react.lazy"),mM=Symbol.iterator;function Coe(e){return e===null||typeof e!="object"?null:(e=mM&&e[mM]||e["@@iterator"],typeof e=="function"?e:null)}var nV={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rV=Object.assign,iV={};function dg(e,t,n){this.props=e,this.context=t,this.refs=iV,this.updater=n||nV}dg.prototype.isReactComponent={};dg.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};dg.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function sV(){}sV.prototype=dg.prototype;function v3(e,t,n){this.props=e,this.context=t,this.refs=iV,this.updater=n||nV}var x3=v3.prototype=new sV;x3.constructor=v3;rV(x3,dg.prototype);x3.isPureReactComponent=!0;var gM=Array.isArray,aV=Object.prototype.hasOwnProperty,b3={current:null},oV={key:!0,ref:!0,__self:!0,__source:!0};function lV(e,t,n){var r,i={},s=null,a=null;if(t!=null)for(r in t.ref!==void 0&&(a=t.ref),t.key!==void 0&&(s=""+t.key),t)aV.call(t,r)&&!oV.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var u=Array(o),d=0;d<o;d++)u[d]=arguments[d+2];i.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:Ev,type:e,key:s,ref:a,props:i,_owner:b3.current}}function Aoe(e,t){return{$$typeof:Ev,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function w3(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ev}function Eoe(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var yM=/\/+/g;function eE(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Eoe(""+e.key):t.toString(36)}function Ob(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var a=!1;if(e===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(e.$$typeof){case Ev:case hoe:a=!0}}if(a)return a=e,i=i(a),e=r===""?"."+eE(a,0):r,gM(i)?(n="",e!=null&&(n=e.replace(yM,"$&/")+"/"),Ob(i,t,n,"",function(d){return d})):i!=null&&(w3(i)&&(i=Aoe(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(yM,"$&/")+"/")+e)),t.push(i)),1;if(a=0,r=r===""?".":r+":",gM(e))for(var o=0;o<e.length;o++){s=e[o];var u=r+eE(s,o);a+=Ob(s,t,n,u,i)}else if(u=Coe(e),typeof u=="function")for(e=u.call(e),o=0;!(s=e.next()).done;)s=s.value,u=r+eE(s,o++),a+=Ob(s,t,n,u,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return a}function _x(e,t,n){if(e==null)return e;var r=[],i=0;return Ob(e,r,"","",function(s){return t.call(n,s,i++)}),r}function _oe(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ss={current:null},jb={transition:null},Toe={ReactCurrentDispatcher:Ss,ReactCurrentBatchConfig:jb,ReactCurrentOwner:b3};function cV(){throw Error("act(...) is not supported in production builds of React.")}nn.Children={map:_x,forEach:function(e,t,n){_x(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return _x(e,function(){t++}),t},toArray:function(e){return _x(e,function(t){return t})||[]},only:function(e){if(!w3(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};nn.Component=dg;nn.Fragment=poe;nn.Profiler=goe;nn.PureComponent=v3;nn.StrictMode=moe;nn.Suspense=boe;nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Toe;nn.act=cV;nn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=rV({},e.props),i=e.key,s=e.ref,a=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,a=b3.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)aV.call(t,u)&&!oV.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var d=0;d<u;d++)o[d]=arguments[d+2];r.children=o}return{$$typeof:Ev,type:e.type,key:i,ref:s,props:r,_owner:a}};nn.createContext=function(e){return e={$$typeof:voe,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yoe,_context:e},e.Consumer=e};nn.createElement=lV;nn.createFactory=function(e){var t=lV.bind(null,e);return t.type=e,t};nn.createRef=function(){return{current:null}};nn.forwardRef=function(e){return{$$typeof:xoe,render:e}};nn.isValidElement=w3;nn.lazy=function(e){return{$$typeof:Soe,_payload:{_status:-1,_result:e},_init:_oe}};nn.memo=function(e,t){return{$$typeof:woe,type:e,compare:t===void 0?null:t}};nn.startTransition=function(e){var t=jb.transition;jb.transition={};try{e()}finally{jb.transition=t}};nn.unstable_act=cV;nn.useCallback=function(e,t){return Ss.current.useCallback(e,t)};nn.useContext=function(e){return Ss.current.useContext(e)};nn.useDebugValue=function(){};nn.useDeferredValue=function(e){return Ss.current.useDeferredValue(e)};nn.useEffect=function(e,t){return Ss.current.useEffect(e,t)};nn.useId=function(){return Ss.current.useId()};nn.useImperativeHandle=function(e,t,n){return Ss.current.useImperativeHandle(e,t,n)};nn.useInsertionEffect=function(e,t){return Ss.current.useInsertionEffect(e,t)};nn.useLayoutEffect=function(e,t){return Ss.current.useLayoutEffect(e,t)};nn.useMemo=function(e,t){return Ss.current.useMemo(e,t)};nn.useReducer=function(e,t,n){return Ss.current.useReducer(e,t,n)};nn.useRef=function(e){return Ss.current.useRef(e)};nn.useState=function(e){return Ss.current.useState(e)};nn.useSyncExternalStore=function(e,t,n){return Ss.current.useSyncExternalStore(e,t,n)};nn.useTransition=function(){return Ss.current.useTransition()};nn.version="18.3.1";tV.exports=nn;var T=tV.exports;const te=en(T),uV=Jz({__proto__:null,default:te},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Noe=T,Poe=Symbol.for("react.element"),Ooe=Symbol.for("react.fragment"),joe=Object.prototype.hasOwnProperty,koe=Noe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ioe={key:!0,ref:!0,__self:!0,__source:!0};function dV(e,t,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(a=t.ref);for(r in t)joe.call(t,r)&&!Ioe.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:Poe,type:e,key:s,ref:a,props:i,_owner:koe.current}}GS.Fragment=Ooe;GS.jsx=dV;GS.jsxs=dV;eV.exports=GS;var c=eV.exports,fV={exports:{}},Sa={},hV={exports:{}},pV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(W,oe){var J=W.length;W.push(oe);e:for(;0<J;){var Y=J-1>>>1,ne=W[Y];if(0<i(ne,oe))W[Y]=oe,W[J]=ne,J=Y;else break e}}function n(W){return W.length===0?null:W[0]}function r(W){if(W.length===0)return null;var oe=W[0],J=W.pop();if(J!==oe){W[0]=J;e:for(var Y=0,ne=W.length,pe=ne>>>1;Y<pe;){var he=2*(Y+1)-1,we=W[he],me=he+1,be=W[me];if(0>i(we,J))me<ne&&0>i(be,we)?(W[Y]=be,W[me]=J,Y=me):(W[Y]=we,W[he]=J,Y=he);else if(me<ne&&0>i(be,J))W[Y]=be,W[me]=J,Y=me;else break e}}return oe}function i(W,oe){var J=W.sortIndex-oe.sortIndex;return J!==0?J:W.id-oe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();e.unstable_now=function(){return a.now()-o}}var u=[],d=[],h=1,m=null,y=3,b=!1,C=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(W){for(var oe=n(d);oe!==null;){if(oe.callback===null)r(d);else if(oe.startTime<=W)r(d),oe.sortIndex=oe.expirationTime,t(u,oe);else break;oe=n(d)}}function I(W){if(w=!1,N(W),!C)if(n(u)!==null)C=!0,q(O);else{var oe=n(d);oe!==null&&G(I,oe.startTime-W)}}function O(W,oe){C=!1,w&&(w=!1,_(R),R=-1),b=!0;var J=y;try{for(N(oe),m=n(u);m!==null&&(!(m.expirationTime>oe)||W&&!X());){var Y=m.callback;if(typeof Y=="function"){m.callback=null,y=m.priorityLevel;var ne=Y(m.expirationTime<=oe);oe=e.unstable_now(),typeof ne=="function"?m.callback=ne:m===n(u)&&r(u),N(oe)}else r(u);m=n(u)}if(m!==null)var pe=!0;else{var he=n(d);he!==null&&G(I,he.startTime-oe),pe=!1}return pe}finally{m=null,y=J,b=!1}}var k=!1,M=null,R=-1,L=5,U=-1;function X(){return!(e.unstable_now()-U<L)}function F(){if(M!==null){var W=e.unstable_now();U=W;var oe=!0;try{oe=M(!0,W)}finally{oe?V():(k=!1,M=null)}}else k=!1}var V;if(typeof E=="function")V=function(){E(F)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,H=Z.port2;Z.port1.onmessage=F,V=function(){H.postMessage(null)}}else V=function(){A(F,0)};function q(W){M=W,k||(k=!0,V())}function G(W,oe){R=A(function(){W(e.unstable_now())},oe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(W){W.callback=null},e.unstable_continueExecution=function(){C||b||(C=!0,q(O))},e.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):L=0<W?Math.floor(1e3/W):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(W){switch(y){case 1:case 2:case 3:var oe=3;break;default:oe=y}var J=y;y=oe;try{return W()}finally{y=J}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(W,oe){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var J=y;y=W;try{return oe()}finally{y=J}},e.unstable_scheduleCallback=function(W,oe,J){var Y=e.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?Y+J:Y):J=Y,W){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=J+ne,W={id:h++,callback:oe,priorityLevel:W,startTime:J,expirationTime:ne,sortIndex:-1},J>Y?(W.sortIndex=J,t(d,W),n(u)===null&&W===n(d)&&(w?(_(R),R=-1):w=!0,G(I,J-Y))):(W.sortIndex=ne,t(u,W),C||b||(C=!0,q(O))),W},e.unstable_shouldYield=X,e.unstable_wrapCallback=function(W){var oe=y;return function(){var J=y;y=oe;try{return W.apply(this,arguments)}finally{y=J}}}})(pV);hV.exports=pV;var Moe=hV.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Doe=T,xa=Moe;function He(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var mV=new Set,Cy={};function ih(e,t){fm(e,t),fm(e+"Capture",t)}function fm(e,t){for(Cy[e]=t,e=0;e<t.length;e++)mV.add(t[e])}var Cc=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),aT=Object.prototype.hasOwnProperty,Roe=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,vM={},xM={};function Foe(e){return aT.call(xM,e)?!0:aT.call(vM,e)?!1:Roe.test(e)?xM[e]=!0:(vM[e]=!0,!1)}function Loe(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function Boe(e,t,n,r){if(t===null||typeof t>"u"||Loe(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Cs(e,t,n,r,i,s,a){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var Di={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Di[e]=new Cs(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Di[t]=new Cs(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Di[e]=new Cs(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Di[e]=new Cs(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Di[e]=new Cs(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Di[e]=new Cs(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Di[e]=new Cs(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Di[e]=new Cs(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Di[e]=new Cs(e,5,!1,e.toLowerCase(),null,!1,!1)});var S3=/[\-:]([a-z])/g;function C3(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(S3,C3);Di[t]=new Cs(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(S3,C3);Di[t]=new Cs(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(S3,C3);Di[t]=new Cs(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Di[e]=new Cs(e,1,!1,e.toLowerCase(),null,!1,!1)});Di.xlinkHref=new Cs("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Di[e]=new Cs(e,1,!1,e.toLowerCase(),null,!0,!0)});function A3(e,t,n,r){var i=Di.hasOwnProperty(t)?Di[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(Boe(t,n,i,r)&&(n=null),r||i===null?Foe(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var Lc=Doe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tx=Symbol.for("react.element"),Uh=Symbol.for("react.portal"),zh=Symbol.for("react.fragment"),E3=Symbol.for("react.strict_mode"),oT=Symbol.for("react.profiler"),gV=Symbol.for("react.provider"),yV=Symbol.for("react.context"),_3=Symbol.for("react.forward_ref"),lT=Symbol.for("react.suspense"),cT=Symbol.for("react.suspense_list"),T3=Symbol.for("react.memo"),ou=Symbol.for("react.lazy"),vV=Symbol.for("react.offscreen"),bM=Symbol.iterator;function n0(e){return e===null||typeof e!="object"?null:(e=bM&&e[bM]||e["@@iterator"],typeof e=="function"?e:null)}var gr=Object.assign,tE;function M0(e){if(tE===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);tE=t&&t[1]||""}return`
`+tE+e}var nE=!1;function rE(e,t){if(!e||nE)return"";nE=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(d){var r=d}Reflect.construct(e,[],t)}else{try{t.call()}catch(d){r=d}e.call(t.prototype)}else{try{throw Error()}catch(d){r=d}e()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var i=d.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var u=`
`+i[a].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=a&&0<=o);break}}}finally{nE=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?M0(e):""}function $oe(e){switch(e.tag){case 5:return M0(e.type);case 16:return M0("Lazy");case 13:return M0("Suspense");case 19:return M0("SuspenseList");case 0:case 2:case 15:return e=rE(e.type,!1),e;case 11:return e=rE(e.type.render,!1),e;case 1:return e=rE(e.type,!0),e;default:return""}}function uT(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case zh:return"Fragment";case Uh:return"Portal";case oT:return"Profiler";case E3:return"StrictMode";case lT:return"Suspense";case cT:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case yV:return(e.displayName||"Context")+".Consumer";case gV:return(e._context.displayName||"Context")+".Provider";case _3:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case T3:return t=e.displayName||null,t!==null?t:uT(e.type)||"Memo";case ou:t=e._payload,e=e._init;try{return uT(e(t))}catch{}}return null}function Uoe(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return uT(t);case 8:return t===E3?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Hu(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function xV(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zoe(e){var t=xV(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Nx(e){e._valueTracker||(e._valueTracker=zoe(e))}function bV(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=xV(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function cw(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function dT(e,t){var n=t.checked;return gr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function wM(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Hu(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function wV(e,t){t=t.checked,t!=null&&A3(e,"checked",t,!1)}function fT(e,t){wV(e,t);var n=Hu(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?hT(e,t.type,n):t.hasOwnProperty("defaultValue")&&hT(e,t.type,Hu(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function SM(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function hT(e,t,n){(t!=="number"||cw(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var D0=Array.isArray;function hp(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Hu(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function pT(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(He(91));return gr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function CM(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(He(92));if(D0(n)){if(1<n.length)throw Error(He(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Hu(n)}}function SV(e,t){var n=Hu(t.value),r=Hu(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function AM(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function CV(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function mT(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?CV(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Px,AV=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Px=Px||document.createElement("div"),Px.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Px.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ay(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Y0={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Voe=["Webkit","ms","Moz","O"];Object.keys(Y0).forEach(function(e){Voe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Y0[t]=Y0[e]})});function EV(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Y0.hasOwnProperty(e)&&Y0[e]?(""+t).trim():t+"px"}function _V(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=EV(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var Woe=gr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function gT(e,t){if(t){if(Woe[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(He(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(He(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(He(61))}if(t.style!=null&&typeof t.style!="object")throw Error(He(62))}}function yT(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vT=null;function N3(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var xT=null,pp=null,mp=null;function EM(e){if(e=Nv(e)){if(typeof xT!="function")throw Error(He(280));var t=e.stateNode;t&&(t=ZS(t),xT(e.stateNode,e.type,t))}}function TV(e){pp?mp?mp.push(e):mp=[e]:pp=e}function NV(){if(pp){var e=pp,t=mp;if(mp=pp=null,EM(e),t)for(e=0;e<t.length;e++)EM(t[e])}}function PV(e,t){return e(t)}function OV(){}var iE=!1;function jV(e,t,n){if(iE)return e(t,n);iE=!0;try{return PV(e,t,n)}finally{iE=!1,(pp!==null||mp!==null)&&(OV(),NV())}}function Ey(e,t){var n=e.stateNode;if(n===null)return null;var r=ZS(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(He(231,t,typeof n));return n}var bT=!1;if(Cc)try{var r0={};Object.defineProperty(r0,"passive",{get:function(){bT=!0}}),window.addEventListener("test",r0,r0),window.removeEventListener("test",r0,r0)}catch{bT=!1}function Hoe(e,t,n,r,i,s,a,o,u){var d=Array.prototype.slice.call(arguments,3);try{t.apply(n,d)}catch(h){this.onError(h)}}var Z0=!1,uw=null,dw=!1,wT=null,Goe={onError:function(e){Z0=!0,uw=e}};function qoe(e,t,n,r,i,s,a,o,u){Z0=!1,uw=null,Hoe.apply(Goe,arguments)}function Koe(e,t,n,r,i,s,a,o,u){if(qoe.apply(this,arguments),Z0){if(Z0){var d=uw;Z0=!1,uw=null}else throw Error(He(198));dw||(dw=!0,wT=d)}}function sh(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function kV(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function _M(e){if(sh(e)!==e)throw Error(He(188))}function Xoe(e){var t=e.alternate;if(!t){if(t=sh(e),t===null)throw Error(He(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return _M(i),e;if(s===r)return _M(i),t;s=s.sibling}throw Error(He(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(He(189))}}if(n.alternate!==r)throw Error(He(190))}if(n.tag!==3)throw Error(He(188));return n.stateNode.current===n?e:t}function IV(e){return e=Xoe(e),e!==null?MV(e):null}function MV(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=MV(e);if(t!==null)return t;e=e.sibling}return null}var DV=xa.unstable_scheduleCallback,TM=xa.unstable_cancelCallback,Yoe=xa.unstable_shouldYield,Zoe=xa.unstable_requestPaint,Dr=xa.unstable_now,Qoe=xa.unstable_getCurrentPriorityLevel,P3=xa.unstable_ImmediatePriority,RV=xa.unstable_UserBlockingPriority,fw=xa.unstable_NormalPriority,Joe=xa.unstable_LowPriority,FV=xa.unstable_IdlePriority,qS=null,gl=null;function ele(e){if(gl&&typeof gl.onCommitFiberRoot=="function")try{gl.onCommitFiberRoot(qS,e,void 0,(e.current.flags&128)===128)}catch{}}var Po=Math.clz32?Math.clz32:rle,tle=Math.log,nle=Math.LN2;function rle(e){return e>>>=0,e===0?32:31-(tle(e)/nle|0)|0}var Ox=64,jx=4194304;function R0(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function hw(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=R0(o):(s&=a,s!==0&&(r=R0(s)))}else a=n&~i,a!==0?r=R0(a):s!==0&&(r=R0(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Po(t),i=1<<n,r|=e[n],t&=~i;return r}function ile(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sle(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-Po(s),o=1<<a,u=i[a];u===-1?(!(o&n)||o&r)&&(i[a]=ile(o,t)):u<=t&&(e.expiredLanes|=o),s&=~o}}function ST(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function LV(){var e=Ox;return Ox<<=1,!(Ox&4194240)&&(Ox=64),e}function sE(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function _v(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Po(t),e[t]=n}function ale(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Po(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function O3(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Po(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var _n=0;function BV(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var $V,j3,UV,zV,VV,CT=!1,kx=[],ju=null,ku=null,Iu=null,_y=new Map,Ty=new Map,du=[],ole="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function NM(e,t){switch(e){case"focusin":case"focusout":ju=null;break;case"dragenter":case"dragleave":ku=null;break;case"mouseover":case"mouseout":Iu=null;break;case"pointerover":case"pointerout":_y.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ty.delete(t.pointerId)}}function i0(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Nv(t),t!==null&&j3(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function lle(e,t,n,r,i){switch(t){case"focusin":return ju=i0(ju,e,t,n,r,i),!0;case"dragenter":return ku=i0(ku,e,t,n,r,i),!0;case"mouseover":return Iu=i0(Iu,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return _y.set(s,i0(_y.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ty.set(s,i0(Ty.get(s)||null,e,t,n,r,i)),!0}return!1}function WV(e){var t=Gd(e.target);if(t!==null){var n=sh(t);if(n!==null){if(t=n.tag,t===13){if(t=kV(n),t!==null){e.blockedOn=t,VV(e.priority,function(){UV(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function kb(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=AT(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);vT=r,n.target.dispatchEvent(r),vT=null}else return t=Nv(n),t!==null&&j3(t),e.blockedOn=n,!1;t.shift()}return!0}function PM(e,t,n){kb(e)&&n.delete(t)}function cle(){CT=!1,ju!==null&&kb(ju)&&(ju=null),ku!==null&&kb(ku)&&(ku=null),Iu!==null&&kb(Iu)&&(Iu=null),_y.forEach(PM),Ty.forEach(PM)}function s0(e,t){e.blockedOn===t&&(e.blockedOn=null,CT||(CT=!0,xa.unstable_scheduleCallback(xa.unstable_NormalPriority,cle)))}function Ny(e){function t(i){return s0(i,e)}if(0<kx.length){s0(kx[0],e);for(var n=1;n<kx.length;n++){var r=kx[n];r.blockedOn===e&&(r.blockedOn=null)}}for(ju!==null&&s0(ju,e),ku!==null&&s0(ku,e),Iu!==null&&s0(Iu,e),_y.forEach(t),Ty.forEach(t),n=0;n<du.length;n++)r=du[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<du.length&&(n=du[0],n.blockedOn===null);)WV(n),n.blockedOn===null&&du.shift()}var gp=Lc.ReactCurrentBatchConfig,pw=!0;function ule(e,t,n,r){var i=_n,s=gp.transition;gp.transition=null;try{_n=1,k3(e,t,n,r)}finally{_n=i,gp.transition=s}}function dle(e,t,n,r){var i=_n,s=gp.transition;gp.transition=null;try{_n=4,k3(e,t,n,r)}finally{_n=i,gp.transition=s}}function k3(e,t,n,r){if(pw){var i=AT(e,t,n,r);if(i===null)mE(e,t,r,mw,n),NM(e,r);else if(lle(i,e,t,n,r))r.stopPropagation();else if(NM(e,r),t&4&&-1<ole.indexOf(e)){for(;i!==null;){var s=Nv(i);if(s!==null&&$V(s),s=AT(e,t,n,r),s===null&&mE(e,t,r,mw,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else mE(e,t,r,null,n)}}var mw=null;function AT(e,t,n,r){if(mw=null,e=N3(r),e=Gd(e),e!==null)if(t=sh(e),t===null)e=null;else if(n=t.tag,n===13){if(e=kV(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mw=e,null}function HV(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Qoe()){case P3:return 1;case RV:return 4;case fw:case Joe:return 16;case FV:return 536870912;default:return 16}default:return 16}}var _u=null,I3=null,Ib=null;function GV(){if(Ib)return Ib;var e,t=I3,n=t.length,r,i="value"in _u?_u.value:_u.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var a=n-e;for(r=1;r<=a&&t[n-r]===i[s-r];r++);return Ib=i.slice(e,1<r?1-r:void 0)}function Mb(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ix(){return!0}function OM(){return!1}function Ca(e){function t(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Ix:OM,this.isPropagationStopped=OM,this}return gr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ix)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ix)},persist:function(){},isPersistent:Ix}),t}var fg={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},M3=Ca(fg),Tv=gr({},fg,{view:0,detail:0}),fle=Ca(Tv),aE,oE,a0,KS=gr({},Tv,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:D3,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==a0&&(a0&&e.type==="mousemove"?(aE=e.screenX-a0.screenX,oE=e.screenY-a0.screenY):oE=aE=0,a0=e),aE)},movementY:function(e){return"movementY"in e?e.movementY:oE}}),jM=Ca(KS),hle=gr({},KS,{dataTransfer:0}),ple=Ca(hle),mle=gr({},Tv,{relatedTarget:0}),lE=Ca(mle),gle=gr({},fg,{animationName:0,elapsedTime:0,pseudoElement:0}),yle=Ca(gle),vle=gr({},fg,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),xle=Ca(vle),ble=gr({},fg,{data:0}),kM=Ca(ble),wle={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sle={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cle={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ale(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Cle[e])?!!t[e]:!1}function D3(){return Ale}var Ele=gr({},Tv,{key:function(e){if(e.key){var t=wle[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Mb(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sle[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:D3,charCode:function(e){return e.type==="keypress"?Mb(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Mb(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_le=Ca(Ele),Tle=gr({},KS,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),IM=Ca(Tle),Nle=gr({},Tv,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:D3}),Ple=Ca(Nle),Ole=gr({},fg,{propertyName:0,elapsedTime:0,pseudoElement:0}),jle=Ca(Ole),kle=gr({},KS,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ile=Ca(kle),Mle=[9,13,27,32],R3=Cc&&"CompositionEvent"in window,Q0=null;Cc&&"documentMode"in document&&(Q0=document.documentMode);var Dle=Cc&&"TextEvent"in window&&!Q0,qV=Cc&&(!R3||Q0&&8<Q0&&11>=Q0),MM=" ",DM=!1;function KV(e,t){switch(e){case"keyup":return Mle.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function XV(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Vh=!1;function Rle(e,t){switch(e){case"compositionend":return XV(t);case"keypress":return t.which!==32?null:(DM=!0,MM);case"textInput":return e=t.data,e===MM&&DM?null:e;default:return null}}function Fle(e,t){if(Vh)return e==="compositionend"||!R3&&KV(e,t)?(e=GV(),Ib=I3=_u=null,Vh=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return qV&&t.locale!=="ko"?null:t.data;default:return null}}var Lle={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function RM(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Lle[e.type]:t==="textarea"}function YV(e,t,n,r){TV(r),t=gw(t,"onChange"),0<t.length&&(n=new M3("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var J0=null,Py=null;function Ble(e){oW(e,0)}function XS(e){var t=Gh(e);if(bV(t))return e}function $le(e,t){if(e==="change")return t}var ZV=!1;if(Cc){var cE;if(Cc){var uE="oninput"in document;if(!uE){var FM=document.createElement("div");FM.setAttribute("oninput","return;"),uE=typeof FM.oninput=="function"}cE=uE}else cE=!1;ZV=cE&&(!document.documentMode||9<document.documentMode)}function LM(){J0&&(J0.detachEvent("onpropertychange",QV),Py=J0=null)}function QV(e){if(e.propertyName==="value"&&XS(Py)){var t=[];YV(t,Py,e,N3(e)),jV(Ble,t)}}function Ule(e,t,n){e==="focusin"?(LM(),J0=t,Py=n,J0.attachEvent("onpropertychange",QV)):e==="focusout"&&LM()}function zle(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return XS(Py)}function Vle(e,t){if(e==="click")return XS(t)}function Wle(e,t){if(e==="input"||e==="change")return XS(t)}function Hle(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Io=typeof Object.is=="function"?Object.is:Hle;function Oy(e,t){if(Io(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!aT.call(t,i)||!Io(e[i],t[i]))return!1}return!0}function BM(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function $M(e,t){var n=BM(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=BM(n)}}function JV(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?JV(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function eW(){for(var e=window,t=cw();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=cw(e.document)}return t}function F3(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Gle(e){var t=eW(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&JV(n.ownerDocument.documentElement,n)){if(r!==null&&F3(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=$M(n,s);var a=$M(n,r);i&&a&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var qle=Cc&&"documentMode"in document&&11>=document.documentMode,Wh=null,ET=null,ey=null,_T=!1;function UM(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_T||Wh==null||Wh!==cw(r)||(r=Wh,"selectionStart"in r&&F3(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ey&&Oy(ey,r)||(ey=r,r=gw(ET,"onSelect"),0<r.length&&(t=new M3("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Wh)))}function Mx(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Hh={animationend:Mx("Animation","AnimationEnd"),animationiteration:Mx("Animation","AnimationIteration"),animationstart:Mx("Animation","AnimationStart"),transitionend:Mx("Transition","TransitionEnd")},dE={},tW={};Cc&&(tW=document.createElement("div").style,"AnimationEvent"in window||(delete Hh.animationend.animation,delete Hh.animationiteration.animation,delete Hh.animationstart.animation),"TransitionEvent"in window||delete Hh.transitionend.transition);function YS(e){if(dE[e])return dE[e];if(!Hh[e])return e;var t=Hh[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in tW)return dE[e]=t[n];return e}var nW=YS("animationend"),rW=YS("animationiteration"),iW=YS("animationstart"),sW=YS("transitionend"),aW=new Map,zM="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function od(e,t){aW.set(e,t),ih(t,[e])}for(var fE=0;fE<zM.length;fE++){var hE=zM[fE],Kle=hE.toLowerCase(),Xle=hE[0].toUpperCase()+hE.slice(1);od(Kle,"on"+Xle)}od(nW,"onAnimationEnd");od(rW,"onAnimationIteration");od(iW,"onAnimationStart");od("dblclick","onDoubleClick");od("focusin","onFocus");od("focusout","onBlur");od(sW,"onTransitionEnd");fm("onMouseEnter",["mouseout","mouseover"]);fm("onMouseLeave",["mouseout","mouseover"]);fm("onPointerEnter",["pointerout","pointerover"]);fm("onPointerLeave",["pointerout","pointerover"]);ih("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));ih("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));ih("onBeforeInput",["compositionend","keypress","textInput","paste"]);ih("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));ih("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var F0="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Yle=new Set("cancel close invalid load scroll toggle".split(" ").concat(F0));function VM(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Koe(r,t,void 0,e),e.currentTarget=null}function oW(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],u=o.instance,d=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;VM(i,o,d),s=u}else for(a=0;a<r.length;a++){if(o=r[a],u=o.instance,d=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;VM(i,o,d),s=u}}}if(dw)throw e=wT,dw=!1,wT=null,e}function Qn(e,t){var n=t[jT];n===void 0&&(n=t[jT]=new Set);var r=e+"__bubble";n.has(r)||(lW(t,e,2,!1),n.add(r))}function pE(e,t,n){var r=0;t&&(r|=4),lW(n,e,r,t)}var Dx="_reactListening"+Math.random().toString(36).slice(2);function jy(e){if(!e[Dx]){e[Dx]=!0,mV.forEach(function(n){n!=="selectionchange"&&(Yle.has(n)||pE(n,!1,e),pE(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Dx]||(t[Dx]=!0,pE("selectionchange",!1,t))}}function lW(e,t,n,r){switch(HV(t)){case 1:var i=ule;break;case 4:i=dle;break;default:i=k3}n=i.bind(null,t,n,e),i=void 0,!bT||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function mE(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Gd(o),a===null)return;if(u=a.tag,u===5||u===6){r=s=a;continue e}o=o.parentNode}}r=r.return}jV(function(){var d=s,h=N3(n),m=[];e:{var y=aW.get(e);if(y!==void 0){var b=M3,C=e;switch(e){case"keypress":if(Mb(n)===0)break e;case"keydown":case"keyup":b=_le;break;case"focusin":C="focus",b=lE;break;case"focusout":C="blur",b=lE;break;case"beforeblur":case"afterblur":b=lE;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=jM;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=ple;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=Ple;break;case nW:case rW:case iW:b=yle;break;case sW:b=jle;break;case"scroll":b=fle;break;case"wheel":b=Ile;break;case"copy":case"cut":case"paste":b=xle;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=IM}var w=(t&4)!==0,A=!w&&e==="scroll",_=w?y!==null?y+"Capture":null:y;w=[];for(var E=d,N;E!==null;){N=E;var I=N.stateNode;if(N.tag===5&&I!==null&&(N=I,_!==null&&(I=Ey(E,_),I!=null&&w.push(ky(E,I,N)))),A)break;E=E.return}0<w.length&&(y=new b(y,C,null,n,h),m.push({event:y,listeners:w}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&n!==vT&&(C=n.relatedTarget||n.fromElement)&&(Gd(C)||C[Ac]))break e;if((b||y)&&(y=h.window===h?h:(y=h.ownerDocument)?y.defaultView||y.parentWindow:window,b?(C=n.relatedTarget||n.toElement,b=d,C=C?Gd(C):null,C!==null&&(A=sh(C),C!==A||C.tag!==5&&C.tag!==6)&&(C=null)):(b=null,C=d),b!==C)){if(w=jM,I="onMouseLeave",_="onMouseEnter",E="mouse",(e==="pointerout"||e==="pointerover")&&(w=IM,I="onPointerLeave",_="onPointerEnter",E="pointer"),A=b==null?y:Gh(b),N=C==null?y:Gh(C),y=new w(I,E+"leave",b,n,h),y.target=A,y.relatedTarget=N,I=null,Gd(h)===d&&(w=new w(_,E+"enter",C,n,h),w.target=N,w.relatedTarget=A,I=w),A=I,b&&C)t:{for(w=b,_=C,E=0,N=w;N;N=wh(N))E++;for(N=0,I=_;I;I=wh(I))N++;for(;0<E-N;)w=wh(w),E--;for(;0<N-E;)_=wh(_),N--;for(;E--;){if(w===_||_!==null&&w===_.alternate)break t;w=wh(w),_=wh(_)}w=null}else w=null;b!==null&&WM(m,y,b,w,!1),C!==null&&A!==null&&WM(m,A,C,w,!0)}}e:{if(y=d?Gh(d):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var O=$le;else if(RM(y))if(ZV)O=Wle;else{O=zle;var k=Ule}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(O=Vle);if(O&&(O=O(e,d))){YV(m,O,n,h);break e}k&&k(e,y,d),e==="focusout"&&(k=y._wrapperState)&&k.controlled&&y.type==="number"&&hT(y,"number",y.value)}switch(k=d?Gh(d):window,e){case"focusin":(RM(k)||k.contentEditable==="true")&&(Wh=k,ET=d,ey=null);break;case"focusout":ey=ET=Wh=null;break;case"mousedown":_T=!0;break;case"contextmenu":case"mouseup":case"dragend":_T=!1,UM(m,n,h);break;case"selectionchange":if(qle)break;case"keydown":case"keyup":UM(m,n,h)}var M;if(R3)e:{switch(e){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Vh?KV(e,n)&&(R="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(qV&&n.locale!=="ko"&&(Vh||R!=="onCompositionStart"?R==="onCompositionEnd"&&Vh&&(M=GV()):(_u=h,I3="value"in _u?_u.value:_u.textContent,Vh=!0)),k=gw(d,R),0<k.length&&(R=new kM(R,e,null,n,h),m.push({event:R,listeners:k}),M?R.data=M:(M=XV(n),M!==null&&(R.data=M)))),(M=Dle?Rle(e,n):Fle(e,n))&&(d=gw(d,"onBeforeInput"),0<d.length&&(h=new kM("onBeforeInput","beforeinput",null,n,h),m.push({event:h,listeners:d}),h.data=M))}oW(m,t)})}function ky(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gw(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ey(e,n),s!=null&&r.unshift(ky(e,s,i)),s=Ey(e,t),s!=null&&r.push(ky(e,s,i))),e=e.return}return r}function wh(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function WM(e,t,n,r,i){for(var s=t._reactName,a=[];n!==null&&n!==r;){var o=n,u=o.alternate,d=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&d!==null&&(o=d,i?(u=Ey(n,s),u!=null&&a.unshift(ky(n,u,o))):i||(u=Ey(n,s),u!=null&&a.push(ky(n,u,o)))),n=n.return}a.length!==0&&e.push({event:t,listeners:a})}var Zle=/\r\n?/g,Qle=/\u0000|\uFFFD/g;function HM(e){return(typeof e=="string"?e:""+e).replace(Zle,`
`).replace(Qle,"")}function Rx(e,t,n){if(t=HM(t),HM(e)!==t&&n)throw Error(He(425))}function yw(){}var TT=null,NT=null;function PT(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var OT=typeof setTimeout=="function"?setTimeout:void 0,Jle=typeof clearTimeout=="function"?clearTimeout:void 0,GM=typeof Promise=="function"?Promise:void 0,ece=typeof queueMicrotask=="function"?queueMicrotask:typeof GM<"u"?function(e){return GM.resolve(null).then(e).catch(tce)}:OT;function tce(e){setTimeout(function(){throw e})}function gE(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Ny(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Ny(t)}function Mu(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function qM(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var hg=Math.random().toString(36).slice(2),cl="__reactFiber$"+hg,Iy="__reactProps$"+hg,Ac="__reactContainer$"+hg,jT="__reactEvents$"+hg,nce="__reactListeners$"+hg,rce="__reactHandles$"+hg;function Gd(e){var t=e[cl];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ac]||n[cl]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=qM(e);e!==null;){if(n=e[cl])return n;e=qM(e)}return t}e=n,n=e.parentNode}return null}function Nv(e){return e=e[cl]||e[Ac],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Gh(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(He(33))}function ZS(e){return e[Iy]||null}var kT=[],qh=-1;function ld(e){return{current:e}}function nr(e){0>qh||(e.current=kT[qh],kT[qh]=null,qh--)}function Hn(e,t){qh++,kT[qh]=e.current,e.current=t}var Gu={},Zi=ld(Gu),Fs=ld(!1),If=Gu;function hm(e,t){var n=e.type.contextTypes;if(!n)return Gu;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Ls(e){return e=e.childContextTypes,e!=null}function vw(){nr(Fs),nr(Zi)}function KM(e,t,n){if(Zi.current!==Gu)throw Error(He(168));Hn(Zi,t),Hn(Fs,n)}function cW(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(He(108,Uoe(e)||"Unknown",i));return gr({},n,r)}function xw(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gu,If=Zi.current,Hn(Zi,e),Hn(Fs,Fs.current),!0}function XM(e,t,n){var r=e.stateNode;if(!r)throw Error(He(169));n?(e=cW(e,t,If),r.__reactInternalMemoizedMergedChildContext=e,nr(Fs),nr(Zi),Hn(Zi,e)):nr(Fs),Hn(Fs,n)}var Yl=null,QS=!1,yE=!1;function uW(e){Yl===null?Yl=[e]:Yl.push(e)}function ice(e){QS=!0,uW(e)}function cd(){if(!yE&&Yl!==null){yE=!0;var e=0,t=_n;try{var n=Yl;for(_n=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Yl=null,QS=!1}catch(i){throw Yl!==null&&(Yl=Yl.slice(e+1)),DV(P3,cd),i}finally{_n=t,yE=!1}}return null}var Kh=[],Xh=0,bw=null,ww=0,Ra=[],Fa=0,Mf=null,sc=1,ac="";function Id(e,t){Kh[Xh++]=ww,Kh[Xh++]=bw,bw=e,ww=t}function dW(e,t,n){Ra[Fa++]=sc,Ra[Fa++]=ac,Ra[Fa++]=Mf,Mf=e;var r=sc;e=ac;var i=32-Po(r)-1;r&=~(1<<i),n+=1;var s=32-Po(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,sc=1<<32-Po(t)+i|n<<i|r,ac=s+e}else sc=1<<s|n<<i|r,ac=e}function L3(e){e.return!==null&&(Id(e,1),dW(e,1,0))}function B3(e){for(;e===bw;)bw=Kh[--Xh],Kh[Xh]=null,ww=Kh[--Xh],Kh[Xh]=null;for(;e===Mf;)Mf=Ra[--Fa],Ra[Fa]=null,ac=Ra[--Fa],Ra[Fa]=null,sc=Ra[--Fa],Ra[Fa]=null}var ha=null,ua=null,sr=!1,Co=null;function fW(e,t){var n=Ba(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function YM(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ha=e,ua=Mu(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ha=e,ua=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Mf!==null?{id:sc,overflow:ac}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=Ba(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ha=e,ua=null,!0):!1;default:return!1}}function IT(e){return(e.mode&1)!==0&&(e.flags&128)===0}function MT(e){if(sr){var t=ua;if(t){var n=t;if(!YM(e,t)){if(IT(e))throw Error(He(418));t=Mu(n.nextSibling);var r=ha;t&&YM(e,t)?fW(r,n):(e.flags=e.flags&-4097|2,sr=!1,ha=e)}}else{if(IT(e))throw Error(He(418));e.flags=e.flags&-4097|2,sr=!1,ha=e}}}function ZM(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ha=e}function Fx(e){if(e!==ha)return!1;if(!sr)return ZM(e),sr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!PT(e.type,e.memoizedProps)),t&&(t=ua)){if(IT(e))throw hW(),Error(He(418));for(;t;)fW(e,t),t=Mu(t.nextSibling)}if(ZM(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(He(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ua=Mu(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ua=null}}else ua=ha?Mu(e.stateNode.nextSibling):null;return!0}function hW(){for(var e=ua;e;)e=Mu(e.nextSibling)}function pm(){ua=ha=null,sr=!1}function $3(e){Co===null?Co=[e]:Co.push(e)}var sce=Lc.ReactCurrentBatchConfig;function o0(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(He(309));var r=n.stateNode}if(!r)throw Error(He(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},t._stringRef=s,t)}if(typeof e!="string")throw Error(He(284));if(!n._owner)throw Error(He(290,e))}return e}function Lx(e,t){throw e=Object.prototype.toString.call(t),Error(He(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function QM(e){var t=e._init;return t(e._payload)}function pW(e){function t(_,E){if(e){var N=_.deletions;N===null?(_.deletions=[E],_.flags|=16):N.push(E)}}function n(_,E){if(!e)return null;for(;E!==null;)t(_,E),E=E.sibling;return null}function r(_,E){for(_=new Map;E!==null;)E.key!==null?_.set(E.key,E):_.set(E.index,E),E=E.sibling;return _}function i(_,E){return _=Lu(_,E),_.index=0,_.sibling=null,_}function s(_,E,N){return _.index=N,e?(N=_.alternate,N!==null?(N=N.index,N<E?(_.flags|=2,E):N):(_.flags|=2,E)):(_.flags|=1048576,E)}function a(_){return e&&_.alternate===null&&(_.flags|=2),_}function o(_,E,N,I){return E===null||E.tag!==6?(E=AE(N,_.mode,I),E.return=_,E):(E=i(E,N),E.return=_,E)}function u(_,E,N,I){var O=N.type;return O===zh?h(_,E,N.props.children,I,N.key):E!==null&&(E.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ou&&QM(O)===E.type)?(I=i(E,N.props),I.ref=o0(_,E,N),I.return=_,I):(I=Ub(N.type,N.key,N.props,null,_.mode,I),I.ref=o0(_,E,N),I.return=_,I)}function d(_,E,N,I){return E===null||E.tag!==4||E.stateNode.containerInfo!==N.containerInfo||E.stateNode.implementation!==N.implementation?(E=EE(N,_.mode,I),E.return=_,E):(E=i(E,N.children||[]),E.return=_,E)}function h(_,E,N,I,O){return E===null||E.tag!==7?(E=Cf(N,_.mode,I,O),E.return=_,E):(E=i(E,N),E.return=_,E)}function m(_,E,N){if(typeof E=="string"&&E!==""||typeof E=="number")return E=AE(""+E,_.mode,N),E.return=_,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case Tx:return N=Ub(E.type,E.key,E.props,null,_.mode,N),N.ref=o0(_,null,E),N.return=_,N;case Uh:return E=EE(E,_.mode,N),E.return=_,E;case ou:var I=E._init;return m(_,I(E._payload),N)}if(D0(E)||n0(E))return E=Cf(E,_.mode,N,null),E.return=_,E;Lx(_,E)}return null}function y(_,E,N,I){var O=E!==null?E.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return O!==null?null:o(_,E,""+N,I);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case Tx:return N.key===O?u(_,E,N,I):null;case Uh:return N.key===O?d(_,E,N,I):null;case ou:return O=N._init,y(_,E,O(N._payload),I)}if(D0(N)||n0(N))return O!==null?null:h(_,E,N,I,null);Lx(_,N)}return null}function b(_,E,N,I,O){if(typeof I=="string"&&I!==""||typeof I=="number")return _=_.get(N)||null,o(E,_,""+I,O);if(typeof I=="object"&&I!==null){switch(I.$$typeof){case Tx:return _=_.get(I.key===null?N:I.key)||null,u(E,_,I,O);case Uh:return _=_.get(I.key===null?N:I.key)||null,d(E,_,I,O);case ou:var k=I._init;return b(_,E,N,k(I._payload),O)}if(D0(I)||n0(I))return _=_.get(N)||null,h(E,_,I,O,null);Lx(E,I)}return null}function C(_,E,N,I){for(var O=null,k=null,M=E,R=E=0,L=null;M!==null&&R<N.length;R++){M.index>R?(L=M,M=null):L=M.sibling;var U=y(_,M,N[R],I);if(U===null){M===null&&(M=L);break}e&&M&&U.alternate===null&&t(_,M),E=s(U,E,R),k===null?O=U:k.sibling=U,k=U,M=L}if(R===N.length)return n(_,M),sr&&Id(_,R),O;if(M===null){for(;R<N.length;R++)M=m(_,N[R],I),M!==null&&(E=s(M,E,R),k===null?O=M:k.sibling=M,k=M);return sr&&Id(_,R),O}for(M=r(_,M);R<N.length;R++)L=b(M,_,R,N[R],I),L!==null&&(e&&L.alternate!==null&&M.delete(L.key===null?R:L.key),E=s(L,E,R),k===null?O=L:k.sibling=L,k=L);return e&&M.forEach(function(X){return t(_,X)}),sr&&Id(_,R),O}function w(_,E,N,I){var O=n0(N);if(typeof O!="function")throw Error(He(150));if(N=O.call(N),N==null)throw Error(He(151));for(var k=O=null,M=E,R=E=0,L=null,U=N.next();M!==null&&!U.done;R++,U=N.next()){M.index>R?(L=M,M=null):L=M.sibling;var X=y(_,M,U.value,I);if(X===null){M===null&&(M=L);break}e&&M&&X.alternate===null&&t(_,M),E=s(X,E,R),k===null?O=X:k.sibling=X,k=X,M=L}if(U.done)return n(_,M),sr&&Id(_,R),O;if(M===null){for(;!U.done;R++,U=N.next())U=m(_,U.value,I),U!==null&&(E=s(U,E,R),k===null?O=U:k.sibling=U,k=U);return sr&&Id(_,R),O}for(M=r(_,M);!U.done;R++,U=N.next())U=b(M,_,R,U.value,I),U!==null&&(e&&U.alternate!==null&&M.delete(U.key===null?R:U.key),E=s(U,E,R),k===null?O=U:k.sibling=U,k=U);return e&&M.forEach(function(F){return t(_,F)}),sr&&Id(_,R),O}function A(_,E,N,I){if(typeof N=="object"&&N!==null&&N.type===zh&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case Tx:e:{for(var O=N.key,k=E;k!==null;){if(k.key===O){if(O=N.type,O===zh){if(k.tag===7){n(_,k.sibling),E=i(k,N.props.children),E.return=_,_=E;break e}}else if(k.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===ou&&QM(O)===k.type){n(_,k.sibling),E=i(k,N.props),E.ref=o0(_,k,N),E.return=_,_=E;break e}n(_,k);break}else t(_,k);k=k.sibling}N.type===zh?(E=Cf(N.props.children,_.mode,I,N.key),E.return=_,_=E):(I=Ub(N.type,N.key,N.props,null,_.mode,I),I.ref=o0(_,E,N),I.return=_,_=I)}return a(_);case Uh:e:{for(k=N.key;E!==null;){if(E.key===k)if(E.tag===4&&E.stateNode.containerInfo===N.containerInfo&&E.stateNode.implementation===N.implementation){n(_,E.sibling),E=i(E,N.children||[]),E.return=_,_=E;break e}else{n(_,E);break}else t(_,E);E=E.sibling}E=EE(N,_.mode,I),E.return=_,_=E}return a(_);case ou:return k=N._init,A(_,E,k(N._payload),I)}if(D0(N))return C(_,E,N,I);if(n0(N))return w(_,E,N,I);Lx(_,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,E!==null&&E.tag===6?(n(_,E.sibling),E=i(E,N),E.return=_,_=E):(n(_,E),E=AE(N,_.mode,I),E.return=_,_=E),a(_)):n(_,E)}return A}var mm=pW(!0),mW=pW(!1),Sw=ld(null),Cw=null,Yh=null,U3=null;function z3(){U3=Yh=Cw=null}function V3(e){var t=Sw.current;nr(Sw),e._currentValue=t}function DT(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function yp(e,t){Cw=e,U3=Yh=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Is=!0),e.firstContext=null)}function Wa(e){var t=e._currentValue;if(U3!==e)if(e={context:e,memoizedValue:t,next:null},Yh===null){if(Cw===null)throw Error(He(308));Yh=e,Cw.dependencies={lanes:0,firstContext:e}}else Yh=Yh.next=e;return t}var qd=null;function W3(e){qd===null?qd=[e]:qd.push(e)}function gW(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,W3(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ec(e,r)}function Ec(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var lu=!1;function H3(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yW(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function pc(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Du(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,pn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ec(e,n)}return i=r.interleaved,i===null?(t.next=t,W3(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ec(e,n)}function Db(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,O3(e,n)}}function JM(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Aw(e,t,n,r){var i=e.updateQueue;lu=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,d=u.next;u.next=null,a===null?s=d:a.next=d,a=u;var h=e.alternate;h!==null&&(h=h.updateQueue,o=h.lastBaseUpdate,o!==a&&(o===null?h.firstBaseUpdate=d:o.next=d,h.lastBaseUpdate=u))}if(s!==null){var m=i.baseState;a=0,h=d=u=null,o=s;do{var y=o.lane,b=o.eventTime;if((r&y)===y){h!==null&&(h=h.next={eventTime:b,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var C=e,w=o;switch(y=t,b=n,w.tag){case 1:if(C=w.payload,typeof C=="function"){m=C.call(b,m,y);break e}m=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=w.payload,y=typeof C=="function"?C.call(b,m,y):C,y==null)break e;m=gr({},m,y);break e;case 2:lu=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,y=i.effects,y===null?i.effects=[o]:y.push(o))}else b={eventTime:b,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},h===null?(d=h=b,u=m):h=h.next=b,a|=y;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(h===null&&(u=m),i.baseState=u,i.firstBaseUpdate=d,i.lastBaseUpdate=h,t=i.shared.interleaved,t!==null){i=t;do a|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Rf|=a,e.lanes=a,e.memoizedState=m}}function eD(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(He(191,i));i.call(r)}}}var Pv={},yl=ld(Pv),My=ld(Pv),Dy=ld(Pv);function Kd(e){if(e===Pv)throw Error(He(174));return e}function G3(e,t){switch(Hn(Dy,t),Hn(My,e),Hn(yl,Pv),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:mT(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=mT(t,e)}nr(yl),Hn(yl,t)}function gm(){nr(yl),nr(My),nr(Dy)}function vW(e){Kd(Dy.current);var t=Kd(yl.current),n=mT(t,e.type);t!==n&&(Hn(My,e),Hn(yl,n))}function q3(e){My.current===e&&(nr(yl),nr(My))}var hr=ld(0);function Ew(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var vE=[];function K3(){for(var e=0;e<vE.length;e++)vE[e]._workInProgressVersionPrimary=null;vE.length=0}var Rb=Lc.ReactCurrentDispatcher,xE=Lc.ReactCurrentBatchConfig,Df=0,mr=null,ri=null,mi=null,_w=!1,ty=!1,Ry=0,ace=0;function Li(){throw Error(He(321))}function X3(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Io(e[n],t[n]))return!1;return!0}function Y3(e,t,n,r,i,s){if(Df=s,mr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Rb.current=e===null||e.memoizedState===null?uce:dce,e=n(r,i),ty){s=0;do{if(ty=!1,Ry=0,25<=s)throw Error(He(301));s+=1,mi=ri=null,t.updateQueue=null,Rb.current=fce,e=n(r,i)}while(ty)}if(Rb.current=Tw,t=ri!==null&&ri.next!==null,Df=0,mi=ri=mr=null,_w=!1,t)throw Error(He(300));return e}function Z3(){var e=Ry!==0;return Ry=0,e}function Qo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mi===null?mr.memoizedState=mi=e:mi=mi.next=e,mi}function Ha(){if(ri===null){var e=mr.alternate;e=e!==null?e.memoizedState:null}else e=ri.next;var t=mi===null?mr.memoizedState:mi.next;if(t!==null)mi=t,ri=e;else{if(e===null)throw Error(He(310));ri=e,e={memoizedState:ri.memoizedState,baseState:ri.baseState,baseQueue:ri.baseQueue,queue:ri.queue,next:null},mi===null?mr.memoizedState=mi=e:mi=mi.next=e}return mi}function Fy(e,t){return typeof t=="function"?t(e):t}function bE(e){var t=Ha(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=ri,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,u=null,d=s;do{var h=d.lane;if((Df&h)===h)u!==null&&(u=u.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var m={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};u===null?(o=u=m,a=r):u=u.next=m,mr.lanes|=h,Rf|=h}d=d.next}while(d!==null&&d!==s);u===null?a=r:u.next=o,Io(r,t.memoizedState)||(Is=!0),t.memoizedState=r,t.baseState=a,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,mr.lanes|=s,Rf|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wE(e){var t=Ha(),n=t.queue;if(n===null)throw Error(He(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=e(s,a.action),a=a.next;while(a!==i);Io(s,t.memoizedState)||(Is=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function xW(){}function bW(e,t){var n=mr,r=Ha(),i=t(),s=!Io(r.memoizedState,i);if(s&&(r.memoizedState=i,Is=!0),r=r.queue,Q3(CW.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||mi!==null&&mi.memoizedState.tag&1){if(n.flags|=2048,Ly(9,SW.bind(null,n,r,i,t),void 0,null),yi===null)throw Error(He(349));Df&30||wW(n,t,i)}return i}function wW(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function SW(e,t,n,r){t.value=n,t.getSnapshot=r,AW(t)&&EW(e)}function CW(e,t,n){return n(function(){AW(t)&&EW(e)})}function AW(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Io(e,n)}catch{return!0}}function EW(e){var t=Ec(e,1);t!==null&&Oo(t,e,1,-1)}function tD(e){var t=Qo();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Fy,lastRenderedState:e},t.queue=e,e=e.dispatch=cce.bind(null,mr,e),[t.memoizedState,e]}function Ly(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=mr.updateQueue,t===null?(t={lastEffect:null,stores:null},mr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function _W(){return Ha().memoizedState}function Fb(e,t,n,r){var i=Qo();mr.flags|=e,i.memoizedState=Ly(1|t,n,void 0,r===void 0?null:r)}function JS(e,t,n,r){var i=Ha();r=r===void 0?null:r;var s=void 0;if(ri!==null){var a=ri.memoizedState;if(s=a.destroy,r!==null&&X3(r,a.deps)){i.memoizedState=Ly(t,n,s,r);return}}mr.flags|=e,i.memoizedState=Ly(1|t,n,s,r)}function nD(e,t){return Fb(8390656,8,e,t)}function Q3(e,t){return JS(2048,8,e,t)}function TW(e,t){return JS(4,2,e,t)}function NW(e,t){return JS(4,4,e,t)}function PW(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function OW(e,t,n){return n=n!=null?n.concat([e]):null,JS(4,4,PW.bind(null,t,e),n)}function J3(){}function jW(e,t){var n=Ha();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&X3(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function kW(e,t){var n=Ha();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&X3(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function IW(e,t,n){return Df&21?(Io(n,t)||(n=LV(),mr.lanes|=n,Rf|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Is=!0),e.memoizedState=n)}function oce(e,t){var n=_n;_n=n!==0&&4>n?n:4,e(!0);var r=xE.transition;xE.transition={};try{e(!1),t()}finally{_n=n,xE.transition=r}}function MW(){return Ha().memoizedState}function lce(e,t,n){var r=Fu(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DW(e))RW(t,n);else if(n=gW(e,t,n,r),n!==null){var i=ys();Oo(n,e,r,i),FW(n,t,r)}}function cce(e,t,n){var r=Fu(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DW(e))RW(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,Io(o,a)){var u=t.interleaved;u===null?(i.next=i,W3(t)):(i.next=u.next,u.next=i),t.interleaved=i;return}}catch{}finally{}n=gW(e,t,i,r),n!==null&&(i=ys(),Oo(n,e,r,i),FW(n,t,r))}}function DW(e){var t=e.alternate;return e===mr||t!==null&&t===mr}function RW(e,t){ty=_w=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function FW(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,O3(e,n)}}var Tw={readContext:Wa,useCallback:Li,useContext:Li,useEffect:Li,useImperativeHandle:Li,useInsertionEffect:Li,useLayoutEffect:Li,useMemo:Li,useReducer:Li,useRef:Li,useState:Li,useDebugValue:Li,useDeferredValue:Li,useTransition:Li,useMutableSource:Li,useSyncExternalStore:Li,useId:Li,unstable_isNewReconciler:!1},uce={readContext:Wa,useCallback:function(e,t){return Qo().memoizedState=[e,t===void 0?null:t],e},useContext:Wa,useEffect:nD,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Fb(4194308,4,PW.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fb(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fb(4,2,e,t)},useMemo:function(e,t){var n=Qo();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Qo();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=lce.bind(null,mr,e),[r.memoizedState,e]},useRef:function(e){var t=Qo();return e={current:e},t.memoizedState=e},useState:tD,useDebugValue:J3,useDeferredValue:function(e){return Qo().memoizedState=e},useTransition:function(){var e=tD(!1),t=e[0];return e=oce.bind(null,e[1]),Qo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=mr,i=Qo();if(sr){if(n===void 0)throw Error(He(407));n=n()}else{if(n=t(),yi===null)throw Error(He(349));Df&30||wW(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,nD(CW.bind(null,r,s,e),[e]),r.flags|=2048,Ly(9,SW.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Qo(),t=yi.identifierPrefix;if(sr){var n=ac,r=sc;n=(r&~(1<<32-Po(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ry++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=ace++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dce={readContext:Wa,useCallback:jW,useContext:Wa,useEffect:Q3,useImperativeHandle:OW,useInsertionEffect:TW,useLayoutEffect:NW,useMemo:kW,useReducer:bE,useRef:_W,useState:function(){return bE(Fy)},useDebugValue:J3,useDeferredValue:function(e){var t=Ha();return IW(t,ri.memoizedState,e)},useTransition:function(){var e=bE(Fy)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:xW,useSyncExternalStore:bW,useId:MW,unstable_isNewReconciler:!1},fce={readContext:Wa,useCallback:jW,useContext:Wa,useEffect:Q3,useImperativeHandle:OW,useInsertionEffect:TW,useLayoutEffect:NW,useMemo:kW,useReducer:wE,useRef:_W,useState:function(){return wE(Fy)},useDebugValue:J3,useDeferredValue:function(e){var t=Ha();return ri===null?t.memoizedState=e:IW(t,ri.memoizedState,e)},useTransition:function(){var e=wE(Fy)[0],t=Ha().memoizedState;return[e,t]},useMutableSource:xW,useSyncExternalStore:bW,useId:MW,unstable_isNewReconciler:!1};function co(e,t){if(e&&e.defaultProps){t=gr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function RT(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:gr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var eC={isMounted:function(e){return(e=e._reactInternals)?sh(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ys(),i=Fu(e),s=pc(r,i);s.payload=t,n!=null&&(s.callback=n),t=Du(e,s,i),t!==null&&(Oo(t,e,i,r),Db(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ys(),i=Fu(e),s=pc(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Du(e,s,i),t!==null&&(Oo(t,e,i,r),Db(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ys(),r=Fu(e),i=pc(n,r);i.tag=2,t!=null&&(i.callback=t),t=Du(e,i,r),t!==null&&(Oo(t,e,r,n),Db(t,e,r))}};function rD(e,t,n,r,i,s,a){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,a):t.prototype&&t.prototype.isPureReactComponent?!Oy(n,r)||!Oy(i,s):!0}function LW(e,t,n){var r=!1,i=Gu,s=t.contextType;return typeof s=="object"&&s!==null?s=Wa(s):(i=Ls(t)?If:Zi.current,r=t.contextTypes,s=(r=r!=null)?hm(e,i):Gu),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=eC,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function iD(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&eC.enqueueReplaceState(t,t.state,null)}function FT(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},H3(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=Wa(s):(s=Ls(t)?If:Zi.current,i.context=hm(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(RT(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&eC.enqueueReplaceState(i,i.state,null),Aw(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function ym(e,t){try{var n="",r=t;do n+=$oe(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function SE(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function LT(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var hce=typeof WeakMap=="function"?WeakMap:Map;function BW(e,t,n){n=pc(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Pw||(Pw=!0,KT=r),LT(e,t)},n}function $W(e,t,n){n=pc(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){LT(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){LT(e,t),typeof r!="function"&&(Ru===null?Ru=new Set([this]):Ru.add(this));var a=t.stack;this.componentDidCatch(t.value,{componentStack:a!==null?a:""})}),n}function sD(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new hce;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Tce.bind(null,e,t,n),t.then(e,e))}function aD(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function oD(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=pc(-1,1),t.tag=2,Du(n,t,1))),n.lanes|=1),e)}var pce=Lc.ReactCurrentOwner,Is=!1;function ds(e,t,n,r){t.child=e===null?mW(t,null,n,r):mm(t,e.child,n,r)}function lD(e,t,n,r,i){n=n.render;var s=t.ref;return yp(t,i),r=Y3(e,t,n,r,s,i),n=Z3(),e!==null&&!Is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_c(e,t,i)):(sr&&n&&L3(t),t.flags|=1,ds(e,t,r,i),t.child)}function cD(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!oj(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,UW(e,t,s,r,i)):(e=Ub(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Oy,n(a,r)&&e.ref===t.ref)return _c(e,t,i)}return t.flags|=1,e=Lu(s,r),e.ref=t.ref,e.return=t,t.child=e}function UW(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Oy(s,r)&&e.ref===t.ref)if(Is=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Is=!0);else return t.lanes=e.lanes,_c(e,t,i)}return BT(e,t,n,r,i)}function zW(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Hn(Qh,ra),ra|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Hn(Qh,ra),ra|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Hn(Qh,ra),ra|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Hn(Qh,ra),ra|=r;return ds(e,t,i,n),t.child}function VW(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function BT(e,t,n,r,i){var s=Ls(n)?If:Zi.current;return s=hm(t,s),yp(t,i),n=Y3(e,t,n,r,s,i),r=Z3(),e!==null&&!Is?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,_c(e,t,i)):(sr&&r&&L3(t),t.flags|=1,ds(e,t,n,i),t.child)}function uD(e,t,n,r,i){if(Ls(n)){var s=!0;xw(t)}else s=!1;if(yp(t,i),t.stateNode===null)Lb(e,t),LW(t,n,r),FT(t,n,r,i),r=!0;else if(e===null){var a=t.stateNode,o=t.memoizedProps;a.props=o;var u=a.context,d=n.contextType;typeof d=="object"&&d!==null?d=Wa(d):(d=Ls(n)?If:Zi.current,d=hm(t,d));var h=n.getDerivedStateFromProps,m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function";m||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||u!==d)&&iD(t,a,r,d),lu=!1;var y=t.memoizedState;a.state=y,Aw(t,r,a,i),u=t.memoizedState,o!==r||y!==u||Fs.current||lu?(typeof h=="function"&&(RT(t,n,h,r),u=t.memoizedState),(o=lu||rD(t,n,o,r,y,u,d))?(m||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(t.flags|=4194308)):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),a.props=r,a.state=u,a.context=d,r=o):(typeof a.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,yW(e,t),o=t.memoizedProps,d=t.type===t.elementType?o:co(t.type,o),a.props=d,m=t.pendingProps,y=a.context,u=n.contextType,typeof u=="object"&&u!==null?u=Wa(u):(u=Ls(n)?If:Zi.current,u=hm(t,u));var b=n.getDerivedStateFromProps;(h=typeof b=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==m||y!==u)&&iD(t,a,r,u),lu=!1,y=t.memoizedState,a.state=y,Aw(t,r,a,i);var C=t.memoizedState;o!==m||y!==C||Fs.current||lu?(typeof b=="function"&&(RT(t,n,b,r),C=t.memoizedState),(d=lu||rD(t,n,d,r,y,C,u)||!1)?(h||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,C,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,C,u)),typeof a.componentDidUpdate=="function"&&(t.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),a.props=r,a.state=C,a.context=u,r=d):(typeof a.componentDidUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return $T(e,t,n,r,s,i)}function $T(e,t,n,r,i,s){VW(e,t);var a=(t.flags&128)!==0;if(!r&&!a)return i&&XM(t,n,!1),_c(e,t,s);r=t.stateNode,pce.current=t;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&a?(t.child=mm(t,e.child,null,s),t.child=mm(t,null,o,s)):ds(e,t,o,s),t.memoizedState=r.state,i&&XM(t,n,!0),t.child}function WW(e){var t=e.stateNode;t.pendingContext?KM(e,t.pendingContext,t.pendingContext!==t.context):t.context&&KM(e,t.context,!1),G3(e,t.containerInfo)}function dD(e,t,n,r,i){return pm(),$3(i),t.flags|=256,ds(e,t,n,r),t.child}var UT={dehydrated:null,treeContext:null,retryLane:0};function zT(e){return{baseLanes:e,cachePool:null,transitions:null}}function HW(e,t,n){var r=t.pendingProps,i=hr.current,s=!1,a=(t.flags&128)!==0,o;if((o=a)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),Hn(hr,i&1),e===null)return MT(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=r.children,e=r.fallback,s?(r=t.mode,s=t.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=rC(a,r,0,null),e=Cf(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=zT(n),t.memoizedState=UT,e):ej(t,a));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return mce(e,t,a,r,o,i,n);if(s){s=r.fallback,a=t.mode,i=e.child,o=i.sibling;var u={mode:"hidden",children:r.children};return!(a&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=Lu(i,u),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Lu(o,s):(s=Cf(s,a,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,a=e.child.memoizedState,a=a===null?zT(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=e.childLanes&~n,t.memoizedState=UT,r}return s=e.child,e=s.sibling,r=Lu(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ej(e,t){return t=rC({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Bx(e,t,n,r){return r!==null&&$3(r),mm(t,e.child,null,n),e=ej(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mce(e,t,n,r,i,s,a){if(n)return t.flags&256?(t.flags&=-257,r=SE(Error(He(422))),Bx(e,t,a,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=rC({mode:"visible",children:r.children},i,0,null),s=Cf(s,i,a,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&mm(t,e.child,null,a),t.child.memoizedState=zT(a),t.memoizedState=UT,s);if(!(t.mode&1))return Bx(e,t,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(He(419)),r=SE(s,r,void 0),Bx(e,t,a,r)}if(o=(a&e.childLanes)!==0,Is||o){if(r=yi,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ec(e,i),Oo(r,e,i,-1))}return aj(),r=SE(Error(He(421))),Bx(e,t,a,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=Nce.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ua=Mu(i.nextSibling),ha=t,sr=!0,Co=null,e!==null&&(Ra[Fa++]=sc,Ra[Fa++]=ac,Ra[Fa++]=Mf,sc=e.id,ac=e.overflow,Mf=t),t=ej(t,r.children),t.flags|=4096,t)}function fD(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),DT(e.return,t,n)}function CE(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function GW(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(ds(e,t,r.children,n),r=hr.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&fD(e,n,t);else if(e.tag===19)fD(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Hn(hr,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&Ew(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),CE(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&Ew(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}CE(t,!0,n,null,s);break;case"together":CE(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Lb(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _c(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Rf|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(He(153));if(t.child!==null){for(e=t.child,n=Lu(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Lu(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gce(e,t,n){switch(t.tag){case 3:WW(t),pm();break;case 5:vW(t);break;case 1:Ls(t.type)&&xw(t);break;case 4:G3(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Hn(Sw,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Hn(hr,hr.current&1),t.flags|=128,null):n&t.child.childLanes?HW(e,t,n):(Hn(hr,hr.current&1),e=_c(e,t,n),e!==null?e.sibling:null);Hn(hr,hr.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return GW(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Hn(hr,hr.current),r)break;return null;case 22:case 23:return t.lanes=0,zW(e,t,n)}return _c(e,t,n)}var qW,VT,KW,XW;qW=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};VT=function(){};KW=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Kd(yl.current);var s=null;switch(n){case"input":i=dT(e,i),r=dT(e,r),s=[];break;case"select":i=gr({},i,{value:void 0}),r=gr({},r,{value:void 0}),s=[];break;case"textarea":i=pT(e,i),r=pT(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=yw)}gT(n,r);var a;n=null;for(d in i)if(!r.hasOwnProperty(d)&&i.hasOwnProperty(d)&&i[d]!=null)if(d==="style"){var o=i[d];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Cy.hasOwnProperty(d)?s||(s=[]):(s=s||[]).push(d,null));for(d in r){var u=r[d];if(o=i!=null?i[d]:void 0,r.hasOwnProperty(d)&&u!==o&&(u!=null||o!=null))if(d==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(n||(n={}),n[a]=u[a])}else n||(s||(s=[]),s.push(d,n)),n=u;else d==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(d,u)):d==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(d,""+u):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Cy.hasOwnProperty(d)?(u!=null&&d==="onScroll"&&Qn("scroll",e),s||o===u||(s=[])):(s=s||[]).push(d,u))}n&&(s=s||[]).push("style",n);var d=s;(t.updateQueue=d)&&(t.flags|=4)}};XW=function(e,t,n,r){n!==r&&(t.flags|=4)};function l0(e,t){if(!sr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Bi(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function yce(e,t,n){var r=t.pendingProps;switch(B3(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bi(t),null;case 1:return Ls(t.type)&&vw(),Bi(t),null;case 3:return r=t.stateNode,gm(),nr(Fs),nr(Zi),K3(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Fx(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Co!==null&&(ZT(Co),Co=null))),VT(e,t),Bi(t),null;case 5:q3(t);var i=Kd(Dy.current);if(n=t.type,e!==null&&t.stateNode!=null)KW(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(He(166));return Bi(t),null}if(e=Kd(yl.current),Fx(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[cl]=t,r[Iy]=s,e=(t.mode&1)!==0,n){case"dialog":Qn("cancel",r),Qn("close",r);break;case"iframe":case"object":case"embed":Qn("load",r);break;case"video":case"audio":for(i=0;i<F0.length;i++)Qn(F0[i],r);break;case"source":Qn("error",r);break;case"img":case"image":case"link":Qn("error",r),Qn("load",r);break;case"details":Qn("toggle",r);break;case"input":wM(r,s),Qn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Qn("invalid",r);break;case"textarea":CM(r,s),Qn("invalid",r)}gT(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&Rx(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Rx(r.textContent,o,e),i=["children",""+o]):Cy.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Qn("scroll",r)}switch(n){case"input":Nx(r),SM(r,s,!0);break;case"textarea":Nx(r),AM(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=yw)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=CV(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=a.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=a.createElement(n,{is:r.is}):(e=a.createElement(n),n==="select"&&(a=e,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):e=a.createElementNS(e,n),e[cl]=t,e[Iy]=r,qW(e,t,!1,!1),t.stateNode=e;e:{switch(a=yT(n,r),n){case"dialog":Qn("cancel",e),Qn("close",e),i=r;break;case"iframe":case"object":case"embed":Qn("load",e),i=r;break;case"video":case"audio":for(i=0;i<F0.length;i++)Qn(F0[i],e);i=r;break;case"source":Qn("error",e),i=r;break;case"img":case"image":case"link":Qn("error",e),Qn("load",e),i=r;break;case"details":Qn("toggle",e),i=r;break;case"input":wM(e,r),i=dT(e,r),Qn("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=gr({},r,{value:void 0}),Qn("invalid",e);break;case"textarea":CM(e,r),i=pT(e,r),Qn("invalid",e);break;default:i=r}gT(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?_V(e,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&AV(e,u)):s==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Ay(e,u):typeof u=="number"&&Ay(e,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Cy.hasOwnProperty(s)?u!=null&&s==="onScroll"&&Qn("scroll",e):u!=null&&A3(e,s,u,a))}switch(n){case"input":Nx(e),SM(e,r,!1);break;case"textarea":Nx(e),AM(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Hu(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?hp(e,!!r.multiple,s,!1):r.defaultValue!=null&&hp(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=yw)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Bi(t),null;case 6:if(e&&t.stateNode!=null)XW(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(He(166));if(n=Kd(Dy.current),Kd(yl.current),Fx(t)){if(r=t.stateNode,n=t.memoizedProps,r[cl]=t,(s=r.nodeValue!==n)&&(e=ha,e!==null))switch(e.tag){case 3:Rx(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Rx(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[cl]=t,t.stateNode=r}return Bi(t),null;case 13:if(nr(hr),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(sr&&ua!==null&&t.mode&1&&!(t.flags&128))hW(),pm(),t.flags|=98560,s=!1;else if(s=Fx(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(He(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(He(317));s[cl]=t}else pm(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Bi(t),s=!1}else Co!==null&&(ZT(Co),Co=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||hr.current&1?oi===0&&(oi=3):aj())),t.updateQueue!==null&&(t.flags|=4),Bi(t),null);case 4:return gm(),VT(e,t),e===null&&jy(t.stateNode.containerInfo),Bi(t),null;case 10:return V3(t.type._context),Bi(t),null;case 17:return Ls(t.type)&&vw(),Bi(t),null;case 19:if(nr(hr),s=t.memoizedState,s===null)return Bi(t),null;if(r=(t.flags&128)!==0,a=s.rendering,a===null)if(r)l0(s,!1);else{if(oi!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(a=Ew(e),a!==null){for(t.flags|=128,l0(s,!1),r=a.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,e=a.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Hn(hr,hr.current&1|2),t.child}e=e.sibling}s.tail!==null&&Dr()>vm&&(t.flags|=128,r=!0,l0(s,!1),t.lanes=4194304)}else{if(!r)if(e=Ew(a),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),l0(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!sr)return Bi(t),null}else 2*Dr()-s.renderingStartTime>vm&&n!==1073741824&&(t.flags|=128,r=!0,l0(s,!1),t.lanes=4194304);s.isBackwards?(a.sibling=t.child,t.child=a):(n=s.last,n!==null?n.sibling=a:t.child=a,s.last=a)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Dr(),t.sibling=null,n=hr.current,Hn(hr,r?n&1|2:n&1),t):(Bi(t),null);case 22:case 23:return sj(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ra&1073741824&&(Bi(t),t.subtreeFlags&6&&(t.flags|=8192)):Bi(t),null;case 24:return null;case 25:return null}throw Error(He(156,t.tag))}function vce(e,t){switch(B3(t),t.tag){case 1:return Ls(t.type)&&vw(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return gm(),nr(Fs),nr(Zi),K3(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return q3(t),null;case 13:if(nr(hr),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(He(340));pm()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return nr(hr),null;case 4:return gm(),null;case 10:return V3(t.type._context),null;case 22:case 23:return sj(),null;case 24:return null;default:return null}}var $x=!1,Gi=!1,xce=typeof WeakSet=="function"?WeakSet:Set,ot=null;function Zh(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Cr(e,t,r)}else n.current=null}function WT(e,t,n){try{n()}catch(r){Cr(e,t,r)}}var hD=!1;function bce(e,t){if(TT=pw,e=eW(),F3(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,u=-1,d=0,h=0,m=e,y=null;t:for(;;){for(var b;m!==n||i!==0&&m.nodeType!==3||(o=a+i),m!==s||r!==0&&m.nodeType!==3||(u=a+r),m.nodeType===3&&(a+=m.nodeValue.length),(b=m.firstChild)!==null;)y=m,m=b;for(;;){if(m===e)break t;if(y===n&&++d===i&&(o=a),y===s&&++h===r&&(u=a),(b=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=b}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(NT={focusedElem:e,selectionRange:n},pw=!1,ot=t;ot!==null;)if(t=ot,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ot=e;else for(;ot!==null;){t=ot;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var w=C.memoizedProps,A=C.memoizedState,_=t.stateNode,E=_.getSnapshotBeforeUpdate(t.elementType===t.type?w:co(t.type,w),A);_.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(He(163))}}catch(I){Cr(t,t.return,I)}if(e=t.sibling,e!==null){e.return=t.return,ot=e;break}ot=t.return}return C=hD,hD=!1,C}function ny(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&WT(t,n,s)}i=i.next}while(i!==r)}}function tC(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function HT(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function YW(e){var t=e.alternate;t!==null&&(e.alternate=null,YW(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[cl],delete t[Iy],delete t[jT],delete t[nce],delete t[rce])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ZW(e){return e.tag===5||e.tag===3||e.tag===4}function pD(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ZW(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function GT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=yw));else if(r!==4&&(e=e.child,e!==null))for(GT(e,t,n),e=e.sibling;e!==null;)GT(e,t,n),e=e.sibling}function qT(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(qT(e,t,n),e=e.sibling;e!==null;)qT(e,t,n),e=e.sibling}var Pi=null,vo=!1;function Jc(e,t,n){for(n=n.child;n!==null;)QW(e,t,n),n=n.sibling}function QW(e,t,n){if(gl&&typeof gl.onCommitFiberUnmount=="function")try{gl.onCommitFiberUnmount(qS,n)}catch{}switch(n.tag){case 5:Gi||Zh(n,t);case 6:var r=Pi,i=vo;Pi=null,Jc(e,t,n),Pi=r,vo=i,Pi!==null&&(vo?(e=Pi,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Pi.removeChild(n.stateNode));break;case 18:Pi!==null&&(vo?(e=Pi,n=n.stateNode,e.nodeType===8?gE(e.parentNode,n):e.nodeType===1&&gE(e,n),Ny(e)):gE(Pi,n.stateNode));break;case 4:r=Pi,i=vo,Pi=n.stateNode.containerInfo,vo=!0,Jc(e,t,n),Pi=r,vo=i;break;case 0:case 11:case 14:case 15:if(!Gi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&WT(n,t,a),i=i.next}while(i!==r)}Jc(e,t,n);break;case 1:if(!Gi&&(Zh(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Cr(n,t,o)}Jc(e,t,n);break;case 21:Jc(e,t,n);break;case 22:n.mode&1?(Gi=(r=Gi)||n.memoizedState!==null,Jc(e,t,n),Gi=r):Jc(e,t,n);break;default:Jc(e,t,n)}}function mD(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new xce),t.forEach(function(r){var i=Pce.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function so(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,a=t,o=a;e:for(;o!==null;){switch(o.tag){case 5:Pi=o.stateNode,vo=!1;break e;case 3:Pi=o.stateNode.containerInfo,vo=!0;break e;case 4:Pi=o.stateNode.containerInfo,vo=!0;break e}o=o.return}if(Pi===null)throw Error(He(160));QW(s,a,i),Pi=null,vo=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(d){Cr(i,t,d)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)JW(t,e),t=t.sibling}function JW(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(so(t,e),Yo(e),r&4){try{ny(3,e,e.return),tC(3,e)}catch(w){Cr(e,e.return,w)}try{ny(5,e,e.return)}catch(w){Cr(e,e.return,w)}}break;case 1:so(t,e),Yo(e),r&512&&n!==null&&Zh(n,n.return);break;case 5:if(so(t,e),Yo(e),r&512&&n!==null&&Zh(n,n.return),e.flags&32){var i=e.stateNode;try{Ay(i,"")}catch(w){Cr(e,e.return,w)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,a=n!==null?n.memoizedProps:s,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&wV(i,s),yT(o,a);var d=yT(o,s);for(a=0;a<u.length;a+=2){var h=u[a],m=u[a+1];h==="style"?_V(i,m):h==="dangerouslySetInnerHTML"?AV(i,m):h==="children"?Ay(i,m):A3(i,h,m,d)}switch(o){case"input":fT(i,s);break;case"textarea":SV(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?hp(i,!!s.multiple,b,!1):y!==!!s.multiple&&(s.defaultValue!=null?hp(i,!!s.multiple,s.defaultValue,!0):hp(i,!!s.multiple,s.multiple?[]:"",!1))}i[Iy]=s}catch(w){Cr(e,e.return,w)}}break;case 6:if(so(t,e),Yo(e),r&4){if(e.stateNode===null)throw Error(He(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(w){Cr(e,e.return,w)}}break;case 3:if(so(t,e),Yo(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Ny(t.containerInfo)}catch(w){Cr(e,e.return,w)}break;case 4:so(t,e),Yo(e);break;case 13:so(t,e),Yo(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rj=Dr())),r&4&&mD(e);break;case 22:if(h=n!==null&&n.memoizedState!==null,e.mode&1?(Gi=(d=Gi)||h,so(t,e),Gi=d):so(t,e),Yo(e),r&8192){if(d=e.memoizedState!==null,(e.stateNode.isHidden=d)&&!h&&e.mode&1)for(ot=e,h=e.child;h!==null;){for(m=ot=h;ot!==null;){switch(y=ot,b=y.child,y.tag){case 0:case 11:case 14:case 15:ny(4,y,y.return);break;case 1:Zh(y,y.return);var C=y.stateNode;if(typeof C.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(w){Cr(r,n,w)}}break;case 5:Zh(y,y.return);break;case 22:if(y.memoizedState!==null){yD(m);continue}}b!==null?(b.return=y,ot=b):yD(m)}h=h.sibling}e:for(h=null,m=e;;){if(m.tag===5){if(h===null){h=m;try{i=m.stateNode,d?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=m.stateNode,u=m.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=EV("display",a))}catch(w){Cr(e,e.return,w)}}}else if(m.tag===6){if(h===null)try{m.stateNode.nodeValue=d?"":m.memoizedProps}catch(w){Cr(e,e.return,w)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;h===m&&(h=null),m=m.return}h===m&&(h=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:so(t,e),Yo(e),r&4&&mD(e);break;case 21:break;default:so(t,e),Yo(e)}}function Yo(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(ZW(n)){var r=n;break e}n=n.return}throw Error(He(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ay(i,""),r.flags&=-33);var s=pD(e);qT(e,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=pD(e);GT(e,o,a);break;default:throw Error(He(161))}}catch(u){Cr(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function wce(e,t,n){ot=e,eH(e)}function eH(e,t,n){for(var r=(e.mode&1)!==0;ot!==null;){var i=ot,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||$x;if(!a){var o=i.alternate,u=o!==null&&o.memoizedState!==null||Gi;o=$x;var d=Gi;if($x=a,(Gi=u)&&!d)for(ot=i;ot!==null;)a=ot,u=a.child,a.tag===22&&a.memoizedState!==null?vD(i):u!==null?(u.return=a,ot=u):vD(i);for(;s!==null;)ot=s,eH(s),s=s.sibling;ot=i,$x=o,Gi=d}gD(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ot=s):gD(e)}}function gD(e){for(;ot!==null;){var t=ot;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Gi||tC(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Gi)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:co(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&eD(t,s,r);break;case 3:var a=t.updateQueue;if(a!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}eD(t,a,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var d=t.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var m=h.dehydrated;m!==null&&Ny(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(He(163))}Gi||t.flags&512&&HT(t)}catch(y){Cr(t,t.return,y)}}if(t===e){ot=null;break}if(n=t.sibling,n!==null){n.return=t.return,ot=n;break}ot=t.return}}function yD(e){for(;ot!==null;){var t=ot;if(t===e){ot=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ot=n;break}ot=t.return}}function vD(e){for(;ot!==null;){var t=ot;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{tC(4,t)}catch(u){Cr(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(u){Cr(t,i,u)}}var s=t.return;try{HT(t)}catch(u){Cr(t,s,u)}break;case 5:var a=t.return;try{HT(t)}catch(u){Cr(t,a,u)}}}catch(u){Cr(t,t.return,u)}if(t===e){ot=null;break}var o=t.sibling;if(o!==null){o.return=t.return,ot=o;break}ot=t.return}}var Sce=Math.ceil,Nw=Lc.ReactCurrentDispatcher,tj=Lc.ReactCurrentOwner,Va=Lc.ReactCurrentBatchConfig,pn=0,yi=null,Gr=null,Ii=0,ra=0,Qh=ld(0),oi=0,By=null,Rf=0,nC=0,nj=0,ry=null,ks=null,rj=0,vm=1/0,Kl=null,Pw=!1,KT=null,Ru=null,Ux=!1,Tu=null,Ow=0,iy=0,XT=null,Bb=-1,$b=0;function ys(){return pn&6?Dr():Bb!==-1?Bb:Bb=Dr()}function Fu(e){return e.mode&1?pn&2&&Ii!==0?Ii&-Ii:sce.transition!==null?($b===0&&($b=LV()),$b):(e=_n,e!==0||(e=window.event,e=e===void 0?16:HV(e.type)),e):1}function Oo(e,t,n,r){if(50<iy)throw iy=0,XT=null,Error(He(185));_v(e,n,r),(!(pn&2)||e!==yi)&&(e===yi&&(!(pn&2)&&(nC|=n),oi===4&&fu(e,Ii)),Bs(e,r),n===1&&pn===0&&!(t.mode&1)&&(vm=Dr()+500,QS&&cd()))}function Bs(e,t){var n=e.callbackNode;sle(e,t);var r=hw(e,e===yi?Ii:0);if(r===0)n!==null&&TM(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&TM(n),t===1)e.tag===0?ice(xD.bind(null,e)):uW(xD.bind(null,e)),ece(function(){!(pn&6)&&cd()}),n=null;else{switch(BV(r)){case 1:n=P3;break;case 4:n=RV;break;case 16:n=fw;break;case 536870912:n=FV;break;default:n=fw}n=lH(n,tH.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function tH(e,t){if(Bb=-1,$b=0,pn&6)throw Error(He(327));var n=e.callbackNode;if(vp()&&e.callbackNode!==n)return null;var r=hw(e,e===yi?Ii:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=jw(e,r);else{t=r;var i=pn;pn|=2;var s=rH();(yi!==e||Ii!==t)&&(Kl=null,vm=Dr()+500,Sf(e,t));do try{Ece();break}catch(o){nH(e,o)}while(!0);z3(),Nw.current=s,pn=i,Gr!==null?t=0:(yi=null,Ii=0,t=oi)}if(t!==0){if(t===2&&(i=ST(e),i!==0&&(r=i,t=YT(e,i))),t===1)throw n=By,Sf(e,0),fu(e,r),Bs(e,Dr()),n;if(t===6)fu(e,r);else{if(i=e.current.alternate,!(r&30)&&!Cce(i)&&(t=jw(e,r),t===2&&(s=ST(e),s!==0&&(r=s,t=YT(e,s))),t===1))throw n=By,Sf(e,0),fu(e,r),Bs(e,Dr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(He(345));case 2:Md(e,ks,Kl);break;case 3:if(fu(e,r),(r&130023424)===r&&(t=rj+500-Dr(),10<t)){if(hw(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ys(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=OT(Md.bind(null,e,ks,Kl),t);break}Md(e,ks,Kl);break;case 4:if(fu(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var a=31-Po(r);s=1<<a,a=t[a],a>i&&(i=a),r&=~s}if(r=i,r=Dr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Sce(r/1960))-r,10<r){e.timeoutHandle=OT(Md.bind(null,e,ks,Kl),r);break}Md(e,ks,Kl);break;case 5:Md(e,ks,Kl);break;default:throw Error(He(329))}}}return Bs(e,Dr()),e.callbackNode===n?tH.bind(null,e):null}function YT(e,t){var n=ry;return e.current.memoizedState.isDehydrated&&(Sf(e,t).flags|=256),e=jw(e,t),e!==2&&(t=ks,ks=n,t!==null&&ZT(t)),e}function ZT(e){ks===null?ks=e:ks.push.apply(ks,e)}function Cce(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!Io(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fu(e,t){for(t&=~nj,t&=~nC,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Po(t),r=1<<n;e[n]=-1,t&=~r}}function xD(e){if(pn&6)throw Error(He(327));vp();var t=hw(e,0);if(!(t&1))return Bs(e,Dr()),null;var n=jw(e,t);if(e.tag!==0&&n===2){var r=ST(e);r!==0&&(t=r,n=YT(e,r))}if(n===1)throw n=By,Sf(e,0),fu(e,t),Bs(e,Dr()),n;if(n===6)throw Error(He(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Md(e,ks,Kl),Bs(e,Dr()),null}function ij(e,t){var n=pn;pn|=1;try{return e(t)}finally{pn=n,pn===0&&(vm=Dr()+500,QS&&cd())}}function Ff(e){Tu!==null&&Tu.tag===0&&!(pn&6)&&vp();var t=pn;pn|=1;var n=Va.transition,r=_n;try{if(Va.transition=null,_n=1,e)return e()}finally{_n=r,Va.transition=n,pn=t,!(pn&6)&&cd()}}function sj(){ra=Qh.current,nr(Qh)}function Sf(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,Jle(n)),Gr!==null)for(n=Gr.return;n!==null;){var r=n;switch(B3(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&vw();break;case 3:gm(),nr(Fs),nr(Zi),K3();break;case 5:q3(r);break;case 4:gm();break;case 13:nr(hr);break;case 19:nr(hr);break;case 10:V3(r.type._context);break;case 22:case 23:sj()}n=n.return}if(yi=e,Gr=e=Lu(e.current,null),Ii=ra=t,oi=0,By=null,nj=nC=Rf=0,ks=ry=null,qd!==null){for(t=0;t<qd.length;t++)if(n=qd[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}qd=null}return e}function nH(e,t){do{var n=Gr;try{if(z3(),Rb.current=Tw,_w){for(var r=mr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}_w=!1}if(Df=0,mi=ri=mr=null,ty=!1,Ry=0,tj.current=null,n===null||n.return===null){oi=1,By=t,Gr=null;break}e:{var s=e,a=n.return,o=n,u=t;if(t=Ii,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=u,h=o,m=h.tag;if(!(h.mode&1)&&(m===0||m===11||m===15)){var y=h.alternate;y?(h.updateQueue=y.updateQueue,h.memoizedState=y.memoizedState,h.lanes=y.lanes):(h.updateQueue=null,h.memoizedState=null)}var b=aD(a);if(b!==null){b.flags&=-257,oD(b,a,o,s,t),b.mode&1&&sD(s,d,t),t=b,u=d;var C=t.updateQueue;if(C===null){var w=new Set;w.add(u),t.updateQueue=w}else C.add(u);break e}else{if(!(t&1)){sD(s,d,t),aj();break e}u=Error(He(426))}}else if(sr&&o.mode&1){var A=aD(a);if(A!==null){!(A.flags&65536)&&(A.flags|=256),oD(A,a,o,s,t),$3(ym(u,o));break e}}s=u=ym(u,o),oi!==4&&(oi=2),ry===null?ry=[s]:ry.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var _=BW(s,u,t);JM(s,_);break e;case 1:o=u;var E=s.type,N=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(Ru===null||!Ru.has(N)))){s.flags|=65536,t&=-t,s.lanes|=t;var I=$W(s,o,t);JM(s,I);break e}}s=s.return}while(s!==null)}sH(n)}catch(O){t=O,Gr===n&&n!==null&&(Gr=n=n.return);continue}break}while(!0)}function rH(){var e=Nw.current;return Nw.current=Tw,e===null?Tw:e}function aj(){(oi===0||oi===3||oi===2)&&(oi=4),yi===null||!(Rf&268435455)&&!(nC&268435455)||fu(yi,Ii)}function jw(e,t){var n=pn;pn|=2;var r=rH();(yi!==e||Ii!==t)&&(Kl=null,Sf(e,t));do try{Ace();break}catch(i){nH(e,i)}while(!0);if(z3(),pn=n,Nw.current=r,Gr!==null)throw Error(He(261));return yi=null,Ii=0,oi}function Ace(){for(;Gr!==null;)iH(Gr)}function Ece(){for(;Gr!==null&&!Yoe();)iH(Gr)}function iH(e){var t=oH(e.alternate,e,ra);e.memoizedProps=e.pendingProps,t===null?sH(e):Gr=t,tj.current=null}function sH(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=vce(n,t),n!==null){n.flags&=32767,Gr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{oi=6,Gr=null;return}}else if(n=yce(n,t,ra),n!==null){Gr=n;return}if(t=t.sibling,t!==null){Gr=t;return}Gr=t=e}while(t!==null);oi===0&&(oi=5)}function Md(e,t,n){var r=_n,i=Va.transition;try{Va.transition=null,_n=1,_ce(e,t,n,r)}finally{Va.transition=i,_n=r}return null}function _ce(e,t,n,r){do vp();while(Tu!==null);if(pn&6)throw Error(He(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(He(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(ale(e,s),e===yi&&(Gr=yi=null,Ii=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ux||(Ux=!0,lH(fw,function(){return vp(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Va.transition,Va.transition=null;var a=_n;_n=1;var o=pn;pn|=4,tj.current=null,bce(e,n),JW(n,e),Gle(NT),pw=!!TT,NT=TT=null,e.current=n,wce(n),Zoe(),pn=o,_n=a,Va.transition=s}else e.current=n;if(Ux&&(Ux=!1,Tu=e,Ow=i),s=e.pendingLanes,s===0&&(Ru=null),ele(n.stateNode),Bs(e,Dr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Pw)throw Pw=!1,e=KT,KT=null,e;return Ow&1&&e.tag!==0&&vp(),s=e.pendingLanes,s&1?e===XT?iy++:(iy=0,XT=e):iy=0,cd(),null}function vp(){if(Tu!==null){var e=BV(Ow),t=Va.transition,n=_n;try{if(Va.transition=null,_n=16>e?16:e,Tu===null)var r=!1;else{if(e=Tu,Tu=null,Ow=0,pn&6)throw Error(He(331));var i=pn;for(pn|=4,ot=e.current;ot!==null;){var s=ot,a=s.child;if(ot.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var d=o[u];for(ot=d;ot!==null;){var h=ot;switch(h.tag){case 0:case 11:case 15:ny(8,h,s)}var m=h.child;if(m!==null)m.return=h,ot=m;else for(;ot!==null;){h=ot;var y=h.sibling,b=h.return;if(YW(h),h===d){ot=null;break}if(y!==null){y.return=b,ot=y;break}ot=b}}}var C=s.alternate;if(C!==null){var w=C.child;if(w!==null){C.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}ot=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ot=a;else e:for(;ot!==null;){if(s=ot,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ny(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,ot=_;break e}ot=s.return}}var E=e.current;for(ot=E;ot!==null;){a=ot;var N=a.child;if(a.subtreeFlags&2064&&N!==null)N.return=a,ot=N;else e:for(a=E;ot!==null;){if(o=ot,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:tC(9,o)}}catch(O){Cr(o,o.return,O)}if(o===a){ot=null;break e}var I=o.sibling;if(I!==null){I.return=o.return,ot=I;break e}ot=o.return}}if(pn=i,cd(),gl&&typeof gl.onPostCommitFiberRoot=="function")try{gl.onPostCommitFiberRoot(qS,e)}catch{}r=!0}return r}finally{_n=n,Va.transition=t}}return!1}function bD(e,t,n){t=ym(n,t),t=BW(e,t,1),e=Du(e,t,1),t=ys(),e!==null&&(_v(e,1,t),Bs(e,t))}function Cr(e,t,n){if(e.tag===3)bD(e,e,n);else for(;t!==null;){if(t.tag===3){bD(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ru===null||!Ru.has(r))){e=ym(n,e),e=$W(t,e,1),t=Du(t,e,1),e=ys(),t!==null&&(_v(t,1,e),Bs(t,e));break}}t=t.return}}function Tce(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ys(),e.pingedLanes|=e.suspendedLanes&n,yi===e&&(Ii&n)===n&&(oi===4||oi===3&&(Ii&130023424)===Ii&&500>Dr()-rj?Sf(e,0):nj|=n),Bs(e,t)}function aH(e,t){t===0&&(e.mode&1?(t=jx,jx<<=1,!(jx&130023424)&&(jx=4194304)):t=1);var n=ys();e=Ec(e,t),e!==null&&(_v(e,t,n),Bs(e,n))}function Nce(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),aH(e,n)}function Pce(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(He(314))}r!==null&&r.delete(t),aH(e,n)}var oH;oH=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Fs.current)Is=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Is=!1,gce(e,t,n);Is=!!(e.flags&131072)}else Is=!1,sr&&t.flags&1048576&&dW(t,ww,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Lb(e,t),e=t.pendingProps;var i=hm(t,Zi.current);yp(t,n),i=Y3(null,t,r,e,i,n);var s=Z3();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ls(r)?(s=!0,xw(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,H3(t),i.updater=eC,t.stateNode=i,i._reactInternals=t,FT(t,r,e,n),t=$T(null,t,r,!0,s,n)):(t.tag=0,sr&&s&&L3(t),ds(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Lb(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=jce(r),e=co(r,e),i){case 0:t=BT(null,t,r,e,n);break e;case 1:t=uD(null,t,r,e,n);break e;case 11:t=lD(null,t,r,e,n);break e;case 14:t=cD(null,t,r,co(r.type,e),n);break e}throw Error(He(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),BT(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),uD(e,t,r,i,n);case 3:e:{if(WW(t),e===null)throw Error(He(387));r=t.pendingProps,s=t.memoizedState,i=s.element,yW(e,t),Aw(t,r,null,n);var a=t.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=ym(Error(He(423)),t),t=dD(e,t,r,n,i);break e}else if(r!==i){i=ym(Error(He(424)),t),t=dD(e,t,r,n,i);break e}else for(ua=Mu(t.stateNode.containerInfo.firstChild),ha=t,sr=!0,Co=null,n=mW(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(pm(),r===i){t=_c(e,t,n);break e}ds(e,t,r,n)}t=t.child}return t;case 5:return vW(t),e===null&&MT(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,a=i.children,PT(r,i)?a=null:s!==null&&PT(r,s)&&(t.flags|=32),VW(e,t),ds(e,t,a,n),t.child;case 6:return e===null&&MT(t),null;case 13:return HW(e,t,n);case 4:return G3(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=mm(t,null,r,n):ds(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),lD(e,t,r,i,n);case 7:return ds(e,t,t.pendingProps,n),t.child;case 8:return ds(e,t,t.pendingProps.children,n),t.child;case 12:return ds(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,a=i.value,Hn(Sw,r._currentValue),r._currentValue=a,s!==null)if(Io(s.value,a)){if(s.children===i.children&&!Fs.current){t=_c(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=pc(-1,n&-n),u.tag=2;var d=s.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?u.next=u:(u.next=h.next,h.next=u),d.pending=u}}s.lanes|=n,u=s.alternate,u!==null&&(u.lanes|=n),DT(s.return,n,t),o.lanes|=n;break}u=u.next}}else if(s.tag===10)a=s.type===t.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(He(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),DT(a,n,t),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===t){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ds(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,yp(t,n),i=Wa(i),r=r(i),t.flags|=1,ds(e,t,r,n),t.child;case 14:return r=t.type,i=co(r,t.pendingProps),i=co(r.type,i),cD(e,t,r,i,n);case 15:return UW(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:co(r,i),Lb(e,t),t.tag=1,Ls(r)?(e=!0,xw(t)):e=!1,yp(t,n),LW(t,r,i),FT(t,r,i,n),$T(null,t,r,!0,e,n);case 19:return GW(e,t,n);case 22:return zW(e,t,n)}throw Error(He(156,t.tag))};function lH(e,t){return DV(e,t)}function Oce(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ba(e,t,n,r){return new Oce(e,t,n,r)}function oj(e){return e=e.prototype,!(!e||!e.isReactComponent)}function jce(e){if(typeof e=="function")return oj(e)?1:0;if(e!=null){if(e=e.$$typeof,e===_3)return 11;if(e===T3)return 14}return 2}function Lu(e,t){var n=e.alternate;return n===null?(n=Ba(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ub(e,t,n,r,i,s){var a=2;if(r=e,typeof e=="function")oj(e)&&(a=1);else if(typeof e=="string")a=5;else e:switch(e){case zh:return Cf(n.children,i,s,t);case E3:a=8,i|=8;break;case oT:return e=Ba(12,n,t,i|2),e.elementType=oT,e.lanes=s,e;case lT:return e=Ba(13,n,t,i),e.elementType=lT,e.lanes=s,e;case cT:return e=Ba(19,n,t,i),e.elementType=cT,e.lanes=s,e;case vV:return rC(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case gV:a=10;break e;case yV:a=9;break e;case _3:a=11;break e;case T3:a=14;break e;case ou:a=16,r=null;break e}throw Error(He(130,e==null?e:typeof e,""))}return t=Ba(a,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Cf(e,t,n,r){return e=Ba(7,e,r,t),e.lanes=n,e}function rC(e,t,n,r){return e=Ba(22,e,r,t),e.elementType=vV,e.lanes=n,e.stateNode={isHidden:!1},e}function AE(e,t,n){return e=Ba(6,e,null,t),e.lanes=n,e}function EE(e,t,n){return t=Ba(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kce(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=sE(0),this.expirationTimes=sE(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=sE(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function lj(e,t,n,r,i,s,a,o,u){return e=new kce(e,t,n,o,u),t===1?(t=1,s===!0&&(t|=8)):t=0,s=Ba(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},H3(s),e}function Ice(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Uh,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function cH(e){if(!e)return Gu;e=e._reactInternals;e:{if(sh(e)!==e||e.tag!==1)throw Error(He(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ls(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(He(171))}if(e.tag===1){var n=e.type;if(Ls(n))return cW(e,n,t)}return t}function uH(e,t,n,r,i,s,a,o,u){return e=lj(n,r,!0,e,i,s,a,o,u),e.context=cH(null),n=e.current,r=ys(),i=Fu(n),s=pc(r,i),s.callback=t??null,Du(n,s,i),e.current.lanes=i,_v(e,i,r),Bs(e,r),e}function iC(e,t,n,r){var i=t.current,s=ys(),a=Fu(i);return n=cH(n),t.context===null?t.context=n:t.pendingContext=n,t=pc(s,a),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Du(i,t,a),e!==null&&(Oo(e,i,a,s),Db(e,i,a)),a}function kw(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function wD(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function cj(e,t){wD(e,t),(e=e.alternate)&&wD(e,t)}function Mce(){return null}var dH=typeof reportError=="function"?reportError:function(e){console.error(e)};function uj(e){this._internalRoot=e}sC.prototype.render=uj.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(He(409));iC(e,t,null,null)};sC.prototype.unmount=uj.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ff(function(){iC(null,e,null,null)}),t[Ac]=null}};function sC(e){this._internalRoot=e}sC.prototype.unstable_scheduleHydration=function(e){if(e){var t=zV();e={blockedOn:null,target:e,priority:t};for(var n=0;n<du.length&&t!==0&&t<du[n].priority;n++);du.splice(n,0,e),n===0&&WV(e)}};function dj(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function aC(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function SD(){}function Dce(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var d=kw(a);s.call(d)}}var a=uH(t,r,e,0,null,!1,!1,"",SD);return e._reactRootContainer=a,e[Ac]=a.current,jy(e.nodeType===8?e.parentNode:e),Ff(),a}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var d=kw(u);o.call(d)}}var u=lj(e,0,!1,null,null,!1,!1,"",SD);return e._reactRootContainer=u,e[Ac]=u.current,jy(e.nodeType===8?e.parentNode:e),Ff(function(){iC(t,u,n,r)}),u}function oC(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var u=kw(a);o.call(u)}}iC(t,a,e,i)}else a=Dce(n,t,e,i,r);return kw(a)}$V=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=R0(t.pendingLanes);n!==0&&(O3(t,n|1),Bs(t,Dr()),!(pn&6)&&(vm=Dr()+500,cd()))}break;case 13:Ff(function(){var r=Ec(e,1);if(r!==null){var i=ys();Oo(r,e,1,i)}}),cj(e,1)}};j3=function(e){if(e.tag===13){var t=Ec(e,134217728);if(t!==null){var n=ys();Oo(t,e,134217728,n)}cj(e,134217728)}};UV=function(e){if(e.tag===13){var t=Fu(e),n=Ec(e,t);if(n!==null){var r=ys();Oo(n,e,t,r)}cj(e,t)}};zV=function(){return _n};VV=function(e,t){var n=_n;try{return _n=e,t()}finally{_n=n}};xT=function(e,t,n){switch(t){case"input":if(fT(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=ZS(r);if(!i)throw Error(He(90));bV(r),fT(r,i)}}}break;case"textarea":SV(e,n);break;case"select":t=n.value,t!=null&&hp(e,!!n.multiple,t,!1)}};PV=ij;OV=Ff;var Rce={usingClientEntryPoint:!1,Events:[Nv,Gh,ZS,TV,NV,ij]},c0={findFiberByHostInstance:Gd,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Fce={bundleType:c0.bundleType,version:c0.version,rendererPackageName:c0.rendererPackageName,rendererConfig:c0.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Lc.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=IV(e),e===null?null:e.stateNode},findFiberByHostInstance:c0.findFiberByHostInstance||Mce,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zx=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zx.isDisabled&&zx.supportsFiber)try{qS=zx.inject(Fce),gl=zx}catch{}}Sa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Rce;Sa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!dj(t))throw Error(He(200));return Ice(e,t,null,n)};Sa.createRoot=function(e,t){if(!dj(e))throw Error(He(299));var n=!1,r="",i=dH;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=lj(e,1,!1,null,null,n,!1,r,i),e[Ac]=t.current,jy(e.nodeType===8?e.parentNode:e),new uj(t)};Sa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(He(188)):(e=Object.keys(e).join(","),Error(He(268,e)));return e=IV(t),e=e===null?null:e.stateNode,e};Sa.flushSync=function(e){return Ff(e)};Sa.hydrate=function(e,t,n){if(!aC(t))throw Error(He(200));return oC(null,e,t,!0,n)};Sa.hydrateRoot=function(e,t,n){if(!dj(e))throw Error(He(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=dH;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),t=uH(t,null,e,1,n??null,i,!1,s,a),e[Ac]=t.current,jy(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new sC(t)};Sa.render=function(e,t,n){if(!aC(t))throw Error(He(200));return oC(null,e,t,!1,n)};Sa.unmountComponentAtNode=function(e){if(!aC(e))throw Error(He(40));return e._reactRootContainer?(Ff(function(){oC(null,null,e,!1,function(){e._reactRootContainer=null,e[Ac]=null})}),!0):!1};Sa.unstable_batchedUpdates=ij;Sa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!aC(n))throw Error(He(200));if(e==null||e._reactInternals===void 0)throw Error(He(38));return oC(e,t,n,!1,r)};Sa.version="18.3.1-next-f1338f8080-20240426";function fH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(fH)}catch(e){console.error(e)}}fH(),fV.exports=Sa;var ud=fV.exports;const Lce=en(ud);var hH,CD=ud;hH=CD.createRoot,CD.hydrateRoot;function Bce(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,i,s,a=[],o="",u=e.split("/");for(u[0]||u.shift();i=u.shift();)n=i[0],n==="*"?(a.push(n),o+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),a.push(i.substring(1,~r?r:~s?s:i.length)),o+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(o+=(~r?"?":"")+"\\"+i.substring(s))):o+="/"+i;return{keys:a,pattern:new RegExp("^"+o+(t?"(?=$|/)":"/?$"),"i")}}var pH={exports:{}},mH={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var xm=T;function $ce(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Uce=typeof Object.is=="function"?Object.is:$ce,zce=xm.useState,Vce=xm.useEffect,Wce=xm.useLayoutEffect,Hce=xm.useDebugValue;function Gce(e,t){var n=t(),r=zce({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return Wce(function(){i.value=n,i.getSnapshot=t,_E(i)&&s({inst:i})},[e,n,t]),Vce(function(){return _E(i)&&s({inst:i}),e(function(){_E(i)&&s({inst:i})})},[e]),Hce(n),n}function _E(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Uce(e,n)}catch{return!0}}function qce(e,t){return t()}var Kce=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?qce:Gce;mH.useSyncExternalStore=xm.useSyncExternalStore!==void 0?xm.useSyncExternalStore:Kce;pH.exports=mH;var Xce=pH.exports;const Yce=uV.useInsertionEffect,Zce=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Qce=Zce?T.useLayoutEffect:T.useEffect,Jce=Yce||Qce,gH=e=>{const t=T.useRef([e,(...n)=>t[0](...n)]).current;return Jce(()=>{t[0]=e}),t[1]},eue="popstate",fj="pushState",hj="replaceState",tue="hashchange",AD=[eue,fj,hj,tue],nue=e=>{for(const t of AD)addEventListener(t,e);return()=>{for(const t of AD)removeEventListener(t,e)}},yH=(e,t)=>Xce.useSyncExternalStore(nue,e,t),rue=()=>location.search,iue=({ssrSearch:e=""}={})=>yH(rue,()=>e),ED=()=>location.pathname,sue=({ssrPath:e}={})=>yH(ED,e?()=>e:ED),aue=(e,{replace:t=!1,state:n=null}={})=>history[t?hj:fj](n,"",e),oue=(e={})=>[sue(e),aue],_D=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[_D]>"u"){for(const e of[fj,hj]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,_D,{value:!0})}const lue=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",vH=(e="")=>e==="/"?"":e,cue=(e,t)=>e[0]==="~"?e.slice(1):vH(t)+e,uue=(e="",t)=>lue(TD(vH(e)),TD(t)),TD=e=>{try{return decodeURI(e)}catch{return e}},xH={hook:oue,searchHook:iue,parser:Bce,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},bH=T.createContext(xH),pg=()=>T.useContext(bH),wH={},SH=T.createContext(wH),due=()=>T.useContext(SH),lC=e=>{const[t,n]=e.hook(e);return[uue(e.base,t),gH((r,i)=>n(cue(r,e.base),i))]},Bc=()=>lC(pg()),pj=(e,t,n,r)=>{const{pattern:i,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),a=i.exec(n)||[],[o,...u]=a;return o!==void 0?[!0,(()=>{const d=s!==!1?Object.fromEntries(s.map((m,y)=>[m,u[y]])):a.groups;let h={...u};return d&&Object.assign(h,d),h})(),...r?[o]:[]]:[!1,null]},fue=e=>pj(pg().parser,e,Bc()[0]),hue=({children:e,...t})=>{var h,m;const n=pg(),r=t.hook?xH:n;let i=r;const[s,a]=((h=t.ssrPath)==null?void 0:h.split("?"))??[];a&&(t.ssrSearch=a,t.ssrPath=s),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let o=T.useRef({}),u=o.current,d=u;for(let y in r){const b=y==="base"?r[y]+(t[y]||""):t[y]||r[y];u===d&&b!==d[y]&&(o.current=d={...d}),d[y]=b,b!==r[y]&&(i=d)}return T.createElement(bH.Provider,{value:i,children:e})},ND=({children:e,component:t},n)=>t?T.createElement(t,{params:n}):typeof e=="function"?e(n):e,pue=e=>{let t=T.useRef(wH),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},Or=({path:e,nest:t,match:n,...r})=>{const i=pg(),[s]=lC(i),[a,o,u]=n??pj(i.parser,e,s,t),d=pue({...due(),...o});if(!a)return null;const h=u?T.createElement(hue,{base:u},ND(r,d)):ND(r,d);return T.createElement(SH.Provider,{value:d,children:h})},zr=T.forwardRef((e,t)=>{const n=pg(),[r,i]=lC(n),{to:s="",href:a=s,onClick:o,asChild:u,children:d,className:h,replace:m,state:y,...b}=e,C=gH(A=>{A.ctrlKey||A.metaKey||A.altKey||A.shiftKey||A.button!==0||(o==null||o(A),A.defaultPrevented||(A.preventDefault(),i(a,e)))}),w=n.hrefs(a[0]==="~"?a.slice(1):n.base+a,n);return u&&T.isValidElement(d)?T.cloneElement(d,{onClick:C,href:w}):T.createElement("a",{...b,onClick:C,href:w,className:h!=null&&h.call?h(r===a):h,children:d,ref:t})}),CH=e=>Array.isArray(e)?e.flatMap(t=>CH(t&&t.type===T.Fragment?t.props.children:t)):[e],AH=({children:e,location:t})=>{const n=pg(),[r]=lC(n);for(const i of CH(e)){let s=0;if(T.isValidElement(i)&&(s=pj(n.parser,i.props.path,t||r,i.props.nest))[0])return T.cloneElement(i,{match:s})}return null};var mg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Lf=typeof window>"u"||"Deno"in globalThis;function Ma(){}function mue(e,t){return typeof e=="function"?e(t):e}function QT(e){return typeof e=="number"&&e>=0&&e!==1/0}function EH(e,t){return Math.max(e+(t||0)-Date.now(),0)}function xp(e,t){return typeof e=="function"?e(t):e}function Ao(e,t){return typeof e=="function"?e(t):e}function PD(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:a,stale:o}=e;if(a){if(r){if(t.queryHash!==mj(a,t.options))return!1}else if(!$y(t.queryKey,a))return!1}if(n!=="all"){const u=t.isActive();if(n==="active"&&!u||n==="inactive"&&u)return!1}return!(typeof o=="boolean"&&t.isStale()!==o||i&&i!==t.state.fetchStatus||s&&!s(t))}function OD(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Bf(t.options.mutationKey)!==Bf(s))return!1}else if(!$y(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function mj(e,t){return((t==null?void 0:t.queryKeyHashFn)||Bf)(e)}function Bf(e){return JSON.stringify(e,(t,n)=>JT(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function $y(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!$y(e[n],t[n])):!1}function _H(e,t){if(e===t)return e;const n=jD(e)&&jD(t);if(n||JT(e)&&JT(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),a=s.length,o=n?[]:{};let u=0;for(let d=0;d<a;d++){const h=n?d:s[d];(!n&&r.includes(h)||n)&&e[h]===void 0&&t[h]===void 0?(o[h]=void 0,u++):(o[h]=_H(e[h],t[h]),o[h]===e[h]&&e[h]!==void 0&&u++)}return i===a&&u===i?e:o}return t}function Iw(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function jD(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function JT(e){if(!kD(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!kD(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function kD(e){return Object.prototype.toString.call(e)==="[object Object]"}function gue(e){return new Promise(t=>{setTimeout(t,e)})}function eN(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?_H(e,t):t}function yue(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function vue(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var gj=Symbol();function TH(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===gj?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var rf,mu,Ip,rB,xue=(rB=class extends mg{constructor(){super();Ae(this,rf);Ae(this,mu);Ae(this,Ip);_e(this,Ip,t=>{if(!Lf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,mu)||this.setEventListener(B(this,Ip))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,mu))==null||t.call(this),_e(this,mu,void 0))}setEventListener(t){var n;_e(this,Ip,t),(n=B(this,mu))==null||n.call(this),_e(this,mu,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){B(this,rf)!==t&&(_e(this,rf,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof B(this,rf)=="boolean"?B(this,rf):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},rf=new WeakMap,mu=new WeakMap,Ip=new WeakMap,rB),yj=new xue,Mp,gu,Dp,iB,bue=(iB=class extends mg{constructor(){super();Ae(this,Mp,!0);Ae(this,gu);Ae(this,Dp);_e(this,Dp,t=>{if(!Lf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,gu)||this.setEventListener(B(this,Dp))}onUnsubscribe(){var t;this.hasListeners()||((t=B(this,gu))==null||t.call(this),_e(this,gu,void 0))}setEventListener(t){var n;_e(this,Dp,t),(n=B(this,gu))==null||n.call(this),_e(this,gu,t(this.setOnline.bind(this)))}setOnline(t){B(this,Mp)!==t&&(_e(this,Mp,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return B(this,Mp)}},Mp=new WeakMap,gu=new WeakMap,Dp=new WeakMap,iB),Mw=new bue;function tN(){let e,t;const n=new Promise((i,s)=>{e=i,t=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),e(i)},n.reject=i=>{r({status:"rejected",reason:i}),t(i)},n}function wue(e){return Math.min(1e3*2**e,3e4)}function NH(e){return(e??"online")==="online"?Mw.isOnline():!0}var PH=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function TE(e){return e instanceof PH}function OH(e){let t=!1,n=0,r=!1,i;const s=tN(),a=w=>{var A;r||(y(new PH(w)),(A=e.abort)==null||A.call(e))},o=()=>{t=!0},u=()=>{t=!1},d=()=>yj.isFocused()&&(e.networkMode==="always"||Mw.isOnline())&&e.canRun(),h=()=>NH(e.networkMode)&&e.canRun(),m=w=>{var A;r||(r=!0,(A=e.onSuccess)==null||A.call(e,w),i==null||i(),s.resolve(w))},y=w=>{var A;r||(r=!0,(A=e.onError)==null||A.call(e,w),i==null||i(),s.reject(w))},b=()=>new Promise(w=>{var A;i=_=>{(r||d())&&w(_)},(A=e.onPause)==null||A.call(e)}).then(()=>{var w;i=void 0,r||(w=e.onContinue)==null||w.call(e)}),C=()=>{if(r)return;let w;const A=n===0?e.initialPromise:void 0;try{w=A??e.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(m).catch(_=>{var k;if(r)return;const E=e.retry??(Lf?0:3),N=e.retryDelay??wue,I=typeof N=="function"?N(n,_):N,O=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,_);if(t||!O){y(_);return}n++,(k=e.onFail)==null||k.call(e,n,_),gue(I).then(()=>d()?void 0:b()).then(()=>{t?y(_):C()})})};return{promise:s,cancel:a,continue:()=>(i==null||i(),s),cancelRetry:o,continueRetry:u,canStart:h,start:()=>(h()?C():b().then(C),s)}}function Sue(){let e=[],t=0,n=o=>{o()},r=o=>{o()},i=o=>setTimeout(o,0);const s=o=>{t?e.push(o):i(()=>{n(o)})},a=()=>{const o=e;e=[],o.length&&i(()=>{r(()=>{o.forEach(u=>{n(u)})})})};return{batch:o=>{let u;t++;try{u=o()}finally{t--,t||a()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{n=o},setBatchNotifyFunction:o=>{r=o},setScheduler:o=>{i=o}}}var si=Sue(),sf,sB,jH=(sB=class{constructor(){Ae(this,sf)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),QT(this.gcTime)&&_e(this,sf,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Lf?1/0:5*60*1e3))}clearGcTimeout(){B(this,sf)&&(clearTimeout(B(this,sf)),_e(this,sf,void 0))}},sf=new WeakMap,sB),Rp,Fp,ka,Ui,ev,af,uo,Hl,aB,Cue=(aB=class extends jH{constructor(t){super();Ae(this,uo);Ae(this,Rp);Ae(this,Fp);Ae(this,ka);Ae(this,Ui);Ae(this,ev);Ae(this,af);_e(this,af,!1),_e(this,ev,t.defaultOptions),this.setOptions(t.options),this.observers=[],_e(this,ka,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,_e(this,Rp,Aue(this.options)),this.state=t.state??B(this,Rp),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=B(this,Ui))==null?void 0:t.promise}setOptions(t){this.options={...B(this,ev),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,ka).remove(this)}setData(t,n){const r=eN(this.state.data,t,this.options);return Me(this,uo,Hl).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){Me(this,uo,Hl).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=B(this,Ui))==null?void 0:r.promise;return(i=B(this,Ui))==null||i.cancel(t),n?n.then(Ma).catch(Ma):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Rp))}isActive(){return this.observers.some(t=>Ao(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===gj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!EH(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Ui))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=B(this,Ui))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),B(this,ka).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(B(this,Ui)&&(B(this,af)?B(this,Ui).cancel({revert:!0}):B(this,Ui).cancelRetry()),this.scheduleGc()),B(this,ka).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Me(this,uo,Hl).call(this,{type:"invalidate"})}fetch(t,n){var u,d,h;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(B(this,Ui))return B(this,Ui).continueRetry(),B(this,Ui).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(_e(this,af,!0),r.signal)})},s=()=>{const m=TH(this.options,n),y={queryKey:this.queryKey,meta:this.meta};return i(y),_e(this,af,!1),this.options.persister?this.options.persister(m,y,this):m(y)},a={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(a),(u=this.options.behavior)==null||u.onFetch(a,this),_e(this,Fp,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=a.fetchOptions)==null?void 0:d.meta))&&Me(this,uo,Hl).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta});const o=m=>{var y,b,C,w;TE(m)&&m.silent||Me(this,uo,Hl).call(this,{type:"error",error:m}),TE(m)||((b=(y=B(this,ka).config).onError)==null||b.call(y,m,this),(w=(C=B(this,ka).config).onSettled)==null||w.call(C,this.state.data,m,this)),this.scheduleGc()};return _e(this,Ui,OH({initialPromise:n==null?void 0:n.initialPromise,fn:a.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var y,b,C,w;if(m===void 0){o(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(A){o(A);return}(b=(y=B(this,ka).config).onSuccess)==null||b.call(y,m,this),(w=(C=B(this,ka).config).onSettled)==null||w.call(C,m,this.state.error,this),this.scheduleGc()},onError:o,onFail:(m,y)=>{Me(this,uo,Hl).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{Me(this,uo,Hl).call(this,{type:"pause"})},onContinue:()=>{Me(this,uo,Hl).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),B(this,Ui).start()}},Rp=new WeakMap,Fp=new WeakMap,ka=new WeakMap,Ui=new WeakMap,ev=new WeakMap,af=new WeakMap,uo=new WeakSet,Hl=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...kH(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return TE(i)&&i.revert&&B(this,Fp)?{...B(this,Fp),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),si.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),B(this,ka).notify({query:this,type:"updated",action:t})})},aB);function kH(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:NH(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function Aue(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var el,oB,Eue=(oB=class extends mg{constructor(t={}){super();Ae(this,el);this.config=t,_e(this,el,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??mj(i,n);let a=this.get(s);return a||(a=new Cue({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(a)),a}add(t){B(this,el).has(t.queryHash)||(B(this,el).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=B(this,el).get(t.queryHash);n&&(t.destroy(),n===t&&B(this,el).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){si.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return B(this,el).get(t)}getAll(){return[...B(this,el).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>PD(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>PD(t,r)):n}notify(t){si.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){si.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){si.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},el=new WeakMap,oB),tl,os,of,nl,ru,lB,_ue=(lB=class extends jH{constructor(t){super();Ae(this,nl);Ae(this,tl);Ae(this,os);Ae(this,of);this.mutationId=t.mutationId,_e(this,os,t.mutationCache),_e(this,tl,[]),this.state=t.state||IH(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){B(this,tl).includes(t)||(B(this,tl).push(t),this.clearGcTimeout(),B(this,os).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){_e(this,tl,B(this,tl).filter(n=>n!==t)),this.scheduleGc(),B(this,os).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){B(this,tl).length||(this.state.status==="pending"?this.scheduleGc():B(this,os).remove(this))}continue(){var t;return((t=B(this,of))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,a,o,u,d,h,m,y,b,C,w,A,_,E,N,I,O,k,M;_e(this,of,OH({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(R,L)=>{Me(this,nl,ru).call(this,{type:"failed",failureCount:R,error:L})},onPause:()=>{Me(this,nl,ru).call(this,{type:"pause"})},onContinue:()=>{Me(this,nl,ru).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,os).canRun(this)}));const n=this.state.status==="pending",r=!B(this,of).canStart();try{if(!n){Me(this,nl,ru).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=B(this,os).config).onMutate)==null?void 0:s.call(i,t,this));const L=await((o=(a=this.options).onMutate)==null?void 0:o.call(a,t));L!==this.state.context&&Me(this,nl,ru).call(this,{type:"pending",context:L,variables:t,isPaused:r})}const R=await B(this,of).start();return await((d=(u=B(this,os).config).onSuccess)==null?void 0:d.call(u,R,t,this.state.context,this)),await((m=(h=this.options).onSuccess)==null?void 0:m.call(h,R,t,this.state.context)),await((b=(y=B(this,os).config).onSettled)==null?void 0:b.call(y,R,null,this.state.variables,this.state.context,this)),await((w=(C=this.options).onSettled)==null?void 0:w.call(C,R,null,t,this.state.context)),Me(this,nl,ru).call(this,{type:"success",data:R}),R}catch(R){try{throw await((_=(A=B(this,os).config).onError)==null?void 0:_.call(A,R,t,this.state.context,this)),await((N=(E=this.options).onError)==null?void 0:N.call(E,R,t,this.state.context)),await((O=(I=B(this,os).config).onSettled)==null?void 0:O.call(I,void 0,R,this.state.variables,this.state.context,this)),await((M=(k=this.options).onSettled)==null?void 0:M.call(k,void 0,R,t,this.state.context)),R}finally{Me(this,nl,ru).call(this,{type:"error",error:R})}}finally{B(this,os).runNext(this)}}},tl=new WeakMap,os=new WeakMap,of=new WeakMap,nl=new WeakSet,ru=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),si.batch(()=>{B(this,tl).forEach(r=>{r.onMutationUpdate(t)}),B(this,os).notify({mutation:this,type:"updated",action:t})})},lB);function IH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var na,tv,cB,Tue=(cB=class extends mg{constructor(t={}){super();Ae(this,na);Ae(this,tv);this.config=t,_e(this,na,new Map),_e(this,tv,Date.now())}build(t,n,r){const i=new _ue({mutationCache:this,mutationId:++Ex(this,tv)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Vx(t),r=B(this,na).get(n)??[];r.push(t),B(this,na).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Vx(t);if(B(this,na).has(n)){const i=(r=B(this,na).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?B(this,na).delete(n):B(this,na).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=B(this,na).get(Vx(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=B(this,na).get(Vx(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){si.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...B(this,na).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>OD(n,r))}findAll(t={}){return this.getAll().filter(n=>OD(t,n))}notify(t){si.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return si.batch(()=>Promise.all(t.map(n=>n.continue().catch(Ma))))}},na=new WeakMap,tv=new WeakMap,cB);function Vx(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function ID(e){return{onFetch:(t,n)=>{var h,m,y,b,C;const r=t.options,i=(y=(m=(h=t.fetchOptions)==null?void 0:h.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],a=((C=t.state.data)==null?void 0:C.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const d=async()=>{let w=!1;const A=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?w=!0:t.signal.addEventListener("abort",()=>{w=!0}),t.signal)})},_=TH(t.options,t.fetchOptions),E=async(N,I,O)=>{if(w)return Promise.reject();if(I==null&&N.pages.length)return Promise.resolve(N);const k={queryKey:t.queryKey,pageParam:I,direction:O?"backward":"forward",meta:t.options.meta};A(k);const M=await _(k),{maxPages:R}=t.options,L=O?vue:yue;return{pages:L(N.pages,M,R),pageParams:L(N.pageParams,I,R)}};if(i&&s.length){const N=i==="backward",I=N?Nue:MD,O={pages:s,pageParams:a},k=I(r,O);o=await E(O,k,N)}else{const N=e??s.length;do{const I=u===0?a[0]??r.initialPageParam:MD(r,o);if(u>0&&I==null)break;o=await E(o,I),u++}while(u<N)}return o};t.options.persister?t.fetchFn=()=>{var w,A;return(A=(w=t.options).persister)==null?void 0:A.call(w,d,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=d}}}function MD(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function Nue(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var br,yu,vu,Lp,Bp,xu,$p,Up,uB,Pue=(uB=class{constructor(e={}){Ae(this,br);Ae(this,yu);Ae(this,vu);Ae(this,Lp);Ae(this,Bp);Ae(this,xu);Ae(this,$p);Ae(this,Up);_e(this,br,e.queryCache||new Eue),_e(this,yu,e.mutationCache||new Tue),_e(this,vu,e.defaultOptions||{}),_e(this,Lp,new Map),_e(this,Bp,new Map),_e(this,xu,0)}mount(){Ex(this,xu)._++,B(this,xu)===1&&(_e(this,$p,yj.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,br).onFocus())})),_e(this,Up,Mw.subscribe(async e=>{e&&(await this.resumePausedMutations(),B(this,br).onOnline())})))}unmount(){var e,t;Ex(this,xu)._--,B(this,xu)===0&&((e=B(this,$p))==null||e.call(this),_e(this,$p,void 0),(t=B(this,Up))==null||t.call(this),_e(this,Up,void 0))}isFetching(e){return B(this,br).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return B(this,yu).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,br).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=B(this,br).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(xp(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return B(this,br).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=B(this,br).get(r.queryHash),s=i==null?void 0:i.state.data,a=mue(t,s);if(a!==void 0)return B(this,br).build(this,r).setData(a,{...n,manual:!0})}setQueriesData(e,t,n){return si.batch(()=>B(this,br).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=B(this,br).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=B(this,br);si.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=B(this,br),r={type:"active",...e};return si.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=si.batch(()=>B(this,br).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Ma).catch(Ma)}invalidateQueries(e={},t={}){return si.batch(()=>{if(B(this,br).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=si.batch(()=>B(this,br).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Ma)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Ma)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=B(this,br).build(this,t);return n.isStaleByTime(xp(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Ma).catch(Ma)}fetchInfiniteQuery(e){return e.behavior=ID(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Ma).catch(Ma)}ensureInfiniteQueryData(e){return e.behavior=ID(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Mw.isOnline()?B(this,yu).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,br)}getMutationCache(){return B(this,yu)}getDefaultOptions(){return B(this,vu)}setDefaultOptions(e){_e(this,vu,e)}setQueryDefaults(e,t){B(this,Lp).set(Bf(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...B(this,Lp).values()];let n={};return t.forEach(r=>{$y(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){B(this,Bp).set(Bf(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...B(this,Bp).values()];let n={};return t.forEach(r=>{$y(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...B(this,vu).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=mj(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===gj&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...B(this,vu).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){B(this,br).clear(),B(this,yu).clear()}},br=new WeakMap,yu=new WeakMap,vu=new WeakMap,Lp=new WeakMap,Bp=new WeakMap,xu=new WeakMap,$p=new WeakMap,Up=new WeakMap,uB),Ps,on,nv,ls,lf,zp,bu,rl,rv,Vp,Wp,cf,uf,wu,Hp,Cn,L0,nN,rN,iN,sN,aN,oN,lN,MH,dB,Oue=(dB=class extends mg{constructor(t,n){super();Ae(this,Cn);Ae(this,Ps);Ae(this,on);Ae(this,nv);Ae(this,ls);Ae(this,lf);Ae(this,zp);Ae(this,bu);Ae(this,rl);Ae(this,rv);Ae(this,Vp);Ae(this,Wp);Ae(this,cf);Ae(this,uf);Ae(this,wu);Ae(this,Hp,new Set);this.options=n,_e(this,Ps,t),_e(this,rl,null),_e(this,bu,tN()),this.options.experimental_prefetchInRender||B(this,bu).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(B(this,on).addObserver(this),DD(B(this,on),this.options)?Me(this,Cn,L0).call(this):this.updateResult(),Me(this,Cn,sN).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return cN(B(this,on),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return cN(B(this,on),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Me(this,Cn,aN).call(this),Me(this,Cn,oN).call(this),B(this,on).removeObserver(this)}setOptions(t,n){const r=this.options,i=B(this,on);if(this.options=B(this,Ps).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Ao(this.options.enabled,B(this,on))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Me(this,Cn,lN).call(this),B(this,on).setOptions(this.options),r._defaulted&&!Iw(this.options,r)&&B(this,Ps).getQueryCache().notify({type:"observerOptionsUpdated",query:B(this,on),observer:this});const s=this.hasListeners();s&&RD(B(this,on),i,this.options,r)&&Me(this,Cn,L0).call(this),this.updateResult(n),s&&(B(this,on)!==i||Ao(this.options.enabled,B(this,on))!==Ao(r.enabled,B(this,on))||xp(this.options.staleTime,B(this,on))!==xp(r.staleTime,B(this,on)))&&Me(this,Cn,nN).call(this);const a=Me(this,Cn,rN).call(this);s&&(B(this,on)!==i||Ao(this.options.enabled,B(this,on))!==Ao(r.enabled,B(this,on))||a!==B(this,wu))&&Me(this,Cn,iN).call(this,a)}getOptimisticResult(t){const n=B(this,Ps).getQueryCache().build(B(this,Ps),t),r=this.createResult(n,t);return kue(this,r)&&(_e(this,ls,r),_e(this,zp,this.options),_e(this,lf,B(this,on).state)),r}getCurrentResult(){return B(this,ls)}trackResult(t,n){const r={};return Object.keys(t).forEach(i=>{Object.defineProperty(r,i,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(i),n==null||n(i),t[i])})}),r}trackProp(t){B(this,Hp).add(t)}getCurrentQuery(){return B(this,on)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=B(this,Ps).defaultQueryOptions(t),r=B(this,Ps).getQueryCache().build(B(this,Ps),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return Me(this,Cn,L0).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),B(this,ls)))}createResult(t,n){var R;const r=B(this,on),i=this.options,s=B(this,ls),a=B(this,lf),o=B(this,zp),d=t!==r?t.state:B(this,nv),{state:h}=t;let m={...h},y=!1,b;if(n._optimisticResults){const L=this.hasListeners(),U=!L&&DD(t,n),X=L&&RD(t,r,n,i);(U||X)&&(m={...m,...kH(h.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:C,errorUpdatedAt:w,status:A}=m;if(n.select&&m.data!==void 0)if(s&&m.data===(a==null?void 0:a.data)&&n.select===B(this,rv))b=B(this,Vp);else try{_e(this,rv,n.select),b=n.select(m.data),b=eN(s==null?void 0:s.data,b,n),_e(this,Vp,b),_e(this,rl,null)}catch(L){_e(this,rl,L)}else b=m.data;if(n.placeholderData!==void 0&&b===void 0&&A==="pending"){let L;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(o==null?void 0:o.placeholderData))L=s.data;else if(L=typeof n.placeholderData=="function"?n.placeholderData((R=B(this,Wp))==null?void 0:R.state.data,B(this,Wp)):n.placeholderData,n.select&&L!==void 0)try{L=n.select(L),_e(this,rl,null)}catch(U){_e(this,rl,U)}L!==void 0&&(A="success",b=eN(s==null?void 0:s.data,L,n),y=!0)}B(this,rl)&&(C=B(this,rl),b=B(this,Vp),w=Date.now(),A="error");const _=m.fetchStatus==="fetching",E=A==="pending",N=A==="error",I=E&&_,O=b!==void 0,M={status:A,fetchStatus:m.fetchStatus,isPending:E,isSuccess:A==="success",isError:N,isInitialLoading:I,isLoading:I,data:b,dataUpdatedAt:m.dataUpdatedAt,error:C,errorUpdatedAt:w,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>d.dataUpdateCount||m.errorUpdateCount>d.errorUpdateCount,isFetching:_,isRefetching:_&&!E,isLoadingError:N&&!O,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:N&&O,isStale:vj(t,n),refetch:this.refetch,promise:B(this,bu)};if(this.options.experimental_prefetchInRender){const L=F=>{M.status==="error"?F.reject(M.error):M.data!==void 0&&F.resolve(M.data)},U=()=>{const F=_e(this,bu,M.promise=tN());L(F)},X=B(this,bu);switch(X.status){case"pending":t.queryHash===r.queryHash&&L(X);break;case"fulfilled":(M.status==="error"||M.data!==X.value)&&U();break;case"rejected":(M.status!=="error"||M.error!==X.reason)&&U();break}}return M}updateResult(t){const n=B(this,ls),r=this.createResult(B(this,on),this.options);if(_e(this,lf,B(this,on).state),_e(this,zp,this.options),B(this,lf).data!==void 0&&_e(this,Wp,B(this,on)),Iw(r,n))return;_e(this,ls,r);const i={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:a}=this.options,o=typeof a=="function"?a():a;if(o==="all"||!o&&!B(this,Hp).size)return!0;const u=new Set(o??B(this,Hp));return this.options.throwOnError&&u.add("error"),Object.keys(B(this,ls)).some(d=>{const h=d;return B(this,ls)[h]!==n[h]&&u.has(h)})};(t==null?void 0:t.listeners)!==!1&&s()&&(i.listeners=!0),Me(this,Cn,MH).call(this,{...i,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Me(this,Cn,sN).call(this)}},Ps=new WeakMap,on=new WeakMap,nv=new WeakMap,ls=new WeakMap,lf=new WeakMap,zp=new WeakMap,bu=new WeakMap,rl=new WeakMap,rv=new WeakMap,Vp=new WeakMap,Wp=new WeakMap,cf=new WeakMap,uf=new WeakMap,wu=new WeakMap,Hp=new WeakMap,Cn=new WeakSet,L0=function(t){Me(this,Cn,lN).call(this);let n=B(this,on).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Ma)),n},nN=function(){Me(this,Cn,aN).call(this);const t=xp(this.options.staleTime,B(this,on));if(Lf||B(this,ls).isStale||!QT(t))return;const r=EH(B(this,ls).dataUpdatedAt,t)+1;_e(this,cf,setTimeout(()=>{B(this,ls).isStale||this.updateResult()},r))},rN=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(B(this,on)):this.options.refetchInterval)??!1},iN=function(t){Me(this,Cn,oN).call(this),_e(this,wu,t),!(Lf||Ao(this.options.enabled,B(this,on))===!1||!QT(B(this,wu))||B(this,wu)===0)&&_e(this,uf,setInterval(()=>{(this.options.refetchIntervalInBackground||yj.isFocused())&&Me(this,Cn,L0).call(this)},B(this,wu)))},sN=function(){Me(this,Cn,nN).call(this),Me(this,Cn,iN).call(this,Me(this,Cn,rN).call(this))},aN=function(){B(this,cf)&&(clearTimeout(B(this,cf)),_e(this,cf,void 0))},oN=function(){B(this,uf)&&(clearInterval(B(this,uf)),_e(this,uf,void 0))},lN=function(){const t=B(this,Ps).getQueryCache().build(B(this,Ps),this.options);if(t===B(this,on))return;const n=B(this,on);_e(this,on,t),_e(this,nv,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},MH=function(t){si.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(B(this,ls))}),B(this,Ps).getQueryCache().notify({query:B(this,on),type:"observerResultsUpdated"})})},dB);function jue(e,t){return Ao(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function DD(e,t){return jue(e,t)||e.state.data!==void 0&&cN(e,t,t.refetchOnMount)}function cN(e,t,n){if(Ao(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&vj(e,t)}return!1}function RD(e,t,n,r){return(e!==t||Ao(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&vj(e,n)}function vj(e,t){return Ao(t.enabled,e)!==!1&&e.isStaleByTime(xp(t.staleTime,e))}function kue(e,t){return!Iw(e.getCurrentResult(),t)}var Su,Cu,Os,Ql,Sc,zb,uN,fB,Iue=(fB=class extends mg{constructor(n,r){super();Ae(this,Sc);Ae(this,Su);Ae(this,Cu);Ae(this,Os);Ae(this,Ql);_e(this,Su,n),this.setOptions(r),this.bindMethods(),Me(this,Sc,zb).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var i;const r=this.options;this.options=B(this,Su).defaultMutationOptions(n),Iw(this.options,r)||B(this,Su).getMutationCache().notify({type:"observerOptionsUpdated",mutation:B(this,Os),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Bf(r.mutationKey)!==Bf(this.options.mutationKey)?this.reset():((i=B(this,Os))==null?void 0:i.state.status)==="pending"&&B(this,Os).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=B(this,Os))==null||n.removeObserver(this)}onMutationUpdate(n){Me(this,Sc,zb).call(this),Me(this,Sc,uN).call(this,n)}getCurrentResult(){return B(this,Cu)}reset(){var n;(n=B(this,Os))==null||n.removeObserver(this),_e(this,Os,void 0),Me(this,Sc,zb).call(this),Me(this,Sc,uN).call(this)}mutate(n,r){var i;return _e(this,Ql,r),(i=B(this,Os))==null||i.removeObserver(this),_e(this,Os,B(this,Su).getMutationCache().build(B(this,Su),this.options)),B(this,Os).addObserver(this),B(this,Os).execute(n)}},Su=new WeakMap,Cu=new WeakMap,Os=new WeakMap,Ql=new WeakMap,Sc=new WeakSet,zb=function(){var r;const n=((r=B(this,Os))==null?void 0:r.state)??IH();_e(this,Cu,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},uN=function(n){si.batch(()=>{var r,i,s,a,o,u,d,h;if(B(this,Ql)&&this.hasListeners()){const m=B(this,Cu).variables,y=B(this,Cu).context;(n==null?void 0:n.type)==="success"?((i=(r=B(this,Ql)).onSuccess)==null||i.call(r,n.data,m,y),(a=(s=B(this,Ql)).onSettled)==null||a.call(s,n.data,null,m,y)):(n==null?void 0:n.type)==="error"&&((u=(o=B(this,Ql)).onError)==null||u.call(o,n.error,m,y),(h=(d=B(this,Ql)).onSettled)==null||h.call(d,void 0,n.error,m,y))}this.listeners.forEach(m=>{m(B(this,Cu))})})},fB),DH=T.createContext(void 0),RH=e=>{const t=T.useContext(DH);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},Mue=({client:e,children:t})=>(T.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),c.jsx(DH.Provider,{value:e,children:t})),FH=T.createContext(!1),Due=()=>T.useContext(FH);FH.Provider;function Rue(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var Fue=T.createContext(Rue()),Lue=()=>T.useContext(Fue);function LH(e,t){return typeof e=="function"?e(...t):!!e}function dN(){}var Bue=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},$ue=e=>{T.useEffect(()=>{e.clearReset()},[e])},Uue=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&LH(n,[e.error,r]),zue=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},Vue=(e,t)=>e.isLoading&&e.isFetching&&!t,Wue=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,FD=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Hue(e,t,n){var h,m,y,b,C;const r=RH(),i=Due(),s=Lue(),a=r.defaultQueryOptions(e);(m=(h=r.getDefaultOptions().queries)==null?void 0:h._experimental_beforeQuery)==null||m.call(h,a),a._optimisticResults=i?"isRestoring":"optimistic",zue(a),Bue(a,s),$ue(s);const o=!r.getQueryCache().get(a.queryHash),[u]=T.useState(()=>new t(r,a)),d=u.getOptimisticResult(a);if(T.useSyncExternalStore(T.useCallback(w=>{const A=i?dN:u.subscribe(si.batchCalls(w));return u.updateResult(),A},[u,i]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),T.useEffect(()=>{u.setOptions(a,{listeners:!1})},[a,u]),Wue(a,d))throw FD(a,u,s);if(Uue({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:r.getQueryCache().get(a.queryHash)}))throw d.error;if((b=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,a,d),a.experimental_prefetchInRender&&!Lf&&Vue(d,i)){const w=o?FD(a,u,s):(C=r.getQueryCache().get(a.queryHash))==null?void 0:C.promise;w==null||w.catch(dN).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function un(e,t){return Hue(e,Oue)}function Dn(e,t){const n=RH(),[r]=T.useState(()=>new Iue(n,e));T.useEffect(()=>{r.setOptions(e)},[r,e]);const i=T.useSyncExternalStore(T.useCallback(a=>r.subscribe(si.batchCalls(a)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=T.useCallback((a,o)=>{r.mutate(a,o).catch(dN)},[r]);if(i.error&&LH(r.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}async function BH(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function Xt(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await BH(r),r}const Gue=({on401:e})=>async({queryKey:t})=>{if(!Array.isArray(t)||t.length===0)throw new Error("Invalid queryKey: must be a non-empty array");const n=t.map(i=>String(i)).join("/"),r=await fetch(n,{credentials:"include"});return e==="returnNull"&&r.status===401?null:(await BH(r),await r.json())},St=new Pue({defaultOptions:{queries:{queryFn:Gue({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}});function $H(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=$H(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function Gt(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=$H(e))&&(r&&(r+=" "),r+=t);return r}const xj="-",que=e=>{const t=Xue(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:a=>{const o=a.split(xj);return o[0]===""&&o.length!==1&&o.shift(),UH(o,t)||Kue(a)},getConflictingClassGroupIds:(a,o)=>{const u=n[a]||[];return o&&r[a]?[...u,...r[a]]:u}}},UH=(e,t)=>{var a;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),i=r?UH(e.slice(1),r):void 0;if(i)return i;if(t.validators.length===0)return;const s=e.join(xj);return(a=t.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},LD=/^\[(.+)\]$/,Kue=e=>{if(LD.test(e)){const t=LD.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Xue=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Zue(Object.entries(e.classGroups),n).forEach(([s,a])=>{fN(a,r,s,t)}),r},fN=(e,t,n,r)=>{e.forEach(i=>{if(typeof i=="string"){const s=i===""?t:BD(t,i);s.classGroupId=n;return}if(typeof i=="function"){if(Yue(i)){fN(i(r),t,n,r);return}t.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,a])=>{fN(a,BD(t,s),n,r)})})},BD=(e,t)=>{let n=e;return t.split(xj).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},Yue=e=>e.isThemeGetter,Zue=(e,t)=>t?e.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[t+a,o])):s);return[n,i]}):e,Que=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const i=(s,a)=>{n.set(s,a),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let a=n.get(s);if(a!==void 0)return a;if((a=r.get(s))!==void 0)return i(s,a),a},set(s,a){n.has(s)?n.set(s,a):i(s,a)}}},zH="!",Jue=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,i=t[0],s=t.length,a=o=>{const u=[];let d=0,h=0,m;for(let A=0;A<o.length;A++){let _=o[A];if(d===0){if(_===i&&(r||o.slice(A,A+s)===t)){u.push(o.slice(h,A)),h=A+s;continue}if(_==="/"){m=A;continue}}_==="["?d++:_==="]"&&d--}const y=u.length===0?o:o.substring(h),b=y.startsWith(zH),C=b?y.substring(1):y,w=m&&m>h?m-h:void 0;return{modifiers:u,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:w}};return n?o=>n({className:o,parseClassName:a}):a},ede=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},tde=e=>({cache:Que(e.cacheSize),parseClassName:Jue(e),...que(e)}),nde=/\s+/,rde=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=t,s=[],a=e.trim().split(nde);let o="";for(let u=a.length-1;u>=0;u-=1){const d=a[u],{modifiers:h,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:b}=n(d);let C=!!b,w=r(C?y.substring(0,b):y);if(!w){if(!C){o=d+(o.length>0?" "+o:o);continue}if(w=r(y),!w){o=d+(o.length>0?" "+o:o);continue}C=!1}const A=ede(h).join(":"),_=m?A+zH:A,E=_+w;if(s.includes(E))continue;s.push(E);const N=i(w,C);for(let I=0;I<N.length;++I){const O=N[I];s.push(_+O)}o=d+(o.length>0?" "+o:o)}return o};function ide(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=VH(t))&&(r&&(r+=" "),r+=n);return r}const VH=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=VH(e[r]))&&(n&&(n+=" "),n+=t);return n};function sde(e,...t){let n,r,i,s=a;function a(u){const d=t.reduce((h,m)=>m(h),e());return n=tde(d),r=n.cache.get,i=n.cache.set,s=o,o(u)}function o(u){const d=r(u);if(d)return d;const h=rde(u,n);return i(u,h),h}return function(){return s(ide.apply(null,arguments))}}const Zn=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},WH=/^\[(?:([a-z-]+):)?(.+)\]$/i,ade=/^\d+\/\d+$/,ode=new Set(["px","full","screen"]),lde=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,cde=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,ude=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,dde=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,fde=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ul=e=>bp(e)||ode.has(e)||ade.test(e),eu=e=>gg(e,"length",bde),bp=e=>!!e&&!Number.isNaN(Number(e)),NE=e=>gg(e,"number",bp),u0=e=>!!e&&Number.isInteger(Number(e)),hde=e=>e.endsWith("%")&&bp(e.slice(0,-1)),Kt=e=>WH.test(e),tu=e=>lde.test(e),pde=new Set(["length","size","percentage"]),mde=e=>gg(e,pde,HH),gde=e=>gg(e,"position",HH),yde=new Set(["image","url"]),vde=e=>gg(e,yde,Sde),xde=e=>gg(e,"",wde),d0=()=>!0,gg=(e,t,n)=>{const r=WH.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},bde=e=>cde.test(e)&&!ude.test(e),HH=()=>!1,wde=e=>dde.test(e),Sde=e=>fde.test(e),Cde=()=>{const e=Zn("colors"),t=Zn("spacing"),n=Zn("blur"),r=Zn("brightness"),i=Zn("borderColor"),s=Zn("borderRadius"),a=Zn("borderSpacing"),o=Zn("borderWidth"),u=Zn("contrast"),d=Zn("grayscale"),h=Zn("hueRotate"),m=Zn("invert"),y=Zn("gap"),b=Zn("gradientColorStops"),C=Zn("gradientColorStopPositions"),w=Zn("inset"),A=Zn("margin"),_=Zn("opacity"),E=Zn("padding"),N=Zn("saturate"),I=Zn("scale"),O=Zn("sepia"),k=Zn("skew"),M=Zn("space"),R=Zn("translate"),L=()=>["auto","contain","none"],U=()=>["auto","hidden","clip","visible","scroll"],X=()=>["auto",Kt,t],F=()=>[Kt,t],V=()=>["",Ul,eu],Z=()=>["auto",bp,Kt],H=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],q=()=>["solid","dashed","dotted","double","none"],G=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],W=()=>["start","end","center","between","around","evenly","stretch"],oe=()=>["","0",Kt],J=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Y=()=>[bp,Kt];return{cacheSize:500,separator:":",theme:{colors:[d0],spacing:[Ul,eu],blur:["none","",tu,Kt],brightness:Y(),borderColor:[e],borderRadius:["none","","full",tu,Kt],borderSpacing:F(),borderWidth:V(),contrast:Y(),grayscale:oe(),hueRotate:Y(),invert:oe(),gap:F(),gradientColorStops:[e],gradientColorStopPositions:[hde,eu],inset:X(),margin:X(),opacity:Y(),padding:F(),saturate:Y(),scale:Y(),sepia:oe(),skew:Y(),space:F(),translate:F()},classGroups:{aspect:[{aspect:["auto","square","video",Kt]}],container:["container"],columns:[{columns:[tu]}],"break-after":[{"break-after":J()}],"break-before":[{"break-before":J()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...H(),Kt]}],overflow:[{overflow:U()}],"overflow-x":[{"overflow-x":U()}],"overflow-y":[{"overflow-y":U()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",u0,Kt]}],basis:[{basis:X()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Kt]}],grow:[{grow:oe()}],shrink:[{shrink:oe()}],order:[{order:["first","last","none",u0,Kt]}],"grid-cols":[{"grid-cols":[d0]}],"col-start-end":[{col:["auto",{span:["full",u0,Kt]},Kt]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[d0]}],"row-start-end":[{row:["auto",{span:[u0,Kt]},Kt]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Kt]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Kt]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...W()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...W(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...W(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[A]}],mx:[{mx:[A]}],my:[{my:[A]}],ms:[{ms:[A]}],me:[{me:[A]}],mt:[{mt:[A]}],mr:[{mr:[A]}],mb:[{mb:[A]}],ml:[{ml:[A]}],"space-x":[{"space-x":[M]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[M]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Kt,t]}],"min-w":[{"min-w":[Kt,t,"min","max","fit"]}],"max-w":[{"max-w":[Kt,t,"none","full","min","max","fit","prose",{screen:[tu]},tu]}],h:[{h:[Kt,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Kt,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Kt,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Kt,t,"auto","min","max","fit"]}],"font-size":[{text:["base",tu,eu]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",NE]}],"font-family":[{font:[d0]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Kt]}],"line-clamp":[{"line-clamp":["none",bp,NE]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Ul,Kt]}],"list-image":[{"list-image":["none",Kt]}],"list-style-type":[{list:["none","disc","decimal",Kt]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...q(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Ul,eu]}],"underline-offset":[{"underline-offset":["auto",Ul,Kt]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Kt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Kt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...H(),gde]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",mde]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},vde]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...q(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:q()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...q()]}],"outline-offset":[{"outline-offset":[Ul,Kt]}],"outline-w":[{outline:[Ul,eu]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:V()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Ul,eu]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",tu,xde]}],"shadow-color":[{shadow:[d0]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...G(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":G()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[u]}],"drop-shadow":[{"drop-shadow":["","none",tu,Kt]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[m]}],saturate:[{saturate:[N]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[u]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Kt]}],duration:[{duration:Y()}],ease:[{ease:["linear","in","out","in-out",Kt]}],delay:[{delay:Y()}],animate:[{animate:["none","spin","ping","pulse","bounce",Kt]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[u0,Kt]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[k]}],"skew-y":[{"skew-y":[k]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Kt]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Kt]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Kt]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Ul,eu,NE]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},Ade=sde(Cde);function Te(...e){return Ade(Gt(e))}const Ede=1,_de=5e3;let PE=0;function Tde(){return PE=(PE+1)%Number.MAX_SAFE_INTEGER,PE.toString()}const OE=new Map,$D=e=>{if(OE.has(e))return;const t=setTimeout(()=>{OE.delete(e),sy({type:"REMOVE_TOAST",toastId:e})},_de);OE.set(e,t)},Nde=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,Ede)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Vb=[];let B0={toasts:[]};function sy(e){if(B0=Nde(B0,e),e.type==="DISMISS_TOAST"){const{toastId:t}=e;t?$D(t):B0.toasts.forEach(n=>{$D(n.id)})}Vb.forEach(t=>{t(B0)})}function Pde({...e}){const t=Tde(),n=i=>sy({type:"UPDATE_TOAST",toast:{...i,id:t}}),r=()=>sy({type:"DISMISS_TOAST",toastId:t});return sy({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:i=>{i||r()}}}),{id:t,dismiss:r,update:n}}function or(){const[e,t]=T.useState(B0);return T.useEffect(()=>(Vb.push(t),()=>{const n=Vb.indexOf(t);n>-1&&Vb.splice(n,1)}),[]),{...e,toast:Pde,dismiss:n=>sy({type:"DISMISS_TOAST",toastId:n})}}function Qe(e,t,{checkForDefaultPrevented:n=!0}={}){return function(i){if(e==null||e(i),n===!1||!i.defaultPrevented)return t==null?void 0:t(i)}}function UD(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function $f(...e){return t=>{let n=!1;const r=e.map(i=>{const s=UD(i,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():UD(e[i],null)}}}}function $t(...e){return T.useCallback($f(...e),e)}function Ode(e,t){const n=T.createContext(t),r=s=>{const{children:a,...o}=s,u=T.useMemo(()=>o,Object.values(o));return c.jsx(n.Provider,{value:u,children:a})};r.displayName=e+"Provider";function i(s){const a=T.useContext(n);if(a)return a;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,i]}function Yr(e,t=[]){let n=[];function r(s,a){const o=T.createContext(a),u=n.length;n=[...n,a];const d=m=>{var _;const{scope:y,children:b,...C}=m,w=((_=y==null?void 0:y[e])==null?void 0:_[u])||o,A=T.useMemo(()=>C,Object.values(C));return c.jsx(w.Provider,{value:A,children:b})};d.displayName=s+"Provider";function h(m,y){var w;const b=((w=y==null?void 0:y[e])==null?void 0:w[u])||o,C=T.useContext(b);if(C)return C;if(a!==void 0)return a;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[d,h]}const i=()=>{const s=n.map(a=>T.createContext(a));return function(o){const u=(o==null?void 0:o[e])||s;return T.useMemo(()=>({[`__scope${e}`]:{...o,[e]:u}}),[o,u])}};return i.scopeName=e,[r,jde(i,...t)]}function jde(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const a=r.reduce((o,{useScope:u,scopeName:d})=>{const m=u(s)[`__scope${d}`];return{...o,...m}},{});return T.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}function Uf(e){const t=kde(e),n=T.forwardRef((r,i)=>{const{children:s,...a}=r,o=T.Children.toArray(s),u=o.find(Ide);if(u){const d=u.props.children,h=o.map(m=>m===u?T.Children.count(d)>1?T.Children.only(null):T.isValidElement(d)?d.props.children:null:m);return c.jsx(t,{...a,ref:i,children:T.isValidElement(d)?T.cloneElement(d,void 0,h):null})}return c.jsx(t,{...a,ref:i,children:s})});return n.displayName=`${e}.Slot`,n}var Ov=Uf("Slot");function kde(e){const t=T.forwardRef((n,r)=>{const{children:i,...s}=n;if(T.isValidElement(i)){const a=Dde(i),o=Mde(s,i.props);return i.type!==T.Fragment&&(o.ref=r?$f(r,a):a),T.cloneElement(i,o)}return T.Children.count(i)>1?T.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var GH=Symbol("radix.slottable");function qH(e){const t=({children:n})=>c.jsx(c.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=GH,t}function Ide(e){return T.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===GH}function Mde(e,t){const n={...t};for(const r in t){const i=e[r],s=t[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...o)=>{s(...o),i(...o)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...e,...n}}function Dde(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function cC(e){const t=e+"CollectionProvider",[n,r]=Yr(t),[i,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),a=w=>{const{scope:A,children:_}=w,E=te.useRef(null),N=te.useRef(new Map).current;return c.jsx(i,{scope:A,itemMap:N,collectionRef:E,children:_})};a.displayName=t;const o=e+"CollectionSlot",u=Uf(o),d=te.forwardRef((w,A)=>{const{scope:_,children:E}=w,N=s(o,_),I=$t(A,N.collectionRef);return c.jsx(u,{ref:I,children:E})});d.displayName=o;const h=e+"CollectionItemSlot",m="data-radix-collection-item",y=Uf(h),b=te.forwardRef((w,A)=>{const{scope:_,children:E,...N}=w,I=te.useRef(null),O=$t(A,I),k=s(h,_);return te.useEffect(()=>(k.itemMap.set(I,{ref:I,...N}),()=>void k.itemMap.delete(I))),c.jsx(y,{[m]:"",ref:O,children:E})});b.displayName=h;function C(w){const A=s(e+"CollectionConsumer",w);return te.useCallback(()=>{const E=A.collectionRef.current;if(!E)return[];const N=Array.from(E.querySelectorAll(`[${m}]`));return Array.from(A.itemMap.values()).sort((k,M)=>N.indexOf(k.ref.current)-N.indexOf(M.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:a,Slot:d,ItemSlot:b},C,r]}var Rde=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Je=Rde.reduce((e,t)=>{const n=Uf(`Primitive.${t}`),r=T.forwardRef((i,s)=>{const{asChild:a,...o}=i,u=a?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),c.jsx(u,{...o,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function KH(e,t){e&&ud.flushSync(()=>e.dispatchEvent(t))}function Er(e){const t=T.useRef(e);return T.useEffect(()=>{t.current=e}),T.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function Fde(e,t=globalThis==null?void 0:globalThis.document){const n=Er(e);T.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var Lde="DismissableLayer",hN="dismissableLayer.update",Bde="dismissableLayer.pointerDownOutside",$de="dismissableLayer.focusOutside",zD,XH=T.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),yg=T.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:a,onDismiss:o,...u}=e,d=T.useContext(XH),[h,m]=T.useState(null),y=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=T.useState({}),C=$t(t,M=>m(M)),w=Array.from(d.layers),[A]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(A),E=h?w.indexOf(h):-1,N=d.layersWithOutsidePointerEventsDisabled.size>0,I=E>=_,O=zde(M=>{const R=M.target,L=[...d.branches].some(U=>U.contains(R));!I||L||(i==null||i(M),a==null||a(M),M.defaultPrevented||o==null||o())},y),k=Vde(M=>{const R=M.target;[...d.branches].some(U=>U.contains(R))||(s==null||s(M),a==null||a(M),M.defaultPrevented||o==null||o())},y);return Fde(M=>{E===d.layers.size-1&&(r==null||r(M),!M.defaultPrevented&&o&&(M.preventDefault(),o()))},y),T.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(zD=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),VD(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=zD)}},[h,y,n,d]),T.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),VD())},[h,d]),T.useEffect(()=>{const M=()=>b({});return document.addEventListener(hN,M),()=>document.removeEventListener(hN,M)},[]),c.jsx(Je.div,{...u,ref:C,style:{pointerEvents:N?I?"auto":"none":void 0,...e.style},onFocusCapture:Qe(e.onFocusCapture,k.onFocusCapture),onBlurCapture:Qe(e.onBlurCapture,k.onBlurCapture),onPointerDownCapture:Qe(e.onPointerDownCapture,O.onPointerDownCapture)})});yg.displayName=Lde;var Ude="DismissableLayerBranch",YH=T.forwardRef((e,t)=>{const n=T.useContext(XH),r=T.useRef(null),i=$t(t,r);return T.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),c.jsx(Je.div,{...e,ref:i})});YH.displayName=Ude;function zde(e,t=globalThis==null?void 0:globalThis.document){const n=Er(e),r=T.useRef(!1),i=T.useRef(()=>{});return T.useEffect(()=>{const s=o=>{if(o.target&&!r.current){let u=function(){ZH(Bde,n,d,{discrete:!0})};const d={originalEvent:o};o.pointerType==="touch"?(t.removeEventListener("click",i.current),i.current=u,t.addEventListener("click",i.current,{once:!0})):u()}else t.removeEventListener("click",i.current);r.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",s),t.removeEventListener("click",i.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Vde(e,t=globalThis==null?void 0:globalThis.document){const n=Er(e),r=T.useRef(!1);return T.useEffect(()=>{const i=s=>{s.target&&!r.current&&ZH($de,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",i),()=>t.removeEventListener("focusin",i)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function VD(){const e=new CustomEvent(hN);document.dispatchEvent(e)}function ZH(e,t,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?KH(i,s):i.dispatchEvent(s)}var Wde=yg,Hde=YH,Br=globalThis!=null&&globalThis.document?T.useLayoutEffect:()=>{},Gde="Portal",jv=T.forwardRef((e,t)=>{var o;const{container:n,...r}=e,[i,s]=T.useState(!1);Br(()=>s(!0),[]);const a=n||i&&((o=globalThis==null?void 0:globalThis.document)==null?void 0:o.body);return a?Lce.createPortal(c.jsx(Je.div,{...r,ref:t}),a):null});jv.displayName=Gde;function qde(e,t){return T.useReducer((n,r)=>t[n][r]??n,e)}var es=e=>{const{present:t,children:n}=e,r=Kde(t),i=typeof n=="function"?n({present:r.isPresent}):T.Children.only(n),s=$t(r.ref,Xde(i));return typeof n=="function"||r.isPresent?T.cloneElement(i,{ref:s}):null};es.displayName="Presence";function Kde(e){const[t,n]=T.useState(),r=T.useRef({}),i=T.useRef(e),s=T.useRef("none"),a=e?"mounted":"unmounted",[o,u]=qde(a,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return T.useEffect(()=>{const d=Wx(r.current);s.current=o==="mounted"?d:"none"},[o]),Br(()=>{const d=r.current,h=i.current;if(h!==e){const y=s.current,b=Wx(d);e?u("MOUNT"):b==="none"||(d==null?void 0:d.display)==="none"?u("UNMOUNT"):u(h&&y!==b?"ANIMATION_OUT":"UNMOUNT"),i.current=e}},[e,u]),Br(()=>{if(t){let d;const h=t.ownerDocument.defaultView??window,m=b=>{const w=Wx(r.current).includes(b.animationName);if(b.target===t&&w&&(u("ANIMATION_END"),!i.current)){const A=t.style.animationFillMode;t.style.animationFillMode="forwards",d=h.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=A)})}},y=b=>{b.target===t&&(s.current=Wx(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{h.clearTimeout(d),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else u("ANIMATION_END")},[t,u]),{isPresent:["mounted","unmountSuspended"].includes(o),ref:T.useCallback(d=>{d&&(r.current=getComputedStyle(d)),n(d)},[])}}function Wx(e){return(e==null?void 0:e.animationName)||"none"}function Xde(e){var r,i;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(i=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:i.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Qi({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,i]=Yde({defaultProp:t,onChange:n}),s=e!==void 0,a=s?e:r,o=Er(n),u=T.useCallback(d=>{if(s){const m=typeof d=="function"?d(e):d;m!==e&&o(m)}else i(d)},[s,e,i,o]);return[a,u]}function Yde({defaultProp:e,onChange:t}){const n=T.useState(e),[r]=n,i=T.useRef(r),s=Er(t);return T.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var Zde="VisuallyHidden",kv=T.forwardRef((e,t)=>c.jsx(Je.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));kv.displayName=Zde;var Qde=kv,bj="ToastProvider",[wj,Jde,efe]=cC("Toast"),[QH,Ett]=Yr("Toast",[efe]),[tfe,uC]=QH(bj),JH=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:a}=e,[o,u]=T.useState(null),[d,h]=T.useState(0),m=T.useRef(!1),y=T.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${bj}\`. Expected non-empty \`string\`.`),c.jsx(wj.Provider,{scope:t,children:c.jsx(tfe,{scope:t,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:d,viewport:o,onViewportChange:u,onToastAdd:T.useCallback(()=>h(b=>b+1),[]),onToastRemove:T.useCallback(()=>h(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:a})})};JH.displayName=bj;var eG="ToastViewport",nfe=["F8"],pN="toast.viewportPause",mN="toast.viewportResume",tG=T.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=nfe,label:i="Notifications ({hotkey})",...s}=e,a=uC(eG,n),o=Jde(n),u=T.useRef(null),d=T.useRef(null),h=T.useRef(null),m=T.useRef(null),y=$t(t,m,a.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=a.toastCount>0;T.useEffect(()=>{const A=_=>{var N;r.length!==0&&r.every(I=>_[I]||_.code===I)&&((N=m.current)==null||N.focus())};return document.addEventListener("keydown",A),()=>document.removeEventListener("keydown",A)},[r]),T.useEffect(()=>{const A=u.current,_=m.current;if(C&&A&&_){const E=()=>{if(!a.isClosePausedRef.current){const k=new CustomEvent(pN);_.dispatchEvent(k),a.isClosePausedRef.current=!0}},N=()=>{if(a.isClosePausedRef.current){const k=new CustomEvent(mN);_.dispatchEvent(k),a.isClosePausedRef.current=!1}},I=k=>{!A.contains(k.relatedTarget)&&N()},O=()=>{A.contains(document.activeElement)||N()};return A.addEventListener("focusin",E),A.addEventListener("focusout",I),A.addEventListener("pointermove",E),A.addEventListener("pointerleave",O),window.addEventListener("blur",E),window.addEventListener("focus",N),()=>{A.removeEventListener("focusin",E),A.removeEventListener("focusout",I),A.removeEventListener("pointermove",E),A.removeEventListener("pointerleave",O),window.removeEventListener("blur",E),window.removeEventListener("focus",N)}}},[C,a.isClosePausedRef]);const w=T.useCallback(({tabbingDirection:A})=>{const E=o().map(N=>{const I=N.ref.current,O=[I,...mfe(I)];return A==="forwards"?O:O.reverse()});return(A==="forwards"?E.reverse():E).flat()},[o]);return T.useEffect(()=>{const A=m.current;if(A){const _=E=>{var O,k,M;const N=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!N){const R=document.activeElement,L=E.shiftKey;if(E.target===A&&L){(O=d.current)==null||O.focus();return}const F=w({tabbingDirection:L?"backwards":"forwards"}),V=F.findIndex(Z=>Z===R);jE(F.slice(V+1))?E.preventDefault():L?(k=d.current)==null||k.focus():(M=h.current)==null||M.focus()}};return A.addEventListener("keydown",_),()=>A.removeEventListener("keydown",_)}},[o,w]),c.jsxs(Hde,{ref:u,role:"region","aria-label":i.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&c.jsx(gN,{ref:d,onFocusFromOutsideViewport:()=>{const A=w({tabbingDirection:"forwards"});jE(A)}}),c.jsx(wj.Slot,{scope:n,children:c.jsx(Je.ol,{tabIndex:-1,...s,ref:y})}),C&&c.jsx(gN,{ref:h,onFocusFromOutsideViewport:()=>{const A=w({tabbingDirection:"backwards"});jE(A)}})]})});tG.displayName=eG;var nG="ToastFocusProxy",gN=T.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=e,s=uC(nG,n);return c.jsx(kv,{"aria-hidden":!0,tabIndex:0,...i,ref:t,style:{position:"fixed"},onFocus:a=>{var d;const o=a.relatedTarget;!((d=s.viewport)!=null&&d.contains(o))&&r()}})});gN.displayName=nG;var dC="Toast",rfe="toast.swipeStart",ife="toast.swipeMove",sfe="toast.swipeCancel",afe="toast.swipeEnd",rG=T.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...a}=e,[o=!0,u]=Qi({prop:r,defaultProp:i,onChange:s});return c.jsx(es,{present:n||o,children:c.jsx(cfe,{open:o,...a,ref:t,onClose:()=>u(!1),onPause:Er(e.onPause),onResume:Er(e.onResume),onSwipeStart:Qe(e.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Qe(e.onSwipeMove,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:Qe(e.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Qe(e.onSwipeEnd,d=>{const{x:h,y:m}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),u(!1)})})})});rG.displayName=dC;var[ofe,lfe]=QH(dC,{onClose(){}}),cfe=T.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:a,onEscapeKeyDown:o,onPause:u,onResume:d,onSwipeStart:h,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:b,...C}=e,w=uC(dC,n),[A,_]=T.useState(null),E=$t(t,Z=>_(Z)),N=T.useRef(null),I=T.useRef(null),O=i||w.duration,k=T.useRef(0),M=T.useRef(O),R=T.useRef(0),{onToastAdd:L,onToastRemove:U}=w,X=Er(()=>{var H;(A==null?void 0:A.contains(document.activeElement))&&((H=w.viewport)==null||H.focus()),a()}),F=T.useCallback(Z=>{!Z||Z===1/0||(window.clearTimeout(R.current),k.current=new Date().getTime(),R.current=window.setTimeout(X,Z))},[X]);T.useEffect(()=>{const Z=w.viewport;if(Z){const H=()=>{F(M.current),d==null||d()},q=()=>{const G=new Date().getTime()-k.current;M.current=M.current-G,window.clearTimeout(R.current),u==null||u()};return Z.addEventListener(pN,q),Z.addEventListener(mN,H),()=>{Z.removeEventListener(pN,q),Z.removeEventListener(mN,H)}}},[w.viewport,O,u,d,F]),T.useEffect(()=>{s&&!w.isClosePausedRef.current&&F(O)},[s,O,w.isClosePausedRef,F]),T.useEffect(()=>(L(),()=>U()),[L,U]);const V=T.useMemo(()=>A?uG(A):null,[A]);return w.viewport?c.jsxs(c.Fragment,{children:[V&&c.jsx(ufe,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:V}),c.jsx(ofe,{scope:n,onClose:X,children:ud.createPortal(c.jsx(wj.ItemSlot,{scope:n,children:c.jsx(Wde,{asChild:!0,onEscapeKeyDown:Qe(o,()=>{w.isFocusedToastEscapeKeyDownRef.current||X(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:c.jsx(Je.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":w.swipeDirection,...C,ref:E,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:Qe(e.onKeyDown,Z=>{Z.key==="Escape"&&(o==null||o(Z.nativeEvent),Z.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,X()))}),onPointerDown:Qe(e.onPointerDown,Z=>{Z.button===0&&(N.current={x:Z.clientX,y:Z.clientY})}),onPointerMove:Qe(e.onPointerMove,Z=>{if(!N.current)return;const H=Z.clientX-N.current.x,q=Z.clientY-N.current.y,G=!!I.current,W=["left","right"].includes(w.swipeDirection),oe=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,J=W?oe(0,H):0,Y=W?0:oe(0,q),ne=Z.pointerType==="touch"?10:2,pe={x:J,y:Y},he={originalEvent:Z,delta:pe};G?(I.current=pe,Hx(ife,m,he,{discrete:!1})):WD(pe,w.swipeDirection,ne)?(I.current=pe,Hx(rfe,h,he,{discrete:!1}),Z.target.setPointerCapture(Z.pointerId)):(Math.abs(H)>ne||Math.abs(q)>ne)&&(N.current=null)}),onPointerUp:Qe(e.onPointerUp,Z=>{const H=I.current,q=Z.target;if(q.hasPointerCapture(Z.pointerId)&&q.releasePointerCapture(Z.pointerId),I.current=null,N.current=null,H){const G=Z.currentTarget,W={originalEvent:Z,delta:H};WD(H,w.swipeDirection,w.swipeThreshold)?Hx(afe,b,W,{discrete:!0}):Hx(sfe,y,W,{discrete:!0}),G.addEventListener("click",oe=>oe.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),ufe=e=>{const{__scopeToast:t,children:n,...r}=e,i=uC(dC,t),[s,a]=T.useState(!1),[o,u]=T.useState(!1);return hfe(()=>a(!0)),T.useEffect(()=>{const d=window.setTimeout(()=>u(!0),1e3);return()=>window.clearTimeout(d)},[]),o?null:c.jsx(jv,{asChild:!0,children:c.jsx(kv,{...r,children:s&&c.jsxs(c.Fragment,{children:[i.label," ",n]})})})},dfe="ToastTitle",iG=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(Je.div,{...r,ref:t})});iG.displayName=dfe;var ffe="ToastDescription",sG=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return c.jsx(Je.div,{...r,ref:t})});sG.displayName=ffe;var aG="ToastAction",oG=T.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?c.jsx(cG,{altText:n,asChild:!0,children:c.jsx(Sj,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${aG}\`. Expected non-empty \`string\`.`),null)});oG.displayName=aG;var lG="ToastClose",Sj=T.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,i=lfe(lG,n);return c.jsx(cG,{asChild:!0,children:c.jsx(Je.button,{type:"button",...r,ref:t,onClick:Qe(e.onClick,i.onClose)})})});Sj.displayName=lG;var cG=T.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...i}=e;return c.jsx(Je.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:t})});function uG(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),pfe(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const a=r.dataset.radixToastAnnounceAlt;a&&t.push(a)}else t.push(...uG(r))}}),t}function Hx(e,t,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&i.addEventListener(e,t,{once:!0}),r?KH(i,s):i.dispatchEvent(s)}var WD=(e,t,n=0)=>{const r=Math.abs(e.x),i=Math.abs(e.y),s=r>i;return t==="left"||t==="right"?s&&r>n:!s&&i>n};function hfe(e=()=>{}){const t=Er(e);Br(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function pfe(e){return e.nodeType===e.ELEMENT_NODE}function mfe(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function jE(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var gfe=JH,dG=tG,fG=rG,hG=iG,pG=sG,mG=oG,gG=Sj;const HD=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,GD=Gt,dd=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return GD(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=t,a=Object.keys(i).map(d=>{const h=n==null?void 0:n[d],m=s==null?void 0:s[d];if(h===null)return null;const y=HD(h)||HD(m);return i[d][y]}),o=n&&Object.entries(n).reduce((d,h)=>{let[m,y]=h;return y===void 0||(d[m]=y),d},{}),u=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:m,className:y,...b}=h;return Object.entries(b).every(C=>{let[w,A]=C;return Array.isArray(A)?A.includes({...s,...o}[w]):{...s,...o}[w]===A})?[...d,m,y]:d},[]);return GD(e,a,u,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yfe=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yG=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vfe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=T.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},u)=>T.createElement("svg",{ref:u,...vfe,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:yG("lucide",i),...o},[...a.map(([d,h])=>T.createElement(d,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fe=(e,t)=>{const n=T.forwardRef(({className:r,...i},s)=>T.createElement(xfe,{ref:s,iconNode:t,className:yG(`lucide-${yfe(e)}`,r),...i}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=Fe("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Fe("Apple",[["path",{d:"M12 20.94c1.5 0 2.75 1.06 4 1.06 3 0 6-8 6-12.22A4.91 4.91 0 0 0 17 5c-2.22 0-4 1.44-5 2-1-.56-2.78-2-5-2a4.9 4.9 0 0 0-5 4.78C2 14 5 22 8 22c1.25 0 2.5-1.06 4-1.06Z",key:"3s7exb"}],["path",{d:"M10 2c1 .5 2 2 2 5",key:"fcco2y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=Fe("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=Fe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cfe=Fe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=Fe("Baby",[["path",{d:"M9 12h.01",key:"157uk2"}],["path",{d:"M15 12h.01",key:"1k8ypt"}],["path",{d:"M10 16c.5.3 1.2.5 2 .5s1.5-.2 2-.5",key:"1u7htd"}],["path",{d:"M19 6.3a9 9 0 0 1 1.8 3.9 2 2 0 0 1 0 3.6 9 9 0 0 1-17.6 0 2 2 0 0 1 0-3.6A9 9 0 0 1 12 3c2 0 3.5 1.1 3.5 2.5s-.9 2.5-2 2.5c-.8 0-1.5-.4-1.5-1",key:"5yv0yz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=Fe("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vG=Fe("Beef",[["circle",{cx:"12.5",cy:"8.5",r:"2.5",key:"9738u8"}],["path",{d:"M12.5 2a6.5 6.5 0 0 0-6.22 4.6c-1.1 3.13-.78 3.9-3.18 6.08A3 3 0 0 0 5 18c4 0 8.4-1.8 11.4-4.3A6.5 6.5 0 0 0 12.5 2Z",key:"o0f6za"}],["path",{d:"m18.5 6 2.19 4.5a6.48 6.48 0 0 1 .31 2 6.49 6.49 0 0 1-2.6 5.2C15.4 20.2 11 22 7 22a3 3 0 0 1-2.68-1.66L2.4 16.5",key:"k7p6i0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=Fe("BookOpen",[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xG=Fe("Bug",[["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M9 7.13v-1a3.003 3.003 0 1 1 6 0v1",key:"d7y7pr"}],["path",{d:"M12 20c-3.3 0-6-2.7-6-6v-3a4 4 0 0 1 4-4h4a4 4 0 0 1 4 4v3c0 3.3-2.7 6-6 6",key:"xs1cw7"}],["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M6.53 9C4.6 8.8 3 7.1 3 5",key:"32zzws"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"M3 21c0-2.1 1.7-3.9 3.8-4",key:"4p0ekp"}],["path",{d:"M20.97 5c0 2.1-1.6 3.8-3.5 4",key:"18gb23"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M17.2 17c2.1.1 3.8 1.9 3.8 4",key:"k3fwyw"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _fe=Fe("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tfe=Fe("Calendar1",[["path",{d:"M11 14h1v4",key:"fy54vd"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 2v4",key:"1cmpym"}],["rect",{x:"3",y:"4",width:"18",height:"18",rx:"2",key:"12vinp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=Fe("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=Fe("CalendarPlus",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["path",{d:"M21 13V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h8",key:"3spt84"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M16 19h6",key:"xwg31i"}],["path",{d:"M19 16v6",key:"tddt3s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ah=Fe("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=Fe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jfe=Fe("Candy",[["path",{d:"m9.5 7.5-2 2a4.95 4.95 0 1 0 7 7l2-2a4.95 4.95 0 1 0-7-7Z",key:"ue6khb"}],["path",{d:"M14 6.5v10",key:"5xnk7c"}],["path",{d:"M10 7.5v10",key:"1uew51"}],["path",{d:"m16 7 1-5 1.37.68A3 3 0 0 0 19.7 3H21v1.3c0 .46.1.92.32 1.33L22 7l-5 1",key:"b9cp6k"}],["path",{d:"m8 17-1 5-1.37-.68A3 3 0 0 0 4.3 21H3v-1.3a3 3 0 0 0-.32-1.33L2 17l5-1",key:"5lney8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kfe=Fe("Carrot",[["path",{d:"M2.27 21.7s9.87-3.5 12.73-6.36a4.5 4.5 0 0 0-6.36-6.37C5.77 11.84 2.27 21.7 2.27 21.7zM8.64 14l-2.05-2.04M15.34 15l-2.46-2.46",key:"rfqxbe"}],["path",{d:"M22 9s-1.33-2-3.5-2C16.86 7 15 9 15 9s1.33 2 3.5 2S22 9 22 9z",key:"6b25w4"}],["path",{d:"M15 2s-2 1.33-2 3.5S15 9 15 9s2-1.84 2-3.5C17 3.33 15 2 15 2z",key:"fn65lo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ife=Fe("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cj=Fe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bs=Fe("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qD=Fe("Cherry",[["path",{d:"M2 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"cvxqlc"}],["path",{d:"M12 17a5 5 0 0 0 10 0c0-2.76-2.5-5-5-3-2.5-2-5 .24-5 3Z",key:"1ostrc"}],["path",{d:"M7 14c3.22-2.91 4.29-8.75 5-12 1.66 2.38 4.94 9 5 12",key:"hqx58h"}],["path",{d:"M22 9c-4.29 0-7.14-2.33-10-7 5.71 0 10 4.67 10 7Z",key:"eykp1o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fC=Fe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hC=Fe("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=Fe("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bG=Fe("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tc=Fe("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xd=Fe("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KD=Fe("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XD=Fe("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mfe=Fe("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uy=Fe("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dfe=Fe("CodeXml",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=Fe("Coffee",[["path",{d:"M10 2v2",key:"7u0qdc"}],["path",{d:"M14 2v2",key:"6buw04"}],["path",{d:"M16 8a1 1 0 0 1 1 1v8a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4V9a1 1 0 0 1 1-1h14a4 4 0 1 1 0 8h-1",key:"pwadti"}],["path",{d:"M6 2v2",key:"colzsn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YD=Fe("Cookie",[["path",{d:"M12 2a10 10 0 1 0 10 10 4 4 0 0 1-5-5 4 4 0 0 1-5-5",key:"laymnq"}],["path",{d:"M8.5 8.5v.01",key:"ue8clq"}],["path",{d:"M16 15.5v.01",key:"14dtrp"}],["path",{d:"M12 12v.01",key:"u5ubse"}],["path",{d:"M11 17v.01",key:"1hyl5a"}],["path",{d:"M7 14v.01",key:"uct60s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZD=Fe("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wp=Fe("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ffe=Fe("Droplet",[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QD=Fe("Egg",[["path",{d:"M12 22c6.23-.05 7.87-5.57 7.5-10-.36-4.34-3.95-9.96-7.5-10-3.55.04-7.14 5.66-7.5 10-.37 4.43 1.27 9.95 7.5 10z",key:"1c39pg"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=Fe("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JD=Fe("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wG=Fe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bfe=Fe("Fish",[["path",{d:"M6.5 12c.94-3.46 4.94-6 8.5-6 3.56 0 6.06 2.54 7 6-.94 3.47-3.44 6-7 6s-7.56-2.53-8.5-6Z",key:"15baut"}],["path",{d:"M18 12v.5",key:"18hhni"}],["path",{d:"M16 17.93a9.77 9.77 0 0 1 0-11.86",key:"16dt7o"}],["path",{d:"M7 10.67C7 8 5.58 5.97 2.73 5.5c-1 1.5-1 5 .23 6.5-1.24 1.5-1.24 5-.23 6.5C5.58 18.03 7 16 7 13.33",key:"l9di03"}],["path",{d:"M10.46 7.26C10.2 5.88 9.17 4.24 8 3h5.8a2 2 0 0 1 1.98 1.67l.23 1.4",key:"1kjonw"}],["path",{d:"m16.01 17.93-.23 1.4A2 2 0 0 1 13.8 21H9.5a5.96 5.96 0 0 0 1.49-3.98",key:"1zlm23"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=Fe("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $fe=Fe("Gavel",[["path",{d:"m14.5 12.5-8 8a2.119 2.119 0 1 1-3-3l8-8",key:"15492f"}],["path",{d:"m16 16 6-6",key:"vzrcl6"}],["path",{d:"m8 8 6-6",key:"18bi4p"}],["path",{d:"m9 7 8 8",key:"5jnvq1"}],["path",{d:"m21 11-8-8",key:"z4y7zo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ufe=Fe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zfe=Fe("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vfe=Fe("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oc=Fe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SG=Fe("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wfe=Fe("ImageOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M10.41 10.41a2 2 0 1 1-2.83-2.83",key:"1bzlo9"}],["line",{x1:"13.5",x2:"6",y1:"13.5",y2:"21",key:"1q0aeu"}],["line",{x1:"18",x2:"21",y1:"12",y2:"15",key:"5mozeu"}],["path",{d:"M3.59 3.59A1.99 1.99 0 0 0 3 5v14a2 2 0 0 0 2 2h14c.55 0 1.052-.22 1.41-.59",key:"mmje98"}],["path",{d:"M21 15V5a2 2 0 0 0-2-2H9",key:"43el77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hfe=Fe("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zy=Fe("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gfe=Fe("LayoutGrid",[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=Fe("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qfe=Fe("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nu=Fe("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kfe=Fe("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CG=Fe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xfe=Fe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yfe=Fe("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tR=Fe("MessageSquarePlus",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}],["path",{d:"M12 7v6",key:"lw1j43"}],["path",{d:"M9 10h6",key:"9gxzsh"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wm=Fe("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zfe=Fe("Microwave",[["rect",{width:"20",height:"15",x:"2",y:"4",rx:"2",key:"2no95f"}],["rect",{width:"8",height:"7",x:"6",y:"8",rx:"1",key:"zh9wx"}],["path",{d:"M18 8v7",key:"o5zi4n"}],["path",{d:"M6 19v2",key:"1loha6"}],["path",{d:"M18 19v2",key:"1dawf0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qfe=Fe("Milk",[["path",{d:"M8 2h8",key:"1ssgc1"}],["path",{d:"M9 2v2.789a4 4 0 0 1-.672 2.219l-.656.984A4 4 0 0 0 7 10.212V20a2 2 0 0 0 2 2h6a2 2 0 0 0 2-2v-9.789a4 4 0 0 0-.672-2.219l-.656-.984A4 4 0 0 1 15 4.788V2",key:"qtp12x"}],["path",{d:"M7 15a6.472 6.472 0 0 1 5 0 6.47 6.47 0 0 0 5 0",key:"ygeh44"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jfe=Fe("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ehe=Fe("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const the=Fe("Package2",[["path",{d:"M3 9h18v10a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V9Z",key:"1ront0"}],["path",{d:"m3 9 2.45-4.9A2 2 0 0 1 7.24 3h9.52a2 2 0 0 1 1.8 1.1L21 9",key:"19h2x1"}],["path",{d:"M12 3v6",key:"1holv5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vg=Fe("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nhe=Fe("Palette",[["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["path",{d:"M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z",key:"12rzf8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rhe=Fe("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ihe=Fe("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pC=Fe("Pizza",[["path",{d:"M15 11h.01",key:"rns66s"}],["path",{d:"M11 15h.01",key:"k85uqc"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"m2 16 20 6-6-20A20 20 0 0 0 2 16",key:"e4slt2"}],["path",{d:"M5.71 17.11a17.04 17.04 0 0 1 11.4-11.4",key:"rerf8f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tl=Fe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AG=Fe("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lc=Fe("Refrigerator",[["path",{d:"M5 6a4 4 0 0 1 4-4h6a4 4 0 0 1 4 4v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6Z",key:"fpq118"}],["path",{d:"M5 10h14",key:"elsbfy"}],["path",{d:"M15 7v6",key:"1nx30x"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const she=Fe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ahe=Fe("Scale",[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=Fe("ScanEye",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["path",{d:"M18.944 12.33a1 1 0 0 0 0-.66 7.5 7.5 0 0 0-13.888 0 1 1 0 0 0 0 .66 7.5 7.5 0 0 0 13.888 0",key:"11ak4c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ej=Fe("ScanLine",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}],["path",{d:"M7 12h10",key:"b7w52i"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rR=Fe("Scan",[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EG=Fe("ScrollText",[["path",{d:"M15 12h-5",key:"r7krc0"}],["path",{d:"M15 8h-5",key:"1khuty"}],["path",{d:"M19 17V5a2 2 0 0 0-2-2H4",key:"zz82l3"}],["path",{d:"M8 21h12a2 2 0 0 0 2-2v-1a1 1 0 0 0-1-1H11a1 1 0 0 0-1 1v1a2 2 0 1 1-4 0V5a2 2 0 1 0-4 0v2a1 1 0 0 0 1 1h3",key:"1ph1d7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sm=Fe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _G=Fe("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TG=Fe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ohe=Fe("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=Fe("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NG=Fe("ShoppingBasket",[["path",{d:"m15 11-1 9",key:"5wnq3a"}],["path",{d:"m19 11-4-7",key:"cnml18"}],["path",{d:"M2 11h20",key:"3eubbj"}],["path",{d:"m3.5 11 1.6 7.4a2 2 0 0 0 2 1.6h9.8a2 2 0 0 0 2-1.6l1.7-7.4",key:"yiazzp"}],["path",{d:"M4.5 15.5h15",key:"13mye1"}],["path",{d:"m5 11 4-7",key:"116ra9"}],["path",{d:"m9 11 1 9",key:"1ojof7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cm=Fe("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _j=Fe("Snowflake",[["line",{x1:"2",x2:"22",y1:"12",y2:"12",key:"1dnqot"}],["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"m20 16-4-4 4-4",key:"rquw4f"}],["path",{d:"m4 8 4 4-4 4",key:"12s3z9"}],["path",{d:"m16 4-4 4-4-4",key:"1tumq1"}],["path",{d:"m8 20 4-4 4 4",key:"9p200w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lhe=Fe("Soup",[["path",{d:"M12 21a9 9 0 0 0 9-9H3a9 9 0 0 0 9 9Z",key:"4rw317"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M19.5 12 22 6",key:"shfsr5"}],["path",{d:"M16.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.73 1.62",key:"rpc6vp"}],["path",{d:"M11.25 3c.27.1.8.53.74 1.36-.05.83-.93 1.2-.98 2.02-.06.78.33 1.24.72 1.62",key:"1lf63m"}],["path",{d:"M6.25 3c.27.1.8.53.75 1.36-.06.83-.93 1.2-1 2.02-.05.78.34 1.24.74 1.62",key:"97tijn"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vy=Fe("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yN=Fe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Af=Fe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const che=Fe("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uhe=Fe("ThumbsDown",[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PG=Fe("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fw=Fe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vf=Fe("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vN=Fe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dhe=Fe("UserCheck",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fhe=Fe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iv=Fe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nc=Fe("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OG=Fe("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tj=Fe("Wheat",[["path",{d:"M2 22 16 8",key:"60hf96"}],["path",{d:"M3.47 12.53 5 11l1.53 1.53a3.5 3.5 0 0 1 0 4.94L5 19l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1rdhi6"}],["path",{d:"M7.47 8.53 9 7l1.53 1.53a3.5 3.5 0 0 1 0 4.94L9 15l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"1sdzmb"}],["path",{d:"M11.47 4.53 13 3l1.53 1.53a3.5 3.5 0 0 1 0 4.94L13 11l-1.53-1.53a3.5 3.5 0 0 1 0-4.94Z",key:"eoatbi"}],["path",{d:"M20 2h2v2a4 4 0 0 1-4 4h-2V6a4 4 0 0 1 4-4Z",key:"19rau1"}],["path",{d:"M11.47 17.47 13 19l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L5 19l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"tc8ph9"}],["path",{d:"M15.47 13.47 17 15l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L9 15l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"2m8kc5"}],["path",{d:"M19.47 9.47 21 11l-1.53 1.53a3.5 3.5 0 0 1-4.94 0L13 11l1.53-1.53a3.5 3.5 0 0 1 4.94 0Z",key:"vex3ng"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hhe=Fe("Wine",[["path",{d:"M8 22h8",key:"rmew8v"}],["path",{d:"M7 10h10",key:"1101jm"}],["path",{d:"M12 15v7",key:"t2xh3l"}],["path",{d:"M12 15a5 5 0 0 0 5-5c0-2-.5-4-2-8H9c-1.5 4-2 6-2 8a5 5 0 0 0 5 5Z",key:"10ffi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=Fe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),phe=gfe,jG=T.forwardRef(({className:e,...t},n)=>c.jsx(dG,{ref:n,className:Te("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));jG.displayName=dG.displayName;const mhe=dd("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),kG=T.forwardRef(({className:e,variant:t,...n},r)=>c.jsx(fG,{ref:r,className:Te(mhe({variant:t}),e),...n}));kG.displayName=fG.displayName;const ghe=T.forwardRef(({className:e,...t},n)=>c.jsx(mG,{ref:n,className:Te("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));ghe.displayName=mG.displayName;const IG=T.forwardRef(({className:e,...t},n)=>c.jsx(gG,{ref:n,className:Te("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:c.jsx(Mn,{className:"h-4 w-4"})}));IG.displayName=gG.displayName;const MG=T.forwardRef(({className:e,...t},n)=>c.jsx(hG,{ref:n,className:Te("text-sm font-semibold",e),...t}));MG.displayName=hG.displayName;const DG=T.forwardRef(({className:e,...t},n)=>c.jsx(pG,{ref:n,className:Te("text-sm opacity-90",e),...t}));DG.displayName=pG.displayName;function yhe(){const{toasts:e}=or();return c.jsxs(phe,{children:[e.map(function({id:t,title:n,description:r,action:i,...s}){return c.jsxs(kG,{...s,children:[c.jsxs("div",{className:"grid gap-1",children:[n&&c.jsx(MG,{children:n}),r&&c.jsx(DG,{children:r})]}),i,c.jsx(IG,{})]},t)}),c.jsx(jG,{})]})}var vhe=uV[" useId ".trim().toString()]||(()=>{}),xhe=0;function Mi(e){const[t,n]=T.useState(vhe());return Br(()=>{n(r=>r??String(xhe++))},[e]),t?`radix-${t}`:""}const bhe=["top","right","bottom","left"],qu=Math.min,oa=Math.max,Lw=Math.round,Gx=Math.floor,vl=e=>({x:e,y:e}),whe={left:"right",right:"left",bottom:"top",top:"bottom"},She={start:"end",end:"start"};function xN(e,t,n){return oa(e,qu(t,n))}function Pc(e,t){return typeof e=="function"?e(t):e}function Oc(e){return e.split("-")[0]}function xg(e){return e.split("-")[1]}function Nj(e){return e==="x"?"y":"x"}function Pj(e){return e==="y"?"height":"width"}function Ku(e){return["top","bottom"].includes(Oc(e))?"y":"x"}function Oj(e){return Nj(Ku(e))}function Che(e,t,n){n===void 0&&(n=!1);const r=xg(e),i=Oj(e),s=Pj(i);let a=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(a=Bw(a)),[a,Bw(a)]}function Ahe(e){const t=Bw(e);return[bN(e),t,bN(t)]}function bN(e){return e.replace(/start|end/g,t=>She[t])}function Ehe(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],a=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:a;default:return[]}}function _he(e,t,n,r){const i=xg(e);let s=Ehe(Oc(e),n==="start",r);return i&&(s=s.map(a=>a+"-"+i),t&&(s=s.concat(s.map(bN)))),s}function Bw(e){return e.replace(/left|right|bottom|top/g,t=>whe[t])}function The(e){return{top:0,right:0,bottom:0,left:0,...e}}function RG(e){return typeof e!="number"?The(e):{top:e,right:e,bottom:e,left:e}}function $w(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function iR(e,t,n){let{reference:r,floating:i}=e;const s=Ku(t),a=Oj(t),o=Pj(a),u=Oc(t),d=s==="y",h=r.x+r.width/2-i.width/2,m=r.y+r.height/2-i.height/2,y=r[o]/2-i[o]/2;let b;switch(u){case"top":b={x:h,y:r.y-i.height};break;case"bottom":b={x:h,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-i.width,y:m};break;default:b={x:r.x,y:r.y}}switch(xg(t)){case"start":b[a]-=y*(n&&d?-1:1);break;case"end":b[a]+=y*(n&&d?-1:1);break}return b}const Nhe=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:a}=n,o=s.filter(Boolean),u=await(a.isRTL==null?void 0:a.isRTL(t));let d=await a.getElementRects({reference:e,floating:t,strategy:i}),{x:h,y:m}=iR(d,r,u),y=r,b={},C=0;for(let w=0;w<o.length;w++){const{name:A,fn:_}=o[w],{x:E,y:N,data:I,reset:O}=await _({x:h,y:m,initialPlacement:r,placement:y,strategy:i,middlewareData:b,rects:d,platform:a,elements:{reference:e,floating:t}});h=E??h,m=N??m,b={...b,[A]:{...b[A],...I}},O&&C<=50&&(C++,typeof O=="object"&&(O.placement&&(y=O.placement),O.rects&&(d=O.rects===!0?await a.getElementRects({reference:e,floating:t,strategy:i}):O.rects),{x:h,y:m}=iR(d,y,u)),w=-1)}return{x:h,y:m,placement:y,strategy:i,middlewareData:b}};async function Wy(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:a,elements:o,strategy:u}=e,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:m="floating",altBoundary:y=!1,padding:b=0}=Pc(t,e),C=RG(b),A=o[y?m==="floating"?"reference":"floating":m],_=$w(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(A)))==null||n?A:A.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:d,rootBoundary:h,strategy:u})),E=m==="floating"?{x:r,y:i,width:a.floating.width,height:a.floating.height}:a.reference,N=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),I=await(s.isElement==null?void 0:s.isElement(N))?await(s.getScale==null?void 0:s.getScale(N))||{x:1,y:1}:{x:1,y:1},O=$w(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:E,offsetParent:N,strategy:u}):E);return{top:(_.top-O.top+C.top)/I.y,bottom:(O.bottom-_.bottom+C.bottom)/I.y,left:(_.left-O.left+C.left)/I.x,right:(O.right-_.right+C.right)/I.x}}const Phe=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:a,elements:o,middlewareData:u}=t,{element:d,padding:h=0}=Pc(e,t)||{};if(d==null)return{};const m=RG(h),y={x:n,y:r},b=Oj(i),C=Pj(b),w=await a.getDimensions(d),A=b==="y",_=A?"top":"left",E=A?"bottom":"right",N=A?"clientHeight":"clientWidth",I=s.reference[C]+s.reference[b]-y[b]-s.floating[C],O=y[b]-s.reference[b],k=await(a.getOffsetParent==null?void 0:a.getOffsetParent(d));let M=k?k[N]:0;(!M||!await(a.isElement==null?void 0:a.isElement(k)))&&(M=o.floating[N]||s.floating[C]);const R=I/2-O/2,L=M/2-w[C]/2-1,U=qu(m[_],L),X=qu(m[E],L),F=U,V=M-w[C]-X,Z=M/2-w[C]/2+R,H=xN(F,Z,V),q=!u.arrow&&xg(i)!=null&&Z!==H&&s.reference[C]/2-(Z<F?U:X)-w[C]/2<0,G=q?Z<F?Z-F:Z-V:0;return{[b]:y[b]+G,data:{[b]:H,centerOffset:Z-H-G,...q&&{alignmentOffset:G}},reset:q}}}),Ohe=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:u,elements:d}=t,{mainAxis:h=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:w=!0,...A}=Pc(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const _=Oc(i),E=Ku(o),N=Oc(o)===o,I=await(u.isRTL==null?void 0:u.isRTL(d.floating)),O=y||(N||!w?[Bw(o)]:Ahe(o)),k=C!=="none";!y&&k&&O.push(..._he(o,w,C,I));const M=[o,...O],R=await Wy(t,A),L=[];let U=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&L.push(R[_]),m){const Z=Che(i,a,I);L.push(R[Z[0]],R[Z[1]])}if(U=[...U,{placement:i,overflows:L}],!L.every(Z=>Z<=0)){var X,F;const Z=(((X=s.flip)==null?void 0:X.index)||0)+1,H=M[Z];if(H)return{data:{index:Z,overflows:U},reset:{placement:H}};let q=(F=U.filter(G=>G.overflows[0]<=0).sort((G,W)=>G.overflows[1]-W.overflows[1])[0])==null?void 0:F.placement;if(!q)switch(b){case"bestFit":{var V;const G=(V=U.filter(W=>{if(k){const oe=Ku(W.placement);return oe===E||oe==="y"}return!0}).map(W=>[W.placement,W.overflows.filter(oe=>oe>0).reduce((oe,J)=>oe+J,0)]).sort((W,oe)=>W[1]-oe[1])[0])==null?void 0:V[0];G&&(q=G);break}case"initialPlacement":q=o;break}if(i!==q)return{reset:{placement:q}}}return{}}}};function sR(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function aR(e){return bhe.some(t=>e[t]>=0)}const jhe=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...i}=Pc(e,t);switch(r){case"referenceHidden":{const s=await Wy(t,{...i,elementContext:"reference"}),a=sR(s,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:aR(a)}}}case"escaped":{const s=await Wy(t,{...i,altBoundary:!0}),a=sR(s,n.floating);return{data:{escapedOffsets:a,escaped:aR(a)}}}default:return{}}}}};async function khe(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),a=Oc(n),o=xg(n),u=Ku(n)==="y",d=["left","top"].includes(a)?-1:1,h=s&&u?-1:1,m=Pc(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:C}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return o&&typeof C=="number"&&(b=o==="end"?C*-1:C),u?{x:b*h,y:y*d}:{x:y*d,y:b*h}}const Ihe=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:a,middlewareData:o}=t,u=await khe(t,e);return a===((n=o.offset)==null?void 0:n.placement)&&(r=o.arrow)!=null&&r.alignmentOffset?{}:{x:i+u.x,y:s+u.y,data:{...u,placement:a}}}}},Mhe=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:A=>{let{x:_,y:E}=A;return{x:_,y:E}}},...u}=Pc(e,t),d={x:n,y:r},h=await Wy(t,u),m=Ku(Oc(i)),y=Nj(m);let b=d[y],C=d[m];if(s){const A=y==="y"?"top":"left",_=y==="y"?"bottom":"right",E=b+h[A],N=b-h[_];b=xN(E,b,N)}if(a){const A=m==="y"?"top":"left",_=m==="y"?"bottom":"right",E=C+h[A],N=C-h[_];C=xN(E,C,N)}const w=o.fn({...t,[y]:b,[m]:C});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[y]:s,[m]:a}}}}}},Dhe=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:i,rects:s,middlewareData:a}=t,{offset:o=0,mainAxis:u=!0,crossAxis:d=!0}=Pc(e,t),h={x:n,y:r},m=Ku(i),y=Nj(m);let b=h[y],C=h[m];const w=Pc(o,t),A=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const N=y==="y"?"height":"width",I=s.reference[y]-s.floating[N]+A.mainAxis,O=s.reference[y]+s.reference[N]-A.mainAxis;b<I?b=I:b>O&&(b=O)}if(d){var _,E;const N=y==="y"?"width":"height",I=["top","left"].includes(Oc(i)),O=s.reference[m]-s.floating[N]+(I&&((_=a.offset)==null?void 0:_[m])||0)+(I?0:A.crossAxis),k=s.reference[m]+s.reference[N]+(I?0:((E=a.offset)==null?void 0:E[m])||0)-(I?A.crossAxis:0);C<O?C=O:C>k&&(C=k)}return{[y]:b,[m]:C}}}},Rhe=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:i,rects:s,platform:a,elements:o}=t,{apply:u=()=>{},...d}=Pc(e,t),h=await Wy(t,d),m=Oc(i),y=xg(i),b=Ku(i)==="y",{width:C,height:w}=s.floating;let A,_;m==="top"||m==="bottom"?(A=m,_=y===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(_=m,A=y==="end"?"top":"bottom");const E=w-h.top-h.bottom,N=C-h.left-h.right,I=qu(w-h[A],E),O=qu(C-h[_],N),k=!t.middlewareData.shift;let M=I,R=O;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(R=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(M=E),k&&!y){const U=oa(h.left,0),X=oa(h.right,0),F=oa(h.top,0),V=oa(h.bottom,0);b?R=C-2*(U!==0||X!==0?U+X:oa(h.left,h.right)):M=w-2*(F!==0||V!==0?F+V:oa(h.top,h.bottom))}await u({...t,availableWidth:R,availableHeight:M});const L=await a.getDimensions(o.floating);return C!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function mC(){return typeof window<"u"}function bg(e){return FG(e)?(e.nodeName||"").toLowerCase():"#document"}function pa(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Il(e){var t;return(t=(FG(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function FG(e){return mC()?e instanceof Node||e instanceof pa(e).Node:!1}function Mo(e){return mC()?e instanceof Element||e instanceof pa(e).Element:!1}function Nl(e){return mC()?e instanceof HTMLElement||e instanceof pa(e).HTMLElement:!1}function oR(e){return!mC()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pa(e).ShadowRoot}function Mv(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Do(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function Fhe(e){return["table","td","th"].includes(bg(e))}function gC(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function jj(e){const t=kj(),n=Mo(e)?Do(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function Lhe(e){let t=Xu(e);for(;Nl(t)&&!Am(t);){if(jj(t))return t;if(gC(t))return null;t=Xu(t)}return null}function kj(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Am(e){return["html","body","#document"].includes(bg(e))}function Do(e){return pa(e).getComputedStyle(e)}function yC(e){return Mo(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xu(e){if(bg(e)==="html")return e;const t=e.assignedSlot||e.parentNode||oR(e)&&e.host||Il(e);return oR(t)?t.host:t}function LG(e){const t=Xu(e);return Am(t)?e.ownerDocument?e.ownerDocument.body:e.body:Nl(t)&&Mv(t)?t:LG(t)}function Hy(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=LG(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),a=pa(i);if(s){const o=wN(a);return t.concat(a,a.visualViewport||[],Mv(i)?i:[],o&&n?Hy(o):[])}return t.concat(i,Hy(i,[],n))}function wN(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function BG(e){const t=Do(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=Nl(e),s=i?e.offsetWidth:n,a=i?e.offsetHeight:r,o=Lw(n)!==s||Lw(r)!==a;return o&&(n=s,r=a),{width:n,height:r,$:o}}function Ij(e){return Mo(e)?e:e.contextElement}function Sp(e){const t=Ij(e);if(!Nl(t))return vl(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=BG(t);let a=(s?Lw(n.width):n.width)/r,o=(s?Lw(n.height):n.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Bhe=vl(0);function $G(e){const t=pa(e);return!kj()||!t.visualViewport?Bhe:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function $he(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pa(e)?!1:t}function Wf(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Ij(e);let a=vl(1);t&&(r?Mo(r)&&(a=Sp(r)):a=Sp(e));const o=$he(s,n,r)?$G(s):vl(0);let u=(i.left+o.x)/a.x,d=(i.top+o.y)/a.y,h=i.width/a.x,m=i.height/a.y;if(s){const y=pa(s),b=r&&Mo(r)?pa(r):r;let C=y,w=wN(C);for(;w&&r&&b!==C;){const A=Sp(w),_=w.getBoundingClientRect(),E=Do(w),N=_.left+(w.clientLeft+parseFloat(E.paddingLeft))*A.x,I=_.top+(w.clientTop+parseFloat(E.paddingTop))*A.y;u*=A.x,d*=A.y,h*=A.x,m*=A.y,u+=N,d+=I,C=pa(w),w=wN(C)}}return $w({width:h,height:m,x:u,y:d})}function Mj(e,t){const n=yC(e).scrollLeft;return t?t.left+n:Wf(Il(e)).left+n}function UG(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),i=r.left+t.scrollLeft-(n?0:Mj(e,r)),s=r.top+t.scrollTop;return{x:i,y:s}}function Uhe(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",a=Il(r),o=t?gC(t.floating):!1;if(r===a||o&&s)return n;let u={scrollLeft:0,scrollTop:0},d=vl(1);const h=vl(0),m=Nl(r);if((m||!m&&!s)&&((bg(r)!=="body"||Mv(a))&&(u=yC(r)),Nl(r))){const b=Wf(r);d=Sp(r),h.x=b.x+r.clientLeft,h.y=b.y+r.clientTop}const y=a&&!m&&!s?UG(a,u,!0):vl(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-u.scrollLeft*d.x+h.x+y.x,y:n.y*d.y-u.scrollTop*d.y+h.y+y.y}}function zhe(e){return Array.from(e.getClientRects())}function Vhe(e){const t=Il(e),n=yC(e),r=e.ownerDocument.body,i=oa(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=oa(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let a=-n.scrollLeft+Mj(e);const o=-n.scrollTop;return Do(r).direction==="rtl"&&(a+=oa(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:a,y:o}}function Whe(e,t){const n=pa(e),r=Il(e),i=n.visualViewport;let s=r.clientWidth,a=r.clientHeight,o=0,u=0;if(i){s=i.width,a=i.height;const d=kj();(!d||d&&t==="fixed")&&(o=i.offsetLeft,u=i.offsetTop)}return{width:s,height:a,x:o,y:u}}function Hhe(e,t){const n=Wf(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=Nl(e)?Sp(e):vl(1),a=e.clientWidth*s.x,o=e.clientHeight*s.y,u=i*s.x,d=r*s.y;return{width:a,height:o,x:u,y:d}}function lR(e,t,n){let r;if(t==="viewport")r=Whe(e,n);else if(t==="document")r=Vhe(Il(e));else if(Mo(t))r=Hhe(t,n);else{const i=$G(e);r={x:t.x-i.x,y:t.y-i.y,width:t.width,height:t.height}}return $w(r)}function zG(e,t){const n=Xu(e);return n===t||!Mo(n)||Am(n)?!1:Do(n).position==="fixed"||zG(n,t)}function Ghe(e,t){const n=t.get(e);if(n)return n;let r=Hy(e,[],!1).filter(o=>Mo(o)&&bg(o)!=="body"),i=null;const s=Do(e).position==="fixed";let a=s?Xu(e):e;for(;Mo(a)&&!Am(a);){const o=Do(a),u=jj(a);!u&&o.position==="fixed"&&(i=null),(s?!u&&!i:!u&&o.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||Mv(a)&&!u&&zG(e,a))?r=r.filter(h=>h!==a):i=o,a=Xu(a)}return t.set(e,r),r}function qhe(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const a=[...n==="clippingAncestors"?gC(t)?[]:Ghe(t,this._c):[].concat(n),r],o=a[0],u=a.reduce((d,h)=>{const m=lR(t,h,i);return d.top=oa(m.top,d.top),d.right=qu(m.right,d.right),d.bottom=qu(m.bottom,d.bottom),d.left=oa(m.left,d.left),d},lR(t,o,i));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function Khe(e){const{width:t,height:n}=BG(e);return{width:t,height:n}}function Xhe(e,t,n){const r=Nl(t),i=Il(t),s=n==="fixed",a=Wf(e,!0,s,t);let o={scrollLeft:0,scrollTop:0};const u=vl(0);if(r||!r&&!s)if((bg(t)!=="body"||Mv(i))&&(o=yC(t)),r){const y=Wf(t,!0,s,t);u.x=y.x+t.clientLeft,u.y=y.y+t.clientTop}else i&&(u.x=Mj(i));const d=i&&!r&&!s?UG(i,o):vl(0),h=a.left+o.scrollLeft-u.x-d.x,m=a.top+o.scrollTop-u.y-d.y;return{x:h,y:m,width:a.width,height:a.height}}function kE(e){return Do(e).position==="static"}function cR(e,t){if(!Nl(e)||Do(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Il(e)===n&&(n=n.ownerDocument.body),n}function VG(e,t){const n=pa(e);if(gC(e))return n;if(!Nl(e)){let i=Xu(e);for(;i&&!Am(i);){if(Mo(i)&&!kE(i))return i;i=Xu(i)}return n}let r=cR(e,t);for(;r&&Fhe(r)&&kE(r);)r=cR(r,t);return r&&Am(r)&&kE(r)&&!jj(r)?n:r||Lhe(e)||n}const Yhe=async function(e){const t=this.getOffsetParent||VG,n=this.getDimensions,r=await n(e.floating);return{reference:Xhe(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function Zhe(e){return Do(e).direction==="rtl"}const Qhe={convertOffsetParentRelativeRectToViewportRelativeRect:Uhe,getDocumentElement:Il,getClippingRect:qhe,getOffsetParent:VG,getElementRects:Yhe,getClientRects:zhe,getDimensions:Khe,getScale:Sp,isElement:Mo,isRTL:Zhe};function WG(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function Jhe(e,t){let n=null,r;const i=Il(e);function s(){var o;clearTimeout(r),(o=n)==null||o.disconnect(),n=null}function a(o,u){o===void 0&&(o=!1),u===void 0&&(u=1),s();const d=e.getBoundingClientRect(),{left:h,top:m,width:y,height:b}=d;if(o||t(),!y||!b)return;const C=Gx(m),w=Gx(i.clientWidth-(h+y)),A=Gx(i.clientHeight-(m+b)),_=Gx(h),N={rootMargin:-C+"px "+-w+"px "+-A+"px "+-_+"px",threshold:oa(0,qu(1,u))||1};let I=!0;function O(k){const M=k[0].intersectionRatio;if(M!==u){if(!I)return a();M?a(!1,M):r=setTimeout(()=>{a(!1,1e-7)},1e3)}M===1&&!WG(d,e.getBoundingClientRect())&&a(),I=!1}try{n=new IntersectionObserver(O,{...N,root:i.ownerDocument})}catch{n=new IntersectionObserver(O,N)}n.observe(e)}return a(!0),s}function epe(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:u=!1}=r,d=Ij(e),h=i||s?[...d?Hy(d):[],...Hy(t)]:[];h.forEach(_=>{i&&_.addEventListener("scroll",n,{passive:!0}),s&&_.addEventListener("resize",n)});const m=d&&o?Jhe(d,n):null;let y=-1,b=null;a&&(b=new ResizeObserver(_=>{let[E]=_;E&&E.target===d&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(t)})),n()}),d&&!u&&b.observe(d),b.observe(t));let C,w=u?Wf(e):null;u&&A();function A(){const _=Wf(e);w&&!WG(w,_)&&n(),w=_,C=requestAnimationFrame(A)}return n(),()=>{var _;h.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),m==null||m(),(_=b)==null||_.disconnect(),b=null,u&&cancelAnimationFrame(C)}}const tpe=Ihe,npe=Mhe,rpe=Ohe,ipe=Rhe,spe=jhe,uR=Phe,ape=Dhe,ope=(e,t,n)=>{const r=new Map,i={platform:Qhe,...n},s={...i.platform,_c:r};return Nhe(e,t,{...i,platform:s})};var Wb=typeof document<"u"?T.useLayoutEffect:T.useEffect;function Uw(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Uw(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!Uw(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function HG(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function dR(e,t){const n=HG(e);return Math.round(t*n)/n}function IE(e){const t=T.useRef(e);return Wb(()=>{t.current=e}),t}function lpe(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:u,open:d}=e,[h,m]=T.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,b]=T.useState(r);Uw(y,r)||b(r);const[C,w]=T.useState(null),[A,_]=T.useState(null),E=T.useCallback(W=>{W!==k.current&&(k.current=W,w(W))},[]),N=T.useCallback(W=>{W!==M.current&&(M.current=W,_(W))},[]),I=s||C,O=a||A,k=T.useRef(null),M=T.useRef(null),R=T.useRef(h),L=u!=null,U=IE(u),X=IE(i),F=IE(d),V=T.useCallback(()=>{if(!k.current||!M.current)return;const W={placement:t,strategy:n,middleware:y};X.current&&(W.platform=X.current),ope(k.current,M.current,W).then(oe=>{const J={...oe,isPositioned:F.current!==!1};Z.current&&!Uw(R.current,J)&&(R.current=J,ud.flushSync(()=>{m(J)}))})},[y,t,n,X,F]);Wb(()=>{d===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,m(W=>({...W,isPositioned:!1})))},[d]);const Z=T.useRef(!1);Wb(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Wb(()=>{if(I&&(k.current=I),O&&(M.current=O),I&&O){if(U.current)return U.current(I,O,V);V()}},[I,O,V,U,L]);const H=T.useMemo(()=>({reference:k,floating:M,setReference:E,setFloating:N}),[E,N]),q=T.useMemo(()=>({reference:I,floating:O}),[I,O]),G=T.useMemo(()=>{const W={position:n,left:0,top:0};if(!q.floating)return W;const oe=dR(q.floating,h.x),J=dR(q.floating,h.y);return o?{...W,transform:"translate("+oe+"px, "+J+"px)",...HG(q.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:oe,top:J}},[n,o,q.floating,h.x,h.y]);return T.useMemo(()=>({...h,update:V,refs:H,elements:q,floatingStyles:G}),[h,V,H,q,G])}const cpe=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?uR({element:r.current,padding:i}).fn(n):{}:r?uR({element:r,padding:i}).fn(n):{}}}},upe=(e,t)=>({...tpe(e),options:[e,t]}),dpe=(e,t)=>({...npe(e),options:[e,t]}),fpe=(e,t)=>({...ape(e),options:[e,t]}),hpe=(e,t)=>({...rpe(e),options:[e,t]}),ppe=(e,t)=>({...ipe(e),options:[e,t]}),mpe=(e,t)=>({...spe(e),options:[e,t]}),gpe=(e,t)=>({...cpe(e),options:[e,t]});var ype="Arrow",GG=T.forwardRef((e,t)=>{const{children:n,width:r=10,height:i=5,...s}=e;return c.jsx(Je.svg,{...s,ref:t,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:c.jsx("polygon",{points:"0,0 30,0 15,10"})})});GG.displayName=ype;var vpe=GG;function Dv(e){const[t,n]=T.useState(void 0);return Br(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let a,o;if("borderBoxSize"in s){const u=s.borderBoxSize,d=Array.isArray(u)?u[0]:u;a=d.inlineSize,o=d.blockSize}else a=e.offsetWidth,o=e.offsetHeight;n({width:a,height:o})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Dj="Popper",[qG,wg]=Yr(Dj),[xpe,KG]=qG(Dj),XG=e=>{const{__scopePopper:t,children:n}=e,[r,i]=T.useState(null);return c.jsx(xpe,{scope:t,anchor:r,onAnchorChange:i,children:n})};XG.displayName=Dj;var YG="PopperAnchor",ZG=T.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...i}=e,s=KG(YG,n),a=T.useRef(null),o=$t(t,a);return T.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||a.current)}),r?null:c.jsx(Je.div,{...i,ref:o})});ZG.displayName=YG;var Rj="PopperContent",[bpe,wpe]=qG(Rj),QG=T.forwardRef((e,t)=>{var be,Ne,xe,Oe,je,ve;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:a=0,arrowPadding:o=0,avoidCollisions:u=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:C,...w}=e,A=KG(Rj,n),[_,E]=T.useState(null),N=$t(t,ze=>E(ze)),[I,O]=T.useState(null),k=Dv(I),M=(k==null?void 0:k.width)??0,R=(k==null?void 0:k.height)??0,L=r+(s!=="center"?"-"+s:""),U=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},X=Array.isArray(d)?d:[d],F=X.length>0,V={padding:U,boundary:X.filter(Cpe),altBoundary:F},{refs:Z,floatingStyles:H,placement:q,isPositioned:G,middlewareData:W}=lpe({strategy:"fixed",placement:L,whileElementsMounted:(...ze)=>epe(...ze,{animationFrame:b==="always"}),elements:{reference:A.anchor},middleware:[upe({mainAxis:i+R,alignmentAxis:a}),u&&dpe({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?fpe():void 0,...V}),u&&hpe({...V}),ppe({...V,apply:({elements:ze,rects:Be,availableWidth:dt,availableHeight:Ct})=>{const{width:yt,height:At}=Be.reference,ct=ze.floating.style;ct.setProperty("--radix-popper-available-width",`${dt}px`),ct.setProperty("--radix-popper-available-height",`${Ct}px`),ct.setProperty("--radix-popper-anchor-width",`${yt}px`),ct.setProperty("--radix-popper-anchor-height",`${At}px`)}}),I&&gpe({element:I,padding:o}),Ape({arrowWidth:M,arrowHeight:R}),y&&mpe({strategy:"referenceHidden",...V})]}),[oe,J]=tq(q),Y=Er(C);Br(()=>{G&&(Y==null||Y())},[G,Y]);const ne=(be=W.arrow)==null?void 0:be.x,pe=(Ne=W.arrow)==null?void 0:Ne.y,he=((xe=W.arrow)==null?void 0:xe.centerOffset)!==0,[we,me]=T.useState();return Br(()=>{_&&me(window.getComputedStyle(_).zIndex)},[_]),c.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...H,transform:G?H.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Oe=W.transformOrigin)==null?void 0:Oe.x,(je=W.transformOrigin)==null?void 0:je.y].join(" "),...((ve=W.hide)==null?void 0:ve.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:c.jsx(bpe,{scope:n,placedSide:oe,onArrowChange:O,arrowX:ne,arrowY:pe,shouldHideArrow:he,children:c.jsx(Je.div,{"data-side":oe,"data-align":J,...w,ref:N,style:{...w.style,animation:G?void 0:"none"}})})})});QG.displayName=Rj;var JG="PopperArrow",Spe={top:"bottom",right:"left",bottom:"top",left:"right"},eq=T.forwardRef(function(t,n){const{__scopePopper:r,...i}=t,s=wpe(JG,r),a=Spe[s.placedSide];return c.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[a]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:c.jsx(vpe,{...i,ref:n,style:{...i.style,display:"block"}})})});eq.displayName=JG;function Cpe(e){return e!==null}var Ape=e=>({name:"transformOrigin",options:e,fn(t){var A,_,E;const{placement:n,rects:r,middlewareData:i}=t,a=((A=i.arrow)==null?void 0:A.centerOffset)!==0,o=a?0:e.arrowWidth,u=a?0:e.arrowHeight,[d,h]=tq(n),m={start:"0%",center:"50%",end:"100%"}[h],y=(((_=i.arrow)==null?void 0:_.x)??0)+o/2,b=(((E=i.arrow)==null?void 0:E.y)??0)+u/2;let C="",w="";return d==="bottom"?(C=a?m:`${y}px`,w=`${-u}px`):d==="top"?(C=a?m:`${y}px`,w=`${r.floating.height+u}px`):d==="right"?(C=`${-u}px`,w=a?m:`${b}px`):d==="left"&&(C=`${r.floating.width+u}px`,w=a?m:`${b}px`),{data:{x:C,y:w}}}});function tq(e){const[t,n="center"]=e.split("-");return[t,n]}var Fj=XG,vC=ZG,Lj=QG,Bj=eq,[xC,_tt]=Yr("Tooltip",[wg]),bC=wg(),nq="TooltipProvider",Epe=700,SN="tooltip.open",[_pe,$j]=xC(nq),rq=e=>{const{__scopeTooltip:t,delayDuration:n=Epe,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=e,a=T.useRef(!0),o=T.useRef(!1),u=T.useRef(0);return T.useEffect(()=>{const d=u.current;return()=>window.clearTimeout(d)},[]),c.jsx(_pe,{scope:t,isOpenDelayedRef:a,delayDuration:n,onOpen:T.useCallback(()=>{window.clearTimeout(u.current),a.current=!1},[]),onClose:T.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>a.current=!0,r)},[r]),isPointerInTransitRef:o,onPointerInTransitChange:T.useCallback(d=>{o.current=d},[]),disableHoverableContent:i,children:s})};rq.displayName=nq;var wC="Tooltip",[Tpe,SC]=xC(wC),iq=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:i=!1,onOpenChange:s,disableHoverableContent:a,delayDuration:o}=e,u=$j(wC,e.__scopeTooltip),d=bC(t),[h,m]=T.useState(null),y=Mi(),b=T.useRef(0),C=a??u.disableHoverableContent,w=o??u.delayDuration,A=T.useRef(!1),[_=!1,E]=Qi({prop:r,defaultProp:i,onChange:M=>{M?(u.onOpen(),document.dispatchEvent(new CustomEvent(SN))):u.onClose(),s==null||s(M)}}),N=T.useMemo(()=>_?A.current?"delayed-open":"instant-open":"closed",[_]),I=T.useCallback(()=>{window.clearTimeout(b.current),b.current=0,A.current=!1,E(!0)},[E]),O=T.useCallback(()=>{window.clearTimeout(b.current),b.current=0,E(!1)},[E]),k=T.useCallback(()=>{window.clearTimeout(b.current),b.current=window.setTimeout(()=>{A.current=!0,E(!0),b.current=0},w)},[w,E]);return T.useEffect(()=>()=>{b.current&&(window.clearTimeout(b.current),b.current=0)},[]),c.jsx(Fj,{...d,children:c.jsx(Tpe,{scope:t,contentId:y,open:_,stateAttribute:N,trigger:h,onTriggerChange:m,onTriggerEnter:T.useCallback(()=>{u.isOpenDelayedRef.current?k():I()},[u.isOpenDelayedRef,k,I]),onTriggerLeave:T.useCallback(()=>{C?O():(window.clearTimeout(b.current),b.current=0)},[O,C]),onOpen:I,onClose:O,disableHoverableContent:C,children:n})})};iq.displayName=wC;var CN="TooltipTrigger",sq=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=SC(CN,n),s=$j(CN,n),a=bC(n),o=T.useRef(null),u=$t(t,o,i.onTriggerChange),d=T.useRef(!1),h=T.useRef(!1),m=T.useCallback(()=>d.current=!1,[]);return T.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),c.jsx(vC,{asChild:!0,...a,children:c.jsx(Je.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:u,onPointerMove:Qe(e.onPointerMove,y=>{y.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:Qe(e.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:Qe(e.onPointerDown,()=>{i.open&&i.onClose(),d.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:Qe(e.onFocus,()=>{d.current||i.onOpen()}),onBlur:Qe(e.onBlur,i.onClose),onClick:Qe(e.onClick,i.onClose)})})});sq.displayName=CN;var Npe="TooltipPortal",[Ttt,Ppe]=xC(Npe,{forceMount:void 0}),Em="TooltipContent",aq=T.forwardRef((e,t)=>{const n=Ppe(Em,e.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=e,a=SC(Em,e.__scopeTooltip);return c.jsx(es,{present:r||a.open,children:a.disableHoverableContent?c.jsx(oq,{side:i,...s,ref:t}):c.jsx(Ope,{side:i,...s,ref:t})})}),Ope=T.forwardRef((e,t)=>{const n=SC(Em,e.__scopeTooltip),r=$j(Em,e.__scopeTooltip),i=T.useRef(null),s=$t(t,i),[a,o]=T.useState(null),{trigger:u,onClose:d}=n,h=i.current,{onPointerInTransitChange:m}=r,y=T.useCallback(()=>{o(null),m(!1)},[m]),b=T.useCallback((C,w)=>{const A=C.currentTarget,_={x:C.clientX,y:C.clientY},E=Dpe(_,A.getBoundingClientRect()),N=Rpe(_,E),I=Fpe(w.getBoundingClientRect()),O=Bpe([...N,...I]);o(O),m(!0)},[m]);return T.useEffect(()=>()=>y(),[y]),T.useEffect(()=>{if(u&&h){const C=A=>b(A,h),w=A=>b(A,u);return u.addEventListener("pointerleave",C),h.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",C),h.removeEventListener("pointerleave",w)}}},[u,h,b,y]),T.useEffect(()=>{if(a){const C=w=>{const A=w.target,_={x:w.clientX,y:w.clientY},E=(u==null?void 0:u.contains(A))||(h==null?void 0:h.contains(A)),N=!Lpe(_,a);E?y():N&&(y(),d())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[u,h,a,d,y]),c.jsx(oq,{...e,ref:s})}),[jpe,kpe]=xC(wC,{isInside:!1}),Ipe=qH("TooltipContent"),oq=T.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:a,...o}=e,u=SC(Em,n),d=bC(n),{onClose:h}=u;return T.useEffect(()=>(document.addEventListener(SN,h),()=>document.removeEventListener(SN,h)),[h]),T.useEffect(()=>{if(u.trigger){const m=y=>{const b=y.target;b!=null&&b.contains(u.trigger)&&h()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[u.trigger,h]),c.jsx(yg,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:m=>m.preventDefault(),onDismiss:h,children:c.jsxs(Lj,{"data-state":u.stateAttribute,...d,...o,ref:t,style:{...o.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[c.jsx(Ipe,{children:r}),c.jsx(jpe,{scope:n,isInside:!0,children:c.jsx(Qde,{id:u.contentId,role:"tooltip",children:i||r})})]})})});aq.displayName=Em;var lq="TooltipArrow",Mpe=T.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,i=bC(n);return kpe(lq,n).isInside?null:c.jsx(Bj,{...i,...r,ref:t})});Mpe.displayName=lq;function Dpe(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),i=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function Rpe(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function Fpe(e){const{top:t,right:n,bottom:r,left:i}=e;return[{x:i,y:t},{x:n,y:t},{x:n,y:r},{x:i,y:r}]}function Lpe(e,t){const{x:n,y:r}=e;let i=!1;for(let s=0,a=t.length-1;s<t.length;a=s++){const o=t[s].x,u=t[s].y,d=t[a].x,h=t[a].y;u>r!=h>r&&n<(d-o)*(r-u)/(h-u)+o&&(i=!i)}return i}function Bpe(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),$pe(t)}function $pe(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const i=e[r];for(;t.length>=2;){const s=t[t.length-1],a=t[t.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))t.pop();else break}t.push(i)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const i=e[r];for(;n.length>=2;){const s=n[n.length-1],a=n[n.length-2];if((s.x-a.x)*(i.y-a.y)>=(s.y-a.y)*(i.x-a.x))n.pop();else break}n.push(i)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var Upe=rq,zpe=iq,Vpe=sq,cq=aq;const CC=Upe,Bu=zpe,$u=Vpe,mc=T.forwardRef(({className:e,sideOffset:t=4,...n},r)=>c.jsx(cq,{ref:r,sideOffset:t,className:Te("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));mc.displayName=cq.displayName;const ME=768;function Wpe(){const[e,t]=T.useState(void 0);return T.useEffect(()=>{const n=window.matchMedia(`(max-width: ${ME-1}px)`),r=()=>{t(window.innerWidth<ME)};return n.addEventListener("change",r),t(window.innerWidth<ME),()=>n.removeEventListener("change",r)},[]),!!e}const Gy=dd("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2 transition-morph",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Re=T.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...i},s)=>{const a=r?Ov:"button";return c.jsx(a,{className:Te(Gy({variant:t,size:n,className:e})),ref:s,...i})});Re.displayName="Button";const gn=T.forwardRef(({className:e,type:t,...n},r)=>c.jsx("input",{type:t,className:Te("flex h-9 w-full rounded-md border border-input bg-background/90 px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-glass transition-morph disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));gn.displayName="Input";var Hpe="Separator",fR="horizontal",Gpe=["horizontal","vertical"],uq=T.forwardRef((e,t)=>{const{decorative:n,orientation:r=fR,...i}=e,s=qpe(r)?r:fR,o=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return c.jsx(Je.div,{"data-orientation":s,...o,...i,ref:t})});uq.displayName=Hpe;function qpe(e){return Gpe.includes(e)}var dq=uq;const Yu=T.forwardRef(({className:e,orientation:t="horizontal",decorative:n=!0,...r},i)=>c.jsx(dq,{ref:i,decorative:n,orientation:t,className:Te("shrink-0 bg-border",t==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",e),...r}));Yu.displayName=dq.displayName;var DE="focusScope.autoFocusOnMount",RE="focusScope.autoFocusOnUnmount",hR={bubbles:!1,cancelable:!0},Kpe="FocusScope",AC=T.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...a}=e,[o,u]=T.useState(null),d=Er(i),h=Er(s),m=T.useRef(null),y=$t(t,w=>u(w)),b=T.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;T.useEffect(()=>{if(r){let w=function(N){if(b.paused||!o)return;const I=N.target;o.contains(I)?m.current=I:iu(m.current,{select:!0})},A=function(N){if(b.paused||!o)return;const I=N.relatedTarget;I!==null&&(o.contains(I)||iu(m.current,{select:!0}))},_=function(N){if(document.activeElement===document.body)for(const O of N)O.removedNodes.length>0&&iu(o)};document.addEventListener("focusin",w),document.addEventListener("focusout",A);const E=new MutationObserver(_);return o&&E.observe(o,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",A),E.disconnect()}}},[r,o,b.paused]),T.useEffect(()=>{if(o){mR.add(b);const w=document.activeElement;if(!o.contains(w)){const _=new CustomEvent(DE,hR);o.addEventListener(DE,d),o.dispatchEvent(_),_.defaultPrevented||(Xpe(eme(fq(o)),{select:!0}),document.activeElement===w&&iu(o))}return()=>{o.removeEventListener(DE,d),setTimeout(()=>{const _=new CustomEvent(RE,hR);o.addEventListener(RE,h),o.dispatchEvent(_),_.defaultPrevented||iu(w??document.body,{select:!0}),o.removeEventListener(RE,h),mR.remove(b)},0)}}},[o,d,h,b]);const C=T.useCallback(w=>{if(!n&&!r||b.paused)return;const A=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(A&&_){const E=w.currentTarget,[N,I]=Ype(E);N&&I?!w.shiftKey&&_===I?(w.preventDefault(),n&&iu(N,{select:!0})):w.shiftKey&&_===N&&(w.preventDefault(),n&&iu(I,{select:!0})):_===E&&w.preventDefault()}},[n,r,b.paused]);return c.jsx(Je.div,{tabIndex:-1,...a,ref:y,onKeyDown:C})});AC.displayName=Kpe;function Xpe(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(iu(r,{select:t}),document.activeElement!==n)return}function Ype(e){const t=fq(e),n=pR(t,e),r=pR(t.reverse(),e);return[n,r]}function fq(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function pR(e,t){for(const n of e)if(!Zpe(n,{upTo:t}))return n}function Zpe(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function Qpe(e){return e instanceof HTMLInputElement&&"select"in e}function iu(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&Qpe(e)&&t&&e.select()}}var mR=Jpe();function Jpe(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=gR(e,t),e.unshift(t)},remove(t){var n;e=gR(e,t),(n=e[0])==null||n.resume()}}}function gR(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function eme(e){return e.filter(t=>t.tagName!=="A")}var FE=0;function Uj(){T.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??yR()),document.body.insertAdjacentElement("beforeend",e[1]??yR()),FE++,()=>{FE===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),FE--}},[])}function yR(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var ul=function(){return ul=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},ul.apply(this,arguments)};function hq(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function tme(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Hb="right-scroll-bar-position",Gb="width-before-scroll-bar",nme="with-scroll-bars-hidden",rme="--removed-body-scroll-bar-size";function LE(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function ime(e,t){var n=T.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=t,n.facade}var sme=typeof window<"u"?T.useLayoutEffect:T.useEffect,vR=new WeakMap;function ame(e,t){var n=ime(null,function(r){return e.forEach(function(i){return LE(i,r)})});return sme(function(){var r=vR.get(n);if(r){var i=new Set(r),s=new Set(e),a=n.current;i.forEach(function(o){s.has(o)||LE(o,null)}),s.forEach(function(o){i.has(o)||LE(o,a)})}vR.set(n,e)},[e]),n}function ome(e){return e}function lme(e,t){t===void 0&&(t=ome);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var a=t(s,r);return n.push(a),function(){n=n.filter(function(o){return o!==a})}},assignSyncMedium:function(s){for(r=!0;n.length;){var a=n;n=[],a.forEach(s)}n={push:function(o){return s(o)},filter:function(){return n}}},assignMedium:function(s){r=!0;var a=[];if(n.length){var o=n;n=[],o.forEach(s),a=n}var u=function(){var h=a;a=[],h.forEach(s)},d=function(){return Promise.resolve().then(u)};d(),n={push:function(h){a.push(h),d()},filter:function(h){return a=a.filter(h),n}}}};return i}function cme(e){e===void 0&&(e={});var t=lme(null);return t.options=ul({async:!0,ssr:!1},e),t}var pq=function(e){var t=e.sideCar,n=hq(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return T.createElement(r,ul({},n))};pq.isSideCarExport=!0;function ume(e,t){return e.useMedium(t),pq}var mq=cme(),BE=function(){},EC=T.forwardRef(function(e,t){var n=T.useRef(null),r=T.useState({onScrollCapture:BE,onWheelCapture:BE,onTouchMoveCapture:BE}),i=r[0],s=r[1],a=e.forwardProps,o=e.children,u=e.className,d=e.removeScrollBar,h=e.enabled,m=e.shards,y=e.sideCar,b=e.noIsolation,C=e.inert,w=e.allowPinchZoom,A=e.as,_=A===void 0?"div":A,E=e.gapMode,N=hq(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),I=y,O=ame([n,t]),k=ul(ul({},N),i);return T.createElement(T.Fragment,null,h&&T.createElement(I,{sideCar:mq,removeScrollBar:d,shards:m,noIsolation:b,inert:C,setCallbacks:s,allowPinchZoom:!!w,lockRef:n,gapMode:E}),a?T.cloneElement(T.Children.only(o),ul(ul({},k),{ref:O})):T.createElement(_,ul({},k,{className:u,ref:O}),o))});EC.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};EC.classNames={fullWidth:Gb,zeroRight:Hb};var dme=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function fme(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=dme();return t&&e.setAttribute("nonce",t),e}function hme(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function pme(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var mme=function(){var e=0,t=null;return{add:function(n){e==0&&(t=fme())&&(hme(t,n),pme(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},gme=function(){var e=mme();return function(t,n){T.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},gq=function(){var e=gme(),t=function(n){var r=n.styles,i=n.dynamic;return e(r,i),null};return t},yme={left:0,top:0,right:0,gap:0},$E=function(e){return parseInt(e||"",10)||0},vme=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],i=t[e==="padding"?"paddingRight":"marginRight"];return[$E(n),$E(r),$E(i)]},xme=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return yme;var t=vme(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},bme=gq(),Cp="data-scroll-locked",wme=function(e,t,n,r){var i=e.left,s=e.top,a=e.right,o=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(nme,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(o,"px ").concat(r,`;
  }
  body[`).concat(Cp,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(a,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(o,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(o,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Hb,` {
    right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Gb,` {
    margin-right: `).concat(o,"px ").concat(r,`;
  }
  
  .`).concat(Hb," .").concat(Hb,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Gb," .").concat(Gb,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Cp,`] {
    `).concat(rme,": ").concat(o,`px;
  }
`)},xR=function(){var e=parseInt(document.body.getAttribute(Cp)||"0",10);return isFinite(e)?e:0},Sme=function(){T.useEffect(function(){return document.body.setAttribute(Cp,(xR()+1).toString()),function(){var e=xR()-1;e<=0?document.body.removeAttribute(Cp):document.body.setAttribute(Cp,e.toString())}},[])},Cme=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,i=r===void 0?"margin":r;Sme();var s=T.useMemo(function(){return xme(i)},[i]);return T.createElement(bme,{styles:wme(s,!t,i,n?"":"!important")})},AN=!1;if(typeof window<"u")try{var qx=Object.defineProperty({},"passive",{get:function(){return AN=!0,!0}});window.addEventListener("test",qx,qx),window.removeEventListener("test",qx,qx)}catch{AN=!1}var Sh=AN?{passive:!1}:!1,Ame=function(e){return e.tagName==="TEXTAREA"},yq=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!Ame(e)&&n[t]==="visible")},Eme=function(e){return yq(e,"overflowY")},_me=function(e){return yq(e,"overflowX")},bR=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=vq(e,r);if(i){var s=xq(e,r),a=s[1],o=s[2];if(a>o)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},Tme=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},Nme=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},vq=function(e,t){return e==="v"?Eme(t):_me(t)},xq=function(e,t){return e==="v"?Tme(t):Nme(t)},Pme=function(e,t){return e==="h"&&t==="rtl"?-1:1},Ome=function(e,t,n,r,i){var s=Pme(e,window.getComputedStyle(t).direction),a=s*r,o=n.target,u=t.contains(o),d=!1,h=a>0,m=0,y=0;do{var b=xq(e,o),C=b[0],w=b[1],A=b[2],_=w-A-s*C;(C||_)&&vq(e,o)&&(m+=_,y+=C),o instanceof ShadowRoot?o=o.host:o=o.parentNode}while(!u&&o!==document.body||u&&(t.contains(o)||t===o));return(h&&(Math.abs(m)<1||!i)||!h&&(Math.abs(y)<1||!i))&&(d=!0),d},Kx=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},wR=function(e){return[e.deltaX,e.deltaY]},SR=function(e){return e&&"current"in e?e.current:e},jme=function(e,t){return e[0]===t[0]&&e[1]===t[1]},kme=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},Ime=0,Ch=[];function Mme(e){var t=T.useRef([]),n=T.useRef([0,0]),r=T.useRef(),i=T.useState(Ime++)[0],s=T.useState(gq)[0],a=T.useRef(e);T.useEffect(function(){a.current=e},[e]),T.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(i));var w=tme([e.lockRef.current],(e.shards||[]).map(SR),!0).filter(Boolean);return w.forEach(function(A){return A.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),w.forEach(function(A){return A.classList.remove("allow-interactivity-".concat(i))})}}},[e.inert,e.lockRef.current,e.shards]);var o=T.useCallback(function(w,A){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!a.current.allowPinchZoom;var _=Kx(w),E=n.current,N="deltaX"in w?w.deltaX:E[0]-_[0],I="deltaY"in w?w.deltaY:E[1]-_[1],O,k=w.target,M=Math.abs(N)>Math.abs(I)?"h":"v";if("touches"in w&&M==="h"&&k.type==="range")return!1;var R=bR(M,k);if(!R)return!0;if(R?O=M:(O=M==="v"?"h":"v",R=bR(M,k)),!R)return!1;if(!r.current&&"changedTouches"in w&&(N||I)&&(r.current=O),!O)return!0;var L=r.current||O;return Ome(L,A,w,L==="h"?N:I,!0)},[]),u=T.useCallback(function(w){var A=w;if(!(!Ch.length||Ch[Ch.length-1]!==s)){var _="deltaY"in A?wR(A):Kx(A),E=t.current.filter(function(O){return O.name===A.type&&(O.target===A.target||A.target===O.shadowParent)&&jme(O.delta,_)})[0];if(E&&E.should){A.cancelable&&A.preventDefault();return}if(!E){var N=(a.current.shards||[]).map(SR).filter(Boolean).filter(function(O){return O.contains(A.target)}),I=N.length>0?o(A,N[0]):!a.current.noIsolation;I&&A.cancelable&&A.preventDefault()}}},[]),d=T.useCallback(function(w,A,_,E){var N={name:w,delta:A,target:_,should:E,shadowParent:Dme(_)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(I){return I!==N})},1)},[]),h=T.useCallback(function(w){n.current=Kx(w),r.current=void 0},[]),m=T.useCallback(function(w){d(w.type,wR(w),w.target,o(w,e.lockRef.current))},[]),y=T.useCallback(function(w){d(w.type,Kx(w),w.target,o(w,e.lockRef.current))},[]);T.useEffect(function(){return Ch.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",u,Sh),document.addEventListener("touchmove",u,Sh),document.addEventListener("touchstart",h,Sh),function(){Ch=Ch.filter(function(w){return w!==s}),document.removeEventListener("wheel",u,Sh),document.removeEventListener("touchmove",u,Sh),document.removeEventListener("touchstart",h,Sh)}},[]);var b=e.removeScrollBar,C=e.inert;return T.createElement(T.Fragment,null,C?T.createElement(s,{styles:kme(i)}):null,b?T.createElement(Cme,{gapMode:e.gapMode}):null)}function Dme(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const Rme=ume(mq,Mme);var _C=T.forwardRef(function(e,t){return T.createElement(EC,ul({},e,{ref:t,sideCar:Rme}))});_C.classNames=EC.classNames;var Fme=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Ah=new WeakMap,Xx=new WeakMap,Yx={},UE=0,bq=function(e){return e&&(e.host||bq(e.parentNode))},Lme=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=bq(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},Bme=function(e,t,n,r){var i=Lme(t,Array.isArray(e)?e:[e]);Yx[n]||(Yx[n]=new WeakMap);var s=Yx[n],a=[],o=new Set,u=new Set(i),d=function(m){!m||o.has(m)||(o.add(m),d(m.parentNode))};i.forEach(d);var h=function(m){!m||u.has(m)||Array.prototype.forEach.call(m.children,function(y){if(o.has(y))h(y);else try{var b=y.getAttribute(r),C=b!==null&&b!=="false",w=(Ah.get(y)||0)+1,A=(s.get(y)||0)+1;Ah.set(y,w),s.set(y,A),a.push(y),w===1&&C&&Xx.set(y,!0),A===1&&y.setAttribute(n,"true"),C||y.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",y,_)}})};return h(t),o.clear(),UE++,function(){a.forEach(function(m){var y=Ah.get(m)-1,b=s.get(m)-1;Ah.set(m,y),s.set(m,b),y||(Xx.has(m)||m.removeAttribute(r),Xx.delete(m)),b||m.removeAttribute(n)}),UE--,UE||(Ah=new WeakMap,Ah=new WeakMap,Xx=new WeakMap,Yx={})}},zj=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),i=Fme(e);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),Bme(r,i,n,"aria-hidden")):function(){return null}},Vj="Dialog",[wq,Sq]=Yr(Vj),[$me,zo]=wq(Vj),Cq=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!0}=e,o=T.useRef(null),u=T.useRef(null),[d=!1,h]=Qi({prop:r,defaultProp:i,onChange:s});return c.jsx($me,{scope:t,triggerRef:o,contentRef:u,contentId:Mi(),titleId:Mi(),descriptionId:Mi(),open:d,onOpenChange:h,onOpenToggle:T.useCallback(()=>h(m=>!m),[h]),modal:a,children:n})};Cq.displayName=Vj;var Aq="DialogTrigger",Eq=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zo(Aq,n),s=$t(t,i.triggerRef);return c.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Gj(i.open),...r,ref:s,onClick:Qe(e.onClick,i.onOpenToggle)})});Eq.displayName=Aq;var Wj="DialogPortal",[Ume,_q]=wq(Wj,{forceMount:void 0}),Tq=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:i}=e,s=zo(Wj,t);return c.jsx(Ume,{scope:t,forceMount:n,children:T.Children.map(r,a=>c.jsx(es,{present:n||s.open,children:c.jsx(jv,{asChild:!0,container:i,children:a})}))})};Tq.displayName=Wj;var zw="DialogOverlay",Nq=T.forwardRef((e,t)=>{const n=_q(zw,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=zo(zw,e.__scopeDialog);return s.modal?c.jsx(es,{present:r||s.open,children:c.jsx(Vme,{...i,ref:t})}):null});Nq.displayName=zw;var zme=Uf("DialogOverlay.RemoveScroll"),Vme=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zo(zw,n);return c.jsx(_C,{as:zme,allowPinchZoom:!0,shards:[i.contentRef],children:c.jsx(Je.div,{"data-state":Gj(i.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Hf="DialogContent",Pq=T.forwardRef((e,t)=>{const n=_q(Hf,e.__scopeDialog),{forceMount:r=n.forceMount,...i}=e,s=zo(Hf,e.__scopeDialog);return c.jsx(es,{present:r||s.open,children:s.modal?c.jsx(Wme,{...i,ref:t}):c.jsx(Hme,{...i,ref:t})})});Pq.displayName=Hf;var Wme=T.forwardRef((e,t)=>{const n=zo(Hf,e.__scopeDialog),r=T.useRef(null),i=$t(t,n.contentRef,r);return T.useEffect(()=>{const s=r.current;if(s)return zj(s)},[]),c.jsx(Oq,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,s=>{var a;s.preventDefault(),(a=n.triggerRef.current)==null||a.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,s=>{const a=s.detail.originalEvent,o=a.button===0&&a.ctrlKey===!0;(a.button===2||o)&&s.preventDefault()}),onFocusOutside:Qe(e.onFocusOutside,s=>s.preventDefault())})}),Hme=T.forwardRef((e,t)=>{const n=zo(Hf,e.__scopeDialog),r=T.useRef(!1),i=T.useRef(!1);return c.jsx(Oq,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),Oq=T.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...a}=e,o=zo(Hf,n),u=T.useRef(null),d=$t(t,u);return Uj(),c.jsxs(c.Fragment,{children:[c.jsx(AC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(yg,{role:"dialog",id:o.contentId,"aria-describedby":o.descriptionId,"aria-labelledby":o.titleId,"data-state":Gj(o.open),...a,ref:d,onDismiss:()=>o.onOpenChange(!1)})}),c.jsxs(c.Fragment,{children:[c.jsx(qme,{titleId:o.titleId}),c.jsx(Xme,{contentRef:u,descriptionId:o.descriptionId})]})]})}),Hj="DialogTitle",jq=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zo(Hj,n);return c.jsx(Je.h2,{id:i.titleId,...r,ref:t})});jq.displayName=Hj;var kq="DialogDescription",Iq=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zo(kq,n);return c.jsx(Je.p,{id:i.descriptionId,...r,ref:t})});Iq.displayName=kq;var Mq="DialogClose",Dq=T.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,i=zo(Mq,n);return c.jsx(Je.button,{type:"button",...r,ref:t,onClick:Qe(e.onClick,()=>i.onOpenChange(!1))})});Dq.displayName=Mq;function Gj(e){return e?"open":"closed"}var Rq="DialogTitleWarning",[Gme,Fq]=Ode(Rq,{contentName:Hf,titleName:Hj,docsSlug:"dialog"}),qme=({titleId:e})=>{const t=Fq(Rq),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return T.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},Kme="DialogDescriptionWarning",Xme=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Fq(Kme).contentName}}.`;return T.useEffect(()=>{var s;const i=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&i&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},TC=Cq,Lq=Eq,NC=Tq,Sg=Nq,Cg=Pq,Rv=jq,Fv=Iq,PC=Dq;const Yme=TC,Zme=NC,Bq=T.forwardRef(({className:e,...t},n)=>c.jsx(Sg,{className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));Bq.displayName=Sg.displayName;const Qme=dd("fixed z-50 gap-4 glass-strong p-6 shadow-glass-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500 transition-morph",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),$q=T.forwardRef(({side:e="right",className:t,children:n,...r},i)=>c.jsxs(Zme,{children:[c.jsx(Bq,{}),c.jsxs(Cg,{ref:i,className:Te(Qme({side:e}),t),...r,children:[n,c.jsxs(PC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-secondary",children:[c.jsx(Mn,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));$q.displayName=Cg.displayName;const Uq=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",e),...t});Uq.displayName="SheetHeader";const zq=T.forwardRef(({className:e,...t},n)=>c.jsx(Rv,{ref:n,className:Te("text-lg font-semibold text-foreground",e),...t}));zq.displayName=Rv.displayName;const Vq=T.forwardRef(({className:e,...t},n)=>c.jsx(Fv,{ref:n,className:Te("text-sm text-muted-foreground",e),...t}));Vq.displayName=Fv.displayName;function Oi({className:e,...t}){return c.jsx("div",{className:Te("animate-pulse rounded-md bg-muted",e),...t})}const Jme="sidebar_state",ege=60*60*24*7,tge="16rem",nge="18rem",rge="3rem",ige="b",Wq=T.createContext(null);function OC(){const e=T.useContext(Wq);if(!e)throw new Error("useSidebar must be used within a SidebarProvider.");return e}function sge({defaultOpen:e=!0,open:t,onOpenChange:n,className:r,style:i,children:s,...a}){const o=Wpe(),[u,d]=T.useState(!1),[h,m]=T.useState(e),y=t??h,b=T.useCallback(_=>{const E=typeof _=="function"?_(y):_;n?n(E):m(E),document.cookie=`${Jme}=${E}; path=/; max-age=${ege}`},[n,y]),C=T.useCallback(()=>o?d(_=>!_):b(_=>!_),[o,b,d]);T.useEffect(()=>{const _=E=>{E.key===ige&&(E.metaKey||E.ctrlKey)&&(E.preventDefault(),C())};return window.addEventListener("keydown",_),()=>window.removeEventListener("keydown",_)},[C]);const w=y?"expanded":"collapsed",A=T.useMemo(()=>({state:w,open:y,setOpen:b,isMobile:o,openMobile:u,setOpenMobile:d,toggleSidebar:C}),[w,y,b,o,u,d,C]);return c.jsx(Wq.Provider,{value:A,children:c.jsx(CC,{delayDuration:0,children:c.jsx("div",{"data-slot":"sidebar-wrapper",style:{"--sidebar-width":tge,"--sidebar-width-icon":rge,...i},className:Te("group/sidebar-wrapper has-data-[variant=inset]:bg-sidebar flex min-h-svh w-full",r),...a,children:s})})})}function age({side:e="left",variant:t="sidebar",collapsible:n="offcanvas",className:r,children:i,...s}){const{isMobile:a,state:o,openMobile:u,setOpenMobile:d}=OC();return n==="none"?c.jsx("div",{"data-slot":"sidebar",className:Te("bg-sidebar text-sidebar-foreground flex h-full w-[var(--sidebar-width)] flex-col",r),...s,children:i}):a?c.jsx(Yme,{open:u,onOpenChange:d,...s,children:c.jsxs($q,{"data-sidebar":"sidebar","data-slot":"sidebar","data-mobile":"true",className:"bg-sidebar/90 backdrop-blur-sm text-sidebar-foreground w-[var(--sidebar-width)] p-0 [&>button]:hidden",style:{"--sidebar-width":nge},side:e,children:[c.jsxs(Uq,{className:"sr-only",children:[c.jsx(zq,{children:"Sidebar"}),c.jsx(Vq,{children:"Displays the mobile sidebar."})]}),c.jsx("div",{className:"flex h-full w-full flex-col",children:i})]})}):c.jsxs("div",{className:"group peer text-sidebar-foreground hidden md:block","data-state":o,"data-collapsible":o==="collapsed"?n:"","data-variant":t,"data-side":e,"data-slot":"sidebar",children:[c.jsx("div",{"data-slot":"sidebar-gap",className:Te("relative w-[var(--sidebar-width)] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",t==="floating"||t==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4))]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)]")}),c.jsx("div",{"data-slot":"sidebar-container",className:Te("fixed inset-y-0 z-10 hidden h-svh w-[var(--sidebar-width)] transition-[left,right,width] duration-200 ease-linear md:flex",e==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",t==="floating"||t==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)+var(--spacing-4)+2px)]":"group-data-[collapsible=icon]:w-[var(--sidebar-width-icon)] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...s,children:c.jsx("div",{"data-sidebar":"sidebar","data-slot":"sidebar-inner",className:"bg-sidebar/90 backdrop-blur-sm group-data-[variant=floating]:border-sidebar-border flex h-full w-full flex-col group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:shadow-sm",children:i})})]})}function oge({className:e,onClick:t,...n}){const{toggleSidebar:r}=OC();return c.jsxs(Re,{"data-sidebar":"trigger","data-slot":"sidebar-trigger",variant:"ghost",size:"icon",className:Te("h-7 w-7",e),onClick:i=>{t==null||t(i),r()},...n,children:[c.jsx(rhe,{}),c.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})}function lge({className:e,...t}){return c.jsx("div",{"data-slot":"sidebar-header","data-sidebar":"header",className:Te("flex flex-col gap-2 p-2",e),...t})}function cge({className:e,...t}){return c.jsx("div",{"data-slot":"sidebar-content","data-sidebar":"content",className:Te("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden","bg-gradient-to-b from-lime-950/50 to-sidebar/90",e),...t})}function Eh({className:e,...t}){return c.jsx("div",{"data-slot":"sidebar-group","data-sidebar":"group",className:Te("relative flex w-full min-w-0 flex-col p-2",e),...t})}function f0({className:e,asChild:t=!1,...n}){const r=t?Ov:"div";return c.jsx(r,{"data-slot":"sidebar-group-label","data-sidebar":"group-label",className:Te("text-sidebar-foreground/70 ring-sidebar-ring flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium outline-hidden transition-[margin,opacity] duration-200 ease-linear focus-visible:ring-2 [&>svg]:h-4 [&>svg]:w-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",e),...n})}function _h({className:e,...t}){return c.jsx("div",{"data-slot":"sidebar-group-content","data-sidebar":"group-content",className:Te("w-full text-sm",e),...t})}function Th({className:e,...t}){return c.jsx("ul",{"data-slot":"sidebar-menu","data-sidebar":"menu",className:Te("flex w-full min-w-0 flex-col gap-1",e),...t})}function ns({className:e,...t}){return c.jsx("li",{"data-slot":"sidebar-menu-item","data-sidebar":"menu-item",className:Te("group/menu-item relative",e),...t})}const uge=dd("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-hidden ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-data-[sidebar=menu-action]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:w-8! group-data-[collapsible=icon]:h-8! group-data-[collapsible=icon]:p-2! [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:p-0!"}},defaultVariants:{variant:"default",size:"default"}});function rs({asChild:e=!1,isActive:t=!1,variant:n="default",size:r="default",tooltip:i,className:s,...a}){const o=e?Ov:"button",{isMobile:u,state:d}=OC(),h=c.jsx(o,{"data-slot":"sidebar-menu-button","data-sidebar":"menu-button","data-size":r,"data-active":t,className:Te(uge({variant:n,size:r}),s),...a});return i?(typeof i=="string"&&(i={children:i}),c.jsxs(Bu,{children:[c.jsx($u,{asChild:!0,children:h}),c.jsx(mc,{side:"right",align:"center",hidden:d!=="collapsed"||u,...i})]})):h}function CR({className:e,...t}){return c.jsx("ul",{"data-slot":"sidebar-menu-sub","data-sidebar":"menu-sub",className:Te("border-sidebar-border mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",e),...t})}function Zx({className:e,...t}){return c.jsx("li",{"data-slot":"sidebar-menu-sub-item","data-sidebar":"menu-sub-item",className:Te("group/menu-sub-item relative",e),...t})}function Qx({asChild:e=!1,size:t="md",isActive:n=!1,className:r,...i}){const s=e?Ov:"a";return c.jsx(s,{"data-slot":"sidebar-menu-sub-button","data-sidebar":"menu-sub-button","data-size":t,"data-active":n,className:Te("text-sidebar-foreground ring-sidebar-ring hover:bg-sidebar-accent hover:text-sidebar-accent-foreground active:bg-sidebar-accent active:text-sidebar-accent-foreground [&>svg]:text-sidebar-accent-foreground flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 outline outline-2 outline-transparent outline-offset-2 focus-visible:ring-2 disabled:pointer-events-none disabled:opacity-50 aria-disabled:pointer-events-none aria-disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",t==="sm"&&"text-xs",t==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...i})}const AR=1,ER=24*60*60*1e3;class ay{static set(t,n,r=ER){try{const i={data:n,timestamp:Date.now(),version:AR};localStorage.setItem(t,JSON.stringify(i))}catch(i){console.error(`Failed to cache data for key ${t}:`,i)}}static get(t,n=ER){try{const r=localStorage.getItem(t);if(!r)return null;const i=JSON.parse(r);return i.version!==AR?(this.remove(t),null):Date.now()-i.timestamp>n?(this.remove(t),null):i.data}catch(r){return console.error(`Failed to retrieve cached data for key ${t}:`,r),this.remove(t),null}}static remove(t){try{localStorage.removeItem(t)}catch(n){console.error(`Failed to remove cached data for key ${t}:`,n)}}static clear(){try{const t=[];for(let n=0;n<localStorage.length;n++){const r=localStorage.key(n);r&&r.startsWith("cache:")&&t.push(r)}t.forEach(n=>localStorage.removeItem(n))}catch(t){console.error("Failed to clear cache:",t)}}}function qj({cacheKey:e,expiryMs:t,...n}){const r=ay.get(e,t),i=un({...n,initialData:r||void 0});return T.useEffect(()=>{i.data&&i.isSuccess?ay.set(e,i.data,t):i.isError&&ay.remove(e)},[i.data,i.isSuccess,i.isError,e,t]),i}function oh(){return qj({queryKey:["/api/storage-locations"],cacheKey:"cache:storage:locations"})}var Kj="Collapsible",[dge,Ntt]=Yr(Kj),[fge,Xj]=dge(Kj),Hq=T.forwardRef((e,t)=>{const{__scopeCollapsible:n,open:r,defaultOpen:i,disabled:s,onOpenChange:a,...o}=e,[u=!1,d]=Qi({prop:r,defaultProp:i,onChange:a});return c.jsx(fge,{scope:n,disabled:s,contentId:Mi(),open:u,onOpenToggle:T.useCallback(()=>d(h=>!h),[d]),children:c.jsx(Je.div,{"data-state":Zj(u),"data-disabled":s?"":void 0,...o,ref:t})})});Hq.displayName=Kj;var Gq="CollapsibleTrigger",qq=T.forwardRef((e,t)=>{const{__scopeCollapsible:n,...r}=e,i=Xj(Gq,n);return c.jsx(Je.button,{type:"button","aria-controls":i.contentId,"aria-expanded":i.open||!1,"data-state":Zj(i.open),"data-disabled":i.disabled?"":void 0,disabled:i.disabled,...r,ref:t,onClick:Qe(e.onClick,i.onOpenToggle)})});qq.displayName=Gq;var Yj="CollapsibleContent",Kq=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Xj(Yj,e.__scopeCollapsible);return c.jsx(es,{present:n||i.open,children:({present:s})=>c.jsx(hge,{...r,ref:t,present:s})})});Kq.displayName=Yj;var hge=T.forwardRef((e,t)=>{const{__scopeCollapsible:n,present:r,children:i,...s}=e,a=Xj(Yj,n),[o,u]=T.useState(r),d=T.useRef(null),h=$t(t,d),m=T.useRef(0),y=m.current,b=T.useRef(0),C=b.current,w=a.open||o,A=T.useRef(w),_=T.useRef(void 0);return T.useEffect(()=>{const E=requestAnimationFrame(()=>A.current=!1);return()=>cancelAnimationFrame(E)},[]),Br(()=>{const E=d.current;if(E){_.current=_.current||{transitionDuration:E.style.transitionDuration,animationName:E.style.animationName},E.style.transitionDuration="0s",E.style.animationName="none";const N=E.getBoundingClientRect();m.current=N.height,b.current=N.width,A.current||(E.style.transitionDuration=_.current.transitionDuration,E.style.animationName=_.current.animationName),u(r)}},[a.open,r]),c.jsx(Je.div,{"data-state":Zj(a.open),"data-disabled":a.disabled?"":void 0,id:a.contentId,hidden:!w,...s,ref:h,style:{"--radix-collapsible-content-height":y?`${y}px`:void 0,"--radix-collapsible-content-width":C?`${C}px`:void 0,...e.style},children:w&&i})});function Zj(e){return e?"open":"closed"}var pge=Hq;const Vw=pge,Ww=qq,Hw=Kq,mge=dd("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function Ot({className:e,variant:t,...n}){return c.jsx("div",{className:Te(mge({variant:t}),e),...n})}const Xq=e=>{const t=e.toLowerCase();return t.includes("vegetable")?kfe:t.includes("fruit")?bm:t.includes("dairy")||t.includes("milk")?Qfe:t.includes("egg")?QD:t.includes("meat")||t.includes("beef")||t.includes("pork")?vG:t.includes("poultry")||t.includes("chicken")||t.includes("turkey")?QD:t.includes("fish")||t.includes("seafood")?Bfe:t.includes("grain")||t.includes("cereal")||t.includes("bread")||t.includes("pasta")?Tj:t.includes("beverage")||t.includes("drink")?Rfe:t.includes("wine")||t.includes("alcohol")?hhe:t.includes("sweet")||t.includes("dessert")||t.includes("candy")?jfe:t.includes("cake")||t.includes("baked")?_fe:t.includes("cookie")||t.includes("cracker")?YD:t.includes("soup")||t.includes("stew")?lhe:t.includes("baby")?Afe:t.includes("snack")?YD:t.includes("nut")||t.includes("seed")?qD:t.includes("spice")||t.includes("herb")||t.includes("condiment")?Nc:t.includes("fast food")||t.includes("restaurant")?pC:t.includes("legume")||t.includes("bean")||t.includes("pea")?qD:t.includes("oil")||t.includes("fat")?Nc:vg},gge={sm:{container:"w-6 h-6",icon:"w-3 h-3",text:"text-sm"},md:{container:"w-8 h-8",icon:"w-4 h-4",text:"text-base"},lg:{container:"w-10 h-10",icon:"w-6 h-6",text:"text-xl"},xl:{container:"w-12 h-12",icon:"w-7 h-7",text:"text-2xl"}};function yge({size:e="md",showText:t=!1,className:n,iconClassName:r,textClassName:i}){const s=gge[e];return c.jsxs("div",{className:Te("flex items-center gap-3",n),children:[c.jsx("div",{className:Te(s.container,"rounded-xl bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-lg glow-primary",r),children:c.jsx(bs,{className:Te(s.icon,"text-primary-foreground")})}),t&&c.jsx("h1",{className:Te(s.text,"font-semibold text-gradient-primary font-sans",i),children:"ChefSpAIce"})]})}const vge={refrigerator:lc,snowflake:_j,pizza:pC,"utensils-crossed":Nc};function xge(e){return{"Cereal Grains and Pasta":"Grains & Pasta","Dairy and Egg Products":"Dairy & Eggs","Fats and Oils":"Fats & Oils","Fruits and Fruit Juices":"Fruits & Juices","Vegetables and Vegetable Products":"Vegetables","Sausages and Luncheon Meats":"Deli Meats","Spices and Herbs":"Spices & Herbs","Beef Products":"Beef","Pork Products":"Pork","Poultry Products":"Poultry","Finfish and Shellfish Products":"Seafood","Legumes and Legume Products":"Legumes","Nut and Seed Products":"Nuts & Seeds",Sweets:"Sweets","Baby Foods":"Baby Foods","Baked Products":"Baked Goods",Beverages:"Beverages","Breakfast Cereals":"Cereals","Fast Foods":"Fast Food","Meals, Entrees, and Side Dishes":"Meals & Sides",Snacks:"Snacks","Soups, Sauces, and Gravies":"Soups & Sauces","American Indian/Alaska Native Foods":"Native Foods","Restaurant Foods":"Restaurant"}[e]||e}function bge(){const[e]=Bc(),[t,n]=T.useState(!1),[r,i]=T.useState(!1),{isMobile:s,setOpenMobile:a}=OC(),o=()=>{s&&a(!1)},{data:u}=oh(),{data:d}=un({queryKey:["/api/food-items"]}),h=(d==null?void 0:d.length)||0,m={id:"chat",name:"Chef Chat",icon:wm,path:"/"},y=(d||[]).reduce((C,w)=>{const A=w.foodCategory||"Uncategorized";return C[A]||(C[A]=[]),C[A].push(w),C},{}),b=Object.keys(y).sort();return c.jsx(c.Fragment,{children:c.jsxs(age,{className:"shadow-2xl",children:[c.jsx(lge,{className:"p-6 border-b border-sidebar-border/50 glass-vibrant",children:c.jsxs("div",{children:[c.jsx(yge,{size:"lg",showText:!0,iconClassName:"transition-morph hover:scale-110"}),c.jsx("p",{className:"text-xs text-muted-foreground ml-[52px]",children:"Your Kitchen Assistant"})]})}),c.jsxs(cge,{className:"p-4",children:[c.jsx(Eh,{children:c.jsx(_h,{children:c.jsx(Th,{children:c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e===m.path,className:"transition-morph hover:pl-1",children:c.jsxs(zr,{href:m.path,"data-testid":"link-chat",onClick:o,children:[c.jsx(m.icon,{className:"w-4 h-4 transition-morph"}),c.jsx("span",{className:"flex-1",children:m.name})]})})})})})}),c.jsxs(Eh,{className:"mt-4",children:[c.jsx(f0,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Planning"}),c.jsx(_h,{children:c.jsxs(Th,{children:[c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/meal-planner",children:c.jsxs(zr,{href:"/meal-planner","data-testid":"link-meal-planner",onClick:o,children:[c.jsx(Nfe,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Meal Planner"})]})})}),c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/shopping-list",children:c.jsxs(zr,{href:"/shopping-list","data-testid":"link-shopping-list",onClick:o,children:[c.jsx(Cm,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Shopping List"})]})})})]})})]}),c.jsxs(Eh,{className:"mt-4",children:[c.jsx(f0,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Recipes & Nutrition"}),c.jsx(_h,{children:c.jsxs(Th,{children:[c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/cookbook",children:c.jsxs(zr,{href:"/cookbook","data-testid":"link-cookbook",onClick:o,children:[c.jsx(Dw,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"My Cookbook"})]})})}),c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/nutrition",children:c.jsxs(zr,{href:"/nutrition","data-testid":"link-nutrition",onClick:o,children:[c.jsx(bm,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Nutrition"})]})})}),c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/fdc-search",children:c.jsxs(zr,{href:"/fdc-search","data-testid":"link-fdc-search",onClick:o,children:[c.jsx(wp,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Food Search"})]})})})]})})]}),c.jsxs(Eh,{className:"mt-4",children:[c.jsx(f0,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Inventory"}),c.jsx(_h,{children:c.jsxs(Th,{children:[c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/appliances",children:c.jsxs(zr,{href:"/appliances","data-testid":"link-appliances",onClick:o,children:[c.jsx(Nc,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"My Appliances"})]})})}),c.jsx(Vw,{open:r,onOpenChange:i,children:c.jsxs(ns,{children:[c.jsx(Ww,{asChild:!0,children:c.jsxs(rs,{"data-testid":"button-toggle-food-groups",children:[c.jsx(zf,{className:Te("w-4 h-4 transition-transform",r&&"rotate-90")}),c.jsx("span",{className:"flex-1",children:"Food Groups"}),c.jsx(Ot,{variant:"secondary",className:"ml-auto text-xs rounded-full h-5 px-2","data-testid":"badge-count-categories",children:b.length})]})}),c.jsx(Hw,{children:c.jsxs(CR,{children:[c.jsx(Zx,{children:c.jsx(Qx,{asChild:!0,isActive:e==="/food-groups",children:c.jsxs(zr,{href:"/food-groups","data-testid":"link-food-groups-all",onClick:o,children:[c.jsx(Gfe,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"View All Categories"})]})})}),b.map(C=>{const w=y[C],A=`/food-groups?category=${encodeURIComponent(C)}`,_=Xq(C),E=xge(C);return c.jsx(Zx,{children:c.jsx(Qx,{asChild:!0,isActive:e.includes(`category=${encodeURIComponent(C)}`),children:c.jsxs(zr,{href:A,"data-testid":`link-category-${C.toLowerCase().replace(/\s+/g,"-")}`,onClick:o,children:[c.jsx(_,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:E}),c.jsx(Ot,{variant:"secondary",className:"ml-auto text-xs rounded-full h-5 px-2","data-testid":`badge-category-count-${C.toLowerCase().replace(/\s+/g,"-")}`,children:w.length})]})})},C)})]})})]})}),c.jsx(Vw,{open:t,onOpenChange:n,children:c.jsxs(ns,{children:[c.jsx(Ww,{asChild:!0,children:c.jsxs(rs,{"data-testid":"button-toggle-storage",children:[c.jsx(zf,{className:Te("w-4 h-4 transition-transform",t&&"rotate-90")}),c.jsx("span",{className:"flex-1",children:"All Items"}),c.jsx(Ot,{variant:"secondary",className:"ml-auto text-xs rounded-full h-5 px-2","data-testid":"badge-count-all",children:h})]})}),c.jsx(Hw,{children:c.jsxs(CR,{children:[c.jsx(Zx,{children:c.jsx(Qx,{asChild:!0,isActive:e==="/storage/all",children:c.jsxs(zr,{href:"/storage/all","data-testid":"link-storage-all",onClick:o,children:[c.jsx(SG,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"View All"})]})})}),u==null?void 0:u.map(C=>{const w=vge[C.icon]||Nc,A=(d==null?void 0:d.filter(_=>_.storageLocationId===C.id).length)||0;return c.jsx(Zx,{children:c.jsx(Qx,{asChild:!0,isActive:e===`/storage/${C.name.toLowerCase()}`,children:c.jsxs(zr,{href:`/storage/${C.name.toLowerCase()}`,"data-testid":`link-storage-${C.id}`,onClick:o,children:[c.jsx(w,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:C.name}),c.jsx(Ot,{variant:"secondary",className:"ml-auto text-xs rounded-full h-5 px-2","data-testid":`badge-count-${C.id}`,children:A})]})})},C.id)})]})})]})})]})})]}),c.jsxs(Eh,{className:"mt-4",children:[c.jsx(f0,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Account"}),c.jsx(_h,{children:c.jsxs(Th,{children:[c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/feedback",children:c.jsxs(zr,{href:"/feedback","data-testid":"link-feedback",onClick:o,children:[c.jsx(Ife,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Feedback"})]})})}),c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/donate",children:c.jsxs(zr,{href:"/donate","data-testid":"link-donate",onClick:o,children:[c.jsx(oc,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Support Us"})]})})}),c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/settings",children:c.jsxs(zr,{href:"/settings","data-testid":"link-settings",onClick:o,children:[c.jsx(TG,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Settings"})]})})})]})})]}),c.jsxs(Eh,{className:"mt-4",children:[c.jsx(f0,{className:"text-xs font-medium text-muted-foreground uppercase tracking-wide mb-2",children:"Legal"}),c.jsx(_h,{children:c.jsxs(Th,{children:[c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/about",children:c.jsxs(zr,{href:"/about","data-testid":"link-about",onClick:o,children:[c.jsx(zy,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"About"})]})})}),c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/privacy",children:c.jsxs(zr,{href:"/privacy","data-testid":"link-privacy",onClick:o,children:[c.jsx(Rw,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Privacy Policy"})]})})}),c.jsx(ns,{children:c.jsx(rs,{asChild:!0,isActive:e==="/terms",children:c.jsxs(zr,{href:"/terms","data-testid":"link-terms",onClick:o,children:[c.jsx(EG,{className:"w-4 h-4"}),c.jsx("span",{className:"flex-1",children:"Terms of Service"})]})})})]})})]}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(Re,{variant:"outline",onClick:()=>{ay.clear(),window.location.href="/api/logout"},"data-testid":"button-logout",children:[c.jsx(CG,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})})}var _R=1,wge=.9,Sge=.8,Cge=.17,zE=.1,VE=.999,Age=.9999,Ege=.99,_ge=/[\\\/_+.#"@\[\(\{&]/,Tge=/[\\\/_+.#"@\[\(\{&]/g,Nge=/[\s-]/,Yq=/[\s-]/g;function EN(e,t,n,r,i,s,a){if(s===t.length)return i===e.length?_R:Ege;var o=`${i},${s}`;if(a[o]!==void 0)return a[o];for(var u=r.charAt(s),d=n.indexOf(u,i),h=0,m,y,b,C;d>=0;)m=EN(e,t,n,r,d+1,s+1,a),m>h&&(d===i?m*=_R:_ge.test(e.charAt(d-1))?(m*=Sge,b=e.slice(i,d-1).match(Tge),b&&i>0&&(m*=Math.pow(VE,b.length))):Nge.test(e.charAt(d-1))?(m*=wge,C=e.slice(i,d-1).match(Yq),C&&i>0&&(m*=Math.pow(VE,C.length))):(m*=Cge,i>0&&(m*=Math.pow(VE,d-i))),e.charAt(d)!==t.charAt(s)&&(m*=Age)),(m<zE&&n.charAt(d-1)===r.charAt(s+1)||r.charAt(s+1)===r.charAt(s)&&n.charAt(d-1)!==r.charAt(s))&&(y=EN(e,t,n,r,d+1,s+2,a),y*zE>m&&(m=y*zE)),m>h&&(h=m),d=n.indexOf(u,d+1);return a[o]=h,h}function TR(e){return e.toLowerCase().replace(Yq," ")}function Pge(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,EN(e,t,TR(e),TR(t),0,0,{})}var h0='[cmdk-group=""]',WE='[cmdk-group-items=""]',Oge='[cmdk-group-heading=""]',Zq='[cmdk-item=""]',NR=`${Zq}:not([aria-disabled="true"])`,_N="cmdk-item-select",Fh="data-value",jge=(e,t,n)=>Pge(e,t,n),Qq=T.createContext(void 0),Lv=()=>T.useContext(Qq),Jq=T.createContext(void 0),Qj=()=>T.useContext(Jq),eK=T.createContext(void 0),tK=T.forwardRef((e,t)=>{let n=Lh(()=>{var ne,pe;return{search:"",value:(pe=(ne=e.value)!=null?ne:e.defaultValue)!=null?pe:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),r=Lh(()=>new Set),i=Lh(()=>new Map),s=Lh(()=>new Map),a=Lh(()=>new Set),o=nK(e),{label:u,children:d,value:h,onValueChange:m,filter:y,shouldFilter:b,loop:C,disablePointerSelection:w=!1,vimBindings:A=!0,..._}=e,E=Mi(),N=Mi(),I=Mi(),O=T.useRef(null),k=zge();Gf(()=>{if(h!==void 0){let ne=h.trim();n.current.value=ne,M.emit()}},[h]),Gf(()=>{k(6,V)},[]);let M=T.useMemo(()=>({subscribe:ne=>(a.current.add(ne),()=>a.current.delete(ne)),snapshot:()=>n.current,setState:(ne,pe,he)=>{var we,me,be,Ne;if(!Object.is(n.current[ne],pe)){if(n.current[ne]=pe,ne==="search")F(),U(),k(1,X);else if(ne==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let xe=document.getElementById(I);xe?xe.focus():(we=document.getElementById(E))==null||we.focus()}if(k(7,()=>{var xe;n.current.selectedItemId=(xe=Z())==null?void 0:xe.id,M.emit()}),he||k(5,V),((me=o.current)==null?void 0:me.value)!==void 0){let xe=pe??"";(Ne=(be=o.current).onValueChange)==null||Ne.call(be,xe);return}}M.emit()}},emit:()=>{a.current.forEach(ne=>ne())}}),[]),R=T.useMemo(()=>({value:(ne,pe,he)=>{var we;pe!==((we=s.current.get(ne))==null?void 0:we.value)&&(s.current.set(ne,{value:pe,keywords:he}),n.current.filtered.items.set(ne,L(pe,he)),k(2,()=>{U(),M.emit()}))},item:(ne,pe)=>(r.current.add(ne),pe&&(i.current.has(pe)?i.current.get(pe).add(ne):i.current.set(pe,new Set([ne]))),k(3,()=>{F(),U(),n.current.value||X(),M.emit()}),()=>{s.current.delete(ne),r.current.delete(ne),n.current.filtered.items.delete(ne);let he=Z();k(4,()=>{F(),(he==null?void 0:he.getAttribute("id"))===ne&&X(),M.emit()})}),group:ne=>(i.current.has(ne)||i.current.set(ne,new Set),()=>{s.current.delete(ne),i.current.delete(ne)}),filter:()=>o.current.shouldFilter,label:u||e["aria-label"],getDisablePointerSelection:()=>o.current.disablePointerSelection,listId:E,inputId:I,labelId:N,listInnerRef:O}),[]);function L(ne,pe){var he,we;let me=(we=(he=o.current)==null?void 0:he.filter)!=null?we:jge;return ne?me(ne,n.current.search,pe):0}function U(){if(!n.current.search||o.current.shouldFilter===!1)return;let ne=n.current.filtered.items,pe=[];n.current.filtered.groups.forEach(we=>{let me=i.current.get(we),be=0;me.forEach(Ne=>{let xe=ne.get(Ne);be=Math.max(xe,be)}),pe.push([we,be])});let he=O.current;H().sort((we,me)=>{var be,Ne;let xe=we.getAttribute("id"),Oe=me.getAttribute("id");return((be=ne.get(Oe))!=null?be:0)-((Ne=ne.get(xe))!=null?Ne:0)}).forEach(we=>{let me=we.closest(WE);me?me.appendChild(we.parentElement===me?we:we.closest(`${WE} > *`)):he.appendChild(we.parentElement===he?we:we.closest(`${WE} > *`))}),pe.sort((we,me)=>me[1]-we[1]).forEach(we=>{var me;let be=(me=O.current)==null?void 0:me.querySelector(`${h0}[${Fh}="${encodeURIComponent(we[0])}"]`);be==null||be.parentElement.appendChild(be)})}function X(){let ne=H().find(he=>he.getAttribute("aria-disabled")!=="true"),pe=ne==null?void 0:ne.getAttribute(Fh);M.setState("value",pe||void 0)}function F(){var ne,pe,he,we;if(!n.current.search||o.current.shouldFilter===!1){n.current.filtered.count=r.current.size;return}n.current.filtered.groups=new Set;let me=0;for(let be of r.current){let Ne=(pe=(ne=s.current.get(be))==null?void 0:ne.value)!=null?pe:"",xe=(we=(he=s.current.get(be))==null?void 0:he.keywords)!=null?we:[],Oe=L(Ne,xe);n.current.filtered.items.set(be,Oe),Oe>0&&me++}for(let[be,Ne]of i.current)for(let xe of Ne)if(n.current.filtered.items.get(xe)>0){n.current.filtered.groups.add(be);break}n.current.filtered.count=me}function V(){var ne,pe,he;let we=Z();we&&(((ne=we.parentElement)==null?void 0:ne.firstChild)===we&&((he=(pe=we.closest(h0))==null?void 0:pe.querySelector(Oge))==null||he.scrollIntoView({block:"nearest"})),we.scrollIntoView({block:"nearest"}))}function Z(){var ne;return(ne=O.current)==null?void 0:ne.querySelector(`${Zq}[aria-selected="true"]`)}function H(){var ne;return Array.from(((ne=O.current)==null?void 0:ne.querySelectorAll(NR))||[])}function q(ne){let pe=H()[ne];pe&&M.setState("value",pe.getAttribute(Fh))}function G(ne){var pe;let he=Z(),we=H(),me=we.findIndex(Ne=>Ne===he),be=we[me+ne];(pe=o.current)!=null&&pe.loop&&(be=me+ne<0?we[we.length-1]:me+ne===we.length?we[0]:we[me+ne]),be&&M.setState("value",be.getAttribute(Fh))}function W(ne){let pe=Z(),he=pe==null?void 0:pe.closest(h0),we;for(;he&&!we;)he=ne>0?$ge(he,h0):Uge(he,h0),we=he==null?void 0:he.querySelector(NR);we?M.setState("value",we.getAttribute(Fh)):G(ne)}let oe=()=>q(H().length-1),J=ne=>{ne.preventDefault(),ne.metaKey?oe():ne.altKey?W(1):G(1)},Y=ne=>{ne.preventDefault(),ne.metaKey?q(0):ne.altKey?W(-1):G(-1)};return T.createElement(Je.div,{ref:t,tabIndex:-1,..._,"cmdk-root":"",onKeyDown:ne=>{var pe;(pe=_.onKeyDown)==null||pe.call(_,ne);let he=ne.nativeEvent.isComposing||ne.keyCode===229;if(!(ne.defaultPrevented||he))switch(ne.key){case"n":case"j":{A&&ne.ctrlKey&&J(ne);break}case"ArrowDown":{J(ne);break}case"p":case"k":{A&&ne.ctrlKey&&Y(ne);break}case"ArrowUp":{Y(ne);break}case"Home":{ne.preventDefault(),q(0);break}case"End":{ne.preventDefault(),oe();break}case"Enter":{ne.preventDefault();let we=Z();if(we){let me=new Event(_N);we.dispatchEvent(me)}}}}},T.createElement("label",{"cmdk-label":"",htmlFor:R.inputId,id:R.labelId,style:Wge},u),jC(e,ne=>T.createElement(Jq.Provider,{value:M},T.createElement(Qq.Provider,{value:R},ne))))}),kge=T.forwardRef((e,t)=>{var n,r;let i=Mi(),s=T.useRef(null),a=T.useContext(eK),o=Lv(),u=nK(e),d=(r=(n=u.current)==null?void 0:n.forceMount)!=null?r:a==null?void 0:a.forceMount;Gf(()=>{if(!d)return o.item(i,a==null?void 0:a.id)},[d]);let h=rK(i,s,[e.value,e.children,s],e.keywords),m=Qj(),y=Zu(k=>k.value&&k.value===h.current),b=Zu(k=>d||o.filter()===!1?!0:k.search?k.filtered.items.get(i)>0:!0);T.useEffect(()=>{let k=s.current;if(!(!k||e.disabled))return k.addEventListener(_N,C),()=>k.removeEventListener(_N,C)},[b,e.onSelect,e.disabled]);function C(){var k,M;w(),(M=(k=u.current).onSelect)==null||M.call(k,h.current)}function w(){m.setState("value",h.current,!0)}if(!b)return null;let{disabled:A,value:_,onSelect:E,forceMount:N,keywords:I,...O}=e;return T.createElement(Je.div,{ref:$f(s,t),...O,id:i,"cmdk-item":"",role:"option","aria-disabled":!!A,"aria-selected":!!y,"data-disabled":!!A,"data-selected":!!y,onPointerMove:A||o.getDisablePointerSelection()?void 0:w,onClick:A?void 0:C},e.children)}),Ige=T.forwardRef((e,t)=>{let{heading:n,children:r,forceMount:i,...s}=e,a=Mi(),o=T.useRef(null),u=T.useRef(null),d=Mi(),h=Lv(),m=Zu(b=>i||h.filter()===!1?!0:b.search?b.filtered.groups.has(a):!0);Gf(()=>h.group(a),[]),rK(a,o,[e.value,e.heading,u]);let y=T.useMemo(()=>({id:a,forceMount:i}),[i]);return T.createElement(Je.div,{ref:$f(o,t),...s,"cmdk-group":"",role:"presentation",hidden:m?void 0:!0},n&&T.createElement("div",{ref:u,"cmdk-group-heading":"","aria-hidden":!0,id:d},n),jC(e,b=>T.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?d:void 0},T.createElement(eK.Provider,{value:y},b))))}),Mge=T.forwardRef((e,t)=>{let{alwaysRender:n,...r}=e,i=T.useRef(null),s=Zu(a=>!a.search);return!n&&!s?null:T.createElement(Je.div,{ref:$f(i,t),...r,"cmdk-separator":"",role:"separator"})}),Dge=T.forwardRef((e,t)=>{let{onValueChange:n,...r}=e,i=e.value!=null,s=Qj(),a=Zu(d=>d.search),o=Zu(d=>d.selectedItemId),u=Lv();return T.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),T.createElement(Je.input,{ref:t,...r,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":u.listId,"aria-labelledby":u.labelId,"aria-activedescendant":o,id:u.inputId,type:"text",value:i?e.value:a,onChange:d=>{i||s.setState("search",d.target.value),n==null||n(d.target.value)}})}),Rge=T.forwardRef((e,t)=>{let{children:n,label:r="Suggestions",...i}=e,s=T.useRef(null),a=T.useRef(null),o=Zu(d=>d.selectedItemId),u=Lv();return T.useEffect(()=>{if(a.current&&s.current){let d=a.current,h=s.current,m,y=new ResizeObserver(()=>{m=requestAnimationFrame(()=>{let b=d.offsetHeight;h.style.setProperty("--cmdk-list-height",b.toFixed(1)+"px")})});return y.observe(d),()=>{cancelAnimationFrame(m),y.unobserve(d)}}},[]),T.createElement(Je.div,{ref:$f(s,t),...i,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":o,"aria-label":r,id:u.listId},jC(e,d=>T.createElement("div",{ref:$f(a,u.listInnerRef),"cmdk-list-sizer":""},d)))}),Fge=T.forwardRef((e,t)=>{let{open:n,onOpenChange:r,overlayClassName:i,contentClassName:s,container:a,...o}=e;return T.createElement(TC,{open:n,onOpenChange:r},T.createElement(NC,{container:a},T.createElement(Sg,{"cmdk-overlay":"",className:i}),T.createElement(Cg,{"aria-label":e.label,"cmdk-dialog":"",className:s},T.createElement(tK,{ref:t,...o}))))}),Lge=T.forwardRef((e,t)=>Zu(n=>n.filtered.count===0)?T.createElement(Je.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),Bge=T.forwardRef((e,t)=>{let{progress:n,children:r,label:i="Loading...",...s}=e;return T.createElement(Je.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":i},jC(e,a=>T.createElement("div",{"aria-hidden":!0},a)))}),Hs=Object.assign(tK,{List:Rge,Item:kge,Input:Dge,Group:Ige,Separator:Mge,Dialog:Fge,Empty:Lge,Loading:Bge});function $ge(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function Uge(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function nK(e){let t=T.useRef(e);return Gf(()=>{t.current=e}),t}var Gf=typeof window>"u"?T.useEffect:T.useLayoutEffect;function Lh(e){let t=T.useRef();return t.current===void 0&&(t.current=e()),t}function Zu(e){let t=Qj(),n=()=>e(t.snapshot());return T.useSyncExternalStore(t.subscribe,n,n)}function rK(e,t,n,r=[]){let i=T.useRef(),s=Lv();return Gf(()=>{var a;let o=(()=>{var d;for(let h of n){if(typeof h=="string")return h.trim();if(typeof h=="object"&&"current"in h)return h.current?(d=h.current.textContent)==null?void 0:d.trim():i.current}})(),u=r.map(d=>d.trim());s.value(e,o,u),(a=t.current)==null||a.setAttribute(Fh,o),i.current=o}),i}var zge=()=>{let[e,t]=T.useState(),n=Lh(()=>new Map);return Gf(()=>{n.current.forEach(r=>r()),n.current=new Map},[e]),(r,i)=>{n.current.set(r,i),t({})}};function Vge(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function jC({asChild:e,children:t},n){return e&&T.isValidElement(t)?T.cloneElement(Vge(t),{ref:t.ref},n(t.props.children)):n(t)}var Wge={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};const iK=T.createContext(void 0),$s=TC,sK=Lq,Hge=NC,aK=T.forwardRef(({className:e,...t},n)=>c.jsx(Sg,{ref:n,className:Te("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));aK.displayName=Sg.displayName;const vs=T.forwardRef(({className:e,children:t,...n},r)=>{const s=`${T.useId()}-description`;return c.jsxs(Hge,{children:[c.jsx(aK,{}),c.jsx(Cg,{ref:r,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/50 glass-strong p-6 shadow-glass-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg transition-morph",e),"aria-describedby":n["aria-describedby"]||s,...n,children:c.jsxs(iK.Provider,{value:s,children:[t,c.jsxs(PC,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[c.jsx(Mn,{className:"h-4 w-4"}),c.jsx("span",{className:"sr-only",children:"Close"})]})]})})]})});vs.displayName=Cg.displayName;const Us=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Us.displayName="DialogHeader";const Ap=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});Ap.displayName="DialogFooter";const zs=T.forwardRef(({className:e,...t},n)=>c.jsx(Rv,{ref:n,className:Te("text-lg font-semibold leading-none tracking-tight",e),...t}));zs.displayName=Rv.displayName;const Vs=T.forwardRef(({className:e,...t},n)=>{const r=T.useContext(iK);return c.jsx(Fv,{ref:n,id:r,className:Te("text-sm text-muted-foreground",e),...t})});Vs.displayName=Fv.displayName;const oK=T.forwardRef(({className:e,...t},n)=>c.jsx(Hs,{ref:n,className:Te("flex h-full w-full flex-col overflow-hidden rounded-md bg-popover text-popover-foreground",e),...t}));oK.displayName=Hs.displayName;const Gge=({children:e,...t})=>c.jsx($s,{...t,children:c.jsxs(vs,{className:"bg-muted overflow-hidden p-0 shadow-lg",children:[c.jsx(Vs,{className:"sr-only",children:"Command menu for searching and navigation"}),c.jsx(oK,{className:"[&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground [&_[cmdk-group]:not([hidden])_~[cmdk-group]]:pt-0 [&_[cmdk-group]]:px-2 [&_[cmdk-input-wrapper]_svg]:h-5 [&_[cmdk-input-wrapper]_svg]:w-5 [&_[cmdk-input]]:h-12 [&_[cmdk-item]]:px-2 [&_[cmdk-item]]:py-3 [&_[cmdk-item]_svg]:h-5 [&_[cmdk-item]_svg]:w-5",children:e})]})}),lK=T.forwardRef(({className:e,...t},n)=>c.jsxs("div",{className:"flex items-center border-b px-3","cmdk-input-wrapper":"",children:[c.jsx(Sm,{className:"mr-2 h-4 w-4 shrink-0 opacity-50"}),c.jsx(Hs.Input,{ref:n,className:Te("flex h-11 w-full rounded-md bg-transparent py-3 text-sm outline-none placeholder:text-muted-foreground disabled:cursor-not-allowed disabled:opacity-50",e),...t})]}));lK.displayName=Hs.Input.displayName;const cK=T.forwardRef(({className:e,...t},n)=>c.jsx(Hs.List,{ref:n,className:Te("max-h-[300px] overflow-y-auto overflow-x-hidden",e),...t}));cK.displayName=Hs.List.displayName;const uK=T.forwardRef((e,t)=>c.jsx(Hs.Empty,{ref:t,className:"py-6 text-center text-sm",...e}));uK.displayName=Hs.Empty.displayName;const qb=T.forwardRef(({className:e,...t},n)=>c.jsx(Hs.Group,{ref:n,className:Te("overflow-hidden p-1 text-foreground [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium [&_[cmdk-group-heading]]:text-muted-foreground",e),...t}));qb.displayName=Hs.Group.displayName;const TN=T.forwardRef(({className:e,...t},n)=>c.jsx(Hs.Separator,{ref:n,className:Te("-mx-1 h-px bg-border",e),...t}));TN.displayName=Hs.Separator.displayName;const $i=T.forwardRef(({className:e,...t},n)=>c.jsx(Hs.Item,{ref:n,className:Te("relative flex cursor-default gap-2 select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[disabled=true]:pointer-events-none data-[selected='true']:bg-accent data-[selected=true]:text-accent-foreground data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e),...t}));$i.displayName=Hs.Item.displayName;function qge({onAddFood:e,onGenerateRecipe:t,onScanBarcode:n}){const[r,i]=T.useState(!1),[,s]=Bc(),a=T.useCallback(d=>{(d.metaKey||d.ctrlKey)&&d.key==="k"&&(d.preventDefault(),i(h=>!h))},[]);T.useEffect(()=>(document.addEventListener("keydown",a),()=>document.removeEventListener("keydown",a)),[a]);const o=d=>{s(d),i(!1)},u=d=>{d(),i(!1)};return c.jsxs(Gge,{open:r,onOpenChange:i,children:[c.jsx(lK,{placeholder:"Type a command or search..."}),c.jsxs(cK,{children:[c.jsx(uK,{children:"No results found."}),c.jsxs(qb,{heading:"Quick Actions",children:[c.jsxs($i,{onSelect:()=>u(()=>e==null?void 0:e()),children:[c.jsx(Tl,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Add Food Item"})]}),c.jsxs($i,{onSelect:()=>u(()=>n==null?void 0:n()),children:[c.jsx(Ej,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Scan Barcode"})]}),c.jsxs($i,{onSelect:()=>u(()=>t==null?void 0:t()),children:[c.jsx(bs,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Generate Recipe"})]})]}),c.jsx(TN,{}),c.jsxs(qb,{heading:"Navigation",children:[c.jsxs($i,{onSelect:()=>o("/"),children:[c.jsx(wm,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Chat"})]}),c.jsxs($i,{onSelect:()=>o("/storage/all"),children:[c.jsx(lc,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"All Items"})]}),c.jsxs($i,{onSelect:()=>o("/storage/fridge"),children:[c.jsx(lc,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Fridge"})]}),c.jsxs($i,{onSelect:()=>o("/storage/freezer"),children:[c.jsx(lc,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Freezer"})]}),c.jsxs($i,{onSelect:()=>o("/storage/pantry"),children:[c.jsx(lc,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Pantry"})]}),c.jsxs($i,{onSelect:()=>o("/cookbook"),children:[c.jsx(Dw,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Cookbook"})]}),c.jsxs($i,{onSelect:()=>o("/meal-planner"),children:[c.jsx(ah,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Meal Planner"})]}),c.jsxs($i,{onSelect:()=>o("/shopping-list"),children:[c.jsx(Cm,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Shopping List"})]}),c.jsxs($i,{onSelect:()=>o("/nutrition"),children:[c.jsx(bm,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Nutrition"})]}),c.jsxs($i,{onSelect:()=>o("/appliances"),children:[c.jsx(Nc,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Appliances"})]}),c.jsxs($i,{onSelect:()=>o("/settings"),children:[c.jsx(TG,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Settings"})]})]}),c.jsx(TN,{}),c.jsx(qb,{heading:"Search",children:c.jsxs($i,{onSelect:()=>o("/fdc-search"),children:[c.jsx(Sm,{className:"mr-2 h-4 w-4"}),c.jsx("span",{children:"Search USDA Database"})]})})]})]})}function Kge({onAddFood:e,onGenerateRecipe:t,onScanBarcode:n}){return c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(CC,{children:[c.jsxs(Bu,{children:[c.jsx($u,{asChild:!0,children:c.jsxs(Re,{variant:"ghost",onClick:e,"data-testid":"button-quick-add-food",className:"transition-all-smooth h-9 w-9 p-0 lg:w-auto lg:px-3",children:[c.jsx(Tl,{className:"h-4 w-4 lg:mr-2"}),c.jsx("span",{className:"hidden lg:inline",children:"Add Food"})]})}),c.jsx(mc,{className:"lg:hidden",children:c.jsx("p",{children:"Add Food Item"})})]}),c.jsxs(Bu,{children:[c.jsx($u,{asChild:!0,children:c.jsxs(Re,{variant:"ghost",onClick:n,"data-testid":"button-quick-scan-barcode",className:"transition-all-smooth h-9 w-9 p-0 lg:w-auto lg:px-3",children:[c.jsx(Ej,{className:"h-4 w-4 lg:mr-2"}),c.jsx("span",{className:"hidden lg:inline",children:"Scan Barcode"})]})}),c.jsx(mc,{className:"lg:hidden",children:c.jsx("p",{children:"Scan Barcode"})})]}),c.jsxs(Bu,{children:[c.jsx($u,{asChild:!0,children:c.jsxs(Re,{variant:"ghost",onClick:t,"data-testid":"button-quick-generate-recipe",className:"transition-all-smooth h-9 w-9 p-0 lg:w-auto lg:px-3",children:[c.jsx(bs,{className:"h-4 w-4 lg:mr-2"}),c.jsx("span",{className:"hidden lg:inline",children:"Generate Recipe"})]})}),c.jsx(mc,{className:"lg:hidden",children:c.jsx("p",{children:"Generate Recipe"})})]})]})})}var Xge="Label",dK=T.forwardRef((e,t)=>c.jsx(Je.label,{...e,ref:t,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=e.onMouseDown)==null||i.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));dK.displayName=Xge;var fK=dK;const Yge=dd("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Tt=T.forwardRef(({className:e,...t},n)=>c.jsx(fK,{ref:n,className:Te(Yge(),e),...t}));Tt.displayName=fK.displayName;var Zge=T.createContext(void 0);function lh(e){const t=T.useContext(Zge);return e||t||"ltr"}var HE="rovingFocusGroup.onEntryFocus",Qge={bubbles:!1,cancelable:!0},kC="RovingFocusGroup",[NN,hK,Jge]=cC(kC),[e0e,Ag]=Yr(kC,[Jge]),[t0e,n0e]=e0e(kC),pK=T.forwardRef((e,t)=>c.jsx(NN.Provider,{scope:e.__scopeRovingFocusGroup,children:c.jsx(NN.Slot,{scope:e.__scopeRovingFocusGroup,children:c.jsx(r0e,{...e,ref:t})})}));pK.displayName=kC;var r0e=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:a,defaultCurrentTabStopId:o,onCurrentTabStopIdChange:u,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...m}=e,y=T.useRef(null),b=$t(t,y),C=lh(s),[w=null,A]=Qi({prop:a,defaultProp:o,onChange:u}),[_,E]=T.useState(!1),N=Er(d),I=hK(n),O=T.useRef(!1),[k,M]=T.useState(0);return T.useEffect(()=>{const R=y.current;if(R)return R.addEventListener(HE,N),()=>R.removeEventListener(HE,N)},[N]),c.jsx(t0e,{scope:n,orientation:r,dir:C,loop:i,currentTabStopId:w,onItemFocus:T.useCallback(R=>A(R),[A]),onItemShiftTab:T.useCallback(()=>E(!0),[]),onFocusableItemAdd:T.useCallback(()=>M(R=>R+1),[]),onFocusableItemRemove:T.useCallback(()=>M(R=>R-1),[]),children:c.jsx(Je.div,{tabIndex:_||k===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:Qe(e.onMouseDown,()=>{O.current=!0}),onFocus:Qe(e.onFocus,R=>{const L=!O.current;if(R.target===R.currentTarget&&L&&!_){const U=new CustomEvent(HE,Qge);if(R.currentTarget.dispatchEvent(U),!U.defaultPrevented){const X=I().filter(q=>q.focusable),F=X.find(q=>q.active),V=X.find(q=>q.id===w),H=[F,V,...X].filter(Boolean).map(q=>q.ref.current);yK(H,h)}}O.current=!1}),onBlur:Qe(e.onBlur,()=>E(!1))})})}),mK="RovingFocusGroupItem",gK=T.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...a}=e,o=Mi(),u=s||o,d=n0e(mK,n),h=d.currentTabStopId===u,m=hK(n),{onFocusableItemAdd:y,onFocusableItemRemove:b}=d;return T.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),c.jsx(NN.ItemSlot,{scope:n,id:u,focusable:r,active:i,children:c.jsx(Je.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:Qe(e.onMouseDown,C=>{r?d.onItemFocus(u):C.preventDefault()}),onFocus:Qe(e.onFocus,()=>d.onItemFocus(u)),onKeyDown:Qe(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){d.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const w=a0e(C,d.orientation,d.dir);if(w!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let _=m().filter(E=>E.focusable).map(E=>E.ref.current);if(w==="last")_.reverse();else if(w==="prev"||w==="next"){w==="prev"&&_.reverse();const E=_.indexOf(C.currentTarget);_=d.loop?o0e(_,E+1):_.slice(E+1)}setTimeout(()=>yK(_))}})})})});gK.displayName=mK;var i0e={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function s0e(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function a0e(e,t,n){const r=s0e(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return i0e[r]}function yK(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function o0e(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Jj=pK,ek=gK,l0e="Toggle",tk=T.forwardRef((e,t)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:i,...s}=e,[a=!1,o]=Qi({prop:n,onChange:i,defaultProp:r});return c.jsx(Je.button,{type:"button","aria-pressed":a,"data-state":a?"on":"off","data-disabled":e.disabled?"":void 0,...s,ref:t,onClick:Qe(e.onClick,()=>{e.disabled||o(!a)})})});tk.displayName=l0e;var vK=tk,Eg="ToggleGroup",[xK,Ptt]=Yr(Eg,[Ag]),bK=Ag(),nk=te.forwardRef((e,t)=>{const{type:n,...r}=e;if(n==="single"){const i=r;return c.jsx(c0e,{...i,ref:t})}if(n==="multiple"){const i=r;return c.jsx(u0e,{...i,ref:t})}throw new Error(`Missing prop \`type\` expected on \`${Eg}\``)});nk.displayName=Eg;var[wK,SK]=xK(Eg),c0e=te.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=e,[a,o]=Qi({prop:n,defaultProp:r,onChange:i});return c.jsx(wK,{scope:e.__scopeToggleGroup,type:"single",value:a?[a]:[],onItemActivate:o,onItemDeactivate:te.useCallback(()=>o(""),[o]),children:c.jsx(CK,{...s,ref:t})})}),u0e=te.forwardRef((e,t)=>{const{value:n,defaultValue:r,onValueChange:i=()=>{},...s}=e,[a=[],o]=Qi({prop:n,defaultProp:r,onChange:i}),u=te.useCallback(h=>o((m=[])=>[...m,h]),[o]),d=te.useCallback(h=>o((m=[])=>m.filter(y=>y!==h)),[o]);return c.jsx(wK,{scope:e.__scopeToggleGroup,type:"multiple",value:a,onItemActivate:u,onItemDeactivate:d,children:c.jsx(CK,{...s,ref:t})})});nk.displayName=Eg;var[d0e,f0e]=xK(Eg),CK=te.forwardRef((e,t)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:i=!0,orientation:s,dir:a,loop:o=!0,...u}=e,d=bK(n),h=lh(a),m={role:"group",dir:h,...u};return c.jsx(d0e,{scope:n,rovingFocus:i,disabled:r,children:i?c.jsx(Jj,{asChild:!0,...d,orientation:s,dir:h,loop:o,children:c.jsx(Je.div,{...m,ref:t})}):c.jsx(Je.div,{...m,ref:t})})}),Gw="ToggleGroupItem",AK=te.forwardRef((e,t)=>{const n=SK(Gw,e.__scopeToggleGroup),r=f0e(Gw,e.__scopeToggleGroup),i=bK(e.__scopeToggleGroup),s=n.value.includes(e.value),a=r.disabled||e.disabled,o={...e,pressed:s,disabled:a},u=te.useRef(null);return r.rovingFocus?c.jsx(ek,{asChild:!0,...i,focusable:!a,active:s,ref:u,children:c.jsx(PR,{...o,ref:t})}):c.jsx(PR,{...o,ref:t})});AK.displayName=Gw;var PR=te.forwardRef((e,t)=>{const{__scopeToggleGroup:n,value:r,...i}=e,s=SK(Gw,n),a={role:"radio","aria-checked":e.pressed,"aria-pressed":void 0},o=s.type==="single"?a:void 0;return c.jsx(tk,{...o,...i,ref:t,onPressedChange:u=>{u?s.onItemActivate(r):s.onItemDeactivate(r)}})}),EK=nk,_K=AK;const TK=dd("inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 gap-2",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent hover:bg-accent hover:text-accent-foreground"},size:{default:"h-10 px-3 min-w-10",sm:"h-9 px-2.5 min-w-9",lg:"h-11 px-5 min-w-11"}},defaultVariants:{variant:"default",size:"default"}}),h0e=T.forwardRef(({className:e,variant:t,size:n,...r},i)=>c.jsx(vK,{ref:i,className:Te(TK({variant:t,size:n,className:e})),...r}));h0e.displayName=vK.displayName;const NK=T.createContext({size:"default",variant:"default"}),PK=T.forwardRef(({className:e,variant:t,size:n,children:r,...i},s)=>c.jsx(EK,{ref:s,className:Te("flex items-center justify-center gap-1",e),...i,children:c.jsx(NK.Provider,{value:{variant:t,size:n},children:r})}));PK.displayName=EK.displayName;const OK=T.forwardRef(({className:e,children:t,variant:n,size:r,...i},s)=>{const a=T.useContext(NK);return c.jsx(_K,{ref:s,className:Te(TK({variant:a.variant||n,size:a.size||r}),e),...i,children:t})});OK.displayName=_K.displayName;var rk="Tabs",[p0e,Ott]=Yr(rk,[Ag]),jK=Ag(),[m0e,ik]=p0e(rk),kK=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:i,defaultValue:s,orientation:a="horizontal",dir:o,activationMode:u="automatic",...d}=e,h=lh(o),[m,y]=Qi({prop:r,onChange:i,defaultProp:s});return c.jsx(m0e,{scope:n,baseId:Mi(),value:m,onValueChange:y,orientation:a,dir:h,activationMode:u,children:c.jsx(Je.div,{dir:h,"data-orientation":a,...d,ref:t})})});kK.displayName=rk;var IK="TabsList",MK=T.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...i}=e,s=ik(IK,n),a=jK(n);return c.jsx(Jj,{asChild:!0,...a,orientation:s.orientation,dir:s.dir,loop:r,children:c.jsx(Je.div,{role:"tablist","aria-orientation":s.orientation,...i,ref:t})})});MK.displayName=IK;var DK="TabsTrigger",RK=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:i=!1,...s}=e,a=ik(DK,n),o=jK(n),u=BK(a.baseId,r),d=$K(a.baseId,r),h=r===a.value;return c.jsx(ek,{asChild:!0,...o,focusable:!i,active:h,children:c.jsx(Je.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:u,...s,ref:t,onMouseDown:Qe(e.onMouseDown,m=>{!i&&m.button===0&&m.ctrlKey===!1?a.onValueChange(r):m.preventDefault()}),onKeyDown:Qe(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&a.onValueChange(r)}),onFocus:Qe(e.onFocus,()=>{const m=a.activationMode!=="manual";!h&&!i&&m&&a.onValueChange(r)})})})});RK.displayName=DK;var FK="TabsContent",LK=T.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:i,children:s,...a}=e,o=ik(FK,n),u=BK(o.baseId,r),d=$K(o.baseId,r),h=r===o.value,m=T.useRef(h);return T.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),c.jsx(es,{present:i||h,children:({present:y})=>c.jsx(Je.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:d,tabIndex:0,...a,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:y&&s})})});LK.displayName=FK;function BK(e,t){return`${e}-trigger-${t}`}function $K(e,t){return`${e}-content-${t}`}var g0e=kK,UK=MK,zK=RK,VK=LK;const WK=g0e,sk=T.forwardRef(({className:e,...t},n)=>c.jsx(UK,{ref:n,className:Te("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));sk.displayName=UK.displayName;const Ef=T.forwardRef(({className:e,...t},n)=>c.jsx(zK,{ref:n,className:Te("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));Ef.displayName=zK.displayName;const Kb=T.forwardRef(({className:e,...t},n)=>c.jsx(VK,{ref:n,className:Te("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));Kb.displayName=VK.displayName;function PN(e,t,n=[]){const r=T.useRef(null),i=T.useCallback((...s)=>{r.current&&clearTimeout(r.current),r.current=setTimeout(()=>{e(...s)},t)},[...n,t]);return T.useEffect(()=>()=>{r.current&&clearTimeout(r.current)},[]),i}function HK(e,t){return Object.hasOwn(e,t)}const{AbortController:GE}=globalThis,GK=(e="Aborted",t)=>{const n=new DOMException(e,"AbortError");return t!=null&&HK(t,"cause")&&Object.defineProperty(n,"cause",{__proto__:null,configurable:!0,writable:!0,value:t.cause}),n},y0e=/^data:([^/]+\/[^,;]+(?:[^,]*?))(;base64)?,([\s\S]*)$/;function v0e(e,t,n){const r=y0e.exec(e),i=t.mimeType??(r==null?void 0:r[1])??"plain/text";let s;if((r==null?void 0:r[2])!=null){const a=atob(decodeURIComponent(r[3])),o=new Uint8Array(a.length);for(let u=0;u<a.length;u++)o[u]=a.charCodeAt(u);s=[o]}else(r==null?void 0:r[3])!=null&&(s=[decodeURIComponent(r[3])]);return new Blob(s,{type:i})}class x0e extends Error{constructor(n,r){super(n);Q(this,"isNetworkError");Q(this,"cause");this.cause=r==null?void 0:r.cause,this.cause&&HK(this.cause,"isNetworkError")?this.isNetworkError=this.cause.isNetworkError:this.isNetworkError=!1}}function OR(e,t,n,r){return e===t?e:r===0?t:e+(t-e)*2**(-r/n)}const qK=['a[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','area[href]:not([tabindex^="-"]):not([inert]):not([aria-hidden])',"input:not([disabled]):not([inert]):not([aria-hidden])","select:not([disabled]):not([inert]):not([aria-hidden])","textarea:not([disabled]):not([inert]):not([aria-hidden])","button:not([disabled]):not([inert]):not([aria-hidden])",'iframe:not([tabindex^="-"]):not([inert]):not([aria-hidden])','object:not([tabindex^="-"]):not([inert]):not([aria-hidden])','embed:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[contenteditable]:not([tabindex^="-"]):not([inert]):not([aria-hidden])','[tabindex]:not([tabindex^="-"]):not([inert]):not([aria-hidden])'];class b0e extends Error{constructor(n,r=null){super("This looks like a network error, the endpoint might be blocked by an internet provider or a firewall.");Q(this,"cause");Q(this,"isNetworkError");Q(this,"request");this.cause=n,this.isNetworkError=!0,this.request=r}}function w0e(...e){return fetch(...e).catch(t=>{throw t.name==="AbortError"?t:new b0e(t)})}function S0e(e){const t=n=>"error"in n&&!!n.error;return e.filter(n=>!t(n))}function C0e(e){return e.filter(t=>{var n;return!((n=t.progress)!=null&&n.uploadStarted)||!t.isRestored})}function KK(e){return typeof e!="object"||e===null||!("nodeType"in e)?!1:e.nodeType===Node.ELEMENT_NODE}function jR(e){if(typeof e=="string"){const t=document.querySelectorAll(e);return t.length===0?null:Array.from(t)}return typeof e=="object"&&KK(e)?[e]:null}function A0e(e,t=document){return typeof e=="string"?t.querySelector(e):KK(e)?e:null}function XK(e){const t=e.lastIndexOf(".");return t===-1||t===e.length-1?{name:e,extension:void 0}:{name:e.slice(0,t),extension:e.slice(t+1)}}const kR={__proto__:null,md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",webp:"image/webp",gif:"image/gif",heic:"image/heic",heif:"image/heif",yaml:"text/yaml",yml:"text/yaml",csv:"text/csv",tsv:"text/tab-separated-values",tab:"text/tab-separated-values",avi:"video/x-msvideo",mks:"video/x-matroska",mkv:"video/x-matroska",mov:"video/quicktime",dicom:"application/dicom",doc:"application/msword",msg:"application/vnd.ms-outlook",docm:"application/vnd.ms-word.document.macroenabled.12",docx:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",dot:"application/msword",dotm:"application/vnd.ms-word.template.macroenabled.12",dotx:"application/vnd.openxmlformats-officedocument.wordprocessingml.template",xla:"application/vnd.ms-excel",xlam:"application/vnd.ms-excel.addin.macroenabled.12",xlc:"application/vnd.ms-excel",xlf:"application/x-xliff+xml",xlm:"application/vnd.ms-excel",xls:"application/vnd.ms-excel",xlsb:"application/vnd.ms-excel.sheet.binary.macroenabled.12",xlsm:"application/vnd.ms-excel.sheet.macroenabled.12",xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet",xlt:"application/vnd.ms-excel",xltm:"application/vnd.ms-excel.template.macroenabled.12",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template",xlw:"application/vnd.ms-excel",txt:"text/plain",text:"text/plain",conf:"text/plain",log:"text/plain",pdf:"application/pdf",zip:"application/zip","7z":"application/x-7z-compressed",rar:"application/x-rar-compressed",tar:"application/x-tar",gz:"application/gzip",dmg:"application/x-apple-diskimage"};function YK(e){var n;if(e.type)return e.type;const t=e.name?(n=XK(e.name).extension)==null?void 0:n.toLowerCase():null;return t&&t in kR?kR[t]:"application/octet-stream"}function E0e(e){return e.charCodeAt(0).toString(32)}function IR(e){let t="";return e.replace(/[^A-Z0-9]/gi,n=>(t+=`-${E0e(n)}`,"/"))+t}function _0e(e,t){let n=t||"uppy";return typeof e.name=="string"&&(n+=`-${IR(e.name.toLowerCase())}`),e.type!==void 0&&(n+=`-${e.type}`),e.meta&&typeof e.meta.relativePath=="string"&&(n+=`-${IR(e.meta.relativePath.toLowerCase())}`),e.data.size!==void 0&&(n+=`-${e.data.size}`),e.data.lastModified!==void 0&&(n+=`-${e.data.lastModified}`),n}function T0e(e){return!e.isRemote||!e.remote?!1:new Set(["box","dropbox","drive","facebook","unsplash"]).has(e.remote.provider)}function N0e(e,t){if(T0e(e))return e.id;const n=YK(e);return _0e({...e,type:n},t)}function MR(e,t){return e===!0?Object.keys(t):Array.isArray(e)?e:[]}const oy=Array.from;function P0e(e){const t=oy(e.files);return Promise.resolve(t)}function ZK(e,t,n,{onSuccess:r}){e.readEntries(i=>{const s=[...t,...i];i.length?queueMicrotask(()=>{ZK(e,s,n,{onSuccess:r})}):r(s)},i=>{n(i),r(t)})}function QK(e,t){return e==null?e:{kind:e.isFile?"file":e.isDirectory?"directory":void 0,name:e.name,getFile(){return new Promise((n,r)=>e.file(n,r))},async*values(){const n=e.createReader();yield*await new Promise(i=>{ZK(n,[],t,{onSuccess:s=>i(s.map(a=>QK(a,t)))})})},isSameEntry:void 0}}async function*JK(e,t,n=void 0){const r=()=>`${t}/${e.name}`;if(e.kind==="file"){const i=await e.getFile();i!=null?(i.relativePath=t?r():null,yield i):n!=null&&(yield n)}else if(e.kind==="directory")for await(const i of e.values())yield*JK(i,t?r():e.name);else n!=null&&(yield n)}async function*O0e(e,t){const n=await Promise.all(Array.from(e.items,async r=>{let i;return i??(i=QK(typeof r.getAsEntry=="function"?r.getAsEntry():r.webkitGetAsEntry(),t)),{fileSystemHandle:i,lastResortFile:r.getAsFile()}}));for(const{lastResortFile:r,fileSystemHandle:i}of n)if(i!=null)try{yield*JK(i,"",r)}catch(s){r!=null?yield r:t(s)}else r!=null&&(yield r)}async function j0e(e,t){const n=(t==null?void 0:t.logDropError)??Function.prototype;try{const r=[];for await(const i of O0e(e,n))r.push(i);return r}catch{return P0e(e)}}function k0e(e){var i;const n=(i=/^(?:https?:\/\/|\/\/)?(?:[^@\n]+@)?([^\n]+)/i.exec(e))==null?void 0:i[1];return`${/^http:\/\//i.test(e)?"ws":"wss"}://${n}`}function I0e(e){for(;e&&!e.dir;)e=e.parentNode;return e==null?void 0:e.dir}function qE(e){return e<10?`0${e}`:e.toString()}function Xb(){const e=new Date,t=qE(e.getHours()),n=qE(e.getMinutes()),r=qE(e.getSeconds());return`${t}:${n}:${r}`}function M0e(){if(typeof window>"u")return!1;const e=document.body;return!(e==null||window==null||!("draggable"in e)||!("ondragstart"in e)||!("ondrop"in e)||!("FormData"in window)||!("FileReader"in window))}function DR(e){return e.startsWith("blob:")}function RR(e){return e?/^[^/]+\/(jpe?g|gif|png|svg|svg\+xml|bmp|webp|avif)$/.test(e):!1}function D0e(e){const t=Math.floor(e/3600)%24,n=Math.floor(e/60)%60,r=Math.floor(e%60);return{hours:t,minutes:n,seconds:r}}function R0e(e){const t=D0e(e),n=t.hours===0?"":`${t.hours}h`,r=t.minutes===0?"":`${t.hours===0?t.minutes:` ${t.minutes.toString(10).padStart(2,"0")}`}m`,i=t.hours!==0?"":`${t.minutes===0?t.seconds:` ${t.seconds.toString(10).padStart(2,"0")}`}s`;return`${n}${r}${i}`}function F0e(e){return new Error("Cancelled",{cause:e})}function FR(e){var t;if(e!=null){const n=()=>this.abort(e.reason);e.addEventListener("abort",n,{once:!0});const r=()=>{e.removeEventListener("abort",n)};(t=this.then)==null||t.call(this,r,r)}return this}var Jl,il,ec,Gp,sl,qp,df,Xi,ON,$0,eX,tX,nX,jS,Kp;class L0e{constructor(t){Ae(this,Xi);Ae(this,Jl,0);Ae(this,il,[]);Ae(this,ec,!1);Ae(this,Gp);Ae(this,sl,1);Ae(this,qp);Ae(this,df);Q(this,"limit");Ae(this,jS,()=>this.resume());Ae(this,Kp,()=>{if(B(this,ec)){_e(this,df,setTimeout(B(this,Kp),0));return}_e(this,sl,this.limit),this.limit=Math.ceil((B(this,qp)+B(this,sl))/2);for(let t=B(this,sl);t<=this.limit;t++)Me(this,Xi,$0).call(this);B(this,qp)-B(this,sl)>3?_e(this,df,setTimeout(B(this,Kp),2e3)):_e(this,sl,Math.floor(B(this,sl)/2))});typeof t!="number"||t===0?this.limit=1/0:this.limit=t}run(t,n){return!B(this,ec)&&B(this,Jl)<this.limit?Me(this,Xi,ON).call(this,t):Me(this,Xi,tX).call(this,t,n)}wrapSyncFunction(t,n){return(...r)=>{const i=this.run(()=>(t(...r),queueMicrotask(()=>i.done()),()=>{}),n);return{abortOn:FR,abort(){i.abort()}}}}wrapPromiseFunction(t,n){return(...r)=>{let i;const s=new Promise((a,o)=>{i=this.run(()=>{let u,d;try{d=Promise.resolve(t(...r))}catch(h){d=Promise.reject(h)}return d.then(h=>{u?o(u):(i.done(),a(h))},h=>{u?o(u):(i.done(),o(h))}),h=>{u=F0e(h)}},n)});return s.abort=a=>{i.abort(a)},s.abortOn=FR,s}}resume(){_e(this,ec,!1),clearTimeout(B(this,Gp));for(let t=0;t<this.limit;t++)Me(this,Xi,$0).call(this)}pause(t=null){_e(this,ec,!0),clearTimeout(B(this,Gp)),t!=null&&_e(this,Gp,setTimeout(B(this,jS),t))}rateLimit(t){clearTimeout(B(this,df)),this.pause(t),this.limit>1&&Number.isFinite(this.limit)&&(_e(this,qp,this.limit-1),this.limit=B(this,sl),_e(this,df,setTimeout(B(this,Kp),t)))}get isPaused(){return B(this,ec)}}Jl=new WeakMap,il=new WeakMap,ec=new WeakMap,Gp=new WeakMap,sl=new WeakMap,qp=new WeakMap,df=new WeakMap,Xi=new WeakSet,ON=function(t){_e(this,Jl,B(this,Jl)+1);let n=!1,r;try{r=t()}catch(i){throw _e(this,Jl,B(this,Jl)-1),i}return{abort:i=>{n||(n=!0,_e(this,Jl,B(this,Jl)-1),r==null||r(i),Me(this,Xi,$0).call(this))},done:()=>{n||(n=!0,_e(this,Jl,B(this,Jl)-1),Me(this,Xi,$0).call(this))}}},$0=function(){queueMicrotask(()=>Me(this,Xi,eX).call(this))},eX=function(){if(B(this,ec)||B(this,Jl)>=this.limit||B(this,il).length===0)return;const t=B(this,il).shift();if(t==null)throw new Error("Invariant violation: next is null");const n=Me(this,Xi,ON).call(this,t.fn);t.abort=n.abort,t.done=n.done},tX=function(t,n){const r={fn:t,priority:(n==null?void 0:n.priority)||0,abort:()=>{Me(this,Xi,nX).call(this,r)},done:()=>{throw new Error("Cannot mark a queued request as done: this indicates a bug")}},i=B(this,il).findIndex(s=>r.priority>s.priority);return i===-1?B(this,il).push(r):B(this,il).splice(i,0,r),r},nX=function(t){const n=B(this,il).indexOf(t);n!==-1&&B(this,il).splice(n,1)},jS=new WeakMap,Kp=new WeakMap;function B0e(e,t,n){const r=[];return e.forEach(i=>typeof i!="string"?r.push(i):t[Symbol.split](i).forEach((s,a,o)=>{s!==""&&r.push(s),a<o.length-1&&r.push(n)})),r}/**
 * Takes a string with placeholder variables like `%{smart_count} file selected`
 * and replaces it with values from options `{smart_count: 5}`
 *
 * @license https://github.com/airbnb/polyglot.js/blob/master/LICENSE
 * taken from https://github.com/airbnb/polyglot.js/blob/master/lib/polyglot.js#L299
 *
 * @param phrase that needs interpolation, with placeholders
 * @param options with values that will be used to replace placeholders
 */function LR(e,t){const n=/\$/g,r="$$$$";let i=[e];if(t==null)return i;for(const s of Object.keys(t))if(s!=="_"){let a=t[s];typeof a=="string"&&(a=n[Symbol.replace](a,r)),i=B0e(i,new RegExp(`%\\{${s}\\}`,"g"),a)}return i}const $0e=e=>{throw new Error(`missing string: ${e}`)};var iv,sv,jN;class rX{constructor(t,{onMissingKey:n=$0e}={}){Ae(this,sv);Q(this,"locale");Ae(this,iv);this.locale={strings:{},pluralize(r){return r===1?0:1}},Array.isArray(t)?t.forEach(Me(this,sv,jN),this):Me(this,sv,jN).call(this,t),_e(this,iv,n)}translate(t,n){return this.translateArray(t,n).join("")}translateArray(t,n){let r=this.locale.strings[t];if(r==null&&(B(this,iv).call(this,t),r=t),typeof r=="object"){if(n&&typeof n.smart_count<"u"){const s=this.locale.pluralize(n.smart_count);return LR(r[s],n)}throw new Error("Attempted to use a string with plural forms, but no value was given for %{smart_count}")}if(typeof r!="string")throw new Error("string was not a string");return LR(r,n)}}iv=new WeakMap,sv=new WeakSet,jN=function(t){if(!(t!=null&&t.strings))return;const n=this.locale;Object.assign(this.locale,{strings:{...n.strings,...t.strings},pluralize:t.pluralize||n.pluralize})};const KE="...";function iX(e,t){if(t===0)return"";if(e.length<=t)return e;if(t<=KE.length+1)return`${e.slice(0,t-1)}`;const n=t-KE.length,r=Math.ceil(n/2),i=Math.floor(n/2);return e.slice(0,r)+KE+e.slice(-i)}class U0e extends Error{constructor(){super(...arguments);Q(this,"name","UserFacingApiError")}}var Bv,Rn,sX,Vd,BR,aX,oX,lX,ak,kN,IN,qy={},cX=[],z0e=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,$v=Array.isArray;function dl(e,t){for(var n in t)e[n]=t[n];return e}function ok(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function lk(e,t,n){var r,i,s,a={};for(s in t)s=="key"?r=t[s]:s=="ref"?i=t[s]:a[s]=t[s];if(arguments.length>2&&(a.children=arguments.length>3?Bv.call(arguments,2):n),typeof e=="function"&&e.defaultProps!=null)for(s in e.defaultProps)a[s]===void 0&&(a[s]=e.defaultProps[s]);return ly(e,a,r,i,null)}function ly(e,t,n,r,i){var s={type:e,props:t,key:n,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++sX,__i:-1,__u:0};return i==null&&Rn.vnode!=null&&Rn.vnode(s),s}function V0e(){return{current:null}}function cc(e){return e.children}function xl(e,t){this.props=e,this.context=t}function _m(e,t){if(t==null)return e.__?_m(e.__,e.__i+1):null;for(var n;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null)return n.__e;return typeof e.type=="function"?_m(e):null}function uX(e){var t,n;if((e=e.__)!=null&&e.__c!=null){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if((n=e.__k[t])!=null&&n.__e!=null){e.__e=e.__c.base=n.__e;break}return uX(e)}}function $R(e){(!e.__d&&(e.__d=!0)&&Vd.push(e)&&!qw.__r++||BR!=Rn.debounceRendering)&&((BR=Rn.debounceRendering)||aX)(qw)}function qw(){for(var e,t,n,r,i,s,a,o=1;Vd.length;)Vd.length>o&&Vd.sort(oX),e=Vd.shift(),o=Vd.length,e.__d&&(n=void 0,r=void 0,i=(r=(t=e).__v).__e,s=[],a=[],t.__P&&((n=dl({},r)).__v=r.__v+1,Rn.vnode&&Rn.vnode(n),ck(t.__P,n,r,t.__n,t.__P.namespaceURI,32&r.__u?[i]:null,s,i??_m(r),!!(32&r.__u),a),n.__v=r.__v,n.__.__k[n.__i]=n,hX(s,n,a),r.__e=r.__=null,n.__e!=i&&uX(n)));qw.__r=0}function dX(e,t,n,r,i,s,a,o,u,d,h){var m,y,b,C,w,A,_,E=r&&r.__k||cX,N=t.length;for(u=W0e(n,t,E,u,N),m=0;m<N;m++)(b=n.__k[m])!=null&&(y=b.__i==-1?qy:E[b.__i]||qy,b.__i=m,A=ck(e,b,y,i,s,a,o,u,d,h),C=b.__e,b.ref&&y.ref!=b.ref&&(y.ref&&uk(y.ref,null,b),h.push(b.ref,b.__c||C,b)),w==null&&C!=null&&(w=C),(_=!!(4&b.__u))||y.__k===b.__k?u=fX(b,u,e,_):typeof b.type=="function"&&A!==void 0?u=A:C&&(u=C.nextSibling),b.__u&=-7);return n.__e=w,u}function W0e(e,t,n,r,i){var s,a,o,u,d,h=n.length,m=h,y=0;for(e.__k=new Array(i),s=0;s<i;s++)(a=t[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(u=s+y,(a=e.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?ly(null,a,null,null,null):$v(a)?ly(cc,{children:a},null,null,null):a.constructor==null&&a.__b>0?ly(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=e,a.__b=e.__b+1,o=null,(d=a.__i=H0e(a,n,u,m))!=-1&&(m--,(o=n[d])&&(o.__u|=2)),o==null||o.__v==null?(d==-1&&(i>h?y--:i<h&&y++),typeof a.type!="function"&&(a.__u|=4)):d!=u&&(d==u-1?y--:d==u+1?y++:(d>u?y--:y++,a.__u|=4))):e.__k[s]=null;if(m)for(s=0;s<h;s++)(o=n[s])!=null&&!(2&o.__u)&&(o.__e==r&&(r=_m(o)),mX(o,o));return r}function fX(e,t,n,r){var i,s;if(typeof e.type=="function"){for(i=e.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=e,t=fX(i[s],t,n,r));return t}e.__e!=t&&(r&&(t&&e.type&&!t.parentNode&&(t=_m(e)),n.insertBefore(e.__e,t||null)),t=e.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function cu(e,t){return t=t||[],e==null||typeof e=="boolean"||($v(e)?e.some(function(n){cu(n,t)}):t.push(e)),t}function H0e(e,t,n,r){var i,s,a,o=e.key,u=e.type,d=t[n],h=d!=null&&(2&d.__u)==0;if(d===null&&e.key==null||h&&o==d.key&&u==d.type)return n;if(r>(h?1:0)){for(i=n-1,s=n+1;i>=0||s<t.length;)if((d=t[a=i>=0?i--:s++])!=null&&!(2&d.__u)&&o==d.key&&u==d.type)return a}return-1}function UR(e,t,n){t[0]=="-"?e.setProperty(t,n??""):e[t]=n==null?"":typeof n!="number"||z0e.test(t)?n:n+"px"}function Jx(e,t,n,r,i){var s,a;e:if(t=="style")if(typeof n=="string")e.style.cssText=n;else{if(typeof r=="string"&&(e.style.cssText=r=""),r)for(t in r)n&&t in n||UR(e.style,t,"");if(n)for(t in n)r&&n[t]==r[t]||UR(e.style,t,n[t])}else if(t[0]=="o"&&t[1]=="n")s=t!=(t=t.replace(lX,"$1")),a=t.toLowerCase(),t=a in e||t=="onFocusOut"||t=="onFocusIn"?a.slice(2):t.slice(2),e.l||(e.l={}),e.l[t+s]=n,n?r?n.u=r.u:(n.u=ak,e.addEventListener(t,s?IN:kN,s)):e.removeEventListener(t,s?IN:kN,s);else{if(i=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in e)try{e[t]=n??"";break e}catch{}typeof n=="function"||(n==null||n===!1&&t[4]!="-"?e.removeAttribute(t):e.setAttribute(t,t=="popover"&&n==1?"":n))}}function zR(e){return function(t){if(this.l){var n=this.l[t.type+e];if(t.t==null)t.t=ak++;else if(t.t<n.u)return;return n(Rn.event?Rn.event(t):t)}}}function ck(e,t,n,r,i,s,a,o,u,d){var h,m,y,b,C,w,A,_,E,N,I,O,k,M,R,L,U,X=t.type;if(t.constructor!=null)return null;128&n.__u&&(u=!!(32&n.__u),s=[o=t.__e=n.__e]),(h=Rn.__b)&&h(t);e:if(typeof X=="function")try{if(_=t.props,E="prototype"in X&&X.prototype.render,N=(h=X.contextType)&&r[h.__c],I=h?N?N.props.value:h.__:r,n.__c?A=(m=t.__c=n.__c).__=m.__E:(E?t.__c=m=new X(_,I):(t.__c=m=new xl(_,I),m.constructor=X,m.render=q0e),N&&N.sub(m),m.props=_,m.state||(m.state={}),m.context=I,m.__n=r,y=m.__d=!0,m.__h=[],m._sb=[]),E&&m.__s==null&&(m.__s=m.state),E&&X.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=dl({},m.__s)),dl(m.__s,X.getDerivedStateFromProps(_,m.__s))),b=m.props,C=m.state,m.__v=t,y)E&&X.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),E&&m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(E&&X.getDerivedStateFromProps==null&&_!==b&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(_,I),!m.__e&&m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(_,m.__s,I)===!1||t.__v==n.__v){for(t.__v!=n.__v&&(m.props=_,m.state=m.__s,m.__d=!1),t.__e=n.__e,t.__k=n.__k,t.__k.some(function(F){F&&(F.__=t)}),O=0;O<m._sb.length;O++)m.__h.push(m._sb[O]);m._sb=[],m.__h.length&&a.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(_,m.__s,I),E&&m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(b,C,w)})}if(m.context=I,m.props=_,m.__P=e,m.__e=!1,k=Rn.__r,M=0,E){for(m.state=m.__s,m.__d=!1,k&&k(t),h=m.render(m.props,m.state,m.context),R=0;R<m._sb.length;R++)m.__h.push(m._sb[R]);m._sb=[]}else do m.__d=!1,k&&k(t),h=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++M<25);m.state=m.__s,m.getChildContext!=null&&(r=dl(dl({},r),m.getChildContext())),E&&!y&&m.getSnapshotBeforeUpdate!=null&&(w=m.getSnapshotBeforeUpdate(b,C)),L=h,h!=null&&h.type===cc&&h.key==null&&(L=pX(h.props.children)),o=dX(e,$v(L)?L:[L],t,n,r,i,s,a,o,u,d),m.base=t.__e,t.__u&=-161,m.__h.length&&a.push(m),A&&(m.__E=m.__=null)}catch(F){if(t.__v=null,u||s!=null)if(F.then){for(t.__u|=u?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,t.__e=o}else{for(U=s.length;U--;)ok(s[U]);MN(t)}else t.__e=n.__e,t.__k=n.__k,F.then||MN(t);Rn.__e(F,t,n)}else s==null&&t.__v==n.__v?(t.__k=n.__k,t.__e=n.__e):o=t.__e=G0e(n.__e,t,n,r,i,s,a,u,d);return(h=Rn.diffed)&&h(t),128&t.__u?void 0:o}function MN(e){e&&e.__c&&(e.__c.__e=!0),e&&e.__k&&e.__k.forEach(MN)}function hX(e,t,n){for(var r=0;r<n.length;r++)uk(n[r],n[++r],n[++r]);Rn.__c&&Rn.__c(t,e),e.some(function(i){try{e=i.__h,i.__h=[],e.some(function(s){s.call(i)})}catch(s){Rn.__e(s,i.__v)}})}function pX(e){return typeof e!="object"||e==null||e.__b&&e.__b>0?e:$v(e)?e.map(pX):dl({},e)}function G0e(e,t,n,r,i,s,a,o,u){var d,h,m,y,b,C,w,A=n.props,_=t.props,E=t.type;if(E=="svg"?i="http://www.w3.org/2000/svg":E=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(d=0;d<s.length;d++)if((b=s[d])&&"setAttribute"in b==!!E&&(E?b.localName==E:b.nodeType==3)){e=b,s[d]=null;break}}if(e==null){if(E==null)return document.createTextNode(_);e=document.createElementNS(i,E,_.is&&_),o&&(Rn.__m&&Rn.__m(t,s),o=!1),s=null}if(E==null)A===_||o&&e.data==_||(e.data=_);else{if(s=s&&Bv.call(e.childNodes),A=n.props||qy,!o&&s!=null)for(A={},d=0;d<e.attributes.length;d++)A[(b=e.attributes[d]).name]=b.value;for(d in A)if(b=A[d],d!="children"){if(d=="dangerouslySetInnerHTML")m=b;else if(!(d in _)){if(d=="value"&&"defaultValue"in _||d=="checked"&&"defaultChecked"in _)continue;Jx(e,d,null,b,i)}}for(d in _)b=_[d],d=="children"?y=b:d=="dangerouslySetInnerHTML"?h=b:d=="value"?C=b:d=="checked"?w=b:o&&typeof b!="function"||A[d]===b||Jx(e,d,b,A[d],i);if(h)o||m&&(h.__html==m.__html||h.__html==e.innerHTML)||(e.innerHTML=h.__html),t.__k=[];else if(m&&(e.innerHTML=""),dX(t.type=="template"?e.content:e,$v(y)?y:[y],t,n,r,E=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:n.__k&&_m(n,0),o,u),s!=null)for(d=s.length;d--;)ok(s[d]);o||(d="value",E=="progress"&&C==null?e.removeAttribute("value"):C!=null&&(C!==e[d]||E=="progress"&&!C||E=="option"&&C!=A[d])&&Jx(e,d,C,A[d],i),d="checked",w!=null&&w!=e[d]&&Jx(e,d,w,A[d],i))}return e}function uk(e,t,n){try{if(typeof e=="function"){var r=typeof e.__u=="function";r&&e.__u(),r&&t==null||(e.__u=e(t))}else e.current=t}catch(i){Rn.__e(i,n)}}function mX(e,t,n){var r,i;if(Rn.unmount&&Rn.unmount(e),(r=e.ref)&&(r.current&&r.current!=e.__e||uk(r,null,t)),(r=e.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){Rn.__e(s,t)}r.base=r.__P=null}if(r=e.__k)for(i=0;i<r.length;i++)r[i]&&mX(r[i],t,n||typeof e.type!="function");n||ok(e.__e),e.__c=e.__=e.__e=void 0}function q0e(e,t,n){return this.constructor(e,n)}function VR(e,t,n){var r,i,s,a;t==document&&(t=document.documentElement),Rn.__&&Rn.__(e,t),i=(r=typeof n=="function")?null:t.__k,s=[],a=[],ck(t,e=(!r&&n||t).__k=lk(cc,null,[e]),i||qy,qy,t.namespaceURI,!r&&n?[n]:i?null:t.firstChild?Bv.call(t.childNodes):null,s,!r&&n?n:i?i.__e:t.firstChild,r,a),hX(s,e,a)}function gX(e,t,n){var r,i,s,a,o=dl({},e.props);for(s in e.type&&e.type.defaultProps&&(a=e.type.defaultProps),t)s=="key"?r=t[s]:s=="ref"?i=t[s]:o[s]=t[s]===void 0&&a!=null?a[s]:t[s];return arguments.length>2&&(o.children=arguments.length>3?Bv.call(arguments,2):n),ly(e.type,o,r||e.key,i||e.ref,null)}Bv=cX.slice,Rn={__e:function(e,t,n,r){for(var i,s,a;t=t.__;)if((i=t.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(e)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(e,r||{}),a=i.__d),a)return i.__E=i}catch(o){e=o}throw e}},sX=0,xl.prototype.setState=function(e,t){var n;n=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=dl({},this.state),typeof e=="function"&&(e=e(dl({},n),this.props)),e&&dl(n,e),e!=null&&this.__v&&(t&&this._sb.push(t),$R(this))},xl.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),$R(this))},xl.prototype.render=cc,Vd=[],aX=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,oX=function(e,t){return e.__v.__b-t.__v.__b},qw.__r=0,lX=/(PointerCapture)$|Capture$/i,ak=0,kN=zR(!1),IN=zR(!0);var K0e=0;function ie(e,t,n,r,i,s){t||(t={});var a,o,u=t;if("ref"in u)for(o in u={},t)o=="ref"?a=t[o]:u[o]=t[o];var d={type:e,props:u,key:n,ref:a,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--K0e,__i:-1,__u:0,__source:i,__self:s};if(typeof e=="function"&&(a=e.defaultProps))for(o in a)u[o]===void 0&&(u[o]=a[o]);return Rn.vnode&&Rn.vnode(d),d}var Ky,Mr,XE,WR,Xy=0,yX=[],Hr=Rn,HR=Hr.__b,GR=Hr.__r,qR=Hr.diffed,KR=Hr.__c,XR=Hr.unmount,YR=Hr.__;function dk(e,t){Hr.__h&&Hr.__h(Mr,e,Xy||t),Xy=0;var n=Mr.__H||(Mr.__H={__:[],__h:[]});return e>=n.__.length&&n.__.push({}),n.__[e]}function Tm(e){return Xy=1,X0e(xX,e)}function X0e(e,t,n){var r=dk(Ky++,2);if(r.t=e,!r.__c&&(r.__=[xX(void 0,t),function(o){var u=r.__N?r.__N[0]:r.__[0],d=r.t(u,o);u!==d&&(r.__N=[d,r.__[1]],r.__c.setState({}))}],r.__c=Mr,!Mr.__f)){var i=function(o,u,d){if(!r.__c.__H)return!0;var h=r.__c.__H.__.filter(function(y){return!!y.__c});if(h.every(function(y){return!y.__N}))return!s||s.call(this,o,u,d);var m=r.__c.props!==o;return h.forEach(function(y){if(y.__N){var b=y.__[0];y.__=y.__N,y.__N=void 0,b!==y.__[0]&&(m=!0)}}),s&&s.call(this,o,u,d)||m};Mr.__f=!0;var s=Mr.shouldComponentUpdate,a=Mr.componentWillUpdate;Mr.componentWillUpdate=function(o,u,d){if(this.__e){var h=s;s=void 0,i(o,u,d),s=h}a&&a.call(this,o,u,d)},Mr.shouldComponentUpdate=i}return r.__N||r.__}function Kw(e,t){var n=dk(Ky++,3);!Hr.__s&&vX(n.__H,t)&&(n.__=e,n.u=t,Mr.__H.__h.push(n))}function cy(e){return Xy=5,fk(function(){return{current:e}},[])}function fk(e,t){var n=dk(Ky++,7);return vX(n.__H,t)&&(n.__=e(),n.__H=t,n.__h=e),n.__}function Xw(e,t){return Xy=8,fk(function(){return e},t)}function Y0e(){for(var e;e=yX.shift();)if(e.__P&&e.__H)try{e.__H.__h.forEach(Yb),e.__H.__h.forEach(DN),e.__H.__h=[]}catch(t){e.__H.__h=[],Hr.__e(t,e.__v)}}Hr.__b=function(e){Mr=null,HR&&HR(e)},Hr.__=function(e,t){e&&t.__k&&t.__k.__m&&(e.__m=t.__k.__m),YR&&YR(e,t)},Hr.__r=function(e){GR&&GR(e),Ky=0;var t=(Mr=e.__c).__H;t&&(XE===Mr?(t.__h=[],Mr.__h=[],t.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(t.__h.forEach(Yb),t.__h.forEach(DN),t.__h=[],Ky=0)),XE=Mr},Hr.diffed=function(e){qR&&qR(e);var t=e.__c;t&&t.__H&&(t.__H.__h.length&&(yX.push(t)!==1&&WR===Hr.requestAnimationFrame||((WR=Hr.requestAnimationFrame)||Z0e)(Y0e)),t.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),XE=Mr=null},Hr.__c=function(e,t){t.some(function(n){try{n.__h.forEach(Yb),n.__h=n.__h.filter(function(r){return!r.__||DN(r)})}catch(r){t.some(function(i){i.__h&&(i.__h=[])}),t=[],Hr.__e(r,n.__v)}}),KR&&KR(e,t)},Hr.unmount=function(e){XR&&XR(e);var t,n=e.__c;n&&n.__H&&(n.__H.__.forEach(function(r){try{Yb(r)}catch(i){t=i}}),n.__H=void 0,t&&Hr.__e(t,n.__v))};var ZR=typeof requestAnimationFrame=="function";function Z0e(e){var t,n=function(){clearTimeout(r),ZR&&cancelAnimationFrame(t),setTimeout(e)},r=setTimeout(n,35);ZR&&(t=requestAnimationFrame(n))}function Yb(e){var t=Mr,n=e.__c;typeof n=="function"&&(e.__c=void 0,n()),Mr=t}function DN(e){var t=Mr;e.__c=e.__(),Mr=t}function vX(e,t){return!e||e.length!==t.length||t.some(function(n,r){return n!==e[r]})}function xX(e,t){return typeof t=="function"?t(e):t}const Q0e={position:"relative",width:"100%",minHeight:"100%"},J0e={position:"absolute",top:0,left:0,width:"100%",overflow:"visible"};function eye({data:e,rowHeight:t,renderRow:n,overscanCount:r=10,padding:i=4,...s}){const a=cy(null),[o,u]=Tm(0),[d,h]=Tm(0);Kw(()=>{function E(){a.current!=null&&d!==a.current.offsetHeight&&h(a.current.offsetHeight)}return E(),window.addEventListener("resize",E),()=>{window.removeEventListener("resize",E)}},[d]);const m=Xw(()=>{a.current&&u(a.current.scrollTop)},[]);let y=Math.floor(o/t),b=Math.floor(d/t);r&&(y=Math.max(0,y-y%r),b+=r);const C=y+b+i,w=e.slice(y,C),A={...Q0e,height:e.length*t},_={...J0e,top:y*t};return ie("div",{onScroll:m,ref:a,...s,children:ie("div",{role:"presentation",style:A,children:ie("div",{role:"presentation",style:_,children:w.map(n)})})})}class bX{constructor(t,n){Q(this,"uppy");Q(this,"opts");Q(this,"id");Q(this,"defaultLocale");Q(this,"i18n");Q(this,"i18nArray");Q(this,"type");Q(this,"VERSION");this.uppy=t,this.opts=n??{}}getPluginState(){const{plugins:t}=this.uppy.getState();return(t==null?void 0:t[this.id])||{}}setPluginState(t){const{plugins:n}=this.uppy.getState();this.uppy.setState({plugins:{...n,[this.id]:{...n[this.id],...t}}})}setOptions(t){this.opts={...this.opts,...t},this.setPluginState(void 0),this.i18nInit()}i18nInit(){const t=new rX([this.defaultLocale,this.uppy.locale,this.opts.locale]);this.i18n=t.translate.bind(t),this.i18nArray=t.translateArray.bind(t),this.setPluginState(void 0)}addTarget(t){throw new Error("Extend the addTarget method to add your plugin to another plugin's target")}install(){}uninstall(){}update(t){}afterUpdate(){}}var al,av;class tye{constructor(t){Ae(this,al);Ae(this,av,[]);_e(this,al,t)}on(t,n){return B(this,av).push([t,n]),B(this,al).on(t,n)}remove(){for(const[t,n]of B(this,av).splice(0))B(this,al).off(t,n)}onFilePause(t,n){this.on("upload-pause",(r,i)=>{t===(r==null?void 0:r.id)&&n(i)})}onFileRemove(t,n){this.on("file-removed",r=>{t===r.id&&n(r.id)})}onPause(t,n){this.on("upload-pause",(r,i)=>{t===(r==null?void 0:r.id)&&n(i)})}onRetry(t,n){this.on("upload-retry",r=>{t===(r==null?void 0:r.id)&&n()})}onRetryAll(t,n){this.on("retry-all",()=>{B(this,al).getFile(t)&&n()})}onPauseAll(t,n){this.on("pause-all",()=>{B(this,al).getFile(t)&&n()})}onCancelAll(t,n){this.on("cancel-all",(...r)=>{B(this,al).getFile(t)&&n(...r)})}onResumeAll(t,n){this.on("resume-all",()=>{B(this,al).getFile(t)&&n()})}}al=new WeakMap,av=new WeakMap;const nye={debug:()=>{},warn:()=>{},error:(...e)=>console.error(`[Uppy] [${Xb()}]`,...e)},rye={debug:(...e)=>console.debug(`[Uppy] [${Xb()}]`,...e),warn:(...e)=>console.warn(`[Uppy] [${Xb()}]`,...e),error:(...e)=>console.error(`[Uppy] [${Xb()}]`,...e)};var iye=function(t){if(typeof t!="number"||Number.isNaN(t))throw new TypeError(`Expected a number, got ${typeof t}`);const n=t<0;let r=Math.abs(t);if(n&&(r=-r),r===0)return"0 B";const i=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],s=Math.min(Math.floor(Math.log(r)/Math.log(1024)),i.length-1),a=Number(r/1024**s),o=i[s];return`${a>=10||a%1===0?Math.round(a):a.toFixed(1)} ${o}`};const Yd=en(iye);function wX(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}wX.prototype.match=function(e){var t=!0,n=this.parts,r,i=n.length,s;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(s=(e||"").split(this.separator),r=0;t&&r<i;r++)n[r]!=="*"&&(r<s.length?t=n[r]===s[r]:t=!1);t=t&&s}else if(typeof e.splice=="function")for(t=[],r=e.length;r--;)this.match(e[r])&&(t[t.length]=e[r]);else if(typeof e=="object"){t={};for(var a in e)this.match(a)&&(t[a]=e[a])}return t};var sye=function(e,t,n){var r=new wX(e,n||/[\/\.]/);return typeof t<"u"?r.match(t):r},aye=sye,oye=/[\/\+\.]/,lye=function(e,t){function n(r){var i=aye(r,e,oye);return i&&i.length>=2}return t?n(t.split(";")[0]):n};const cye=en(lye),uye={maxFileSize:null,minFileSize:null,maxTotalFileSize:null,maxNumberOfFiles:null,minNumberOfFiles:null,allowedFileTypes:null,requiredMetaFields:[]};class xo extends Error{constructor(n,r){super(n);Q(this,"isUserFacing");Q(this,"file");Q(this,"isRestriction",!0);this.isUserFacing=(r==null?void 0:r.isUserFacing)??!0,r!=null&&r.file&&(this.file=r.file)}}class dye{constructor(t,n){Q(this,"getI18n");Q(this,"getOpts");this.getI18n=n,this.getOpts=()=>{var i;const r=t();if(((i=r.restrictions)==null?void 0:i.allowedFileTypes)!=null&&!Array.isArray(r.restrictions.allowedFileTypes))throw new TypeError("`restrictions.allowedFileTypes` must be an array");return r}}validateAggregateRestrictions(t,n){const{maxTotalFileSize:r,maxNumberOfFiles:i}=this.getOpts().restrictions;if(i&&t.filter(a=>!a.isGhost).length+n.length>i)throw new xo(`${this.getI18n()("youCanOnlyUploadX",{smart_count:i})}`);if(r){const s=[...t,...n].reduce((a,o)=>a+(o.size??0),0);if(s>r)throw new xo(this.getI18n()("aggregateExceedsSize",{sizeAllowed:Yd(r),size:Yd(s)}))}}validateSingleFile(t){const{maxFileSize:n,minFileSize:r,allowedFileTypes:i}=this.getOpts().restrictions;if(i&&!i.some(a=>a.includes("/")?t.type?cye(t.type.replace(/;.*?$/,""),a):!1:a[0]==="."&&t.extension?t.extension.toLowerCase()===a.slice(1).toLowerCase():!1)){const a=i.join(", ");throw new xo(this.getI18n()("youCanOnlyUploadFileTypes",{types:a}),{file:t})}if(n&&t.size!=null&&t.size>n)throw new xo(this.getI18n()("exceedsSize",{size:Yd(n),file:t.name??this.getI18n()("unnamed")}),{file:t});if(r&&t.size!=null&&t.size<r)throw new xo(this.getI18n()("inferiorSize",{size:Yd(r)}),{file:t})}validate(t,n){n.forEach(r=>{this.validateSingleFile(r)}),this.validateAggregateRestrictions(t,n)}validateMinNumberOfFiles(t){const{minNumberOfFiles:n}=this.getOpts().restrictions;if(n&&Object.keys(t).length<n)throw new xo(this.getI18n()("youHaveToAtLeastSelectX",{smart_count:n}))}getMissingRequiredMetaFields(t){const n=new xo(this.getI18n()("missingRequiredMetaFieldOnFile",{fileName:t.name??this.getI18n()("unnamed")})),{requiredMetaFields:r}=this.getOpts().restrictions,i=[];for(const s of r)(!Object.hasOwn(t.meta,s)||t.meta[s]==="")&&i.push(s);return{missingFields:i,error:n}}}function fye(e){let t=null,n;return(...r)=>(n=r,t||(t=Promise.resolve().then(()=>(t=null,e(...n)))),t)}var ov;const kS=class kS extends bX{constructor(){super(...arguments);Ae(this,ov);Q(this,"isTargetDOMEl");Q(this,"el");Q(this,"parent");Q(this,"title")}getTargetPlugin(n){let r;if(typeof(n==null?void 0:n.addTarget)=="function")r=n,r instanceof kS||console.warn(new Error("The provided plugin is not an instance of UIPlugin. This is an indication of a bug with the way Uppy is bundled.",{cause:{targetPlugin:r,UIPlugin:kS}}));else if(typeof n=="function"){const i=n;this.uppy.iteratePlugins(s=>{s instanceof i&&(r=s)})}return r}mount(n,r){const i=r.id,s=A0e(n);if(s){this.isTargetDOMEl=!0;const u=document.createElement("div");return u.classList.add("uppy-Root"),_e(this,ov,fye(d=>{this.uppy.getPlugin(this.id)&&(VR(this.render(d,u),u),this.afterUpdate())})),this.uppy.log(`Installing ${i} to a DOM element '${n}'`),this.opts.replaceTargetContent&&(s.innerHTML=""),VR(this.render(this.uppy.getState(),u),u),this.el=u,s.appendChild(u),u.dir=this.opts.direction||I0e(u)||"ltr",this.onMount(),this.el}const a=this.getTargetPlugin(n);if(a)return this.uppy.log(`Installing ${i} to ${a.id}`),this.parent=a,this.el=a.addTarget(r),this.onMount(),this.el;this.uppy.log(`Not installing ${i}`);let o=`Invalid target option given to ${i}.`;throw typeof n=="function"?o+=" The given target is not a Plugin class. Please check that you're not specifying a React Component instead of a plugin. If you are using @uppy/* packages directly, make sure you have only 1 version of @uppy/core installed: run `npm ls @uppy/core` on the command line and verify that all the versions match and are deduped correctly.":o+="If you meant to target an HTML element, please make sure that the element exists. Check that the <script> tag initializing Uppy is right before the closing </body> tag at the end of the page. (see https://github.com/transloadit/uppy/issues/1042)\n\nIf you meant to target a plugin, please confirm that your `import` statements or `require` calls are correct.",new Error(o)}render(n,r){throw new Error("Extend the render method to add your plugin to a DOM element")}update(n){var r;this.el!=null&&((r=B(this,ov))==null||r.call(this,n))}unmount(){var n;this.isTargetDOMEl&&((n=this.el)==null||n.remove()),this.onUnmount()}onMount(){}onUnmount(){}};ov=new WeakMap;let Yw=kS;const hye="@uppy/store-default",pye="The default simple object-based store for Uppy.",mye="5.0.0",gye="MIT",yye="lib/index.js",vye="module",xye=!1,bye={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},wye=["file uploader","uppy","uppy-store"],Sye="https://uppy.io",Cye={url:"https://github.com/transloadit/uppy/issues"},Aye={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},Eye={type:"git",url:"git+https://github.com/transloadit/uppy.git"},_ye={".":"./lib/index.js","./package.json":"./package.json"},Tye=["src","lib","dist","CHANGELOG.md"],Nye={name:hye,description:pye,version:mye,license:gye,main:yye,type:vye,sideEffects:xye,scripts:bye,keywords:wye,homepage:Sye,bugs:Cye,devDependencies:Aye,repository:Eye,exports:_ye,files:Tye};var Xp,IS,CX;class SX{constructor(){Ae(this,IS);Q(this,"state",{});Ae(this,Xp,new Set)}getState(){return this.state}setState(t){const n={...this.state},r={...this.state,...t};this.state=r,Me(this,IS,CX).call(this,n,r,t)}subscribe(t){return B(this,Xp).add(t),()=>{B(this,Xp).delete(t)}}}Xp=new WeakMap,IS=new WeakSet,CX=function(...t){B(this,Xp).forEach(n=>{n(...t)})},Q(SX,"VERSION",Nye.version);function Pye(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var fd=Pye;const _g=en(fd);var Oye=typeof ic=="object"&&ic&&ic.Object===Object&&ic,AX=Oye,jye=AX,kye=typeof self=="object"&&self&&self.Object===Object&&self,Iye=jye||kye||Function("return this")(),Ml=Iye,Mye=Ml,Dye=function(){return Mye.Date.now()},Rye=Dye,Fye=/\s/;function Lye(e){for(var t=e.length;t--&&Fye.test(e.charAt(t)););return t}var Bye=Lye,$ye=Bye,Uye=/^\s+/;function zye(e){return e&&e.slice(0,$ye(e)+1).replace(Uye,"")}var Vye=zye,Wye=Ml,Hye=Wye.Symbol,Uv=Hye,QR=Uv,EX=Object.prototype,Gye=EX.hasOwnProperty,qye=EX.toString,p0=QR?QR.toStringTag:void 0;function Kye(e){var t=Gye.call(e,p0),n=e[p0];try{e[p0]=void 0;var r=!0}catch{}var i=qye.call(e);return r&&(t?e[p0]=n:delete e[p0]),i}var Xye=Kye,Yye=Object.prototype,Zye=Yye.toString;function Qye(e){return Zye.call(e)}var Jye=Qye,JR=Uv,e1e=Xye,t1e=Jye,n1e="[object Null]",r1e="[object Undefined]",e5=JR?JR.toStringTag:void 0;function i1e(e){return e==null?e===void 0?r1e:n1e:e5&&e5 in Object(e)?e1e(e):t1e(e)}var $c=i1e;function s1e(e){return e!=null&&typeof e=="object"}var Uc=s1e,a1e=$c,o1e=Uc,l1e="[object Symbol]";function c1e(e){return typeof e=="symbol"||o1e(e)&&a1e(e)==l1e}var Tg=c1e,u1e=Vye,t5=fd,d1e=Tg,n5=NaN,f1e=/^[-+]0x[0-9a-f]+$/i,h1e=/^0b[01]+$/i,p1e=/^0o[0-7]+$/i,m1e=parseInt;function g1e(e){if(typeof e=="number")return e;if(d1e(e))return n5;if(t5(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=t5(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=u1e(e);var n=h1e.test(e);return n||p1e.test(e)?m1e(e.slice(2),n?2:8):f1e.test(e)?n5:+e}var _X=g1e,y1e=fd,YE=Rye,r5=_X,v1e="Expected a function",x1e=Math.max,b1e=Math.min;function w1e(e,t,n){var r,i,s,a,o,u,d=0,h=!1,m=!1,y=!0;if(typeof e!="function")throw new TypeError(v1e);t=r5(t)||0,y1e(n)&&(h=!!n.leading,m="maxWait"in n,s=m?x1e(r5(n.maxWait)||0,t):s,y="trailing"in n?!!n.trailing:y);function b(k){var M=r,R=i;return r=i=void 0,d=k,a=e.apply(R,M),a}function C(k){return d=k,o=setTimeout(_,t),h?b(k):a}function w(k){var M=k-u,R=k-d,L=t-M;return m?b1e(L,s-R):L}function A(k){var M=k-u,R=k-d;return u===void 0||M>=t||M<0||m&&R>=s}function _(){var k=YE();if(A(k))return E(k);o=setTimeout(_,w(k))}function E(k){return o=void 0,y&&r?b(k):(r=i=void 0,a)}function N(){o!==void 0&&clearTimeout(o),d=0,r=u=i=o=void 0}function I(){return o===void 0?a:E(YE())}function O(){var k=YE(),M=A(k);if(r=arguments,i=this,u=k,M){if(o===void 0)return C(u);if(m)return clearTimeout(o),o=setTimeout(_,t),b(u)}return o===void 0&&(o=setTimeout(_,t)),a}return O.cancel=N,O.flush=I,O}var TX=w1e;const S1e=en(TX);var C1e=TX,A1e=fd,E1e="Expected a function";function _1e(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(E1e);return A1e(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),C1e(e,t,{leading:r,maxWait:t,trailing:i})}var T1e=_1e;const hk=en(T1e);var N1e=function(){var t={},n=t._fns={};t.emit=function(a,o,u,d,h,m,y){var b=r(a);b.length&&i(a,b,[o,u,d,h,m,y])},t.on=function(a,o){n[a]||(n[a]=[]),n[a].push(o)},t.once=function(a,o){function u(){o.apply(this,arguments),t.off(a,u)}this.on(a,u)},t.off=function(a,o){var u=[];if(a&&o){var d=this._fns[a],h=0,m=d?d.length:0;for(h;h<m;h++)d[h]!==o&&u.push(d[h])}u.length?this._fns[a]=u:delete this._fns[a]};function r(s){var a=n[s]?n[s]:[],o=s.indexOf(":"),u=o===-1?[s]:[s.substring(0,o),s.substring(o+1)],d=Object.keys(n),h=0,m=d.length;for(h;h<m;h++){var y=d[h];if(y==="*"&&(a=a.concat(n[y])),u.length===2&&u[0]===y){a=a.concat(n[y]);break}}return a}function i(s,a,o){var u=0,d=a.length;for(u;u<d&&a[u];u++)a[u].event=s,a[u].apply(a[u],o)}return t};const P1e=en(N1e);let O1e="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",j1e=(e=21)=>{let t="",n=e|0;for(;n--;)t+=O1e[Math.random()*64|0];return t};const k1e="@uppy/core",I1e="Core module for the extensible JavaScript file upload widget with support for drag&drop, resumable uploads, previews, restrictions, file processing/encoding, remote providers like Instagram, Dropbox, Google Drive, S3 and more :dog:",M1e="5.1.0",D1e="MIT",R1e="dist/style.min.css",F1e="module",L1e=["*.css"],B1e={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},$1e=["file uploader","uppy","uppy-plugin"],U1e="https://uppy.io",z1e={url:"https://github.com/transloadit/uppy/issues"},V1e={type:"git",url:"git+https://github.com/transloadit/uppy.git"},W1e=["src","lib","dist","CHANGELOG.md"],H1e={".":"./lib/index.js","./css/style.min.css":"./dist/style.min.css","./css/style.css":"./dist/style.css","./css/style.scss":"./src/style.scss","./package.json":"./package.json"},G1e={"@transloadit/prettier-bytes":"^0.3.4","@uppy/store-default":"^5.0.0","@uppy/utils":"^7.1.0",lodash:"^4.17.21","mime-match":"^1.0.2","namespace-emitter":"^2.0.1",nanoid:"^5.0.9",preact:"^10.5.13"},q1e={"@types/deep-freeze":"^0",cssnano:"^7.0.7","deep-freeze":"^0.0.1",jsdom:"^26.1.0",postcss:"^8.5.6","postcss-cli":"^11.0.1",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},K1e={name:k1e,description:I1e,version:M1e,license:D1e,style:R1e,type:F1e,sideEffects:L1e,scripts:B1e,keywords:$1e,homepage:U1e,bugs:z1e,repository:V1e,files:W1e,exports:H1e,dependencies:G1e,devDependencies:q1e};function X1e(e,t){return t.name?t.name:e.split("/")[0]==="image"?`${e.split("/")[0]}.${e.split("/")[1]}`:"noname"}const Y1e={strings:{addBulkFilesFailed:{0:"Failed to add %{smart_count} file due to an internal error",1:"Failed to add %{smart_count} files due to internal errors"},youCanOnlyUploadX:{0:"You can only upload %{smart_count} file",1:"You can only upload %{smart_count} files"},youHaveToAtLeastSelectX:{0:"You have to select at least %{smart_count} file",1:"You have to select at least %{smart_count} files"},aggregateExceedsSize:"You selected %{size} of files, but maximum allowed size is %{sizeAllowed}",exceedsSize:"%{file} exceeds maximum allowed size of %{size}",missingRequiredMetaField:"Missing required meta fields",missingRequiredMetaFieldOnFile:"Missing required meta fields in %{fileName}",inferiorSize:"This file is smaller than the allowed size of %{size}",youCanOnlyUploadFileTypes:"You can only upload: %{types}",noMoreFilesAllowed:"Cannot add more files",noDuplicates:"Cannot add the duplicate file '%{fileName}', it already exists",companionError:"Connection with Companion failed",authAborted:"Authentication aborted",companionUnauthorizeHint:"To unauthorize to your %{provider} account, please go to %{url}",failedToUpload:"Failed to upload %{file}",noInternetConnection:"No Internet connection",connectedToInternet:"Connected to the Internet",noFilesFound:"You have no files or folders here",noSearchResults:"Unfortunately, there are no results for this search",selectX:{0:"Select %{smart_count}",1:"Select %{smart_count}"},allFilesFromFolderNamed:"All files from folder %{name}",openFolderNamed:"Open folder %{name}",cancel:"Cancel",logOut:"Log out",logIn:"Log in",pickFiles:"Pick files",pickPhotos:"Pick photos",filter:"Filter",resetFilter:"Reset filter",loading:"Loading...",loadedXFiles:"Loaded %{numFiles} files",authenticateWithTitle:"Please authenticate with %{pluginName} to select files",authenticateWith:"Connect to %{pluginName}",signInWithGoogle:"Sign in with Google",searchImages:"Search for images",enterTextToSearch:"Enter text to search for images",search:"Search",resetSearch:"Reset search",emptyFolderAdded:"No files were added from empty folder",addedNumFiles:"Added %{numFiles} file(s)",folderAlreadyAdded:'The folder "%{folder}" was already added',folderAdded:{0:"Added %{smart_count} file from %{folder}",1:"Added %{smart_count} files from %{folder}"},additionalRestrictionsFailed:"%{count} additional restrictions were not fulfilled",unnamed:"Unnamed",pleaseWait:"Please wait"}};function Z1e(e){if(e==null&&typeof navigator<"u"&&(e=navigator.userAgent),!e)return!0;const t=/Edge\/(\d+\.\d+)/.exec(e);if(!t)return!0;const r=t[1].split(".",2),i=parseInt(r[0],10),s=parseInt(r[1],10);return i<15||i===15&&s<15063||i>18||i===18&&s>=18218}const eb={totalProgress:0,allowNewUpload:!0,error:null,recoveredState:null};var fo,ho,lv,ff,Yp,Zp,hf,_t,Dd,FN,NX,LN,PX,BN,$N,UN,zN,MS,VN,pf,OX,jX,Au,cv,U0,kX,Zb,z0;const DS=class DS{constructor(t){Ae(this,_t);Ae(this,fo,Object.create(null));Ae(this,ho);Ae(this,lv);Ae(this,ff,P1e());Ae(this,Yp,new Set);Ae(this,Zp,new Set);Ae(this,hf,new Set);Q(this,"defaultLocale");Q(this,"locale");Q(this,"opts");Q(this,"store");Q(this,"i18n");Q(this,"i18nArray");Q(this,"scheduledAutoProceed",null);Q(this,"wasOffline",!1);Ae(this,MS,(t,n)=>{const r=t?this.getFile(t.id):void 0;if(t==null||!r){this.log(`Not setting progress for a file that has been removed: ${t==null?void 0:t.id}`);return}if(r.progress.percentage===100){this.log(`Not setting progress for a file that has been already uploaded: ${t.id}`);return}const i={bytesTotal:n.bytesTotal,percentage:n.bytesTotal!=null&&Number.isFinite(n.bytesTotal)&&n.bytesTotal>0?Math.round(n.bytesUploaded/n.bytesTotal*100):void 0};r.progress.uploadStarted!=null?this.setFileState(t.id,{progress:{...r.progress,...i,bytesUploaded:n.bytesUploaded}}):this.setFileState(t.id,{progress:{...r.progress,...i}}),B(this,pf).call(this)});Ae(this,pf,hk(()=>Me(this,_t,VN).call(this),500,{leading:!0,trailing:!0}));Ae(this,Au,this.updateOnlineStatus.bind(this));Ae(this,cv,new Map);this.defaultLocale=Y1e;const n={id:"uppy",autoProceed:!1,allowMultipleUploadBatches:!0,debug:!1,restrictions:uye,meta:{},onBeforeFileAdded:(i,s)=>!Object.hasOwn(s,i.id),onBeforeUpload:i=>i,store:new SX,logger:nye,infoTimeout:5e3},r={...n,...t};this.opts={...r,restrictions:{...n.restrictions,...t==null?void 0:t.restrictions}},t!=null&&t.logger&&t.debug?this.log("You are using a custom `logger`, but also set `debug: true`, which uses built-in logger to output logs to console. Ignoring `debug: true` and using your custom `logger`.","warning"):t!=null&&t.debug&&(this.opts.logger=rye),this.log(`Using Core v${DS.VERSION}`),this.i18nInit(),this.store=this.opts.store,this.setState({...eb,plugins:{},files:{},currentUploads:{},capabilities:{uploadProgress:Z1e(),individualCancellation:!0,resumableUploads:!1},meta:{...this.opts.meta},info:[]}),_e(this,ho,new dye(()=>this.opts,()=>this.i18n)),_e(this,lv,this.store.subscribe((i,s,a)=>{this.emit("state-update",i,s,a),this.updateAll(s)})),this.opts.debug&&typeof window<"u"&&(window[this.opts.id]=this),Me(this,_t,jX).call(this)}emit(t,...n){B(this,ff).emit(t,...n)}on(t,n){return B(this,ff).on(t,n),this}once(t,n){return B(this,ff).once(t,n),this}off(t,n){return B(this,ff).off(t,n),this}updateAll(t){this.iteratePlugins(n=>{n.update(t)})}setState(t){this.store.setState(t)}getState(){return this.store.getState()}patchFilesState(t){const n=this.getState().files;this.setState({files:{...n,...Object.fromEntries(Object.entries(t).map(([r,i])=>[r,{...n[r],...i}]))}})}setFileState(t,n){if(!this.getState().files[t])throw new Error(`Cant set state for ${t} (the file could have been removed)`);this.patchFilesState({[t]:n})}i18nInit(){const t=r=>this.log(`Missing i18n string: ${r}`,"error"),n=new rX([this.defaultLocale,this.opts.locale],{onMissingKey:t});this.i18n=n.translate.bind(n),this.i18nArray=n.translateArray.bind(n),this.locale=n.locale}setOptions(t){this.opts={...this.opts,...t,restrictions:{...this.opts.restrictions,...t==null?void 0:t.restrictions}},t.meta&&this.setMeta(t.meta),this.i18nInit(),t.locale&&this.iteratePlugins(n=>{n.setOptions(t)}),this.setState(void 0)}resetProgress(){const t={percentage:0,bytesUploaded:!1,uploadComplete:!1,uploadStarted:null},n={...this.getState().files},r=Object.create(null);Object.keys(n).forEach(i=>{r[i]={...n[i],progress:{...n[i].progress,...t},tus:void 0,transloadit:void 0}}),this.setState({files:r,...eb})}clear(){const{capabilities:t,currentUploads:n}=this.getState();if(Object.keys(n).length>0&&!t.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");this.setState({...eb,files:{}})}addPreProcessor(t){B(this,Yp).add(t)}removePreProcessor(t){return B(this,Yp).delete(t)}addPostProcessor(t){B(this,hf).add(t)}removePostProcessor(t){return B(this,hf).delete(t)}addUploader(t){B(this,Zp).add(t)}removeUploader(t){return B(this,Zp).delete(t)}setMeta(t){const n={...this.getState().meta,...t},r={...this.getState().files};Object.keys(r).forEach(i=>{r[i]={...r[i],meta:{...r[i].meta,...t}}}),this.log("Adding metadata:"),this.log(t),this.setState({meta:n,files:r})}setFileMeta(t,n){const r={...this.getState().files};if(!r[t]){this.log(`Was trying to set metadata for a file that has been removed: ${t}`);return}const i={...r[t].meta,...n};r[t]={...r[t],meta:i},this.setState({files:r})}getFile(t){return this.getState().files[t]}getFiles(){const{files:t}=this.getState();return Object.values(t)}getFilesByIds(t){return t.map(n=>this.getFile(n))}getObjectOfFilesPerState(){const{files:t,totalProgress:n,error:r}=this.getState(),i=Object.values(t),s=[],a=[],o=[],u=[],d=[],h=[],m=[],y=[],b=[];for(const C of i){const{progress:w}=C;!w.uploadComplete&&w.uploadStarted&&(s.push(C),C.isPaused||y.push(C)),w.uploadStarted||a.push(C),(w.uploadStarted||w.preprocess||w.postprocess)&&o.push(C),w.uploadStarted&&u.push(C),C.isPaused&&d.push(C),w.uploadComplete&&h.push(C),C.error&&m.push(C),(w.preprocess||w.postprocess)&&b.push(C)}return{newFiles:a,startedFiles:o,uploadStartedFiles:u,pausedFiles:d,completeFiles:h,erroredFiles:m,inProgressFiles:s,inProgressNotPausedFiles:y,processingFiles:b,isUploadStarted:u.length>0,isAllComplete:n===100&&h.length===i.length&&b.length===0,isAllErrored:!!r&&m.length===i.length,isAllPaused:s.length!==0&&d.length===s.length,isUploadInProgress:s.length>0,isSomeGhost:i.some(C=>C.isGhost)}}validateRestrictions(t,n=this.getFiles()){try{B(this,ho).validate(n,[t])}catch(r){return r}return null}validateSingleFile(t){try{B(this,ho).validateSingleFile(t)}catch(n){return n.message}return null}validateAggregateRestrictions(t){const n=this.getFiles();try{B(this,ho).validateAggregateRestrictions(n,t)}catch(r){return r.message}return null}checkIfFileAlreadyExists(t){const{files:n}=this.getState();return!!(n[t]&&!n[t].isGhost)}addFile(t){Me(this,_t,LN).call(this,t);const{nextFilesState:n,validFilesToAdd:r,errors:i}=Me(this,_t,$N).call(this,[t]),s=i.filter(o=>o.isRestriction);if(Me(this,_t,Dd).call(this,s),i.length>0)throw i[0];this.setState({files:n});const[a]=r;return this.emit("file-added",a),this.emit("files-added",r),this.log(`Added file: ${a.name}, ${a.id}, mime type: ${a.type}`),Me(this,_t,BN).call(this),a.id}addFiles(t){Me(this,_t,LN).call(this);const{nextFilesState:n,validFilesToAdd:r,errors:i}=Me(this,_t,$N).call(this,t),s=i.filter(o=>o.isRestriction);Me(this,_t,Dd).call(this,s);const a=i.filter(o=>!o.isRestriction);if(a.length>0){let o=`Multiple errors occurred while adding files:
`;if(a.forEach(u=>{o+=`
 * ${u.message}`}),this.info({message:this.i18n("addBulkFilesFailed",{smart_count:a.length}),details:o},"error",this.opts.infoTimeout),typeof AggregateError=="function")throw new AggregateError(a,o);{const u=new Error(o);throw u.errors=a,u}}this.setState({files:n}),r.forEach(o=>{this.emit("file-added",o)}),this.emit("files-added",r),r.length>5?this.log(`Added batch of ${r.length} files`):Object.values(r).forEach(o=>{this.log(`Added file: ${o.name}
 id: ${o.id}
 type: ${o.type}`)}),r.length>0&&Me(this,_t,BN).call(this)}removeFiles(t){const{files:n,currentUploads:r}=this.getState(),i={...n},s={...r},a=Object.create(null);t.forEach(h=>{n[h]&&(a[h]=n[h],delete i[h])});function o(h){return a[h]===void 0}Object.keys(s).forEach(h=>{const m=r[h].fileIDs.filter(o);if(m.length===0){delete s[h];return}const{capabilities:y}=this.getState();if(m.length!==r[h].fileIDs.length&&!y.individualCancellation)throw new Error("The installed uploader plugin does not allow removing files during an upload.");s[h]={...r[h],fileIDs:m}});const u={currentUploads:s,files:i};Object.keys(i).length===0&&(u.allowNewUpload=!0,u.error=null,u.recoveredState=null),this.setState(u),B(this,pf).call(this);const d=Object.keys(a);d.forEach(h=>{this.emit("file-removed",a[h])}),d.length>5?this.log(`Removed ${d.length} files`):this.log(`Removed files: ${d.join(", ")}`)}removeFile(t){this.removeFiles([t])}pauseResume(t){if(!this.getState().capabilities.resumableUploads||this.getFile(t).progress.uploadComplete)return;const n=this.getFile(t),i=!(n.isPaused||!1);return this.setFileState(t,{isPaused:i}),this.emit("upload-pause",n,i),i}pauseAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const i={...t[r],isPaused:!0};t[r]=i}),this.setState({files:t}),this.emit("pause-all")}resumeAll(){const t={...this.getState().files};Object.keys(t).filter(r=>!t[r].progress.uploadComplete&&t[r].progress.uploadStarted).forEach(r=>{const i={...t[r],isPaused:!1,error:null};t[r]=i}),this.setState({files:t}),this.emit("resume-all")}async retryAll(){const t=await Me(this,_t,zN).call(this);return this.emit("complete",t),t}cancelAll(){this.emit("cancel-all");const{files:t}=this.getState(),n=Object.keys(t);n.length&&this.removeFiles(n),this.setState(eb)}retryUpload(t){this.setFileState(t,{error:null,isPaused:!1}),this.emit("upload-retry",this.getFile(t));const n=Me(this,_t,U0).call(this,[t],{forceAllowNewUpload:!0});return Me(this,_t,z0).call(this,n)}logout(){this.iteratePlugins(t=>{var n,r;(r=(n=t.provider)==null?void 0:n.logout)==null||r.call(n)})}[Symbol.for("uppy test: updateTotalProgress")](){return Me(this,_t,VN).call(this)}updateOnlineStatus(){window.navigator.onLine??!0?(this.emit("is-online"),this.wasOffline&&(this.emit("back-online"),this.info(this.i18n("connectedToInternet"),"success",3e3),this.wasOffline=!1)):(this.emit("is-offline"),this.info(this.i18n("noInternetConnection"),"error",0),this.wasOffline=!0)}getID(){return this.opts.id}use(t,...n){if(typeof t!="function"){const a=`Expected a plugin class, but got ${t===null?"null":typeof t}. Please verify that the plugin was imported and spelled correctly.`;throw new TypeError(a)}const r=new t(this,...n),i=r.id;if(!i)throw new Error("Your plugin must have an id");if(!r.type)throw new Error("Your plugin must have a type");const s=this.getPlugin(i);if(s){const a=`Already found a plugin named '${s.id}'. Tried to use: '${i}'.
Uppy plugins must have unique \`id\` options.`;throw new Error(a)}return t.VERSION&&this.log(`Using ${i} v${t.VERSION}`),r.type in B(this,fo)?B(this,fo)[r.type].push(r):B(this,fo)[r.type]=[r],r.install(),this.emit("plugin-added",r),this}getPlugin(t){for(const n of Object.values(B(this,fo))){const r=n.find(i=>i.id===t);if(r!=null)return r}}[Symbol.for("uppy test: getPlugins")](t){return B(this,fo)[t]}iteratePlugins(t){Object.values(B(this,fo)).flat(1).forEach(t)}removePlugin(t){this.log(`Removing plugin ${t.id}`),this.emit("plugin-remove",t),t.uninstall&&t.uninstall();const n=B(this,fo)[t.type],r=n.findIndex(a=>a.id===t.id);r!==-1&&n.splice(r,1);const s={plugins:{...this.getState().plugins,[t.id]:void 0}};this.setState(s)}destroy(){this.log(`Closing Uppy instance ${this.opts.id}: removing all files and uninstalling plugins`),this.cancelAll(),B(this,lv).call(this),this.iteratePlugins(t=>{this.removePlugin(t)}),typeof window<"u"&&window.removeEventListener&&(window.removeEventListener("online",B(this,Au)),window.removeEventListener("offline",B(this,Au)))}hideInfo(){const{info:t}=this.getState();this.setState({info:t.slice(1)}),this.emit("info-hidden")}info(t,n="info",r=3e3){const i=typeof t=="object";this.setState({info:[...this.getState().info,{type:n,message:i?t.message:t,details:i?t.details:null}]}),setTimeout(()=>this.hideInfo(),r),this.emit("info-visible")}log(t,n){const{logger:r}=this.opts;switch(n){case"error":r.error(t);break;case"warning":r.warn(t);break;default:r.debug(t);break}}registerRequestClient(t,n){B(this,cv).set(t,n)}getRequestClientForFile(t){if(!t.remote)throw new Error(`Tried to get RequestClient for a non-remote file ${t.id}`);const n=B(this,cv).get(t.remote.requestClientId);if(n==null)throw new Error(`requestClientId "${t.remote.requestClientId}" not registered for file "${t.id}"`);return n}async restore(t){if(this.log(`Core: attempting to restore upload "${t}"`),!this.getState().currentUploads[t])throw Me(this,_t,Zb).call(this,t),new Error("Nonexistent upload");const n=await Me(this,_t,z0).call(this,t);return this.emit("complete",n),n}[Symbol.for("uppy test: createUpload")](...t){return Me(this,_t,U0).call(this,...t)}addResultData(t,n){if(!Me(this,_t,kX).call(this,t)){this.log(`Not setting result for an upload that has been removed: ${t}`);return}const{currentUploads:r}=this.getState(),i={...r[t],result:{...r[t].result,...n}};this.setState({currentUploads:{...r,[t]:i}})}async upload(){var i;(i=B(this,fo).uploader)!=null&&i.length||this.log("No uploader type plugins are used","warning");let{files:t}=this.getState();if(Me(this,_t,UN).call(this).length>0){const s=await Me(this,_t,zN).call(this);if(!(this.getFiles().filter(o=>o.progress.uploadStarted==null).length>0))return this.emit("complete",s),s;({files:t}=this.getState())}const r=this.opts.onBeforeUpload(t);return r===!1?Promise.reject(new Error("Not starting the upload because onBeforeUpload returned false")):(r&&typeof r=="object"&&(t=r,this.setState({files:t})),Promise.resolve().then(()=>B(this,ho).validateMinNumberOfFiles(t)).catch(s=>{throw Me(this,_t,Dd).call(this,[s]),s}).then(()=>{if(!Me(this,_t,NX).call(this,t))throw new xo(this.i18n("missingRequiredMetaField"))}).catch(s=>{throw s}).then(async()=>{const{currentUploads:s}=this.getState(),a=Object.values(s).flatMap(h=>h.fileIDs),o=[];Object.keys(t).forEach(h=>{const m=this.getFile(h);!m.progress.uploadStarted&&a.indexOf(h)===-1&&o.push(m.id)});const u=Me(this,_t,U0).call(this,o),d=await Me(this,_t,z0).call(this,u);return this.emit("complete",d),d}).catch(s=>{throw this.emit("error",s),this.log(s,"error"),s}))}};fo=new WeakMap,ho=new WeakMap,lv=new WeakMap,ff=new WeakMap,Yp=new WeakMap,Zp=new WeakMap,hf=new WeakMap,_t=new WeakSet,Dd=function(t){for(const a of t)a.isRestriction?this.emit("restriction-failed",a.file,a):this.emit("error",a,a.file),this.log(a,"warning");const n=t.filter(a=>a.isUserFacing),r=4,i=n.slice(0,r),s=n.slice(r);i.forEach(({message:a,details:o=""})=>{this.info({message:a,details:o},"error",this.opts.infoTimeout)}),s.length>0&&this.info({message:this.i18n("additionalRestrictionsFailed",{count:s.length})})},FN=function(t){const{missingFields:n,error:r}=B(this,ho).getMissingRequiredMetaFields(t);return n.length>0?(this.setFileState(t.id,{missingRequiredMetaFields:n,error:r.message}),this.log(r.message),this.emit("restriction-failed",t,r),!1):(n.length===0&&t.missingRequiredMetaFields&&this.setFileState(t.id,{missingRequiredMetaFields:[]}),!0)},NX=function(t){let n=!0;for(const r of Object.values(t))Me(this,_t,FN).call(this,r)||(n=!1);return n},LN=function(t){const{allowNewUpload:n}=this.getState();if(n===!1){const r=new xo(this.i18n("noMoreFilesAllowed"),{file:t});throw Me(this,_t,Dd).call(this,[r]),r}},PX=function(t){const n=t instanceof File?{name:t.name,type:t.type,size:t.size,data:t}:t,r=YK(n),i=X1e(r,n),s=XK(i).extension,a=N0e(n,this.getID()),o=n.meta||{};o.name=i,o.type=r;const u=Number.isFinite(n.data.size)?n.data.size:null;return{source:n.source||"",id:a,name:i,extension:s||"",meta:{...this.getState().meta,...o},type:r,data:n.data,progress:{percentage:0,bytesUploaded:!1,bytesTotal:u,uploadComplete:!1,uploadStarted:null},size:u,isGhost:!1,isRemote:n.isRemote||!1,remote:n.remote,preview:n.preview}},BN=function(){this.opts.autoProceed&&!this.scheduledAutoProceed&&(this.scheduledAutoProceed=setTimeout(()=>{this.scheduledAutoProceed=null,this.upload().catch(t=>{t.isRestriction||this.log(t.stack||t.message||t)})},4))},$N=function(t){var a;let{files:n}=this.getState(),r={...n};const i=[],s=[];for(const o of t)try{let u=Me(this,_t,PX).call(this,o);const d=(a=n[u.id])==null?void 0:a.isGhost;d&&(u={...n[u.id],isGhost:!1,data:o.data},this.log(`Replaced the blob in the restored ghost file: ${u.name}, ${u.id}`));const h=this.opts.onBeforeFileAdded(u,r);if(n=this.getState().files,r={...n,...r},!h&&this.checkIfFileAlreadyExists(u.id))throw new xo(this.i18n("noDuplicates",{fileName:u.name??this.i18n("unnamed")}),{file:o});if(h===!1&&!d)throw new xo("Cannot add the file because onBeforeFileAdded returned false.",{isUserFacing:!1,file:o});typeof h=="object"&&h!==null&&(u=h),B(this,ho).validateSingleFile(u),r[u.id]=u,i.push(u)}catch(u){s.push(u)}try{B(this,ho).validateAggregateRestrictions(Object.values(n),i)}catch(o){return s.push(o),{nextFilesState:n,validFilesToAdd:[],errors:s}}return{nextFilesState:r,validFilesToAdd:i,errors:s}},UN=function(){const{files:t}=this.getState();return Object.keys(t).filter(n=>{const r=t[n];return r.error&&(!r.missingRequiredMetaFields||r.missingRequiredMetaFields.length===0)})},zN=async function(){const t=Me(this,_t,UN).call(this),n={...this.getState().files};if(t.forEach(i=>{n[i]={...n[i],isPaused:!1,error:null}}),this.setState({files:n,error:null}),this.emit("retry-all",this.getFilesByIds(t)),t.length===0)return{successful:[],failed:[]};const r=Me(this,_t,U0).call(this,t,{forceAllowNewUpload:!0});return Me(this,_t,z0).call(this,r)},MS=new WeakMap,VN=function(){const t=Me(this,_t,OX).call(this);let n=null;t!=null&&(n=Math.round(t*100),n>100?n=100:n<0&&(n=0)),this.emit("progress",n??0),this.setState({totalProgress:n??0})},pf=new WeakMap,OX=function(){const n=this.getFiles().filter(u=>u.progress.uploadStarted||u.progress.preprocess||u.progress.postprocess);if(n.length===0)return 0;if(n.every(u=>u.progress.uploadComplete))return 1;const r=u=>u.progress.bytesTotal!=null&&u.progress.bytesTotal!==0,i=n.filter(r),s=n.filter(u=>!r(u));if(i.every(u=>u.progress.uploadComplete)&&s.length>0&&!s.every(u=>u.progress.uploadComplete))return null;const a=i.reduce((u,d)=>u+(d.progress.bytesTotal??0),0),o=i.reduce((u,d)=>u+(d.progress.bytesUploaded||0),0);return a===0?0:o/a},jX=function(){const t=(i,s,a)=>{let o=i.message||"Unknown error";i.details&&(o+=` ${i.details}`),this.setState({error:o}),s!=null&&s.id in this.getState().files&&this.setFileState(s.id,{error:o,response:a})};this.on("error",t),this.on("upload-error",(i,s,a)=>{if(t(s,i,a),typeof s=="object"&&s.message){this.log(s.message,"error");const o=new Error(this.i18n("failedToUpload",{file:(i==null?void 0:i.name)??""}));o.isUserFacing=!0,o.details=s.message,s.details&&(o.details+=` ${s.details}`),Me(this,_t,Dd).call(this,[o])}else Me(this,_t,Dd).call(this,[s])});let n=null;this.on("upload-stalled",(i,s)=>{const{message:a}=i,o=s.map(u=>u.meta.name).join(", ");n||(this.info({message:a,details:o},"warning",this.opts.infoTimeout),n=setTimeout(()=>{n=null},this.opts.infoTimeout)),this.log(`${a} ${o}`.trim(),"warning")}),this.on("upload",()=>{this.setState({error:null})});const r=i=>{const s=i.filter(o=>{const u=o!=null&&this.getFile(o.id);return u||this.log(`Not setting progress for a file that has been removed: ${o==null?void 0:o.id}`),u}),a=Object.fromEntries(s.map(o=>[o.id,{progress:{uploadStarted:Date.now(),uploadComplete:!1,bytesUploaded:0,bytesTotal:o.size}}]));this.patchFilesState(a)};this.on("upload-start",r),this.on("upload-progress",B(this,MS)),this.on("upload-success",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const a=this.getFile(i.id).progress;this.setFileState(i.id,{progress:{...a,postprocess:B(this,hf).size>0?{mode:"indeterminate"}:void 0,uploadComplete:!0,percentage:100,bytesUploaded:a.bytesTotal},response:s,uploadURL:s.uploadURL,isPaused:!1}),i.size==null&&this.setFileState(i.id,{size:s.bytesUploaded||a.bytesTotal}),B(this,pf).call(this)}),this.on("preprocess-progress",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getFile(i.id).progress,preprocess:s}})}),this.on("preprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const s={...this.getState().files};s[i.id]={...s[i.id],progress:{...s[i.id].progress}},delete s[i.id].progress.preprocess,this.setState({files:s})}),this.on("postprocess-progress",(i,s)=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}this.setFileState(i.id,{progress:{...this.getState().files[i.id].progress,postprocess:s}})}),this.on("postprocess-complete",i=>{if(i==null||!this.getFile(i.id)){this.log(`Not setting progress for a file that has been removed: ${i==null?void 0:i.id}`);return}const s={...this.getState().files};s[i.id]={...s[i.id],progress:{...s[i.id].progress}},delete s[i.id].progress.postprocess,this.setState({files:s})}),this.on("restored",()=>{B(this,pf).call(this)}),this.on("dashboard:file-edit-complete",i=>{i&&Me(this,_t,FN).call(this,i)}),typeof window<"u"&&window.addEventListener&&(window.addEventListener("online",B(this,Au)),window.addEventListener("offline",B(this,Au)),setTimeout(B(this,Au),3e3))},Au=new WeakMap,cv=new WeakMap,U0=function(t,n={}){const{forceAllowNewUpload:r=!1}=n,{allowNewUpload:i,currentUploads:s}=this.getState();if(!i&&!r)throw new Error("Cannot create a new upload: already uploading.");const a=j1e();return this.emit("upload",a,this.getFilesByIds(t)),this.setState({allowNewUpload:this.opts.allowMultipleUploadBatches!==!1&&this.opts.allowMultipleUploads!==!1,currentUploads:{...s,[a]:{fileIDs:t,step:0,result:{}}}}),a},kX=function(t){const{currentUploads:n}=this.getState();return n[t]},Zb=function(t){const n={...this.getState().currentUploads};delete n[t],this.setState({currentUploads:n})},z0=async function(t){const n=()=>{const{currentUploads:a}=this.getState();return a[t]};let r=n();const i=[...B(this,Yp),...B(this,Zp),...B(this,hf)];try{for(let a=r.step||0;a<i.length&&r;a++){const o=i[a];this.setState({currentUploads:{...this.getState().currentUploads,[t]:{...r,step:a}}});const{fileIDs:u}=r;await o(u,t),r=n()}}catch(a){throw Me(this,_t,Zb).call(this,t),a}if(r){r.fileIDs.forEach(d=>{const h=this.getFile(d);h!=null&&h.progress.postprocess&&this.emit("postprocess-complete",h)});const a=r.fileIDs.map(d=>this.getFile(d)),o=a.filter(d=>!d.error),u=a.filter(d=>d.error);this.addResultData(t,{successful:o,failed:u,uploadID:t}),r=n()}let s;return r&&(s=r.result,Me(this,_t,Zb).call(this,t)),s==null&&(this.log(`Not setting result for an upload that has been removed: ${t}`),s={successful:[],failed:[],uploadID:t}),s},Q(DS,"VERSION",K1e.version);let RN=DS;var IX={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)t.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(IX);var Q1e=IX.exports;const Ro=en(Q1e);function J1e(){return ie("svg",{"aria-hidden":"true",focusable:"false",width:"30",height:"30",viewBox:"0 0 30 30",children:ie("path",{d:"M15 30c8.284 0 15-6.716 15-15 0-8.284-6.716-15-15-15C6.716 0 0 6.716 0 15c0 8.284 6.716 15 15 15zm4.258-12.676v6.846h-8.426v-6.846H5.204l9.82-12.364 9.82 12.364H19.26z"})})}function Sn(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var MX=typeof self<"u"?self:global;const Yy=typeof navigator<"u",eve=Yy&&typeof HTMLImageElement>"u",i5=!(typeof global>"u"||typeof process>"u"||!process.versions||!process.versions.node),DX=MX.Buffer,RX=!!DX,tve=e=>e!==void 0;function FX(e){return e===void 0||(e instanceof Map?e.size===0:Object.values(e).filter(tve).length===0)}function vi(e){let t=new Error(e);throw delete t.stack,t}function s5(e){let t=function(n){let r=0;return n.ifd0.enabled&&(r+=1024),n.exif.enabled&&(r+=2048),n.makerNote&&(r+=2048),n.userComment&&(r+=1024),n.gps.enabled&&(r+=512),n.interop.enabled&&(r+=100),n.ifd1.enabled&&(r+=1024),r+2048}(e);return e.jfif.enabled&&(t+=50),e.xmp.enabled&&(t+=2e4),e.iptc.enabled&&(t+=14e3),e.icc.enabled&&(t+=6e3),t}const ZE=e=>String.fromCharCode.apply(null,e),a5=typeof TextDecoder<"u"?new TextDecoder("utf-8"):void 0;let Zy=class Bh{static from(t,n){return t instanceof this&&t.le===n?t:new Bh(t,void 0,void 0,n)}constructor(t,n=0,r,i){if(typeof i=="boolean"&&(this.le=i),Array.isArray(t)&&(t=new Uint8Array(t)),t===0)this.byteOffset=0,this.byteLength=0;else if(t instanceof ArrayBuffer){r===void 0&&(r=t.byteLength-n);let s=new DataView(t,n,r);this._swapDataView(s)}else if(t instanceof Uint8Array||t instanceof DataView||t instanceof Bh){r===void 0&&(r=t.byteLength-n),(n+=t.byteOffset)+r>t.byteOffset+t.byteLength&&vi("Creating view outside of available memory in ArrayBuffer");let s=new DataView(t.buffer,n,r);this._swapDataView(s)}else if(typeof t=="number"){let s=new DataView(new ArrayBuffer(t));this._swapDataView(s)}else vi("Invalid input argument for BufferView: "+t)}_swapArrayBuffer(t){this._swapDataView(new DataView(t))}_swapBuffer(t){this._swapDataView(new DataView(t.buffer,t.byteOffset,t.byteLength))}_swapDataView(t){this.dataView=t,this.buffer=t.buffer,this.byteOffset=t.byteOffset,this.byteLength=t.byteLength}_lengthToEnd(t){return this.byteLength-t}set(t,n,r=Bh){return t instanceof DataView||t instanceof Bh?t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t instanceof ArrayBuffer&&(t=new Uint8Array(t)),t instanceof Uint8Array||vi("BufferView.set(): Invalid data argument."),this.toUint8().set(t,n),new r(this,n,t.byteLength)}subarray(t,n){return n=n||this._lengthToEnd(t),new Bh(this,t,n)}toUint8(){return new Uint8Array(this.buffer,this.byteOffset,this.byteLength)}getUint8Array(t,n){return new Uint8Array(this.buffer,this.byteOffset+t,n)}getString(t=0,n=this.byteLength){return i=this.getUint8Array(t,n),a5?a5.decode(i):RX?Buffer.from(i).toString("utf8"):decodeURIComponent(escape(ZE(i)));var i}getLatin1String(t=0,n=this.byteLength){let r=this.getUint8Array(t,n);return ZE(r)}getUnicodeString(t=0,n=this.byteLength){const r=[];for(let i=0;i<n&&t+i<this.byteLength;i+=2)r.push(this.getUint16(t+i));return ZE(r)}getInt8(t){return this.dataView.getInt8(t)}getUint8(t){return this.dataView.getUint8(t)}getInt16(t,n=this.le){return this.dataView.getInt16(t,n)}getInt32(t,n=this.le){return this.dataView.getInt32(t,n)}getUint16(t,n=this.le){return this.dataView.getUint16(t,n)}getUint32(t,n=this.le){return this.dataView.getUint32(t,n)}getFloat32(t,n=this.le){return this.dataView.getFloat32(t,n)}getFloat64(t,n=this.le){return this.dataView.getFloat64(t,n)}getFloat(t,n=this.le){return this.dataView.getFloat32(t,n)}getDouble(t,n=this.le){return this.dataView.getFloat64(t,n)}getUintBytes(t,n,r){switch(n){case 1:return this.getUint8(t,r);case 2:return this.getUint16(t,r);case 4:return this.getUint32(t,r);case 8:return this.getUint64&&this.getUint64(t,r)}}getUint(t,n,r){switch(n){case 8:return this.getUint8(t,r);case 16:return this.getUint16(t,r);case 32:return this.getUint32(t,r);case 64:return this.getUint64&&this.getUint64(t,r)}}toString(t){return this.dataView.toString(t,this.constructor.name)}ensureChunk(){}};function WN(e,t){vi(`${e} '${t}' was not loaded, try using full build of exifr.`)}let pk=class extends Map{constructor(t){super(),this.kind=t}get(t,n){return this.has(t)||WN(this.kind,t),n&&(t in n||function(r,i){vi(`Unknown ${r} '${i}'.`)}(this.kind,t),n[t].enabled||WN(this.kind,t)),super.get(t)}keyList(){return Array.from(this.keys())}};var LX=new pk("file parser"),bo=new pk("segment parser"),mk=new pk("file reader");let nve=MX.fetch;function o5(e,t){return(n=e).startsWith("data:")||n.length>1e4?GN(e,t,"base64"):i5&&e.includes("://")?HN(e,t,"url",l5):i5?GN(e,t,"fs"):Yy?HN(e,t,"url",l5):void vi("Invalid input argument");var n}async function HN(e,t,n,r){return mk.has(n)?GN(e,t,n):r?async function(i,s){let a=await s(i);return new Zy(a)}(e,r):void vi(`Parser ${n} is not loaded`)}async function GN(e,t,n){let r=new(mk.get(n))(e,t);return await r.read(),r}const l5=e=>nve(e).then(t=>t.arrayBuffer()),qN=e=>new Promise((t,n)=>{let r=new FileReader;r.onloadend=()=>t(r.result||new ArrayBuffer),r.onerror=n,r.readAsArrayBuffer(e)}),gk=new Map,rve=new Map,ive=new Map,tb=["chunked","firstChunkSize","firstChunkSizeNode","firstChunkSizeBrowser","chunkSize","chunkLimit"],BX=["jfif","xmp","icc","iptc","ihdr"],KN=["tiff",...BX],hi=["ifd0","ifd1","exif","gps","interop"],nb=[...KN,...hi],rb=["makerNote","userComment"],$X=["translateKeys","translateValues","reviveValues","multiSegment"],ib=[...$X,"sanitize","mergeOutput","silentErrors"];class UX{get translate(){return this.translateKeys||this.translateValues||this.reviveValues}}class m0 extends UX{get needed(){return this.enabled||this.deps.size>0}constructor(t,n,r,i){if(super(),Sn(this,"enabled",!1),Sn(this,"skip",new Set),Sn(this,"pick",new Set),Sn(this,"deps",new Set),Sn(this,"translateKeys",!1),Sn(this,"translateValues",!1),Sn(this,"reviveValues",!1),this.key=t,this.enabled=n,this.parse=this.enabled,this.applyInheritables(i),this.canBeFiltered=hi.includes(t),this.canBeFiltered&&(this.dict=gk.get(t)),r!==void 0)if(Array.isArray(r))this.parse=this.enabled=!0,this.canBeFiltered&&r.length>0&&this.translateTagSet(r,this.pick);else if(typeof r=="object"){if(this.enabled=!0,this.parse=r.parse!==!1,this.canBeFiltered){let{pick:s,skip:a}=r;s&&s.length>0&&this.translateTagSet(s,this.pick),a&&a.length>0&&this.translateTagSet(a,this.skip)}this.applyInheritables(r)}else r===!0||r===!1?this.parse=this.enabled=r:vi(`Invalid options argument: ${r}`)}applyInheritables(t){let n,r;for(n of $X)r=t[n],r!==void 0&&(this[n]=r)}translateTagSet(t,n){if(this.dict){let r,i,{tagKeys:s,tagValues:a}=this.dict;for(r of t)typeof r=="string"?(i=a.indexOf(r),i===-1&&(i=s.indexOf(Number(r))),i!==-1&&n.add(Number(s[i]))):n.add(r)}else for(let r of t)n.add(r)}finalizeFilters(){!this.enabled&&this.deps.size>0?(this.enabled=!0,Zw(this.pick,this.deps)):this.enabled&&this.pick.size>0&&Zw(this.pick,this.deps)}}var as={jfif:!1,tiff:!0,xmp:!1,icc:!1,iptc:!1,ifd0:!0,ifd1:!1,exif:!0,gps:!0,interop:!1,ihdr:void 0,makerNote:!1,userComment:!1,multiSegment:!1,skip:[],pick:[],translateKeys:!0,translateValues:!0,reviveValues:!0,sanitize:!0,mergeOutput:!0,silentErrors:!0,chunked:!0,firstChunkSize:void 0,firstChunkSizeNode:512,firstChunkSizeBrowser:65536,chunkSize:65536,chunkLimit:5},c5=new Map;class yk extends UX{static useCached(t){let n=c5.get(t);return n!==void 0||(n=new this(t),c5.set(t,n)),n}constructor(t){super(),t===!0?this.setupFromTrue():t===void 0?this.setupFromUndefined():Array.isArray(t)?this.setupFromArray(t):typeof t=="object"?this.setupFromObject(t):vi(`Invalid options argument ${t}`),this.firstChunkSize===void 0&&(this.firstChunkSize=Yy?this.firstChunkSizeBrowser:this.firstChunkSizeNode),this.mergeOutput&&(this.ifd1.enabled=!1),this.filterNestedSegmentTags(),this.traverseTiffDependencyTree(),this.checkLoadedPlugins()}setupFromUndefined(){let t;for(t of tb)this[t]=as[t];for(t of ib)this[t]=as[t];for(t of rb)this[t]=as[t];for(t of nb)this[t]=new m0(t,as[t],void 0,this)}setupFromTrue(){let t;for(t of tb)this[t]=as[t];for(t of ib)this[t]=as[t];for(t of rb)this[t]=!0;for(t of nb)this[t]=new m0(t,!0,void 0,this)}setupFromArray(t){let n;for(n of tb)this[n]=as[n];for(n of ib)this[n]=as[n];for(n of rb)this[n]=as[n];for(n of nb)this[n]=new m0(n,!1,void 0,this);this.setupGlobalFilters(t,void 0,hi)}setupFromObject(t){let n;for(n of(hi.ifd0=hi.ifd0||hi.image,hi.ifd1=hi.ifd1||hi.thumbnail,Object.assign(this,t),tb))this[n]=QE(t[n],as[n]);for(n of ib)this[n]=QE(t[n],as[n]);for(n of rb)this[n]=QE(t[n],as[n]);for(n of KN)this[n]=new m0(n,as[n],t[n],this);for(n of hi)this[n]=new m0(n,as[n],t[n],this.tiff);this.setupGlobalFilters(t.pick,t.skip,hi,nb),t.tiff===!0?this.batchEnableWithBool(hi,!0):t.tiff===!1?this.batchEnableWithUserValue(hi,t):Array.isArray(t.tiff)?this.setupGlobalFilters(t.tiff,void 0,hi):typeof t.tiff=="object"&&this.setupGlobalFilters(t.tiff.pick,t.tiff.skip,hi)}batchEnableWithBool(t,n){for(let r of t)this[r].enabled=n}batchEnableWithUserValue(t,n){for(let r of t){let i=n[r];this[r].enabled=i!==!1&&i!==void 0}}setupGlobalFilters(t,n,r,i=r){if(t&&t.length){for(let a of i)this[a].enabled=!1;let s=u5(t,r);for(let[a,o]of s)Zw(this[a].pick,o),this[a].enabled=!0}else if(n&&n.length){let s=u5(n,r);for(let[a,o]of s)Zw(this[a].skip,o)}}filterNestedSegmentTags(){let{ifd0:t,exif:n,xmp:r,iptc:i,icc:s}=this;this.makerNote?n.deps.add(37500):n.skip.add(37500),this.userComment?n.deps.add(37510):n.skip.add(37510),r.enabled||t.skip.add(700),i.enabled||t.skip.add(33723),s.enabled||t.skip.add(34675)}traverseTiffDependencyTree(){let{ifd0:t,exif:n,gps:r,interop:i}=this;i.needed&&(n.deps.add(40965),t.deps.add(40965)),n.needed&&t.deps.add(34665),r.needed&&t.deps.add(34853),this.tiff.enabled=hi.some(s=>this[s].enabled===!0)||this.makerNote||this.userComment;for(let s of hi)this[s].finalizeFilters()}get onlyTiff(){return!BX.map(t=>this[t].enabled).some(t=>t===!0)&&this.tiff.enabled}checkLoadedPlugins(){for(let t of KN)this[t].enabled&&!bo.has(t)&&WN("segment parser",t)}}function u5(e,t){let n,r,i,s,a=[];for(i of t){for(s of(n=gk.get(i),r=[],n))(e.includes(s[0])||e.includes(s[1]))&&r.push(s[0]);r.length&&a.push([i,r])}return a}function QE(e,t){return e!==void 0?e:t!==void 0?t:void 0}function Zw(e,t){for(let n of t)e.add(n)}Sn(yk,"default",as);class sve{constructor(t){Sn(this,"parsers",{}),Sn(this,"output",{}),Sn(this,"errors",[]),Sn(this,"pushToErrors",n=>this.errors.push(n)),this.options=yk.useCached(t)}async read(t){this.file=await function(n,r){return typeof n=="string"?o5(n,r):Yy&&!eve&&n instanceof HTMLImageElement?o5(n.src,r):n instanceof Uint8Array||n instanceof ArrayBuffer||n instanceof DataView?new Zy(n):Yy&&n instanceof Blob?HN(n,r,"blob",qN):void vi("Invalid input argument")}(t,this.options)}setup(){if(this.fileParser)return;let{file:t}=this,n=t.getUint16(0);for(let[r,i]of LX)if(i.canHandle(t,n))return this.fileParser=new i(this.options,this.file,this.parsers),t[r]=!0;this.file.close&&this.file.close(),vi("Unknown file format")}async parse(){let{output:t,errors:n}=this;return this.setup(),this.options.silentErrors?(await this.executeParsers().catch(this.pushToErrors),n.push(...this.fileParser.errors)):await this.executeParsers(),this.file.close&&this.file.close(),this.options.silentErrors&&n.length>0&&(t.errors=n),FX(r=t)?void 0:r;var r}async executeParsers(){let{output:t}=this;await this.fileParser.parse();let n=Object.values(this.parsers).map(async r=>{let i=await r.parse();r.assignToOutput(t,i)});this.options.silentErrors&&(n=n.map(r=>r.catch(this.pushToErrors))),await Promise.all(n)}async extractThumbnail(){this.setup();let{options:t,file:n}=this,r=bo.get("tiff",t);var i;if(n.tiff?i={start:0,type:"tiff"}:n.jpeg&&(i=await this.fileParser.getOrFindSegment("tiff")),i===void 0)return;let s=await this.fileParser.ensureSegmentChunk(i),a=this.parsers.tiff=new r(s,t,n),o=await a.extractThumbnail();return n.close&&n.close(),o}}class Jh{static findPosition(t,n){let r=t.getUint16(n+2)+2,i=typeof this.headerLength=="function"?this.headerLength(t,n,r):this.headerLength,s=n+i,a=r-i;return{offset:n,length:r,headerLength:i,start:s,size:a,end:s+a}}static parse(t,n={}){return new this(t,new yk({[this.type]:n}),t).parse()}normalizeInput(t){return t instanceof Zy?t:new Zy(t)}constructor(t,n={},r){Sn(this,"errors",[]),Sn(this,"raw",new Map),Sn(this,"handleError",i=>{if(!this.options.silentErrors)throw i;this.errors.push(i.message)}),this.chunk=this.normalizeInput(t),this.file=r,this.type=this.constructor.type,this.globalOptions=this.options=n,this.localOptions=n[this.type],this.canTranslate=this.localOptions&&this.localOptions.translate}translate(){this.canTranslate&&(this.translated=this.translateBlock(this.raw,this.type))}get output(){return this.translated?this.translated:this.raw?Object.fromEntries(this.raw):void 0}translateBlock(t,n){let r=ive.get(n),i=rve.get(n),s=gk.get(n),a=this.options[n],o=a.reviveValues&&!!r,u=a.translateValues&&!!i,d=a.translateKeys&&!!s,h={};for(let[m,y]of t)o&&r.has(m)?y=r.get(m)(y):u&&i.has(m)&&(y=this.translateValue(y,i.get(m))),d&&s.has(m)&&(m=s.get(m)||m),h[m]=y;return h}translateValue(t,n){return n[t]||n.DEFAULT||t}assignToOutput(t,n){this.assignObjectToOutput(t,this.constructor.type,n)}assignObjectToOutput(t,n,r){if(this.globalOptions.mergeOutput)return Object.assign(t,r);t[n]?Object.assign(t[n],r):t[n]=r}}Sn(Jh,"headerLength",4),Sn(Jh,"type",void 0),Sn(Jh,"multiSegment",!1),Sn(Jh,"canHandle",()=>!1);function ave(e){return e===192||e===194||e===196||e===219||e===221||e===218||e===254}function ove(e){return e>=224&&e<=239}function lve(e,t,n){for(let[r,i]of bo)if(i.canHandle(e,t,n))return r}class d5 extends class{constructor(t,n,r){Sn(this,"errors",[]),Sn(this,"ensureSegmentChunk",async i=>{let s=i.start,a=i.size||65536;if(this.file.chunked)if(this.file.available(s,a))i.chunk=this.file.subarray(s,a);else try{i.chunk=await this.file.readChunk(s,a)}catch(o){vi(`Couldn't read segment: ${JSON.stringify(i)}. ${o.message}`)}else this.file.byteLength>s+a?i.chunk=this.file.subarray(s,a):i.size===void 0?i.chunk=this.file.subarray(s):vi("Segment unreachable: "+JSON.stringify(i));return i.chunk}),this.extendOptions&&this.extendOptions(t),this.options=t,this.file=n,this.parsers=r}injectSegment(t,n){this.options[t].enabled&&this.createParser(t,n)}createParser(t,n){let r=new(bo.get(t))(n,this.options,this.file);return this.parsers[t]=r}createParsers(t){for(let n of t){let{type:r,chunk:i}=n,s=this.options[r];if(s&&s.enabled){let a=this.parsers[r];a&&a.append||a||this.createParser(r,i)}}}async readSegments(t){let n=t.map(this.ensureSegmentChunk);await Promise.all(n)}}{constructor(...t){super(...t),Sn(this,"appSegments",[]),Sn(this,"jpegSegments",[]),Sn(this,"unknownSegments",[])}static canHandle(t,n){return n===65496}async parse(){await this.findAppSegments(),await this.readSegments(this.appSegments),this.mergeMultiSegments(),this.createParsers(this.mergedAppSegments||this.appSegments)}setupSegmentFinderArgs(t){t===!0?(this.findAll=!0,this.wanted=new Set(bo.keyList())):(t=t===void 0?bo.keyList().filter(n=>this.options[n].enabled):t.filter(n=>this.options[n].enabled&&bo.has(n)),this.findAll=!1,this.remaining=new Set(t),this.wanted=new Set(t)),this.unfinishedMultiSegment=!1}async findAppSegments(t=0,n){this.setupSegmentFinderArgs(n);let{file:r,findAll:i,wanted:s,remaining:a}=this;if(!i&&this.file.chunked&&(i=Array.from(s).some(o=>{let u=bo.get(o),d=this.options[o];return u.multiSegment&&d.multiSegment}),i&&await this.file.readWhole()),t=this.findAppSegmentsInRange(t,r.byteLength),!this.options.onlyTiff&&r.chunked){let o=!1;for(;a.size>0&&!o&&(r.canReadNextChunk||this.unfinishedMultiSegment);){let{nextChunkOffset:u}=r,d=this.appSegments.some(h=>!this.file.available(h.offset||h.start,h.length||h.size));if(o=t>u&&!d?!await r.readNextChunk(t):!await r.readNextChunk(u),(t=this.findAppSegmentsInRange(t,r.byteLength))===void 0)return}}}findAppSegmentsInRange(t,n){n-=2;let r,i,s,a,o,u,{file:d,findAll:h,wanted:m,remaining:y,options:b}=this;for(;t<n;t++)if(d.getUint8(t)===255){if(r=d.getUint8(t+1),ove(r)){if(i=d.getUint16(t+2),s=lve(d,t,i),s&&m.has(s)&&(a=bo.get(s),o=a.findPosition(d,t),u=b[s],o.type=s,this.appSegments.push(o),!h&&(a.multiSegment&&u.multiSegment?(this.unfinishedMultiSegment=o.chunkNumber<o.chunkCount,this.unfinishedMultiSegment||y.delete(s)):y.delete(s),y.size===0)))break;b.recordUnknownSegments&&(o=Jh.findPosition(d,t),o.marker=r,this.unknownSegments.push(o)),t+=i+1}else if(ave(r)){if(i=d.getUint16(t+2),r===218&&b.stopAfterSos!==!1)return;b.recordJpegSegments&&this.jpegSegments.push({offset:t,length:i,marker:r}),t+=i+1}}return t}mergeMultiSegments(){if(!this.appSegments.some(n=>n.multiSegment))return;let t=function(n,r){let i,s,a,o=new Map;for(let u=0;u<n.length;u++)i=n[u],s=i[r],o.has(s)?a=o.get(s):o.set(s,a=[]),a.push(i);return Array.from(o)}(this.appSegments,"type");this.mergedAppSegments=t.map(([n,r])=>{let i=bo.get(n,this.options);return i.handleMultiSegments?{type:n,chunk:i.handleMultiSegments(r)}:r[0]})}getSegment(t){return this.appSegments.find(n=>n.type===t)}async getOrFindSegment(t){let n=this.getSegment(t);return n===void 0&&(await this.findAppSegments(0,[t]),n=this.getSegment(t)),n}}Sn(d5,"type","jpeg"),LX.set("jpeg",d5);const cve=[void 0,1,1,2,4,8,1,1,2,4,8,4,8,4];class uve extends Jh{parseHeader(){var t=this.chunk.getUint16();t===18761?this.le=!0:t===19789&&(this.le=!1),this.chunk.le=this.le,this.headerParsed=!0}parseTags(t,n,r=new Map){let{pick:i,skip:s}=this.options[n];i=new Set(i);let a=i.size>0,o=s.size===0,u=this.chunk.getUint16(t);t+=2;for(let d=0;d<u;d++){let h=this.chunk.getUint16(t);if(a){if(i.has(h)&&(r.set(h,this.parseTag(t,h,n)),i.delete(h),i.size===0))break}else!o&&s.has(h)||r.set(h,this.parseTag(t,h,n));t+=12}return r}parseTag(t,n,r){let{chunk:i}=this,s=i.getUint16(t+2),a=i.getUint32(t+4),o=cve[s];if(o*a<=4?t+=8:t=i.getUint32(t+8),(s<1||s>13)&&vi(`Invalid TIFF value type. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${t}`),t>i.byteLength&&vi(`Invalid TIFF value offset. block: ${r.toUpperCase()}, tag: ${n.toString(16)}, type: ${s}, offset ${t} is outside of chunk size ${i.byteLength}`),s===1)return i.getUint8Array(t,a);if(s===2)return(u=function(d){for(;d.endsWith("\0");)d=d.slice(0,-1);return d}(u=i.getString(t,a)).trim())===""?void 0:u;var u;if(s===7)return i.getUint8Array(t,a);if(a===1)return this.parseTagValue(s,t);{let d=new(function(m){switch(m){case 1:return Uint8Array;case 3:return Uint16Array;case 4:return Uint32Array;case 5:return Array;case 6:return Int8Array;case 8:return Int16Array;case 9:return Int32Array;case 10:return Array;case 11:return Float32Array;case 12:return Float64Array;default:return Array}}(s))(a),h=o;for(let m=0;m<a;m++)d[m]=this.parseTagValue(s,t),t+=h;return d}}parseTagValue(t,n){let{chunk:r}=this;switch(t){case 1:return r.getUint8(n);case 3:return r.getUint16(n);case 4:return r.getUint32(n);case 5:return r.getUint32(n)/r.getUint32(n+4);case 6:return r.getInt8(n);case 8:return r.getInt16(n);case 9:return r.getInt32(n);case 10:return r.getInt32(n)/r.getInt32(n+4);case 11:return r.getFloat(n);case 12:return r.getDouble(n);case 13:return r.getUint32(n);default:vi(`Invalid tiff type ${t}`)}}}class JE extends uve{static canHandle(t,n){return t.getUint8(n+1)===225&&t.getUint32(n+4)===1165519206&&t.getUint16(n+8)===0}async parse(){this.parseHeader();let{options:t}=this;return t.ifd0.enabled&&await this.parseIfd0Block(),t.exif.enabled&&await this.safeParse("parseExifBlock"),t.gps.enabled&&await this.safeParse("parseGpsBlock"),t.interop.enabled&&await this.safeParse("parseInteropBlock"),t.ifd1.enabled&&await this.safeParse("parseThumbnailBlock"),this.createOutput()}safeParse(t){let n=this[t]();return n.catch!==void 0&&(n=n.catch(this.handleError)),n}findIfd0Offset(){this.ifd0Offset===void 0&&(this.ifd0Offset=this.chunk.getUint32(4))}findIfd1Offset(){if(this.ifd1Offset===void 0){this.findIfd0Offset();let t=this.chunk.getUint16(this.ifd0Offset),n=this.ifd0Offset+2+12*t;this.ifd1Offset=this.chunk.getUint32(n)}}parseBlock(t,n){let r=new Map;return this[n]=r,this.parseTags(t,n,r),r}async parseIfd0Block(){if(this.ifd0)return;let{file:t}=this;this.findIfd0Offset(),this.ifd0Offset<8&&vi("Malformed EXIF data"),!t.chunked&&this.ifd0Offset>t.byteLength&&vi(`IFD0 offset points to outside of file.
this.ifd0Offset: ${this.ifd0Offset}, file.byteLength: ${t.byteLength}`),t.tiff&&await t.ensureChunk(this.ifd0Offset,s5(this.options));let n=this.parseBlock(this.ifd0Offset,"ifd0");return n.size!==0?(this.exifOffset=n.get(34665),this.interopOffset=n.get(40965),this.gpsOffset=n.get(34853),this.xmp=n.get(700),this.iptc=n.get(33723),this.icc=n.get(34675),this.options.sanitize&&(n.delete(34665),n.delete(40965),n.delete(34853),n.delete(700),n.delete(33723),n.delete(34675)),n):void 0}async parseExifBlock(){if(this.exif||(this.ifd0||await this.parseIfd0Block(),this.exifOffset===void 0))return;this.file.tiff&&await this.file.ensureChunk(this.exifOffset,s5(this.options));let t=this.parseBlock(this.exifOffset,"exif");return this.interopOffset||(this.interopOffset=t.get(40965)),this.makerNote=t.get(37500),this.userComment=t.get(37510),this.options.sanitize&&(t.delete(40965),t.delete(37500),t.delete(37510)),this.unpack(t,41728),this.unpack(t,41729),t}unpack(t,n){let r=t.get(n);r&&r.length===1&&t.set(n,r[0])}async parseGpsBlock(){if(this.gps||(this.ifd0||await this.parseIfd0Block(),this.gpsOffset===void 0))return;let t=this.parseBlock(this.gpsOffset,"gps");return t&&t.has(2)&&t.has(4)&&(t.set("latitude",f5(...t.get(2),t.get(1))),t.set("longitude",f5(...t.get(4),t.get(3)))),t}async parseInteropBlock(){if(!this.interop&&(this.ifd0||await this.parseIfd0Block(),this.interopOffset!==void 0||this.exif||await this.parseExifBlock(),this.interopOffset!==void 0))return this.parseBlock(this.interopOffset,"interop")}async parseThumbnailBlock(t=!1){if(!this.ifd1&&!this.ifd1Parsed&&(!this.options.mergeOutput||t))return this.findIfd1Offset(),this.ifd1Offset>0&&(this.parseBlock(this.ifd1Offset,"ifd1"),this.ifd1Parsed=!0),this.ifd1}async extractThumbnail(){if(this.headerParsed||this.parseHeader(),this.ifd1Parsed||await this.parseThumbnailBlock(!0),this.ifd1===void 0)return;let t=this.ifd1.get(513),n=this.ifd1.get(514);return this.chunk.getUint8Array(t,n)}get image(){return this.ifd0}get thumbnail(){return this.ifd1}createOutput(){let t,n,r,i={};for(n of hi)if(t=this[n],!FX(t))if(r=this.canTranslate?this.translateBlock(t,n):Object.fromEntries(t),this.options.mergeOutput){if(n==="ifd1")continue;Object.assign(i,r)}else i[n]=r;return this.makerNote&&(i.makerNote=this.makerNote),this.userComment&&(i.userComment=this.userComment),i}assignToOutput(t,n){if(this.globalOptions.mergeOutput)Object.assign(t,n);else for(let[r,i]of Object.entries(n))this.assignObjectToOutput(t,r,i)}}function f5(e,t,n,r){var i=e+t/60+n/3600;return r!=="S"&&r!=="W"||(i*=-1),i}Sn(JE,"type","tiff"),Sn(JE,"headerLength",10),bo.set("tiff",JE);const vk={ifd0:!1,ifd1:!1,exif:!1,gps:!1,interop:!1,sanitize:!1,reviveValues:!0,translateKeys:!1,translateValues:!1,mergeOutput:!1};Object.assign({},vk,{firstChunkSize:4e4,gps:[1,2,3,4]});Object.assign({},vk,{tiff:!1,ifd1:!0,mergeOutput:!1});const dve=Object.assign({},vk,{firstChunkSize:4e4,ifd0:[274]});async function fve(e){let t=new sve(dve);await t.read(e);let n=await t.parse();if(n&&n.ifd0)return n.ifd0[274]}const hve=Object.freeze({1:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:0,rad:0},2:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:0,rad:0},3:{dimensionSwapped:!1,scaleX:1,scaleY:1,deg:180,rad:180*Math.PI/180},4:{dimensionSwapped:!1,scaleX:-1,scaleY:1,deg:180,rad:180*Math.PI/180},5:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:90,rad:90*Math.PI/180},6:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:90,rad:90*Math.PI/180},7:{dimensionSwapped:!0,scaleX:1,scaleY:-1,deg:270,rad:270*Math.PI/180},8:{dimensionSwapped:!0,scaleX:1,scaleY:1,deg:270,rad:270*Math.PI/180}});let V0=!0,W0=!0;if(typeof navigator=="object"){let e=navigator.userAgent;if(e.includes("iPad")||e.includes("iPhone")){let t=e.match(/OS (\d+)_(\d+)/);if(t){let[,n,r]=t;V0=Number(n)+.1*Number(r)<13.4,W0=!1}}else if(e.includes("OS X 10")){let[,t]=e.match(/OS X 10[_.](\d+)/);V0=W0=Number(t)<15}if(e.includes("Chrome/")){let[,t]=e.match(/Chrome\/(\d+)/);V0=W0=Number(t)<81}else if(e.includes("Firefox/")){let[,t]=e.match(/Firefox\/(\d+)/);V0=W0=Number(t)<77}}async function pve(e){let t=await fve(e);return Object.assign({canvas:V0,css:W0},hve[t])}class mve extends Zy{constructor(...t){super(...t),Sn(this,"ranges",new gve),this.byteLength!==0&&this.ranges.add(0,this.byteLength)}_tryExtend(t,n,r){if(t===0&&this.byteLength===0&&r){let i=new DataView(r.buffer||r,r.byteOffset,r.byteLength);this._swapDataView(i)}else{let i=t+n;if(i>this.byteLength){let{dataView:s}=this._extend(i);this._swapDataView(s)}}}_extend(t){let n;n=RX?DX.allocUnsafe(t):new Uint8Array(t);let r=new DataView(n.buffer,n.byteOffset,n.byteLength);return n.set(new Uint8Array(this.buffer,this.byteOffset,this.byteLength),0),{uintView:n,dataView:r}}subarray(t,n,r=!1){return n=n||this._lengthToEnd(t),r&&this._tryExtend(t,n),this.ranges.add(t,n),super.subarray(t,n)}set(t,n,r=!1){r&&this._tryExtend(n,t.byteLength,t);let i=super.set(t,n);return this.ranges.add(n,i.byteLength),i}async ensureChunk(t,n){this.chunked&&(this.ranges.available(t,n)||await this.readChunk(t,n))}available(t,n){return this.ranges.available(t,n)}}class gve{constructor(){Sn(this,"list",[])}get length(){return this.list.length}add(t,n,r=0){let i=t+n,s=this.list.filter(a=>h5(t,a.offset,i)||h5(t,a.end,i));if(s.length>0){t=Math.min(t,...s.map(o=>o.offset)),i=Math.max(i,...s.map(o=>o.end)),n=i-t;let a=s.shift();a.offset=t,a.length=n,a.end=i,this.list=this.list.filter(o=>!s.includes(o))}else this.list.push({offset:t,length:n,end:i})}available(t,n){let r=t+n;return this.list.some(i=>i.offset<=t&&r<=i.end)}}function h5(e,t,n){return e<=t&&t<=n}class yve extends mve{constructor(t,n){super(0),Sn(this,"chunksRead",0),this.input=t,this.options=n}async readWhole(){this.chunked=!1,await this.readChunk(this.nextChunkOffset)}async readChunked(){this.chunked=!0,await this.readChunk(0,this.options.firstChunkSize)}async readNextChunk(t=this.nextChunkOffset){if(this.fullyRead)return this.chunksRead++,!1;let n=this.options.chunkSize,r=await this.readChunk(t,n);return!!r&&r.byteLength===n}async readChunk(t,n){if(this.chunksRead++,(n=this.safeWrapAddress(t,n))!==0)return this._readChunk(t,n)}safeWrapAddress(t,n){return this.size!==void 0&&t+n>this.size?Math.max(0,this.size-t):n}get nextChunkOffset(){if(this.ranges.list.length!==0)return this.ranges.list[0].length}get canReadNextChunk(){return this.chunksRead<this.options.chunkLimit}get fullyRead(){return this.size!==void 0&&this.nextChunkOffset===this.size}read(){return this.options.chunked?this.readChunked():this.readWhole()}close(){}}mk.set("blob",class extends yve{async readWhole(){this.chunked=!1;let e=await qN(this.input);this._swapArrayBuffer(e)}readChunked(){return this.chunked=!0,this.size=this.input.size,super.readChunked()}async _readChunk(e,t){let n=t?e+t:void 0,r=this.input.slice(e,n),i=await qN(r);return this.set(i,e,!0)}});const vve="@uppy/thumbnail-generator",xve="Uppy plugin that generates small previews of images to show on your upload UI.",bve="5.0.1",wve="MIT",Sve="module",Cve=!1,Ave={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Eve=["file uploader","uppy","uppy-plugin","thumbnail","preview","resize"],_ve="https://uppy.io",Tve={url:"https://github.com/transloadit/uppy/issues"},Nve={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Pve=["src","lib","dist","CHANGELOG.md"],Ove={".":"./lib/index.js","./package.json":"./package.json"},jve={"@uppy/utils":"^7.0.2",exifr:"^7.0.0"},kve={jsdom:"^26.1.0","namespace-emitter":"2.0.1",typescript:"^5.8.3",vitest:"^3.2.4"},Ive={"@uppy/core":"^5.0.2"},Mve={name:vve,description:xve,version:bve,license:wve,type:Sve,sideEffects:Cve,scripts:Ave,keywords:Eve,homepage:_ve,bugs:Tve,repository:Nve,files:Pve,exports:Ove,dependencies:jve,devDependencies:kve,peerDependencies:Ive},Dve={strings:{generatingThumbnails:"Generating thumbnails..."}};function Rve(e,t,n){try{e.getContext("2d").getImageData(0,0,1,1)}catch(r){if(r.code===18)return Promise.reject(new Error("cannot read image, probably an svg with external resources"))}return e.toBlob?new Promise(r=>{e.toBlob(r,t,n)}).then(r=>{if(r===null)throw new Error("cannot read image, probably an svg with external resources");return r}):Promise.resolve().then(()=>v0e(e.toDataURL(t,n),{})).then(r=>{if(r===null)throw new Error("could not extract blob, probably an old browser");return r})}function Fve(e,t){let n=e.width,r=e.height;(t.deg===90||t.deg===270)&&(n=e.height,r=e.width);const i=document.createElement("canvas");i.width=n,i.height=r;const s=i.getContext("2d");return s.translate(n/2,r/2),t.canvas&&(s.rotate(t.rad),s.scale(t.scaleX,t.scaleY)),s.drawImage(e,-e.width/2,-e.height/2,e.width,e.height),i}function Lve(e){const t=e.width/e.height,n=5e6,r=4096;let i=Math.floor(Math.sqrt(n*t)),s=Math.floor(n/Math.sqrt(n*t));if(i>r&&(i=r,s=Math.round(i/t)),s>r&&(s=r,i=Math.round(t*s)),e.width>i){const a=document.createElement("canvas");return a.width=i,a.height=s,a.getContext("2d").drawImage(e,0,0,i,s),a}return e}const Bve={thumbnailWidth:null,thumbnailHeight:null,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,lazy:!1};class zX extends Yw{constructor(n,r){super(n,{...Bve,...r});Q(this,"queue");Q(this,"queueProcessing");Q(this,"defaultThumbnailDimension");Q(this,"thumbnailType");Q(this,"onFileAdded",n=>{!n.preview&&n.data&&RR(n.type)&&!n.isRemote&&this.addToQueue(n.id)});Q(this,"onCancelRequest",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1)});Q(this,"onFileRemoved",n=>{const r=this.queue.indexOf(n.id);r!==-1&&this.queue.splice(r,1),n.preview&&DR(n.preview)&&URL.revokeObjectURL(n.preview)});Q(this,"onRestored",()=>{this.uppy.getFiles().filter(r=>r.isRestored).forEach(r=>{(!r.preview||DR(r.preview))&&this.addToQueue(r.id)})});Q(this,"onAllFilesRemoved",()=>{this.queue=[]});Q(this,"waitUntilAllProcessed",n=>{n.forEach(i=>{const s=this.uppy.getFile(i);this.uppy.emit("preprocess-progress",s,{mode:"indeterminate",message:this.i18n("generatingThumbnails")})});const r=()=>{n.forEach(i=>{const s=this.uppy.getFile(i);this.uppy.emit("preprocess-complete",s)})};return new Promise(i=>{this.queueProcessing?this.uppy.once("thumbnail:all-generated",()=>{r(),i()}):(r(),i())})});if(this.type="modifier",this.id=this.opts.id||"ThumbnailGenerator",this.title="Thumbnail Generator",this.queue=[],this.queueProcessing=!1,this.defaultThumbnailDimension=200,this.thumbnailType=this.opts.thumbnailType,this.defaultLocale=Dve,this.i18nInit(),this.opts.lazy&&this.opts.waitForThumbnailsBeforeUpload)throw new Error("ThumbnailGenerator: The `lazy` and `waitForThumbnailsBeforeUpload` options are mutually exclusive. Please ensure at most one of them is set to `true`.")}createThumbnail(n,r,i){const s=URL.createObjectURL(n.data),a=new Promise((u,d)=>{const h=new Image;h.src=s,h.addEventListener("load",()=>{URL.revokeObjectURL(s),u(h)}),h.addEventListener("error",m=>{URL.revokeObjectURL(s),d(m.error||new Error("Could not create thumbnail"))})}),o=pve(n.data).catch(()=>1);return Promise.all([a,o]).then(([u,d])=>{const h=this.getProportionalDimensions(u,r,i,d.deg),m=Fve(u,d),y=this.resizeImage(m,h.width,h.height);return Rve(y,this.thumbnailType,80)}).then(u=>URL.createObjectURL(u))}getProportionalDimensions(n,r,i,s){let a=n.width/n.height;if((s===90||s===270)&&(a=n.height/n.width),r!=null){let o=r;return n.width<r&&(o=n.width),{width:o,height:Math.round(o/a)}}if(i!=null){let o=i;return n.height<i&&(o=n.height),{width:Math.round(o*a),height:o}}return{width:this.defaultThumbnailDimension,height:Math.round(this.defaultThumbnailDimension/a)}}resizeImage(n,r,i){let s=Lve(n),a=Math.ceil(Math.log2(s.width/r));a<1&&(a=1);let o=r*2**(a-1),u=i*2**(a-1);const d=2;for(;a--;){const h=document.createElement("canvas");h.width=o,h.height=u,h.getContext("2d").drawImage(s,0,0,o,u),s=h,o=Math.round(o/d),u=Math.round(u/d)}return s}setPreviewURL(n,r){this.uppy.setFileState(n,{preview:r})}addToQueue(n){this.queue.push(n),this.queueProcessing===!1&&this.processQueue()}processQueue(){if(this.queueProcessing=!0,this.queue.length>0){const n=this.uppy.getFile(this.queue.shift());return n?this.requestThumbnail(n).catch(()=>{}).then(()=>this.processQueue()):(this.uppy.log("[ThumbnailGenerator] file was removed before a thumbnail could be generated, but not removed from the queue. This is probably a bug","error"),Promise.resolve())}return this.queueProcessing=!1,this.uppy.log("[ThumbnailGenerator] Emptied thumbnail queue"),this.uppy.emit("thumbnail:all-generated"),Promise.resolve()}requestThumbnail(n){return RR(n.type)&&!n.isRemote?this.createThumbnail(n,this.opts.thumbnailWidth,this.opts.thumbnailHeight).then(r=>{this.setPreviewURL(n.id,r),this.uppy.log(`[ThumbnailGenerator] Generated thumbnail for ${n.id}`),this.uppy.emit("thumbnail:generated",this.uppy.getFile(n.id),r)}).catch(r=>{this.uppy.log(`[ThumbnailGenerator] Failed thumbnail for ${n.id}:`,"warning"),this.uppy.log(r,"warning"),this.uppy.emit("thumbnail:error",this.uppy.getFile(n.id),r)}):Promise.resolve()}install(){this.uppy.on("file-removed",this.onFileRemoved),this.uppy.on("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("thumbnail:cancel",this.onCancelRequest)):(this.uppy.on("thumbnail:request",this.onFileAdded),this.uppy.on("file-added",this.onFileAdded),this.uppy.on("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.addPreProcessor(this.waitUntilAllProcessed)}uninstall(){this.uppy.off("file-removed",this.onFileRemoved),this.uppy.off("cancel-all",this.onAllFilesRemoved),this.opts.lazy?(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("thumbnail:cancel",this.onCancelRequest)):(this.uppy.off("thumbnail:request",this.onFileAdded),this.uppy.off("file-added",this.onFileAdded),this.uppy.off("restored",this.onRestored)),this.opts.waitForThumbnailsBeforeUpload&&this.uppy.removePreProcessor(this.waitUntilAllProcessed)}}Q(zX,"VERSION",Mve.version);let $ve="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",VX=(e=21)=>{let t="",n=e|0;for(;n--;)t+=$ve[Math.random()*64|0];return t};const Uve="@uppy/dashboard",zve="Universal UI plugin for Uppy.",Vve="5.0.2",Wve="MIT",Hve="dist/style.min.css",Gve="module",qve=["*.css"],Kve={build:"tsc --build tsconfig.build.json","build:css":"sass --load-path=../../ src/style.scss dist/style.css && postcss dist/style.css -u cssnano -o dist/style.min.css",typecheck:"tsc --build",test:"vitest run --silent='passed-only'","test:e2e":"vitest watch --project browser --browser.headless false"},Xve=["file uploader","uppy","uppy-plugin","dashboard","ui"],Yve="https://uppy.io",Zve={url:"https://github.com/transloadit/uppy/issues"},Qve={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Jve=["src","lib","dist","CHANGELOG.md"],exe={".":"./lib/index.js","./css/style.css":"./dist/style.css","./css/style.min.css":"./dist/style.min.css","./css/style.scss":"./src/style.scss","./package.json":"./package.json"},txe={"@transloadit/prettier-bytes":"^0.3.4","@uppy/provider-views":"^5.0.2","@uppy/thumbnail-generator":"^5.0.1","@uppy/utils":"^7.0.2",classnames:"^2.2.6",lodash:"^4.17.21",nanoid:"^5.0.9",preact:"^10.5.13","shallow-equal":"^3.0.0"},nxe={"@uppy/core":"^5.0.2","@uppy/google-drive":"^5.0.1","@uppy/url":"^5.0.1","@uppy/webcam":"^5.0.1","@vitest/browser":"^3.2.4",cssnano:"^7.0.7",jsdom:"^26.1.0",playwright:"1.54.1",postcss:"^8.5.6","postcss-cli":"^11.0.1","resize-observer-polyfill":"^1.5.0",sass:"^1.89.2",typescript:"^5.8.3",vitest:"^3.2.4"},rxe={"@uppy/core":"^5.0.2"},ixe={name:Uve,description:zve,version:Vve,license:Wve,style:Hve,type:Gve,sideEffects:qve,scripts:Kve,keywords:Xve,homepage:Yve,bugs:Zve,repository:Qve,files:Jve,exports:exe,dependencies:txe,devDependencies:nxe,peerDependencies:rxe};class WX extends xl{constructor(){super(...arguments);Q(this,"fileInput",null);Q(this,"folderInput",null);Q(this,"mobilePhotoFileInput",null);Q(this,"mobileVideoFileInput",null);Q(this,"triggerFileInputClick",()=>{var n;(n=this.fileInput)==null||n.click()});Q(this,"triggerFolderInputClick",()=>{var n;(n=this.folderInput)==null||n.click()});Q(this,"triggerVideoCameraInputClick",()=>{var n;(n=this.mobileVideoFileInput)==null||n.click()});Q(this,"triggerPhotoCameraInputClick",()=>{var n;(n=this.mobilePhotoFileInput)==null||n.click()});Q(this,"onFileInputChange",n=>{this.props.handleInputChange(n),n.currentTarget.value=""});Q(this,"renderHiddenInput",(n,r)=>{var i;return ie("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,webkitdirectory:n,type:"file",name:"files[]",multiple:this.props.maxNumberOfFiles!==1,onChange:this.onFileInputChange,accept:(i=this.props.allowedFileTypes)==null?void 0:i.join(", "),ref:r})});Q(this,"renderHiddenCameraInput",(n,r,i)=>{const a={photo:"image/*",video:"video/*"}[n];return ie("input",{className:"uppy-Dashboard-input",hidden:!0,"aria-hidden":"true",tabIndex:-1,type:"file",name:`camera-${n}`,onChange:this.onFileInputChange,capture:r===""?"environment":r,accept:a,ref:i})});Q(this,"renderMyDeviceAcquirer",()=>ie("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MyDevice",children:ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerFileInputClick,children:[ie("div",{className:"uppy-DashboardTab-inner",children:ie("svg",{className:"uppy-DashboardTab-iconMyDevice","aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:ie("path",{d:"M8.45 22.087l-1.305-6.674h17.678l-1.572 6.674H8.45zm4.975-12.412l1.083 1.765a.823.823 0 00.715.386h7.951V13.5H8.587V9.675h4.838zM26.043 13.5h-1.195v-2.598c0-.463-.336-.75-.798-.75h-8.356l-1.082-1.766A.823.823 0 0013.897 8H7.728c-.462 0-.815.256-.815.718V13.5h-.956a.97.97 0 00-.746.37.972.972 0 00-.19.81l1.724 8.565c.095.44.484.755.933.755H24c.44 0 .824-.3.929-.727l2.043-8.568a.972.972 0 00-.176-.825.967.967 0 00-.753-.38z",fill:"currentcolor","fill-rule":"evenodd"})})}),ie("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("myDevice")})]})}));Q(this,"renderPhotoCamera",()=>ie("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobilePhotoCamera",children:ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerPhotoCameraInputClick,children:[ie("div",{className:"uppy-DashboardTab-inner",children:ie("svg",{"aria-hidden":"true",focusable:"false",width:"32",height:"32",viewBox:"0 0 32 32",children:ie("path",{d:"M23.5 9.5c1.417 0 2.5 1.083 2.5 2.5v9.167c0 1.416-1.083 2.5-2.5 2.5h-15c-1.417 0-2.5-1.084-2.5-2.5V12c0-1.417 1.083-2.5 2.5-2.5h2.917l1.416-2.167C13 7.167 13.25 7 13.5 7h5c.25 0 .5.167.667.333L20.583 9.5H23.5zM16 11.417a4.706 4.706 0 00-4.75 4.75 4.704 4.704 0 004.75 4.75 4.703 4.703 0 004.75-4.75c0-2.663-2.09-4.75-4.75-4.75zm0 7.825c-1.744 0-3.076-1.332-3.076-3.074 0-1.745 1.333-3.077 3.076-3.077 1.744 0 3.074 1.333 3.074 3.076s-1.33 3.075-3.074 3.075z",fill:"#02B383","fill-rule":"nonzero"})})}),ie("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("takePictureBtn")})]})}));Q(this,"renderVideoCamera",()=>ie("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":"MobileVideoCamera",children:ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-uppy-super-focusable":!0,onClick:this.triggerVideoCameraInputClick,children:[ie("div",{className:"uppy-DashboardTab-inner",children:ie("svg",{"aria-hidden":"true",width:"32",height:"32",viewBox:"0 0 32 32",children:ie("path",{fill:"#FF675E",fillRule:"nonzero",d:"m21.254 14.277 2.941-2.588c.797-.313 1.243.818 1.09 1.554-.01 2.094.02 4.189-.017 6.282-.126.915-1.145 1.08-1.58.34l-2.434-2.142c-.192.287-.504 1.305-.738.468-.104-1.293-.028-2.596-.05-3.894.047-.312.381.823.426 1.069.063-.384.206-.744.362-1.09zm-12.939-3.73c3.858.013 7.717-.025 11.574.02.912.129 1.492 1.237 1.351 2.217-.019 2.412.04 4.83-.03 7.239-.17 1.025-1.166 1.59-2.029 1.429-3.705-.012-7.41.025-11.114-.019-.913-.129-1.492-1.237-1.352-2.217.018-2.404-.036-4.813.029-7.214.136-.82.83-1.473 1.571-1.454z "})})}),ie("div",{className:"uppy-DashboardTab-name",children:this.props.i18n("recordVideoBtn")})]})}));Q(this,"renderBrowseButton",(n,r)=>{const i=this.props.acquirers.length;return ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-browse",onClick:r,"data-uppy-super-focusable":i===0,children:n})});Q(this,"renderDropPasteBrowseTagline",n=>{const r=this.renderBrowseButton(this.props.i18n("browseFiles"),this.triggerFileInputClick),i=this.renderBrowseButton(this.props.i18n("browseFolders"),this.triggerFolderInputClick),s=this.props.fileManagerSelectionType,a=s.charAt(0).toUpperCase()+s.slice(1);return ie("div",{class:"uppy-Dashboard-AddFiles-title",children:this.props.disableLocalFiles?this.props.i18n("importFiles"):n>0?this.props.i18nArray(`dropPasteImport${a}`,{browseFiles:r,browseFolders:i,browse:r}):this.props.i18nArray(`dropPaste${a}`,{browseFiles:r,browseFolders:i,browse:r})})});Q(this,"renderAcquirer",n=>{var r;return ie("div",{className:"uppy-DashboardTab",role:"presentation","data-uppy-acquirer-id":n.id,children:ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-DashboardTab-btn",role:"tab",tabIndex:0,"data-cy":n.id,"aria-controls":`uppy-DashboardContent-panel--${n.id}`,"aria-selected":((r=this.props.activePickerPanel)==null?void 0:r.id)===n.id,"data-uppy-super-focusable":!0,onClick:()=>this.props.showPanel(n.id),children:[ie("div",{className:"uppy-DashboardTab-inner",children:n.icon()}),ie("div",{className:"uppy-DashboardTab-name",children:n.name})]})})});Q(this,"renderAcquirers",n=>{const r=[...n],i=r.splice(n.length-2,n.length);return ie(cc,{children:[r.map(s=>this.renderAcquirer(s)),ie("span",{role:"presentation",style:{"white-space":"nowrap"},children:i.map(s=>this.renderAcquirer(s))})]})});Q(this,"renderSourcesList",(n,r)=>{const{showNativePhotoCameraButton:i,showNativeVideoCameraButton:s}=this.props;let a=[];const o="myDevice";r||a.push({key:o,elements:this.renderMyDeviceAcquirer()}),i&&a.push({key:"nativePhotoCameraButton",elements:this.renderPhotoCamera()}),s&&a.push({key:"nativePhotoCameraButton",elements:this.renderVideoCamera()}),a.push(...n.map(m=>({key:m.id,elements:this.renderAcquirer(m)}))),a.length===1&&a[0].key===o&&(a=[]);const d=[...a],h=d.splice(a.length-2,a.length);return ie(cc,{children:[this.renderDropPasteBrowseTagline(a.length),ie("div",{className:"uppy-Dashboard-AddFiles-list",role:"tablist",children:[d.map(({key:m,elements:y})=>ie(cc,{children:y},m)),ie("span",{role:"presentation",style:{"white-space":"nowrap"},children:h.map(({key:m,elements:y})=>ie(cc,{children:y},m))})]})]})})}[Symbol.for("uppy test: disable unused locale key warning")](){this.props.i18nArray("dropPasteBoth"),this.props.i18nArray("dropPasteFiles"),this.props.i18nArray("dropPasteFolders"),this.props.i18nArray("dropPasteImportBoth"),this.props.i18nArray("dropPasteImportFiles"),this.props.i18nArray("dropPasteImportFolders")}renderPoweredByUppy(){const{i18nArray:n}=this.props,r=ie("span",{children:[ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-poweredByIcon",width:"11",height:"11",viewBox:"0 0 11 11",children:ie("path",{d:"M7.365 10.5l-.01-4.045h2.612L5.5.806l-4.467 5.65h2.604l.01 4.044h3.718z",fillRule:"evenodd"})}),ie("span",{className:"uppy-Dashboard-poweredByUppy",children:"Uppy"})]}),i=n("poweredBy",{uppy:r});return ie("a",{tabIndex:-1,href:"https://uppy.io",rel:"noreferrer noopener",target:"_blank",className:"uppy-Dashboard-poweredBy",children:i})}render(){const{showNativePhotoCameraButton:n,showNativeVideoCameraButton:r,nativeCameraFacingMode:i}=this.props;return ie("div",{className:"uppy-Dashboard-AddFiles",children:[this.renderHiddenInput(!1,s=>{this.fileInput=s}),this.renderHiddenInput(!0,s=>{this.folderInput=s}),n&&this.renderHiddenCameraInput("photo",i,s=>{this.mobilePhotoFileInput=s}),r&&this.renderHiddenCameraInput("video",i,s=>{this.mobileVideoFileInput=s}),this.renderSourcesList(this.props.acquirers,this.props.disableLocalFiles),ie("div",{className:"uppy-Dashboard-AddFiles-info",children:[this.props.note&&ie("div",{className:"uppy-Dashboard-note",children:this.props.note}),this.props.proudlyDisplayPoweredByUppy&&this.renderPoweredByUppy()]})]})}}const sxe=e=>ie("div",{className:Ro("uppy-Dashboard-AddFilesPanel",e.className),"data-uppy-panelType":"AddFiles","aria-hidden":!e.showAddFilesPanel,children:[ie("div",{className:"uppy-DashboardContent-bar",children:[ie("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18n("addingMoreFiles")}),ie("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>e.toggleAddFilesPanel(!1),children:e.i18n("back")})]}),ie(WX,{...e})]});function axe(e){const t=e.files[e.fileCardFor],n=()=>{e.uppy.emit("file-editor:cancel",t),e.closeFileEditor()};return ie("div",{className:Ro("uppy-DashboardContent-panel",e.className),role:"tabpanel","data-uppy-panelType":"FileEditor",id:"uppy-DashboardContent-panel--editor",children:[ie("div",{className:"uppy-DashboardContent-bar",children:[ie("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:e.i18nArray("editing",{file:ie("span",{className:"uppy-DashboardContent-titleFile",children:t.meta?t.meta.name:t.name})})}),ie("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:e.i18n("cancel")}),ie("button",{className:"uppy-DashboardContent-save",type:"button",onClick:e.saveFileEditor,children:e.i18n("save")})]}),ie("div",{className:"uppy-DashboardContent-panelBody",children:e.editors.map(r=>e.uppy.getPlugin(r.id).render(e.state))})]})}function oxe(){return ie("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:ie("g",{fill:"#686DE0",fillRule:"evenodd",children:[ie("path",{d:"M5 7v10h15V7H5zm0-1h15a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1z",fillRule:"nonzero"}),ie("path",{d:"M6.35 17.172l4.994-5.026a.5.5 0 0 1 .707 0l2.16 2.16 3.505-3.505a.5.5 0 0 1 .707 0l2.336 2.31-.707.72-1.983-1.97-3.505 3.505a.5.5 0 0 1-.707 0l-2.16-2.159-3.938 3.939-1.409.026z",fillRule:"nonzero"}),ie("circle",{cx:"7.5",cy:"9.5",r:"1.5"})]})})}function lxe(){return ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ie("path",{d:"M9.5 18.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V7.25a.5.5 0 0 1 .379-.485l9-2.25A.5.5 0 0 1 18.5 5v11.64c0 1.14-1.145 2-2.5 2s-2.5-.86-2.5-2c0-1.14 1.145-2 2.5-2 .557 0 1.079.145 1.5.396V8.67l-8 2v7.97zm8-11v-2l-8 2v2l8-2zM7 19.64c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1zm9-2c.855 0 1.5-.484 1.5-1s-.645-1-1.5-1-1.5.484-1.5 1 .645 1 1.5 1z",fill:"#049BCF",fillRule:"nonzero"})})}function cxe(){return ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ie("path",{d:"M16 11.834l4.486-2.691A1 1 0 0 1 22 10v6a1 1 0 0 1-1.514.857L16 14.167V17a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V9a1 1 0 0 1 1-1h10a1 1 0 0 1 1 1v2.834zM15 9H5v8h10V9zm1 4l5 3v-6l-5 3z",fill:"#19AF67",fillRule:"nonzero"})})}function uxe(){return ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ie("path",{d:"M9.766 8.295c-.691-1.843-.539-3.401.747-3.726 1.643-.414 2.505.938 2.39 3.299-.039.79-.194 1.662-.537 3.148.324.49.66.967 1.055 1.51.17.231.382.488.629.757 1.866-.128 3.653.114 4.918.655 1.487.635 2.192 1.685 1.614 2.84-.566 1.133-1.839 1.084-3.416.249-1.141-.604-2.457-1.634-3.51-2.707a13.467 13.467 0 0 0-2.238.426c-1.392 4.051-4.534 6.453-5.707 4.572-.986-1.58 1.38-4.206 4.914-5.375.097-.322.185-.656.264-1.001.08-.353.306-1.31.407-1.737-.678-1.059-1.2-2.031-1.53-2.91zm2.098 4.87c-.033.144-.068.287-.104.427l.033-.01-.012.038a14.065 14.065 0 0 1 1.02-.197l-.032-.033.052-.004a7.902 7.902 0 0 1-.208-.271c-.197-.27-.38-.526-.555-.775l-.006.028-.002-.003c-.076.323-.148.632-.186.8zm5.77 2.978c1.143.605 1.832.632 2.054.187.26-.519-.087-1.034-1.113-1.473-.911-.39-2.175-.608-3.55-.608.845.766 1.787 1.459 2.609 1.894zM6.559 18.789c.14.223.693.16 1.425-.413.827-.648 1.61-1.747 2.208-3.206-2.563 1.064-4.102 2.867-3.633 3.62zm5.345-10.97c.088-1.793-.351-2.48-1.146-2.28-.473.119-.564 1.05-.056 2.405.213.566.52 1.188.908 1.859.18-.858.268-1.453.294-1.984z",fill:"#E2514A",fillRule:"nonzero"})})}function dxe(){return ie("svg",{"aria-hidden":"true",focusable:"false",width:"25",height:"25",viewBox:"0 0 25 25",children:ie("path",{d:"M10.45 2.05h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V2.55a.5.5 0 0 1 .5-.5zm2.05 1.024h1.05a.5.5 0 0 1 .5.5V3.6a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5v-.001zM10.45 0h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5V.5a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 3.074h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-2.05 1.024h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm-2.05 1.025h1.05a.5.5 0 0 1 .5.5v.025a.5.5 0 0 1-.5.5h-1.05a.5.5 0 0 1-.5-.5v-.025a.5.5 0 0 1 .5-.5zm2.05 1.025h1.05a.5.5 0 0 1 .5.5v.024a.5.5 0 0 1-.5.5H12.5a.5.5 0 0 1-.5-.5v-.024a.5.5 0 0 1 .5-.5zm-1.656 3.074l-.82 5.946c.52.302 1.174.458 1.976.458.803 0 1.455-.156 1.975-.458l-.82-5.946h-2.311zm0-1.025h2.312c.512 0 .946.378 1.015.885l.82 5.946c.056.412-.142.817-.501 1.026-.686.398-1.515.597-2.49.597-.974 0-1.804-.199-2.49-.597a1.025 1.025 0 0 1-.5-1.026l.819-5.946c.07-.507.503-.885 1.015-.885zm.545 6.6a.5.5 0 0 1-.397-.561l.143-.999a.5.5 0 0 1 .495-.429h.74a.5.5 0 0 1 .495.43l.143.998a.5.5 0 0 1-.397.561c-.404.08-.819.08-1.222 0z",fill:"#00C469",fillRule:"nonzero"})})}function fxe(){return ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ie("g",{fill:"#A7AFB7",fillRule:"nonzero",children:[ie("path",{d:"M5.5 22a.5.5 0 0 1-.5-.5v-18a.5.5 0 0 1 .5-.5h10.719a.5.5 0 0 1 .367.16l3.281 3.556a.5.5 0 0 1 .133.339V21.5a.5.5 0 0 1-.5.5h-14zm.5-1h13V7.25L16 4H6v17z"}),ie("path",{d:"M15 4v3a1 1 0 0 0 1 1h3V7h-3V4h-1z"})]})})}function hxe(){return ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"25",height:"25",viewBox:"0 0 25 25",children:ie("path",{d:"M4.5 7h13a.5.5 0 1 1 0 1h-13a.5.5 0 0 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h15a.5.5 0 1 1 0 1h-15a.5.5 0 1 1 0-1zm0 3h10a.5.5 0 1 1 0 1h-10a.5.5 0 1 1 0-1z",fill:"#5A5E69",fillRule:"nonzero"})})}function xk(e){const t={color:"#838999",icon:fxe()};if(!e)return t;const n=e.split("/")[0],r=e.split("/")[1];return n==="text"?{color:"#5a5e69",icon:hxe()}:n==="image"?{color:"#686de0",icon:oxe()}:n==="audio"?{color:"#068dbb",icon:lxe()}:n==="video"?{color:"#19af67",icon:cxe()}:n==="application"&&r==="pdf"?{color:"#e25149",icon:uxe()}:n==="application"&&["zip","x-7z-compressed","x-zip-compressed","x-rar-compressed","x-tar","x-gzip","x-apple-diskimage"].indexOf(r)!==-1?{color:"#00C469",icon:dxe()}:t}function Pu(e){const{tagName:t}=e.target;if(t==="INPUT"||t==="TEXTAREA"){e.stopPropagation();return}e.preventDefault(),e.stopPropagation()}function HX(e){const{file:t}=e;if(t.preview)return ie("img",{draggable:!1,className:"uppy-Dashboard-Item-previewImg",alt:t.name,src:t.preview});const{color:n,icon:r}=xk(t.type);return ie("div",{className:"uppy-Dashboard-Item-previewIconWrap",children:[ie("span",{className:"uppy-Dashboard-Item-previewIcon",style:{color:n},children:r}),ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-Dashboard-Item-previewIconBg",width:"58",height:"76",viewBox:"0 0 58 76",children:ie("rect",{fill:"#FFF",width:"58",height:"76",rx:"3",fillRule:"evenodd"})})]})}function pxe(e){const{computedMetaFields:t,requiredMetaFields:n,updateMeta:r,form:i,formState:s}=e,a={text:"uppy-u-reset uppy-c-textInput uppy-Dashboard-FileCard-input"};return t.map(o=>{const u=`uppy-Dashboard-FileCard-input-${o.id}`,d=n.includes(o.id);return ie("fieldset",{className:"uppy-Dashboard-FileCard-fieldset",children:[ie("label",{className:"uppy-Dashboard-FileCard-label",htmlFor:u,children:o.name}),o.render!==void 0?o.render({value:s[o.id],onChange:h=>r(h,o.id),fieldCSSClasses:a,required:d,form:i.id},lk):ie("input",{className:a.text,id:u,form:i.id,type:o.type||"text",required:d,value:s[o.id],placeholder:o.placeholder,onInput:h=>r(h.target.value,o.id),"data-uppy-super-focusable":!0})]},o.id)})}function mxe(e){const{files:t,fileCardFor:n,toggleFileCard:r,saveFileCard:i,metaFields:s,requiredMetaFields:a,openFileEditor:o,i18n:u,i18nArray:d,className:h,canEditFile:m}=e,y=()=>typeof s=="function"?s(t[n]):s,b=t[n],C=y()??[],w=m(b),A={};C.forEach(M=>{A[M.id]=b.meta[M.id]??""});const[_,E]=Tm(A),N=Xw(M=>{M.preventDefault(),i(_,n)},[i,_,n]),I=(M,R)=>{E({..._,[R]:M})},O=()=>{r(!1)},[k]=Tm(()=>{const M=document.createElement("form");return M.setAttribute("tabindex","-1"),M.id=VX(),M});return Kw(()=>(document.body.appendChild(k),k.addEventListener("submit",N),()=>{k.removeEventListener("submit",N),k.parentNode&&document.body.removeChild(k)}),[k,N]),ie("div",{className:Ro("uppy-Dashboard-FileCard",h),"data-uppy-panelType":"FileCard",onDragOver:Pu,onDragLeave:Pu,onDrop:Pu,onPaste:Pu,children:[ie("div",{className:"uppy-DashboardContent-bar",children:[ie("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:d("editing",{file:ie("span",{className:"uppy-DashboardContent-titleFile",children:b.meta?b.meta.name:b.name})})}),ie("button",{className:"uppy-DashboardContent-back",type:"button",form:k.id,title:u("finishEditingFile"),onClick:O,children:u("cancel")})]}),ie("div",{className:"uppy-Dashboard-FileCard-inner",children:[ie("div",{className:"uppy-Dashboard-FileCard-preview",style:{backgroundColor:xk(b.type).color},children:[ie(HX,{file:b}),w&&ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-Dashboard-FileCard-edit",onClick:M=>{N(M),o(b)},children:u("editImage")})]}),ie("div",{className:"uppy-Dashboard-FileCard-info",children:ie(pxe,{computedMetaFields:C,requiredMetaFields:a,updateMeta:I,form:k,formState:_})}),ie("div",{className:"uppy-Dashboard-FileCard-actions",children:[ie("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-primary uppy-Dashboard-FileCard-actionsBtn",type:"submit",form:k.id,children:u("saveChanges")}),ie("button",{className:"uppy-u-reset uppy-c-btn uppy-c-btn-link uppy-Dashboard-FileCard-actionsBtn",type:"button",onClick:O,form:k.id,children:u("cancel")})]})]})]})}function gxe(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const a=n[s];if(e[a]!==t[a]||!Object.prototype.hasOwnProperty.call(t,a))return!1}return!0}function yxe(e,t="Copy the URL below"){return new Promise(n=>{const r=document.createElement("textarea");r.setAttribute("style",{position:"fixed",top:0,left:0,width:"2em",height:"2em",padding:0,border:"none",outline:"none",boxShadow:"none",background:"transparent"}),r.value=e,document.body.appendChild(r),r.select();const i=()=>{document.body.removeChild(r),window.prompt(t,e),n()};try{return document.execCommand("copy")?(document.body.removeChild(r),n()):i()}catch{return document.body.removeChild(r),i()}})}function vxe({file:e,uploadInProgressOrComplete:t,metaFields:n,canEditFile:r,i18n:i,onClick:s}){return!t&&n&&n.length>0||!t&&r(e)?ie("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-action uppy-Dashboard-Item-action--edit",type:"button","aria-label":i("editFileWithFilename",{file:e.meta.name}),title:i("editFileWithFilename",{file:e.meta.name}),onClick:()=>s(),children:ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 14",children:ie("g",{fillRule:"evenodd",children:[ie("path",{d:"M1.5 10.793h2.793A1 1 0 0 0 5 10.5L11.5 4a1 1 0 0 0 0-1.414L9.707.793a1 1 0 0 0-1.414 0l-6.5 6.5A1 1 0 0 0 1.5 8v2.793zm1-1V8L9 1.5l1.793 1.793-6.5 6.5H2.5z",fillRule:"nonzero"}),ie("rect",{x:"1",y:"12.293",width:"11",height:"1",rx:".5"}),ie("path",{fillRule:"nonzero",d:"M6.793 2.5L9.5 5.207l.707-.707L7.5 1.793z"})]})})}):null}function xxe({i18n:e,onClick:t,file:n}){return ie("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--remove",type:"button","aria-label":e("removeFile",{file:n.meta.name}),title:e("removeFile",{file:n.meta.name}),onClick:()=>t(),children:ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"18",height:"18",viewBox:"0 0 18 18",children:[ie("path",{d:"M9 0C4.034 0 0 4.034 0 9s4.034 9 9 9 9-4.034 9-9-4.034-9-9-9z"}),ie("path",{fill:"#FFF",d:"M13 12.222l-.778.778L9 9.778 5.778 13 5 12.222 8.222 9 5 5.778 5.778 5 9 8.222 12.222 5l.778.778L9.778 9z"})]})})}function bxe({file:e,uppy:t,i18n:n}){const r=i=>{yxe(e.uploadURL,n("copyLinkToClipboardFallback")).then(()=>{t.log("Link copied to clipboard."),t.info(n("copyLinkToClipboardSuccess"),"info",3e3)}).catch(t.log).then(()=>i.target.focus({preventScroll:!0}))};return ie("button",{className:"uppy-u-reset uppy-Dashboard-Item-action uppy-Dashboard-Item-action--copyLink",type:"button","aria-label":n("copyLink"),title:n("copyLink"),onClick:i=>r(i),children:ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"14",height:"14",viewBox:"0 0 14 12",children:ie("path",{d:"M7.94 7.703a2.613 2.613 0 0 1-.626 2.681l-.852.851a2.597 2.597 0 0 1-1.849.766A2.616 2.616 0 0 1 2.764 7.54l.852-.852a2.596 2.596 0 0 1 2.69-.625L5.267 7.099a1.44 1.44 0 0 0-.833.407l-.852.851a1.458 1.458 0 0 0 1.03 2.486c.39 0 .755-.152 1.03-.426l.852-.852c.231-.231.363-.522.406-.824l1.04-1.038zm4.295-5.937A2.596 2.596 0 0 0 10.387 1c-.698 0-1.355.272-1.849.766l-.852.851a2.614 2.614 0 0 0-.624 2.688l1.036-1.036c.041-.304.173-.6.407-.833l.852-.852c.275-.275.64-.426 1.03-.426a1.458 1.458 0 0 1 1.03 2.486l-.852.851a1.442 1.442 0 0 1-.824.406l-1.04 1.04a2.596 2.596 0 0 0 2.683-.628l.851-.85a2.616 2.616 0 0 0 0-3.697zm-6.88 6.883a.577.577 0 0 0 .82 0l3.474-3.474a.579.579 0 1 0-.819-.82L5.355 7.83a.579.579 0 0 0 0 .819z"})})})}function wxe(e){const{uppy:t,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:s,showLinkToFileUploadResult:a,showRemoveButton:o,i18n:u,toggleFileCard:d,openFileEditor:h}=e;return ie("div",{className:"uppy-Dashboard-Item-actionWrapper",children:[ie(vxe,{i18n:u,file:n,uploadInProgressOrComplete:r,canEditFile:i,metaFields:s,onClick:()=>{s&&s.length>0?d(!0,n.id):h(n)}}),a&&n.uploadURL?ie(bxe,{file:n,uppy:t,i18n:u}):null,o?ie(xxe,{i18n:u,file:n,onClick:()=>t.removeFile(n.id)}):null]})}const Sxe=(e,t)=>(typeof t=="function"?t():t).filter(i=>i.id===e)[0].name;function GX(e){const{file:t,toggleFileCard:n,i18n:r,metaFields:i}=e,{missingRequiredMetaFields:s}=t;if(!(s!=null&&s.length))return null;const a=s.map(o=>Sxe(o,i)).join(", ");return ie("div",{className:"uppy-Dashboard-Item-errorMessage",children:[r("missingRequiredMetaFields",{smart_count:s.length,fields:a})," ",ie("button",{type:"button",class:"uppy-u-reset uppy-Dashboard-Item-errorMessageBtn",onClick:()=>n(!0,t.id),children:r("editFile")})]})}const Cxe=e=>{const{author:t,name:n}=e.file.meta;function r(){return e.isSingleFile&&e.containerHeight>=350?90:e.containerWidth<=352?35:e.containerWidth<=576?60:t?20:30}return ie("div",{className:"uppy-Dashboard-Item-name",title:n,children:iX(n,r())})},Axe=e=>{var i;const{author:t}=e.file.meta,n=(i=e.file.remote)==null?void 0:i.providerName,r="";return t?ie("div",{className:"uppy-Dashboard-Item-author",children:[ie("a",{href:`${t.url}?utm_source=Companion&utm_medium=referral`,target:"_blank",rel:"noopener noreferrer",children:iX(t.name,13)}),n?ie(cc,{children:[` ${r} `,n,` ${r} `]}):null]}):null},Exe=e=>e.file.size&&ie("div",{className:"uppy-Dashboard-Item-statusSize",children:Yd(e.file.size)}),_xe=e=>e.file.isGhost&&ie("span",{children:["  ",ie("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-reSelect",type:"button",onClick:()=>e.toggleAddFilesPanel(!0),children:e.i18n("reSelect")})]}),Txe=({file:e,onClick:t})=>e.error?ie("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-errorDetails","aria-label":e.error,"data-microtip-position":"bottom","data-microtip-size":"medium",onClick:t,type:"button",children:"?"}):null;function Nxe(e){const{file:t,i18n:n,toggleFileCard:r,metaFields:i,toggleAddFilesPanel:s,isSingleFile:a,containerHeight:o,containerWidth:u}=e;return ie("div",{className:"uppy-Dashboard-Item-fileInfo","data-uppy-file-source":t.source,children:[ie("div",{className:"uppy-Dashboard-Item-fileName",children:[Cxe({file:t,isSingleFile:a,containerHeight:o,containerWidth:u}),ie(Txe,{file:t,onClick:()=>alert(t.error)})]}),ie("div",{className:"uppy-Dashboard-Item-status",children:[Axe({file:t}),Exe({file:t}),_xe({file:t,toggleAddFilesPanel:s,i18n:n})]}),ie(GX,{file:t,i18n:n,toggleFileCard:r,metaFields:i})]})}function Pxe(e){const{file:t,i18n:n,toggleFileCard:r,metaFields:i,showLinkToFileUploadResult:s}=e,o=t.preview?"rgba(255, 255, 255, 0.5)":xk(t.type).color;return ie("div",{className:"uppy-Dashboard-Item-previewInnerWrap",style:{backgroundColor:o},children:[s&&t.uploadURL&&ie("a",{className:"uppy-Dashboard-Item-previewLink",href:t.uploadURL,rel:"noreferrer noopener",target:"_blank","aria-label":t.meta.name,children:ie("span",{hidden:!0,children:t.meta.name})}),ie(HX,{file:t}),ie(GX,{file:t,i18n:n,toggleFileCard:r,metaFields:i})]})}function Oxe(e){if(!e.isUploaded){if(e.error&&!e.hideRetryButton){e.uppy.retryUpload(e.file.id);return}e.resumableUploads&&!e.hidePauseResumeButton?e.uppy.pauseResume(e.file.id):e.individualCancellation&&!e.hideCancelButton&&e.uppy.removeFile(e.file.id)}}function p5(e){return e.isUploaded?e.i18n("uploadComplete"):e.error?e.i18n("retryUpload"):e.resumableUploads?e.file.isPaused?e.i18n("resumeUpload"):e.i18n("pauseUpload"):e.individualCancellation?e.i18n("cancelUpload"):""}function e_(e){return ie("div",{className:"uppy-Dashboard-Item-progress",children:ie("button",{className:"uppy-u-reset uppy-c-btn uppy-Dashboard-Item-progressIndicator",type:"button","aria-label":p5(e),title:p5(e),onClick:()=>Oxe(e),children:e.children})})}function sb({children:e}){return ie("svg",{"aria-hidden":"true",focusable:"false",width:"70",height:"70",viewBox:"0 0 36 36",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--circle",children:e})}function t_({progress:e}){const t=2*Math.PI*15;return ie("g",{children:[ie("circle",{className:"uppy-Dashboard-Item-progressIcon--bg",r:"15",cx:"18",cy:"18","stroke-width":"2",fill:"none"}),ie("circle",{className:"uppy-Dashboard-Item-progressIcon--progress",r:"15",cx:"18",cy:"18",transform:"rotate(-90, 18, 18)",fill:"none","stroke-width":"2","stroke-dasharray":t,"stroke-dashoffset":t-t/100*e})]})}function jxe(e){return!e.file.progress.uploadStarted||e.file.progress.percentage===void 0?null:e.isUploaded?ie("div",{className:"uppy-Dashboard-Item-progress",children:ie("div",{className:"uppy-Dashboard-Item-progressIndicator",children:ie(sb,{children:[ie("circle",{r:"15",cx:"18",cy:"18",fill:"#1bb240"}),ie("polygon",{className:"uppy-Dashboard-Item-progressIcon--check",transform:"translate(2, 3)",points:"14 22.5 7 15.2457065 8.99985857 13.1732815 14 18.3547104 22.9729883 9 25 11.1005634"})]})})}):e.recoveredState?null:e.error&&!e.hideRetryButton?ie(e_,{...e,children:ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon uppy-Dashboard-Item-progressIcon--retry",width:"28",height:"31",viewBox:"0 0 16 19",children:[ie("path",{d:"M16 11a8 8 0 1 1-8-8v2a6 6 0 1 0 6 6h2z"}),ie("path",{d:"M7.9 3H10v2H7.9z"}),ie("path",{d:"M8.536.5l3.535 3.536-1.414 1.414L7.12 1.914z"}),ie("path",{d:"M10.657 2.621l1.414 1.415L8.536 7.57 7.12 6.157z"})]})}):e.resumableUploads&&!e.hidePauseResumeButton?ie(e_,{...e,children:ie(sb,{children:[ie(t_,{progress:e.file.progress.percentage}),e.file.isPaused?ie("polygon",{className:"uppy-Dashboard-Item-progressIcon--play",transform:"translate(3, 3)",points:"12 20 12 10 20 15"}):ie("g",{className:"uppy-Dashboard-Item-progressIcon--pause",transform:"translate(14.5, 13)",children:[ie("rect",{x:"0",y:"0",width:"2",height:"10",rx:"0"}),ie("rect",{x:"5",y:"0",width:"2",height:"10",rx:"0"})]})]})}):!e.resumableUploads&&e.individualCancellation&&!e.hideCancelButton?ie(e_,{...e,children:ie(sb,{children:[ie(t_,{progress:e.file.progress.percentage}),ie("polygon",{className:"cancel",transform:"translate(2, 2)",points:"19.8856516 11.0625 16 14.9481516 12.1019737 11.0625 11.0625 12.1143484 14.9481516 16 11.0625 19.8980263 12.1019737 20.9375 16 17.0518484 19.8856516 20.9375 20.9375 19.8980263 17.0518484 16 20.9375 12"})]})}):ie("div",{className:"uppy-Dashboard-Item-progress",children:ie("div",{className:"uppy-Dashboard-Item-progressIndicator",children:ie(sb,{children:ie(t_,{progress:e.file.progress.percentage})})})})}class kxe extends xl{componentDidMount(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}shouldComponentUpdate(t){return!gxe(this.props,t)}componentDidUpdate(){const{file:t}=this.props;t.preview||this.props.handleRequestThumbnail(t)}componentWillUnmount(){const{file:t}=this.props;t.preview||this.props.handleCancelThumbnail(t)}render(){const{file:t}=this.props,n=t.progress.preprocess||t.progress.postprocess,r=!!t.progress.uploadComplete&&!n&&!t.error,i=!!t.progress.uploadStarted||!!n,s=t.progress.uploadStarted&&!t.progress.uploadComplete||n,a=t.error||!1,{isGhost:o}=t;let u=(this.props.individualCancellation||!s)&&!r;r&&this.props.showRemoveButtonAfterComplete&&(u=!0);const d=Ro({"uppy-Dashboard-Item":!0,"is-inprogress":s&&!this.props.recoveredState,"is-processing":n,"is-complete":r,"is-error":!!a,"is-resumable":this.props.resumableUploads,"is-noIndividualCancellation":!this.props.individualCancellation,"is-ghost":o});return ie("div",{className:d,id:`uppy_${t.id}`,role:this.props.role,children:[ie("div",{className:"uppy-Dashboard-Item-preview",children:[ie(Pxe,{file:t,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,i18n:this.props.i18n,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields}),ie(jxe,{uppy:this.props.uppy,file:t,error:a,isUploaded:r,hideRetryButton:this.props.hideRetryButton,hideCancelButton:this.props.hideCancelButton,hidePauseResumeButton:this.props.hidePauseResumeButton,recoveredState:this.props.recoveredState,resumableUploads:this.props.resumableUploads,individualCancellation:this.props.individualCancellation,i18n:this.props.i18n})]}),ie("div",{className:"uppy-Dashboard-Item-fileInfoAndButtons",children:[ie(Nxe,{file:t,containerWidth:this.props.containerWidth,containerHeight:this.props.containerHeight,i18n:this.props.i18n,toggleAddFilesPanel:this.props.toggleAddFilesPanel,toggleFileCard:this.props.toggleFileCard,metaFields:this.props.metaFields,isSingleFile:this.props.isSingleFile}),ie(wxe,{file:t,metaFields:this.props.metaFields,showLinkToFileUploadResult:this.props.showLinkToFileUploadResult,showRemoveButton:u,canEditFile:this.props.canEditFile,uploadInProgressOrComplete:i,toggleFileCard:this.props.toggleFileCard,openFileEditor:this.props.openFileEditor,uppy:this.props.uppy,i18n:this.props.i18n})]})]})}}function Ixe(e,t){const n=[];let r=[];return e.forEach(i=>{r.length<t?r.push(i):(n.push(r),r=[i])}),r.length&&n.push(r),n}function Mxe({id:e,i18n:t,uppy:n,files:r,resumableUploads:i,hideRetryButton:s,hidePauseResumeButton:a,hideCancelButton:o,showLinkToFileUploadResult:u,showRemoveButtonAfterComplete:d,metaFields:h,isSingleFile:m,toggleFileCard:y,handleRequestThumbnail:b,handleCancelThumbnail:C,recoveredState:w,individualCancellation:A,itemsPerRow:_,openFileEditor:E,canEditFile:N,toggleAddFilesPanel:I,containerWidth:O,containerHeight:k}){const M=_===1?71:200,R=fk(()=>{const U=(F,V)=>Number(r[V].isGhost)-Number(r[F].isGhost),X=Object.keys(r);return w&&X.sort(U),Ixe(X,_)},[r,_,w]),L=U=>ie("div",{class:"uppy-Dashboard-filesInner",role:"presentation",children:U.map(X=>ie(kxe,{uppy:n,id:e,i18n:t,resumableUploads:i,individualCancellation:A,hideRetryButton:s,hidePauseResumeButton:a,hideCancelButton:o,showLinkToFileUploadResult:u,showRemoveButtonAfterComplete:d,metaFields:h,recoveredState:w,isSingleFile:m,containerWidth:O,containerHeight:k,toggleFileCard:y,handleRequestThumbnail:b,handleCancelThumbnail:C,role:"listitem",openFileEditor:E,canEditFile:N,toggleAddFilesPanel:I,file:r[X]},X))},U[0]);return m?ie("div",{class:"uppy-Dashboard-files",children:L(R[0])}):ie(eye,{class:"uppy-Dashboard-files",role:"list",data:R,renderRow:L,rowHeight:M})}const m5=300;class Dxe extends xl{constructor(){super(...arguments);Q(this,"ref",V0e())}componentWillEnter(n){this.ref.current.style.opacity="1",this.ref.current.style.transform="none",setTimeout(n,m5)}componentWillLeave(n){this.ref.current.style.opacity="0",this.ref.current.style.transform="translateY(350%)",setTimeout(n,m5)}render(){const{children:n}=this.props;return ie("div",{className:"uppy-Informer-animated",ref:this.ref,children:n})}}function Rxe(e,t){return Object.assign(e,t)}function Fxe(e,t){return(e==null?void 0:e.key)??t}function Lxe(e,t){const n=e._ptgLinkedRefs||(e._ptgLinkedRefs={});return n[t]||(n[t]=r=>{e.refs[t]=r})}function g0(e){const t={};for(let n=0;n<e.length;n++)if(e[n]!=null){const r=Fxe(e[n],n.toString(36));t[r]=e[n]}return t}function Bxe(e,t){e=e||{},t=t||{};const n=a=>Object.hasOwn(t,a)?t[a]:e[a],r={};let i=[];for(const a in e)Object.hasOwn(t,a)?i.length&&(r[a]=i,i=[]):i.push(a);const s={};for(const a in t){if(Object.hasOwn(r,a))for(let o=0;o<r[a].length;o++){const u=r[a][o];s[r[a][o]]=n(u)}s[a]=n(a)}for(let a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}const $xe=e=>e;class qX extends xl{constructor(t,n){super(t,n),this.refs={},this.state={children:g0(cu(cu(this.props.children))||[])},this.performAppear=this.performAppear.bind(this),this.performEnter=this.performEnter.bind(this),this.performLeave=this.performLeave.bind(this)}componentWillMount(){this.currentlyTransitioningKeys={},this.keysToAbortLeave=[],this.keysToEnter=[],this.keysToLeave=[]}componentDidMount(){const t=this.state.children;for(const n in t)t[n]&&this.performAppear(n)}componentWillReceiveProps(t){const n=g0(cu(t.children)||[]),r=this.state.children;this.setState(s=>({children:Bxe(s.children,n)}));let i;for(i in n)if(Object.hasOwn(n,i)){const s=r&&Object.hasOwn(r,i);n[i]&&s&&this.currentlyTransitioningKeys[i]?(this.keysToEnter.push(i),this.keysToAbortLeave.push(i)):n[i]&&!s&&!this.currentlyTransitioningKeys[i]&&this.keysToEnter.push(i)}for(i in r)if(Object.hasOwn(r,i)){const s=n&&Object.hasOwn(n,i);r[i]&&!s&&!this.currentlyTransitioningKeys[i]&&this.keysToLeave.push(i)}}componentDidUpdate(){const{keysToEnter:t}=this;this.keysToEnter=[],t.forEach(this.performEnter);const{keysToLeave:n}=this;this.keysToLeave=[],n.forEach(this.performLeave)}_finishAbort(t){const n=this.keysToAbortLeave.indexOf(t);n!==-1&&this.keysToAbortLeave.splice(n,1)}performAppear(t){this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n!=null&&n.componentWillAppear?n.componentWillAppear(this._handleDoneAppearing.bind(this,t)):this._handleDoneAppearing(t)}_handleDoneAppearing(t){const n=this.refs[t];n!=null&&n.componentDidAppear&&n.componentDidAppear(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=g0(cu(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performEnter(t){this.currentlyTransitioningKeys[t]=!0;const n=this.refs[t];n!=null&&n.componentWillEnter?n.componentWillEnter(this._handleDoneEntering.bind(this,t)):this._handleDoneEntering(t)}_handleDoneEntering(t){const n=this.refs[t];n!=null&&n.componentDidEnter&&n.componentDidEnter(),delete this.currentlyTransitioningKeys[t],this._finishAbort(t);const r=g0(cu(this.props.children)||[]);(!r||!Object.hasOwn(r,t))&&this.performLeave(t)}performLeave(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;this.currentlyTransitioningKeys[t]=!0;const r=this.refs[t];r!=null&&r.componentWillLeave?r.componentWillLeave(this._handleDoneLeaving.bind(this,t)):this._handleDoneLeaving(t)}_handleDoneLeaving(t){if(this.keysToAbortLeave.indexOf(t)!==-1)return;const r=this.refs[t];r!=null&&r.componentDidLeave&&r.componentDidLeave(),delete this.currentlyTransitioningKeys[t];const i=g0(cu(this.props.children)||[]);if(i&&Object.hasOwn(i,t))this.performEnter(t);else{const s=Rxe({},this.state.children);delete s[t],this.setState({children:s})}}render({childFactory:t,transitionLeave:n,transitionName:r,transitionAppear:i,transitionEnter:s,transitionLeaveTimeout:a,transitionEnterTimeout:o,transitionAppearTimeout:u,component:d,...h},{children:m}){const y=Object.entries(m).map(([b,C])=>{if(!C)return;const w=Lxe(this,b);return gX(t(C),{ref:w,key:b})}).filter(Boolean);return lk(d,h,y)}}qX.defaultProps={component:"span",childFactory:$xe};class g5 extends xl{render(){const{info:t}=this.props.uppy.getState();return ie("div",{className:"uppy uppy-Informer",children:ie(qX,{children:t.map(n=>ie(Dxe,{children:ie("p",{role:"alert",children:[n.message," ",n.details&&ie("span",{"aria-label":n.details,"data-microtip-position":"top-left","data-microtip-size":"medium",role:"tooltip",onClick:()=>alert(`${n.message} 

 ${n.details}`),children:"?"})]})},n.message))})})}}function Uxe({activePickerPanel:e,className:t,hideAllPanels:n,i18n:r,state:i,uppy:s}){const a=cy(null);return ie("div",{className:Ro("uppy-DashboardContent-panel",t),role:"tabpanel","data-uppy-panelType":"PickerPanel",id:`uppy-DashboardContent-panel--${e.id}`,onDragOver:Pu,onDragLeave:Pu,onDrop:Pu,onPaste:Pu,children:[ie("div",{className:"uppy-DashboardContent-bar",children:[ie("div",{className:"uppy-DashboardContent-title",role:"heading","aria-level":1,children:r("importFrom",{name:e.name})}),ie("button",{className:"uppy-DashboardContent-back",type:"button",onClick:n,children:r("cancel")})]}),ie("div",{ref:a,className:"uppy-DashboardContent-panelBody",children:s.getPlugin(e.id).render(i,a.current)})]})}const Zo={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete",STATE_PAUSED:"paused"};function zxe(e,t,n,r={}){if(e)return Zo.STATE_ERROR;if(t)return Zo.STATE_COMPLETE;if(n)return Zo.STATE_PAUSED;let i=Zo.STATE_WAITING;const s=Object.keys(r);for(let a=0;a<s.length;a++){const{progress:o}=r[s[a]];if(o.uploadStarted&&!o.uploadComplete)return Zo.STATE_UPLOADING;o.preprocess&&i!==Zo.STATE_UPLOADING&&(i=Zo.STATE_PREPROCESSING),o.postprocess&&i!==Zo.STATE_UPLOADING&&i!==Zo.STATE_PREPROCESSING&&(i=Zo.STATE_POSTPROCESSING)}return i}function Vxe({files:e,i18n:t,isAllComplete:n,isAllErrored:r,isAllPaused:i,inProgressNotPausedFiles:s,newFiles:a,processingFiles:o}){switch(zxe(r,n,i,e)){case"uploading":return t("uploadingXFiles",{smart_count:s.length});case"preprocessing":case"postprocessing":return t("processingXFiles",{smart_count:o.length});case"paused":return t("uploadPaused");case"waiting":return t("xFilesSelected",{smart_count:a.length});case"complete":return t("uploadComplete");case"error":return t("error")}}function Wxe(e){const{i18n:t,isAllComplete:n,hideCancelButton:r,maxNumberOfFiles:i,toggleAddFilesPanel:s,uppy:a}=e;let{allowNewUpload:o}=e;return o&&i&&(o=e.totalFileCount<e.maxNumberOfFiles),ie("div",{className:"uppy-DashboardContent-bar",children:[!n&&!r?ie("button",{className:"uppy-DashboardContent-back",type:"button",onClick:()=>a.cancelAll(),children:t("cancel")}):ie("div",{}),ie("div",{className:"uppy-DashboardContent-title",children:ie(Vxe,{...e})}),o?ie("button",{className:"uppy-DashboardContent-addMore",type:"button","aria-label":t("addMoreFiles"),title:t("addMoreFiles"),onClick:()=>s(!0),children:[ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"15",height:"15",viewBox:"0 0 15 15",children:ie("path",{d:"M8 6.5h6a.5.5 0 0 1 .5.5v.5a.5.5 0 0 1-.5.5H8v6a.5.5 0 0 1-.5.5H7a.5.5 0 0 1-.5-.5V8h-6a.5.5 0 0 1-.5-.5V7a.5.5 0 0 1 .5-.5h6v-6A.5.5 0 0 1 7 0h.5a.5.5 0 0 1 .5.5v6z"})}),ie("span",{className:"uppy-DashboardContent-addMoreCaption",children:t("addMore")})]}):ie("div",{})]})}const Nh="uppy-transition-slideDownUp",y5=250;function ab({children:e}){const[t,n]=Tm(null),[r,i]=Tm(""),s=cy(),a=cy(),o=cy(),u=Xw(()=>{i(`${Nh}-enter`),cancelAnimationFrame(o.current),clearTimeout(a.current),a.current=void 0,o.current=requestAnimationFrame(()=>{i(`${Nh}-enter ${Nh}-enter-active`),s.current=setTimeout(()=>{i("")},y5)})},[]),d=Xw(()=>{i(`${Nh}-leave`),cancelAnimationFrame(o.current),clearTimeout(s.current),s.current=void 0,o.current=requestAnimationFrame(()=>{i(`${Nh}-leave ${Nh}-leave-active`),a.current=setTimeout(()=>{n(null),i("")},y5)})},[]);return Kw(()=>{const h=cu(e)[0];t!==h&&(h&&!t?u():t&&!h&&!a.current&&d(),n(h))},[e,t,u,d]),Kw(()=>()=>{clearTimeout(s.current),clearTimeout(a.current),cancelAnimationFrame(o.current)},[]),t?gX(t,{className:Ro(r,t.props.className)}):null}const Jo={STATE_ERROR:"error",STATE_WAITING:"waiting",STATE_PREPROCESSING:"preprocessing",STATE_UPLOADING:"uploading",STATE_POSTPROCESSING:"postprocessing",STATE_COMPLETE:"complete"},Hxe="",v5=()=>` ${Hxe} `;function Gxe(e){const{newFiles:t,isUploadStarted:n,recoveredState:r,i18n:i,uploadState:s,isSomeGhost:a,startUpload:o}=e,u=Ro("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--upload",{"uppy-c-btn-primary":s===Jo.STATE_WAITING},{"uppy-StatusBar-actionBtn--disabled":a}),d=t&&n&&!r?i("uploadXNewFiles",{smart_count:t}):i("uploadXFiles",{smart_count:t});return ie("button",{type:"button",className:u,"aria-label":i("uploadXFiles",{smart_count:t}),onClick:o,disabled:a,"data-uppy-super-focusable":!0,children:d})}function qxe(e){const{i18n:t,uppy:n}=e;return ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry","aria-label":t("retryUpload"),onClick:()=>n.retryAll().catch(()=>{}),"data-uppy-super-focusable":!0,"data-cy":"retry",children:[ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"8",height:"10",viewBox:"0 0 8 10",children:ie("path",{d:"M4 2.408a2.75 2.75 0 1 0 2.75 2.75.626.626 0 0 1 1.25.018v.023a4 4 0 1 1-4-4.041V.25a.25.25 0 0 1 .389-.208l2.299 1.533a.25.25 0 0 1 0 .416l-2.3 1.533A.25.25 0 0 1 4 3.316v-.908z"})}),t("retry")]})}function Kxe(e){const{i18n:t,uppy:n}=e;return ie("button",{type:"button",className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",title:t("cancel"),"aria-label":t("cancel"),onClick:()=>n.cancelAll(),"data-cy":"cancel","data-uppy-super-focusable":!0,children:ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:ie("g",{fill:"none",fillRule:"evenodd",children:[ie("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),ie("path",{fill:"#FFF",d:"M9.283 8l2.567 2.567-1.283 1.283L8 9.283 5.433 11.85 4.15 10.567 6.717 8 4.15 5.433 5.433 4.15 8 6.717l2.567-2.567 1.283 1.283z"})]})})})}function Xxe(e){const{isAllPaused:t,i18n:n,isAllComplete:r,resumableUploads:i,uppy:s}=e,a=n(t?"resume":"pause");function o(){if(!r){if(!i){s.cancelAll();return}if(t){s.resumeAll();return}s.pauseAll()}}return ie("button",{title:a,"aria-label":a,className:"uppy-u-reset uppy-StatusBar-actionCircleBtn",type:"button",onClick:o,"data-cy":"togglePauseResume","data-uppy-super-focusable":!0,children:ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-c-icon",width:"16",height:"16",viewBox:"0 0 16 16",children:ie("g",{fill:"none",fillRule:"evenodd",children:[ie("circle",{fill:"#888",cx:"8",cy:"8",r:"8"}),ie("path",{fill:"#FFF",d:t?"M6 4.25L11.5 8 6 11.75z":"M5 4.5h2v7H5v-7zm4 0h2v7H9v-7z"})]})})})}function Yxe(e){const{i18n:t,doneButtonHandler:n}=e;return ie("button",{type:"button",className:"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--done",onClick:n,"data-uppy-super-focusable":!0,children:t("done")})}function KX(){return ie("svg",{className:"uppy-StatusBar-spinner","aria-hidden":"true",focusable:"false",width:"14",height:"14",children:ie("path",{d:"M13.983 6.547c-.12-2.509-1.64-4.893-3.939-5.936-2.48-1.127-5.488-.656-7.556 1.094C.524 3.367-.398 6.048.162 8.562c.556 2.495 2.46 4.52 4.94 5.183 2.932.784 5.61-.602 7.256-3.015-1.493 1.993-3.745 3.309-6.298 2.868-2.514-.434-4.578-2.349-5.153-4.84a6.226 6.226 0 0 1 2.98-6.778C6.34.586 9.74 1.1 11.373 3.493c.407.596.693 1.282.842 1.988.127.598.073 1.197.161 1.794.078.525.543 1.257 1.15.864.525-.341.49-1.05.456-1.592-.007-.15.02.3 0 0",fillRule:"evenodd"})})}function Zxe(e){const{progress:t}=e,{value:n,mode:r,message:i}=t;return ie("div",{className:"uppy-StatusBar-content",children:[ie(KX,{}),r==="determinate"?`${Math.round(n*100)}%  `:"",i]})}function Qxe(e){const{numUploads:t,complete:n,totalUploadedSize:r,totalSize:i,totalETA:s,i18n:a}=e,o=t>1,u=Yd(r);return ie("div",{className:"uppy-StatusBar-statusSecondary",children:[o&&a("filesUploadedOfTotal",{complete:n,smart_count:t}),ie("span",{className:"uppy-StatusBar-additionalInfo",children:[o&&v5(),i!=null?a("dataUploadedOfTotal",{complete:u,total:Yd(i)}):a("dataUploadedOfUnknown",{complete:u}),v5(),s!=null&&a("xTimeLeft",{time:R0e(s)})]})]})}function XX(e){const{i18n:t,complete:n,numUploads:r}=e;return ie("div",{className:"uppy-StatusBar-statusSecondary",children:t("filesUploadedOfTotal",{complete:n,smart_count:r})})}function Jxe(e){const{i18n:t,newFiles:n,startUpload:r}=e,i=Ro("uppy-u-reset","uppy-c-btn","uppy-StatusBar-actionBtn","uppy-StatusBar-actionBtn--uploadNewlyAdded");return ie("div",{className:"uppy-StatusBar-statusSecondary",children:[ie("div",{className:"uppy-StatusBar-statusSecondaryHint",children:t("xMoreFilesAdded",{smart_count:n})}),ie("button",{type:"button",className:i,"aria-label":t("uploadXFiles",{smart_count:n}),onClick:r,children:t("upload")})]})}function ebe(e){const{i18n:t,supportsUploadProgress:n,totalProgress:r,hideProgressDetails:i,isUploadStarted:s,isAllComplete:a,isAllPaused:o,newFiles:u,numUploads:d,complete:h,totalUploadedSize:m,totalSize:y,totalETA:b,startUpload:C}=e,w=u&&s;if(!s||a)return null;const A=t(o?"paused":"uploading");function _(){return!o&&!w&&!i?n?ie(Qxe,{numUploads:d,complete:h,totalUploadedSize:m,totalSize:y,totalETA:b,i18n:t}):ie(XX,{i18n:t,complete:h,numUploads:d}):null}return ie("div",{className:"uppy-StatusBar-content",title:A,children:[o?null:ie(KX,{}),ie("div",{className:"uppy-StatusBar-status",children:[ie("div",{className:"uppy-StatusBar-statusPrimary",children:n&&r!==0?`${A}: ${r}%`:A}),_(),w?ie(Jxe,{i18n:t,newFiles:u,startUpload:C}):null]})]})}function tbe(e){const{i18n:t}=e;return ie("div",{className:"uppy-StatusBar-content",role:"status",title:t("complete"),children:ie("div",{className:"uppy-StatusBar-status",children:ie("div",{className:"uppy-StatusBar-statusPrimary",children:[ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"15",height:"11",viewBox:"0 0 15 11",children:ie("path",{d:"M.414 5.843L1.627 4.63l3.472 3.472L13.202 0l1.212 1.213L5.1 10.528z"})}),t("complete")]})})})}function nbe(e){const{error:t,i18n:n,complete:r,numUploads:i}=e;function s(){const a=`${n("uploadFailed")} 

 ${t}`;alert(a)}return ie("div",{className:"uppy-StatusBar-content",title:n("uploadFailed"),children:[ie("svg",{"aria-hidden":"true",focusable:"false",className:"uppy-StatusBar-statusIndicator uppy-c-icon",width:"11",height:"11",viewBox:"0 0 11 11",children:ie("path",{d:"M4.278 5.5L0 1.222 1.222 0 5.5 4.278 9.778 0 11 1.222 6.722 5.5 11 9.778 9.778 11 5.5 6.722 1.222 11 0 9.778z"})}),ie("div",{className:"uppy-StatusBar-status",children:[ie("div",{className:"uppy-StatusBar-statusPrimary",children:[n("uploadFailed"),ie("button",{className:"uppy-u-reset uppy-StatusBar-details","aria-label":n("showErrorDetails"),"data-microtip-position":"top-right","data-microtip-size":"medium",onClick:s,type:"button",children:"?"})]}),ie(XX,{i18n:n,complete:r,numUploads:i})]})]})}function n_(e){const t=[];let n="indeterminate",r;for(const{progress:s}of Object.values(e)){const{preprocess:a,postprocess:o}=s;r==null&&(a||o)&&({mode:n,message:r}=a||o),(a==null?void 0:a.mode)==="determinate"&&t.push(a.value),(o==null?void 0:o.mode)==="determinate"&&t.push(o.value)}const i=t.reduce((s,a)=>s+a/t.length,0);return{mode:n,message:r,value:i}}const{STATE_ERROR:x5,STATE_WAITING:rbe,STATE_PREPROCESSING:r_,STATE_UPLOADING:ob,STATE_POSTPROCESSING:i_,STATE_COMPLETE:lb}=Jo;function ibe({newFiles:e,allowNewUpload:t,isUploadInProgress:n,isAllPaused:r,resumableUploads:i,error:s,hideUploadButton:a=void 0,hidePauseResumeButton:o=!1,hideCancelButton:u=!1,hideRetryButton:d=!1,recoveredState:h,uploadState:m,totalProgress:y,files:b,supportsUploadProgress:C,hideAfterFinish:w=!1,isSomeGhost:A,doneButtonHandler:_=void 0,isUploadStarted:E,i18n:N,startUpload:I,uppy:O,isAllComplete:k,hideProgressDetails:M=void 0,numUploads:R,complete:L,totalSize:U,totalETA:X,totalUploadedSize:F}){function V(){switch(m){case i_:case r_:{const Ne=n_(b);return Ne.mode==="determinate"?Ne.value*100:y}case x5:return null;case ob:return C?y:null;default:return y}}function Z(){switch(m){case i_:case r_:{const{mode:Ne}=n_(b);return Ne==="indeterminate"}case ob:return!C;default:return!1}}const H=V(),q=H??100,G=!s&&e&&(!n&&!r||h)&&t&&!a,W=!u&&m!==rbe&&m!==lb,oe=i&&!o&&m===ob,J=s&&!k&&!d,Y=_&&m===lb,ne=Ro("uppy-StatusBar-progress",{"is-indeterminate":Z()}),pe=Ro("uppy-StatusBar",`is-${m}`,{"has-ghosts":A}),he=(()=>{switch(m){case r_:case i_:return ie(Zxe,{progress:n_(b)});case lb:return ie(tbe,{i18n:N});case x5:return ie(nbe,{error:s,i18n:N,numUploads:R,complete:L});case ob:return ie(ebe,{i18n:N,supportsUploadProgress:C,totalProgress:y,hideProgressDetails:M,isUploadStarted:E,isAllComplete:k,isAllPaused:r,newFiles:e,numUploads:R,complete:L,totalUploadedSize:F,totalSize:U,totalETA:X,startUpload:I});default:return null}})();return!(G||J||oe||W||Y)&&!he||m===lb&&w?null:ie("div",{className:pe,children:[ie("div",{className:ne,style:{width:`${q}%`},role:"progressbar","aria-label":`${q}%`,"aria-valuetext":`${q}%`,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":H}),he,ie("div",{className:"uppy-StatusBar-actions",children:[G?ie(Gxe,{newFiles:e,isUploadStarted:E,recoveredState:h,i18n:N,isSomeGhost:A,startUpload:I,uploadState:m}):null,J?ie(qxe,{i18n:N,uppy:O}):null,oe?ie(Xxe,{isAllPaused:r,i18n:N,isAllComplete:k,resumableUploads:i,uppy:O}):null,W?ie(Kxe,{i18n:N,uppy:O}):null,Y?ie(Yxe,{i18n:N,doneButtonHandler:_}):null]})]})}const sbe=2e3,abe=2e3;function obe(e,t,n,r){if(e)return Jo.STATE_ERROR;if(t)return Jo.STATE_COMPLETE;if(n)return Jo.STATE_WAITING;let i=Jo.STATE_WAITING;const s=Object.keys(r);for(let a=0;a<s.length;a++){const{progress:o}=r[s[a]];if(o.uploadStarted&&!o.uploadComplete)return Jo.STATE_UPLOADING;o.preprocess&&(i=Jo.STATE_PREPROCESSING),o.postprocess&&i!==Jo.STATE_PREPROCESSING&&(i=Jo.STATE_POSTPROCESSING)}return i}var Eu,ol,mf,tc,uv,RS,YX;class lbe extends xl{constructor(){super(...arguments);Ae(this,RS);Ae(this,Eu);Ae(this,ol);Ae(this,mf);Ae(this,tc);Ae(this,uv,()=>{const{recoveredState:n}=this.props.uppy.getState();if(_e(this,mf,null),_e(this,tc,null),n){_e(this,ol,Object.values(n.files).reduce((r,{progress:i})=>r+(i.bytesUploaded||0),0)),this.props.uppy.emit("restore-confirmed");return}_e(this,Eu,performance.now()),_e(this,ol,0)});Q(this,"startUpload",()=>this.props.uppy.upload().catch(()=>{}))}componentDidMount(){_e(this,Eu,performance.now()),_e(this,ol,this.props.uppy.getFiles().reduce((n,r)=>n+(r.progress.bytesUploaded||0),0)),this.props.uppy.on("upload",B(this,uv))}componentWillUnmount(){this.props.uppy.off("upload",B(this,uv))}render(){const{capabilities:n,files:r,allowNewUpload:i,totalProgress:s,error:a,recoveredState:o}=this.props.uppy.getState(),{newFiles:u,startedFiles:d,completeFiles:h,isUploadStarted:m,isAllComplete:y,isAllPaused:b,isUploadInProgress:C,isSomeGhost:w}=this.props.uppy.getObjectOfFilesPerState(),A=o?Object.values(r):u,_=!!n.resumableUploads,E=n.uploadProgress!==!1;let N=null,I=0;d.every(k=>k.progress.bytesTotal!=null&&k.progress.bytesTotal!==0)?(N=0,d.forEach(k=>{N+=k.progress.bytesTotal||0,I+=k.progress.bytesUploaded||0})):d.forEach(k=>{I+=k.progress.bytesUploaded||0});const O=Me(this,RS,YX).call(this,{uploaded:I,total:N});return ie(ibe,{error:a,uploadState:obe(a,y,o,r||{}),allowNewUpload:i,totalProgress:s,totalSize:N,totalUploadedSize:I,isAllComplete:y,isAllPaused:b,isUploadStarted:m,isUploadInProgress:C,isSomeGhost:w,recoveredState:o,complete:h.length,newFiles:A.length,numUploads:d.length,totalETA:O,files:r,i18n:this.props.i18n,uppy:this.props.uppy,startUpload:this.startUpload,doneButtonHandler:this.props.doneButtonHandler,resumableUploads:_,supportsUploadProgress:E,hideProgressDetails:this.props.hideProgressDetails,hideUploadButton:this.props.hideUploadButton,hideRetryButton:this.props.hideRetryButton,hidePauseResumeButton:this.props.hidePauseResumeButton,hideCancelButton:this.props.hideCancelButton,hideAfterFinish:this.props.hideAfterFinish})}}Eu=new WeakMap,ol=new WeakMap,mf=new WeakMap,tc=new WeakMap,uv=new WeakMap,RS=new WeakSet,YX=function(n){if(n.total==null||n.total===0)return null;const r=n.total-n.uploaded;if(r<=0)return null;B(this,Eu)??_e(this,Eu,performance.now());const i=performance.now()-B(this,Eu);if(i===0)return Math.round((B(this,tc)??0)/100)/10;if(B(this,ol)==null)return _e(this,ol,n.uploaded),null;const s=n.uploaded-B(this,ol);if(_e(this,ol,n.uploaded),s<=0)return Math.round((B(this,tc)??0)/100)/10;const a=s/i;if(!Number.isFinite(a)||a<=0)return null;const o=B(this,mf)==null?a:OR(a,B(this,mf),sbe,i);if(!Number.isFinite(o)||o<=0)return null;_e(this,mf,o);const u=r/o;if(!Number.isFinite(u)||u<0)return null;const d=Math.max((B(this,tc)??0)-i,0),h=B(this,tc)==null?u:OR(u,d,abe,i);return!Number.isFinite(h)||h<0?null:(_e(this,tc,h),_e(this,Eu,performance.now()),Math.round(h/100)/10)};const b5=900,w5=700,s_=576,S5=330;function cbe(e){const t=e.totalFileCount===0,n=e.totalFileCount===1,r=e.containerWidth>s_,i=e.containerHeight>S5,s=Ro({"uppy-Dashboard":!0,"uppy-Dashboard--isDisabled":e.disabled,"uppy-Dashboard--animateOpenClose":e.animateOpenClose,"uppy-Dashboard--isClosing":e.isClosing,"uppy-Dashboard--isDraggingOver":e.isDraggingOver,"uppy-Dashboard--modal":!e.inline,"uppy-size--md":e.containerWidth>s_,"uppy-size--lg":e.containerWidth>w5,"uppy-size--xl":e.containerWidth>b5,"uppy-size--height-md":e.containerHeight>S5,"uppy-Dashboard--isAddFilesPanelVisible":e.showAddFilesPanel,"uppy-Dashboard--isInnerWrapVisible":e.areInsidesReadyToBeVisible,"uppy-Dashboard--singleFile":e.singleFileFullScreen&&n&&i});let a=1;e.containerWidth>b5?a=5:e.containerWidth>w5?a=4:e.containerWidth>s_&&(a=3);const o=e.showSelectedFiles&&!t,u=e.recoveredState?Object.keys(e.recoveredState.files).length:null,d=e.files?Object.keys(e.files).filter(y=>e.files[y].isGhost).length:0,h=()=>d>0?e.i18n("recoveredXFiles",{smart_count:d}):e.i18n("recoveredAllFiles");return ie("div",{className:s,"data-uppy-theme":e.theme,"data-uppy-num-acquirers":e.acquirers.length,"data-uppy-drag-drop-supported":!e.disableLocalFiles&&M0e(),"aria-hidden":e.inline?"false":e.isHidden,"aria-disabled":e.disabled,"aria-label":e.inline?e.i18n("dashboardTitle"):e.i18n("dashboardWindowTitle"),onPaste:e.handlePaste,onDragOver:e.handleDragOver,onDragLeave:e.handleDragLeave,onDrop:e.handleDrop,children:[ie("div",{"aria-hidden":"true",className:"uppy-Dashboard-overlay",tabIndex:-1,onClick:e.handleClickOutside}),ie("div",{className:"uppy-Dashboard-inner",role:e.inline?void 0:"dialog",style:{width:e.inline&&e.width?e.width:"",height:e.inline&&e.height?e.height:""},children:[e.inline?null:ie("button",{className:"uppy-u-reset uppy-Dashboard-close",type:"button","aria-label":e.i18n("closeModal"),title:e.i18n("closeModal"),onClick:e.closeModal,children:ie("span",{"aria-hidden":"true",children:""})}),ie("div",{className:"uppy-Dashboard-innerWrap",children:[ie("div",{className:"uppy-Dashboard-dropFilesHereHint",children:e.i18n("dropHint")}),o&&ie(Wxe,{...e}),u&&ie("div",{className:"uppy-Dashboard-serviceMsg",children:[ie("svg",{className:"uppy-Dashboard-serviceMsg-icon","aria-hidden":"true",focusable:"false",width:"21",height:"16",viewBox:"0 0 24 19",children:ie("g",{transform:"translate(0 -1)",fill:"none",fillRule:"evenodd",children:[ie("path",{d:"M12.857 1.43l10.234 17.056A1 1 0 0122.234 20H1.766a1 1 0 01-.857-1.514L11.143 1.429a1 1 0 011.714 0z",fill:"#FFD300"}),ie("path",{fill:"#000",d:"M11 6h2l-.3 8h-1.4z"}),ie("circle",{fill:"#000",cx:"12",cy:"17",r:"1"})]})}),ie("strong",{className:"uppy-Dashboard-serviceMsg-title",children:e.i18n("sessionRestored")}),ie("div",{className:"uppy-Dashboard-serviceMsg-text",children:h()})]}),o?ie(Mxe,{id:e.id,i18n:e.i18n,uppy:e.uppy,files:e.files,resumableUploads:e.resumableUploads,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,showLinkToFileUploadResult:e.showLinkToFileUploadResult,showRemoveButtonAfterComplete:e.showRemoveButtonAfterComplete,metaFields:e.metaFields,toggleFileCard:e.toggleFileCard,handleRequestThumbnail:e.handleRequestThumbnail,handleCancelThumbnail:e.handleCancelThumbnail,recoveredState:e.recoveredState,individualCancellation:e.individualCancellation,openFileEditor:e.openFileEditor,canEditFile:e.canEditFile,toggleAddFilesPanel:e.toggleAddFilesPanel,isSingleFile:n,itemsPerRow:a,containerWidth:e.containerWidth,containerHeight:e.containerHeight}):ie(WX,{i18n:e.i18n,i18nArray:e.i18nArray,acquirers:e.acquirers,handleInputChange:e.handleInputChange,maxNumberOfFiles:e.maxNumberOfFiles,allowedFileTypes:e.allowedFileTypes,showNativePhotoCameraButton:e.showNativePhotoCameraButton,showNativeVideoCameraButton:e.showNativeVideoCameraButton,nativeCameraFacingMode:e.nativeCameraFacingMode,showPanel:e.showPanel,activePickerPanel:e.activePickerPanel,disableLocalFiles:e.disableLocalFiles,fileManagerSelectionType:e.fileManagerSelectionType,note:e.note,proudlyDisplayPoweredByUppy:e.proudlyDisplayPoweredByUppy}),ie(ab,{children:e.showAddFilesPanel?ie(sxe,{...e,isSizeMD:r},"AddFiles"):null}),ie(ab,{children:e.fileCardFor?ie(mxe,{...e},"FileCard"):null}),ie(ab,{children:e.activePickerPanel?ie(Uxe,{...e},"Picker"):null}),ie(ab,{children:e.showFileEditor?ie(axe,{...e},"Editor"):null}),ie("div",{className:"uppy-Dashboard-progressindicators",children:[!e.disableInformer&&ie(g5,{uppy:e.uppy}),!e.disableStatusBar&&ie(lbe,{uppy:e.uppy,i18n:e.i18n,hideProgressDetails:e.hideProgressDetails,hideUploadButton:e.hideUploadButton,hideRetryButton:e.hideRetryButton,hidePauseResumeButton:e.hidePauseResumeButton,hideCancelButton:e.hideCancelButton,hideAfterFinish:e.hideProgressAfterFinish,doneButtonHandler:e.doneButtonHandler}),!e.disableInformer&&ie(g5,{uppy:e.uppy}),e.progressindicators.map(y=>e.uppy.getPlugin(y.id).render(e.state))]})]})]})]})}const ube={strings:{closeModal:"Close Modal",addMoreFiles:"Add more files",addingMoreFiles:"Adding more files",importFrom:"Import from %{name}",dashboardWindowTitle:"Uppy Dashboard Window (Press escape to close)",dashboardTitle:"Uppy Dashboard",copyLinkToClipboardSuccess:"Link copied to clipboard.",copyLinkToClipboardFallback:"Copy the URL below",copyLink:"Copy link",back:"Back",removeFile:"Remove file",editFile:"Edit file",editImage:"Edit image",editing:"Editing %{file}",error:"Error",finishEditingFile:"Finish editing file",saveChanges:"Save changes",myDevice:"My Device",dropHint:"Drop your files here",uploadComplete:"Upload complete",uploadPaused:"Upload paused",resumeUpload:"Resume upload",pauseUpload:"Pause upload",retryUpload:"Retry upload",cancelUpload:"Cancel upload",xFilesSelected:{0:"%{smart_count} file selected",1:"%{smart_count} files selected"},uploadingXFiles:{0:"Uploading %{smart_count} file",1:"Uploading %{smart_count} files"},processingXFiles:{0:"Processing %{smart_count} file",1:"Processing %{smart_count} files"},poweredBy:"Powered by %{uppy}",addMore:"Add more",editFileWithFilename:"Edit file %{file}",save:"Save",cancel:"Cancel",dropPasteFiles:"Drop files here or %{browseFiles}",dropPasteFolders:"Drop files here or %{browseFolders}",dropPasteBoth:"Drop files here, %{browseFiles} or %{browseFolders}",dropPasteImportFiles:"Drop files here, %{browseFiles} or import from:",dropPasteImportFolders:"Drop files here, %{browseFolders} or import from:",dropPasteImportBoth:"Drop files here, %{browseFiles}, %{browseFolders} or import from:",importFiles:"Import files from:",browseFiles:"browse files",browseFolders:"browse folders",recoveredXFiles:{0:"We could not fully recover 1 file. Please re-select it and resume the upload.",1:"We could not fully recover %{smart_count} files. Please re-select them and resume the upload."},recoveredAllFiles:"We restored all files. You can now resume the upload.",sessionRestored:"Session restored",reSelect:"Re-select",missingRequiredMetaFields:{0:"Missing required meta field: %{fields}.",1:"Missing required meta fields: %{fields}."},takePictureBtn:"Take Picture",recordVideoBtn:"Record Video",uploading:"Uploading",complete:"Complete",uploadFailed:"Upload failed",paused:"Paused",retry:"Retry",pause:"Pause",resume:"Resume",done:"Done",filesUploadedOfTotal:{0:"%{complete} of %{smart_count} file uploaded",1:"%{complete} of %{smart_count} files uploaded"},dataUploadedOfTotal:"%{complete} of %{total}",dataUploadedOfUnknown:"%{complete} of unknown",xTimeLeft:"%{time} left",uploadXFiles:{0:"Upload %{smart_count} file",1:"Upload %{smart_count} files"},uploadXNewFiles:{0:"Upload +%{smart_count} file",1:"Upload +%{smart_count} files"},upload:"Upload",xMoreFilesAdded:{0:"%{smart_count} more file added",1:"%{smart_count} more files added"},showErrorDetails:"Show error details"}};function ZX(e,t){if(t){const n=e.querySelector(`[data-uppy-paneltype="${t}"]`);if(n)return n}return e}function dbe(){let e=!1;return S1e((n,r)=>{const i=ZX(n,r),s=i.contains(document.activeElement);if(s&&e)return;const a=i.querySelector("[data-uppy-super-focusable]");if(!(s&&!a))if(a)a.focus({preventScroll:!0}),e=!0;else{const o=i.querySelector(qK);o==null||o.focus({preventScroll:!0}),e=!1}},260)}function C5(e,t){const n=t[0];n&&(n.focus(),e.preventDefault())}function fbe(e,t){const n=t[t.length-1];n&&(n.focus(),e.preventDefault())}function hbe(e){return e.contains(document.activeElement)}function QX(e,t,n){const r=ZX(n,t),i=oy(r.querySelectorAll(qK)),s=i.indexOf(document.activeElement);hbe(r)?e.shiftKey&&s===0?fbe(e,i):!e.shiftKey&&s===i.length-1&&C5(e,i):C5(e,i)}function pbe(e,t,n){t===null||QX(e,t,n)}const A5=9,mbe=27;function E5(){const e={};return e.promise=new Promise((t,n)=>{e.resolve=t,e.reject=n}),e}const gbe={target:"body",metaFields:[],thumbnailWidth:280,thumbnailType:"image/jpeg",waitForThumbnailsBeforeUpload:!1,defaultPickerIcon:J1e,showLinkToFileUploadResult:!1,hideProgressDetails:!1,hideUploadButton:!1,hideCancelButton:!1,hideRetryButton:!1,hidePauseResumeButton:!1,hideProgressAfterFinish:!1,note:null,singleFileFullScreen:!0,disableStatusBar:!1,disableInformer:!1,disableThumbnailGenerator:!1,fileManagerSelectionType:"files",proudlyDisplayPoweredByUppy:!0,showSelectedFiles:!0,showRemoveButtonAfterComplete:!1,showNativePhotoCameraButton:!1,showNativeVideoCameraButton:!1,theme:"light",autoOpen:null,disabled:!1,disableLocalFiles:!1,nativeCameraFacingMode:"",onDragLeave:()=>{},onDragOver:()=>{},onDrop:()=>{},plugins:[],doneButtonHandler:void 0,onRequestCloseModal:null,inline:!1,animateOpenClose:!0,browserBackButtonClose:!1,closeAfterFinish:!1,closeModalOnClickOutside:!1,disablePageScrollWhenModalOpen:!0,trigger:null,width:750,height:550};var Qp,gf,dv,Jp,FS,LS,BS,yf,$S,US,em,sd,XN,YN;class JX extends Yw{constructor(n,r){var s;const i=(r==null?void 0:r.autoOpen)??null;super(n,{...gbe,...r,autoOpen:i});Ae(this,sd);Ae(this,Qp);Q(this,"modalName",`uppy-Dashboard-${VX()}`);Q(this,"superFocus",dbe());Q(this,"ifFocusedOnUppyRecently",!1);Q(this,"dashboardIsDisabled");Q(this,"savedScrollPosition");Q(this,"savedActiveElement");Q(this,"resizeObserver");Q(this,"darkModeMediaQuery");Q(this,"makeDashboardInsidesVisibleAnywayTimeout");Q(this,"removeTarget",n=>{const i=this.getPluginState().targets.filter(s=>s.id!==n.id);this.setPluginState({targets:i})});Q(this,"addTarget",n=>{const r=n.id||n.constructor.name,i=n.title||r,s=n.type;if(s!=="acquirer"&&s!=="progressindicator"&&s!=="editor")return this.uppy.log("Dashboard: can only be targeted by plugins of types: acquirer, progressindicator, editor","error"),null;const a={id:r,name:i,type:s},u=this.getPluginState().targets.slice();return u.push(a),this.setPluginState({targets:u}),this.el});Q(this,"hideAllPanels",()=>{var i;const n=this.getPluginState(),r={activePickerPanel:void 0,showAddFilesPanel:!1,activeOverlayType:null,fileCardFor:null,showFileEditor:!1};n.activePickerPanel===r.activePickerPanel&&n.showAddFilesPanel===r.showAddFilesPanel&&n.showFileEditor===r.showFileEditor&&n.activeOverlayType===r.activeOverlayType||(this.setPluginState(r),this.uppy.emit("dashboard:close-panel",(i=n.activePickerPanel)==null?void 0:i.id))});Q(this,"showPanel",n=>{const{targets:r}=this.getPluginState(),i=r.find(s=>s.type==="acquirer"&&s.id===n);this.setPluginState({activePickerPanel:i,activeOverlayType:"PickerPanel"}),this.uppy.emit("dashboard:show-panel",n)});Q(this,"canEditFile",n=>{const{targets:r}=this.getPluginState();return B(this,yf).call(this,r).some(s=>this.uppy.getPlugin(s.id).canEditFile(n))});Q(this,"openFileEditor",n=>{const{targets:r}=this.getPluginState(),i=B(this,yf).call(this,r);this.setPluginState({showFileEditor:!0,fileCardFor:n.id||null,activeOverlayType:"FileEditor"}),i.forEach(s=>{this.uppy.getPlugin(s.id).selectFile(n)})});Q(this,"closeFileEditor",()=>{const{metaFields:n}=this.getPluginState();n&&n.length>0?this.setPluginState({showFileEditor:!1,activeOverlayType:"FileCard"}):this.setPluginState({showFileEditor:!1,fileCardFor:null,activeOverlayType:"AddFiles"})});Q(this,"saveFileEditor",()=>{const{targets:n}=this.getPluginState();B(this,yf).call(this,n).forEach(i=>{this.uppy.getPlugin(i.id).save()}),this.closeFileEditor()});Q(this,"openModal",()=>{const{promise:n,resolve:r}=E5();if(this.savedScrollPosition=window.pageYOffset,this.savedActiveElement=document.activeElement,this.opts.disablePageScrollWhenModalOpen&&document.body.classList.add("uppy-Dashboard-isFixed"),this.opts.animateOpenClose&&this.getPluginState().isClosing){const i=()=>{this.setPluginState({isHidden:!1}),this.el.removeEventListener("animationend",i,!1),r()};this.el.addEventListener("animationend",i,!1)}else this.setPluginState({isHidden:!1}),r();return this.opts.browserBackButtonClose&&this.updateBrowserHistory(),document.addEventListener("keydown",this.handleKeyDownInModal),this.uppy.emit("dashboard:modal-open"),n});Q(this,"closeModal",n=>{var u;const r=(n==null?void 0:n.manualClose)??!0,{isHidden:i,isClosing:s}=this.getPluginState();if(i||s)return;const{promise:a,resolve:o}=E5();if(this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.opts.animateOpenClose){this.setPluginState({isClosing:!0});const d=()=>{this.setPluginState({isHidden:!0,isClosing:!1}),this.superFocus.cancel(),this.savedActiveElement.focus(),this.el.removeEventListener("animationend",d,!1),o()};this.el.addEventListener("animationend",d,!1)}else this.setPluginState({isHidden:!0}),this.superFocus.cancel(),this.savedActiveElement.focus(),o();return document.removeEventListener("keydown",this.handleKeyDownInModal),r&&this.opts.browserBackButtonClose&&(u=history.state)!=null&&u[this.modalName]&&history.back(),this.uppy.emit("dashboard:modal-closed"),a});Q(this,"isModalOpen",()=>!this.getPluginState().isHidden||!1);Q(this,"requestCloseModal",()=>this.opts.onRequestCloseModal?this.opts.onRequestCloseModal():this.closeModal());Q(this,"setDarkModeCapability",n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,darkMode:n}})});Q(this,"handleSystemDarkModeChange",n=>{const r=n.matches;this.uppy.log(`[Dashboard] Dark mode is ${r?"on":"off"}`),this.setDarkModeCapability(r)});Q(this,"toggleFileCard",(n,r)=>{const i=this.uppy.getFile(r);n?this.uppy.emit("dashboard:file-edit-start",i):this.uppy.emit("dashboard:file-edit-complete",i),this.setPluginState({fileCardFor:n?r:null,activeOverlayType:n?"FileCard":null})});Q(this,"toggleAddFilesPanel",n=>{this.setPluginState({showAddFilesPanel:n,activeOverlayType:n?"AddFiles":null})});Q(this,"addFiles",n=>{const r=n.map(i=>({source:this.id,name:i.name,type:i.type,data:i,meta:{relativePath:i.relativePath||i.webkitRelativePath||null}}));try{this.uppy.addFiles(r)}catch(i){this.uppy.log(i)}});Q(this,"startListeningToResize",()=>{this.resizeObserver=new ResizeObserver(n=>{const r=n[0],{width:i,height:s}=r.contentRect;this.setPluginState({containerWidth:i,containerHeight:s,areInsidesReadyToBeVisible:!0})}),this.resizeObserver.observe(this.el.querySelector(".uppy-Dashboard-inner")),this.makeDashboardInsidesVisibleAnywayTimeout=setTimeout(()=>{const n=this.getPluginState(),r=!this.opts.inline&&n.isHidden;!n.areInsidesReadyToBeVisible&&!r&&(this.uppy.log("[Dashboard] resize event didnt fire on time: defaulted to mobile layout","warning"),this.setPluginState({areInsidesReadyToBeVisible:!0}))},1e3)});Q(this,"stopListeningToResize",()=>{this.resizeObserver.disconnect(),clearTimeout(this.makeDashboardInsidesVisibleAnywayTimeout)});Q(this,"recordIfFocusedOnUppyRecently",n=>{this.el.contains(n.target)?this.ifFocusedOnUppyRecently=!0:(this.ifFocusedOnUppyRecently=!1,this.superFocus.cancel())});Q(this,"disableInteractiveElements",n=>{const r=["a[href]","input:not([disabled])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])",'[role="button"]:not([disabled])'],i=B(this,Qp)??oy(this.el.querySelectorAll(r)).filter(s=>!s.classList.contains("uppy-Dashboard-close"));for(const s of i)s.tagName==="A"?s.setAttribute("aria-disabled",n):s.disabled=n;n?_e(this,Qp,i):_e(this,Qp,null),this.dashboardIsDisabled=n});Q(this,"updateBrowserHistory",()=>{var n;(n=history.state)!=null&&n[this.modalName]||history.pushState({...history.state,[this.modalName]:!0},""),window.addEventListener("popstate",this.handlePopState,!1)});Q(this,"handlePopState",n=>{var r;this.isModalOpen()&&(!n.state||!n.state[this.modalName])&&this.closeModal({manualClose:!1}),!this.isModalOpen()&&((r=n.state)!=null&&r[this.modalName])&&history.back()});Q(this,"handleKeyDownInModal",n=>{n.keyCode===mbe&&this.requestCloseModal(),n.keyCode===A5&&QX(n,this.getPluginState().activeOverlayType,this.el)});Q(this,"handleClickOutside",()=>{this.opts.closeModalOnClickOutside&&this.requestCloseModal()});Q(this,"handlePaste",n=>{this.uppy.iteratePlugins(i=>{var s;i.type==="acquirer"&&((s=i.handleRootPaste)==null||s.call(i,n))});const r=oy(n.clipboardData.files);r.length>0&&(this.uppy.log("[Dashboard] Files pasted"),this.addFiles(r))});Q(this,"handleInputChange",n=>{n.preventDefault();const r=oy(n.currentTarget.files||[]);r.length>0&&(this.uppy.log("[Dashboard] Files selected through input"),this.addFiles(r))});Q(this,"handleDragOver",n=>{n.preventDefault(),n.stopPropagation();const r=()=>{let o=!0;return this.uppy.iteratePlugins(u=>{var d;(d=u.canHandleRootDrop)!=null&&d.call(u,n)&&(o=!0)}),o},i=()=>{const{types:o}=n.dataTransfer;return o.some(u=>u==="Files")},s=r(),a=i();if(!s&&!a||this.opts.disabled||this.opts.disableLocalFiles&&(a||!s)||!this.uppy.getState().allowNewUpload){n.dataTransfer.dropEffect="none";return}n.dataTransfer.dropEffect="copy",this.setPluginState({isDraggingOver:!0}),this.opts.onDragOver(n)});Q(this,"handleDragLeave",n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.opts.onDragLeave(n)});Q(this,"handleDrop",async n=>{n.preventDefault(),n.stopPropagation(),this.setPluginState({isDraggingOver:!1}),this.uppy.iteratePlugins(a=>{var o;a.type==="acquirer"&&((o=a.handleRootDrop)==null||o.call(a,n))});let r=!1;const i=a=>{this.uppy.log(a,"error"),r||(this.uppy.info(a.message,"error"),r=!0)};this.uppy.log("[Dashboard] Processing dropped files");const s=await j0e(n.dataTransfer,{logDropError:i});s.length>0&&(this.uppy.log("[Dashboard] Files dropped"),this.addFiles(s)),this.opts.onDrop(n)});Q(this,"handleRequestThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:request",n)});Q(this,"handleCancelThumbnail",n=>{this.opts.waitForThumbnailsBeforeUpload||this.uppy.emit("thumbnail:cancel",n)});Q(this,"handleKeyDownInInline",n=>{n.keyCode===A5&&pbe(n,this.getPluginState().activeOverlayType,this.el)});Q(this,"handlePasteOnBody",n=>{this.el.contains(document.activeElement)&&this.handlePaste(n)});Q(this,"handleComplete",({failed:n})=>{this.opts.closeAfterFinish&&!(n!=null&&n.length)&&this.requestCloseModal()});Q(this,"handleCancelRestore",()=>{this.uppy.emit("restore-canceled")});Ae(this,gf,()=>{if(this.opts.disableThumbnailGenerator)return;const n=600,r=this.uppy.getFiles();if(r.length===1){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i==null||i.setOptions({thumbnailWidth:n});const s={...r[0],preview:void 0};i==null||i.requestThumbnail(s).then(()=>{i==null||i.setOptions({thumbnailWidth:this.opts.thumbnailWidth})})}});Ae(this,dv,n=>{const r=n[0],{metaFields:i}=this.getPluginState(),s=i&&i.length>0,a=this.canEditFile(r);s&&this.opts.autoOpen==="metaEditor"?this.toggleFileCard(!0,r.id):a&&this.opts.autoOpen==="imageEditor"&&this.openFileEditor(r)});Q(this,"initEvents",()=>{if(this.opts.trigger&&!this.opts.inline){const n=jR(this.opts.trigger);n?n.forEach(r=>r.addEventListener("click",this.openModal)):this.uppy.log("Dashboard modal trigger not found. Make sure `trigger` is set in Dashboard options, unless you are planning to call `dashboard.openModal()` method yourself","warning")}this.startListeningToResize(),document.addEventListener("paste",this.handlePasteOnBody),this.uppy.on("plugin-added",B(this,em)),this.uppy.on("plugin-remove",this.removeTarget),this.uppy.on("file-added",this.hideAllPanels),this.uppy.on("dashboard:modal-closed",this.hideAllPanels),this.uppy.on("complete",this.handleComplete),this.uppy.on("files-added",B(this,gf)),this.uppy.on("file-removed",B(this,gf)),document.addEventListener("focus",this.recordIfFocusedOnUppyRecently,!0),document.addEventListener("click",this.recordIfFocusedOnUppyRecently,!0),this.opts.inline&&this.el.addEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.on("files-added",B(this,dv))});Q(this,"removeEvents",()=>{const n=jR(this.opts.trigger);!this.opts.inline&&n&&n.forEach(r=>r.removeEventListener("click",this.openModal)),this.stopListeningToResize(),document.removeEventListener("paste",this.handlePasteOnBody),window.removeEventListener("popstate",this.handlePopState,!1),this.uppy.off("plugin-added",B(this,em)),this.uppy.off("plugin-remove",this.removeTarget),this.uppy.off("file-added",this.hideAllPanels),this.uppy.off("dashboard:modal-closed",this.hideAllPanels),this.uppy.off("complete",this.handleComplete),this.uppy.off("files-added",B(this,gf)),this.uppy.off("file-removed",B(this,gf)),document.removeEventListener("focus",this.recordIfFocusedOnUppyRecently),document.removeEventListener("click",this.recordIfFocusedOnUppyRecently),this.opts.inline&&this.el.removeEventListener("keydown",this.handleKeyDownInInline),this.opts.autoOpen&&this.uppy.off("files-added",B(this,dv))});Q(this,"superFocusOnEachUpdate",()=>{const n=this.el.contains(document.activeElement),r=document.activeElement===document.body||document.activeElement===null,i=this.uppy.getState().info.length===0,s=!this.opts.inline;i&&(s||n||r&&this.ifFocusedOnUppyRecently)?this.superFocus(this.el,this.getPluginState().activeOverlayType):this.superFocus.cancel()});Q(this,"afterUpdate",()=>{if(this.opts.disabled&&!this.dashboardIsDisabled){this.disableInteractiveElements(!0);return}!this.opts.disabled&&this.dashboardIsDisabled&&this.disableInteractiveElements(!1),this.superFocusOnEachUpdate()});Q(this,"saveFileCard",(n,r)=>{this.uppy.setFileMeta(r,n),this.toggleFileCard(!1,r)});Ae(this,Jp,n=>{const r=this.uppy.getPlugin(n.id);return{...n,icon:r.icon||this.opts.defaultPickerIcon,render:r.render}});Ae(this,FS,n=>{const r=this.uppy.getPlugin(n.id);return typeof r.isSupported!="function"?!0:r.isSupported()});Ae(this,LS,n=>n.filter(r=>r.type==="acquirer"&&B(this,FS).call(this,r)).map(B(this,Jp)));Ae(this,BS,n=>n.filter(r=>r.type==="progressindicator").map(B(this,Jp)));Ae(this,yf,n=>n.filter(r=>r.type==="editor").map(B(this,Jp)));Q(this,"render",n=>{const r=this.getPluginState(),{files:i,capabilities:s,allowNewUpload:a}=n,{newFiles:o,uploadStartedFiles:u,completeFiles:d,erroredFiles:h,inProgressFiles:m,inProgressNotPausedFiles:y,processingFiles:b,isUploadStarted:C,isAllComplete:w,isAllPaused:A}=this.uppy.getObjectOfFilesPerState(),_=B(this,LS).call(this,r.targets),E=B(this,BS).call(this,r.targets),N=B(this,yf).call(this,r.targets);let I;return this.opts.theme==="auto"?I=s.darkMode?"dark":"light":I=this.opts.theme,["files","folders","both"].indexOf(this.opts.fileManagerSelectionType)<0&&(this.opts.fileManagerSelectionType="files",console.warn(`Unsupported option for "fileManagerSelectionType". Using default of "${this.opts.fileManagerSelectionType}".`)),cbe({state:n,isHidden:r.isHidden,files:i,newFiles:o,uploadStartedFiles:u,completeFiles:d,erroredFiles:h,inProgressFiles:m,inProgressNotPausedFiles:y,processingFiles:b,isUploadStarted:C,isAllComplete:w,isAllPaused:A,totalFileCount:Object.keys(i).length,totalProgress:n.totalProgress,allowNewUpload:a,acquirers:_,theme:I,disabled:this.opts.disabled,disableLocalFiles:this.opts.disableLocalFiles,direction:this.opts.direction,activePickerPanel:r.activePickerPanel,showFileEditor:r.showFileEditor,saveFileEditor:this.saveFileEditor,closeFileEditor:this.closeFileEditor,disableInteractiveElements:this.disableInteractiveElements,animateOpenClose:this.opts.animateOpenClose,isClosing:r.isClosing,progressindicators:E,editors:N,autoProceed:this.uppy.opts.autoProceed,id:this.id,closeModal:this.requestCloseModal,handleClickOutside:this.handleClickOutside,handleInputChange:this.handleInputChange,handlePaste:this.handlePaste,inline:this.opts.inline,showPanel:this.showPanel,hideAllPanels:this.hideAllPanels,i18n:this.i18n,i18nArray:this.i18nArray,uppy:this.uppy,note:this.opts.note,recoveredState:n.recoveredState,metaFields:r.metaFields,resumableUploads:s.resumableUploads||!1,individualCancellation:s.individualCancellation,isMobileDevice:s.isMobileDevice,fileCardFor:r.fileCardFor,toggleFileCard:this.toggleFileCard,toggleAddFilesPanel:this.toggleAddFilesPanel,showAddFilesPanel:r.showAddFilesPanel,saveFileCard:this.saveFileCard,openFileEditor:this.openFileEditor,canEditFile:this.canEditFile,width:this.opts.width,height:this.opts.height,showLinkToFileUploadResult:this.opts.showLinkToFileUploadResult,fileManagerSelectionType:this.opts.fileManagerSelectionType,proudlyDisplayPoweredByUppy:this.opts.proudlyDisplayPoweredByUppy,showRemoveButtonAfterComplete:this.opts.showRemoveButtonAfterComplete,containerWidth:r.containerWidth,containerHeight:r.containerHeight,areInsidesReadyToBeVisible:r.areInsidesReadyToBeVisible,parentElement:this.el,allowedFileTypes:this.uppy.opts.restrictions.allowedFileTypes,maxNumberOfFiles:this.uppy.opts.restrictions.maxNumberOfFiles,requiredMetaFields:this.uppy.opts.restrictions.requiredMetaFields,showSelectedFiles:this.opts.showSelectedFiles,showNativePhotoCameraButton:this.opts.showNativePhotoCameraButton,showNativeVideoCameraButton:this.opts.showNativeVideoCameraButton,nativeCameraFacingMode:this.opts.nativeCameraFacingMode,singleFileFullScreen:this.opts.singleFileFullScreen,handleCancelRestore:this.handleCancelRestore,handleRequestThumbnail:this.handleRequestThumbnail,handleCancelThumbnail:this.handleCancelThumbnail,isDraggingOver:r.isDraggingOver,handleDragOver:this.handleDragOver,handleDragLeave:this.handleDragLeave,handleDrop:this.handleDrop,disableInformer:this.opts.disableInformer,disableStatusBar:this.opts.disableStatusBar,hideProgressDetails:this.opts.hideProgressDetails,hideUploadButton:this.opts.hideUploadButton,hideRetryButton:this.opts.hideRetryButton,hidePauseResumeButton:this.opts.hidePauseResumeButton,hideCancelButton:this.opts.hideCancelButton,hideProgressAfterFinish:this.opts.hideProgressAfterFinish,doneButtonHandler:this.opts.doneButtonHandler})});Ae(this,$S,()=>{const{plugins:n}=this.opts;n.forEach(r=>{const i=this.uppy.getPlugin(r);i?i.mount(this,i):this.uppy.log(`[Uppy] Dashboard could not find plugin '${r}', make sure to uppy.use() the plugins you are specifying`,"warning")})});Ae(this,US,()=>{this.uppy.iteratePlugins(B(this,em))});Ae(this,em,n=>{var i;const r=["acquirer","editor"];n&&!((i=n.opts)!=null&&i.target)&&r.includes(n.type)&&(this.getPluginState().targets.some(a=>n.id===a.id)||n.mount(this,n))});Q(this,"install",()=>{var u;this.setPluginState({isHidden:!0,fileCardFor:null,activeOverlayType:null,showAddFilesPanel:!1,activePickerPanel:void 0,showFileEditor:!1,metaFields:this.opts.metaFields,targets:[],areInsidesReadyToBeVisible:!1,isDraggingOver:!1});const{inline:n,closeAfterFinish:r}=this.opts;if(n&&r)throw new Error("[Dashboard] `closeAfterFinish: true` cannot be used on an inline Dashboard, because an inline Dashboard cannot be closed at all. Either set `inline: false`, or disable the `closeAfterFinish` option.");const{allowMultipleUploads:i,allowMultipleUploadBatches:s}=this.uppy.opts;(i||s)&&r&&this.uppy.log("[Dashboard] When using `closeAfterFinish`, we recommended setting the `allowMultipleUploadBatches` option to `false` in the Uppy constructor. See https://uppy.io/docs/uppy/#allowMultipleUploads-true","warning");const{target:a}=this.opts;a&&this.mount(a,this),this.opts.disableThumbnailGenerator||this.uppy.use(zX,{id:Me(this,sd,YN).call(this),...Me(this,sd,XN).call(this)}),this.darkModeMediaQuery=typeof window<"u"&&window.matchMedia?window.matchMedia("(prefers-color-scheme: dark)"):null;const o=this.darkModeMediaQuery?this.darkModeMediaQuery.matches:!1;this.uppy.log(`[Dashboard] Dark mode is ${o?"on":"off"}`),this.setDarkModeCapability(o),this.opts.theme==="auto"&&((u=this.darkModeMediaQuery)==null||u.addListener(this.handleSystemDarkModeChange)),B(this,$S).call(this),B(this,US).call(this),this.initEvents()});Q(this,"uninstall",()=>{var r;if(!this.opts.disableThumbnailGenerator){const i=this.uppy.getPlugin(`${this.id}:ThumbnailGenerator`);i&&this.uppy.removePlugin(i)}const{plugins:n}=this.opts;n.forEach(i=>{const s=this.uppy.getPlugin(i);s&&s.unmount()}),this.opts.theme==="auto"&&((r=this.darkModeMediaQuery)==null||r.removeListener(this.handleSystemDarkModeChange)),this.opts.disablePageScrollWhenModalOpen&&document.body.classList.remove("uppy-Dashboard-isFixed"),this.unmount(),this.removeEvents()});this.id=this.opts.id||"Dashboard",this.title="Dashboard",this.type="orchestrator",this.defaultLocale=ube,this.opts.doneButtonHandler===void 0&&(this.opts.doneButtonHandler=()=>{this.uppy.clear(),this.requestCloseModal()}),(s=this.opts).onRequestCloseModal??(s.onRequestCloseModal=()=>this.closeModal()),this.i18nInit()}setOptions(n){var r;super.setOptions(n),(r=this.uppy.getPlugin(Me(this,sd,YN).call(this)))==null||r.setOptions(Me(this,sd,XN).call(this))}}Qp=new WeakMap,gf=new WeakMap,dv=new WeakMap,Jp=new WeakMap,FS=new WeakMap,LS=new WeakMap,BS=new WeakMap,yf=new WeakMap,$S=new WeakMap,US=new WeakMap,em=new WeakMap,sd=new WeakSet,XN=function(){const{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:s}=this.opts;return{thumbnailWidth:n,thumbnailHeight:r,thumbnailType:i,waitForThumbnailsBeforeUpload:s,lazy:!s}},YN=function(){return`${this.id}:ThumbnailGenerator`},Q(JX,"VERSION",ixe.version);const ybe=["defaultChecked","defaultValue","suppressContentEditableWarning","suppressHydrationWarning","dangerouslySetInnerHTML","accessKey","className","contentEditable","contextMenu","dir","draggable","hidden","id","lang","placeholder","slot","spellCheck","style","tabIndex","title","translate","radioGroup","role","about","datatype","inlist","prefix","property","resource","typeof","vocab","autoCapitalize","autoCorrect","autoSave","color","itemProp","itemScope","itemType","itemID","itemRef","results","security","unselectable","inputMode","is","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],vbe=/^(aria-|data-)/,eY=e=>Object.fromEntries(Object.entries(e).filter(([t])=>vbe.test(t)||ybe.includes(t)));function xbe(e,t){const n=eY(e);return Object.keys(e).some(r=>!Object.hasOwn(n,r)&&e[r]!==t[r])}class tY extends T.Component{constructor(){super(...arguments);Q(this,"container");Q(this,"plugin")}componentDidMount(){this.installPlugin()}componentDidUpdate(n){const{uppy:r,open:i,onRequestClose:s}=this.props;if(n.uppy!==r)this.uninstallPlugin(n),this.installPlugin();else if(xbe(this.props,n)){const{uppy:a,...o}={...this.props,inline:!1,onRequestCloseModal:s};this.plugin.setOptions(o)}n.open&&!i?this.plugin.closeModal():!n.open&&i&&this.plugin.openModal()}componentWillUnmount(){this.uninstallPlugin()}installPlugin(){const{target:n=this.container,open:r,onRequestClose:i,uppy:s,...a}=this.props,o={id:"DashboardModal",...a,inline:!1,target:n,open:r,onRequestCloseModal:i};s.use(JX,o),this.plugin=s.getPlugin(o.id),r&&this.plugin.openModal()}uninstallPlugin(n=this.props){const{uppy:r}=n;r.removePlugin(this.plugin)}render(){return T.createElement("div",{className:"uppy-Container",ref:n=>{this.container=n},...eY(this.props)})}}Q(tY,"defaultProps",{open:void 0,onRequestClose:void 0});var nY={};function Ga(e,t){typeof t=="boolean"&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._timer=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}var bbe=Ga;Ga.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts.slice(0)};Ga.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timer&&clearTimeout(this._timer),this._timeouts=[],this._cachedTimeouts=null};Ga.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=new Date().getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.push(e),this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(n===void 0)if(this._cachedTimeouts)this._errors.splice(0,this._errors.length-1),n=this._cachedTimeouts.slice(-1);else return!1;var r=this;return this._timer=setTimeout(function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout(function(){r._operationTimeoutCb(r._attempts)},r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)},n),this._options.unref&&this._timer.unref(),!0};Ga.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout(function(){n._operationTimeoutCb()},n._operationTimeout)),this._operationStart=new Date().getTime(),this._fn(this._attempts)};Ga.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)};Ga.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)};Ga.prototype.start=Ga.prototype.try;Ga.prototype.errors=function(){return this._errors};Ga.prototype.attempts=function(){return this._attempts};Ga.prototype.mainError=function(){if(this._errors.length===0)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],s=i.message,a=(e[s]||0)+1;e[s]=a,a>=n&&(t=i,n=a)}return t};(function(e){var t=bbe;e.operation=function(n){var r=e.timeouts(n);return new t(r,{forever:n&&(n.forever||n.retries===1/0),unref:n&&n.unref,maxRetryTime:n&&n.maxRetryTime})},e.timeouts=function(n){if(n instanceof Array)return[].concat(n);var r={retries:10,factor:2,minTimeout:1*1e3,maxTimeout:1/0,randomize:!1};for(var i in n)r[i]=n[i];if(r.minTimeout>r.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var s=[],a=0;a<r.retries;a++)s.push(this.createTimeout(a,r));return n&&n.forever&&!s.length&&s.push(this.createTimeout(a,r)),s.sort(function(o,u){return o-u}),s},e.createTimeout=function(n,r){var i=r.randomize?Math.random()+1:1,s=Math.round(i*Math.max(r.minTimeout,1)*Math.pow(r.factor,n));return s=Math.min(s,r.maxTimeout),s},e.wrap=function(n,r,i){if(r instanceof Array&&(i=r,r=null),!i){i=[];for(var s in n)typeof n[s]=="function"&&i.push(s)}for(var a=0;a<i.length;a++){var o=i[a],u=n[o];n[o]=(function(h){var m=e.operation(r),y=Array.prototype.slice.call(arguments,1),b=y.pop();y.push(function(C){m.retry(C)||(C&&(arguments[0]=m.mainError()),b.apply(this,arguments))}),m.attempt(function(){h.apply(n,y)})}).bind(n,u),n[o].options=r}}})(nY);var wbe=nY;const Sbe=en(wbe),Cbe=Object.prototype.toString,Abe=e=>Cbe.call(e)==="[object Error]",Ebe=new Set(["network error","Failed to fetch","NetworkError when attempting to fetch resource.","The Internet connection appears to be offline.","Network request failed","fetch failed","terminated"," A network error occurred.","Network connection lost"]);function _be(e){if(!(e&&Abe(e)&&e.name==="TypeError"&&typeof e.message=="string"))return!1;const{message:n,stack:r}=e;return n==="Load failed"?r===void 0||"__sentry_captured__"in e:n.startsWith("error sending request for url")?!0:Ebe.has(n)}class ZN extends Error{constructor(t){super(),t instanceof Error?(this.originalError=t,{message:t}=t):(this.originalError=new Error(t),this.originalError.stack=this.stack),this.name="AbortError",this.message=t}}const _5=(e,t,n)=>{const r=n.retries-(t-1);return e.attemptNumber=t,e.retriesLeft=r,e};async function T5(e,t){return new Promise((n,r)=>{t={...t},t.onFailedAttempt??(t.onFailedAttempt=()=>{}),t.shouldRetry??(t.shouldRetry=()=>!0),t.retries??(t.retries=10);const i=Sbe.operation(t),s=()=>{var o;i.stop(),r((o=t.signal)==null?void 0:o.reason)};t.signal&&!t.signal.aborted&&t.signal.addEventListener("abort",s,{once:!0});const a=()=>{var o;(o=t.signal)==null||o.removeEventListener("abort",s),i.stop()};i.attempt(async o=>{try{const u=await e(o);a(),n(u)}catch(u){try{if(!(u instanceof Error))throw new TypeError(`Non-error was thrown: "${u}". You should only throw errors.`);if(u instanceof ZN)throw u.originalError;if(u instanceof TypeError&&!_be(u))throw u;if(_5(u,o,t),await t.shouldRetry(u)||(i.stop(),r(u)),await t.onFailedAttempt(u),!i.retry(u))throw i.mainError()}catch(d){_5(d,o,t),a(),r(d)}}})})}const Tbe="@uppy/companion-client",Nbe="Client library for communication with Companion. Intended for use in Uppy plugins.",Pbe="5.1.0",Obe="MIT",jbe="module",kbe=!1,Ibe={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},Mbe=["file uploader","uppy","uppy-plugin","companion","provider"],Dbe="https://uppy.io",Rbe={url:"https://github.com/transloadit/uppy/issues"},Fbe={type:"git",url:"git+https://github.com/transloadit/uppy.git"},Lbe=["src","lib","dist","CHANGELOG.md"],Bbe={".":"./lib/index.js","./package.json":"./package.json"},$be={"@uppy/utils":"^7.1.0","namespace-emitter":"^2.0.1","p-retry":"^6.1.0"},Ube={jsdom:"^26.1.0",typescript:"^5.8.3",vitest:"^3.2.4"},zbe={"@uppy/core":"^5.1.0"},Vbe={name:Tbe,description:Nbe,version:Pbe,license:Obe,type:jbe,sideEffects:kbe,scripts:Ibe,keywords:Mbe,homepage:Dbe,bugs:Rbe,repository:Fbe,files:Lbe,exports:Bbe,dependencies:$be,devDependencies:Ube,peerDependencies:zbe};class Wbe extends Error{constructor(){super("Authorization required");Q(this,"isAuthError");this.name="AuthError",this.isAuthError=!0}}function Hbe(e){return e.replace(/\/$/,"")}const N5=10,Gbe=5*60*1e3,qbe=401;class Kbe extends Error{constructor({statusCode:n,message:r}){super(r);Q(this,"statusCode");this.name="HttpError",this.statusCode=n}}async function Xbe(e){if(e.status===qbe)throw new Wbe;if(e.ok)return e.json();let t=`Failed request with status: ${e.status}. ${e.statusText}`,n;try{n=await e.json(),n.message&&(t=`${t} message: ${n.message}`),n.requestId&&(t=`${t} request-Id: ${n.requestId}`)}catch(r){throw new Error(t,{cause:r})}throw e.status>=400&&e.status<=499&&n.message?new U0e(n.message):new Kbe({statusCode:e.status,message:t})}function Ybe(e,t,n){const{progress:r,bytesUploaded:i,bytesTotal:s}=t;r&&(e.uppy.log(`Upload progress: ${r}`),e.uppy.emit("upload-progress",n,{uploadStarted:n.progress.uploadStarted??0,bytesUploaded:i,bytesTotal:s}))}var vf,ad,QN,zS,JN;class rY{constructor(t,n){Ae(this,ad);Ae(this,vf);Q(this,"uppy");Q(this,"opts");Ae(this,zS,async({file:t,postBody:n,signal:r})=>{var s;if(((s=t.remote)==null?void 0:s.url)==null)throw new Error("Cannot connect to an undefined URL");return(await this.post(t.remote.url,{...t.remote.body,...n},{signal:r})).token});this.uppy=t,this.opts=n,this.onReceiveResponse=this.onReceiveResponse.bind(this),_e(this,vf,n.companionHeaders)}setCompanionHeaders(t){_e(this,vf,t)}[Symbol.for("uppy test: getCompanionHeaders")](){return B(this,vf)}get hostname(){const{companion:t}=this.uppy.getState(),n=this.opts.companionUrl;return Hbe(t!=null&&t[n]?t[n]:n)}async headers(t=!1){return{...{Accept:"application/json",...t?void 0:{"Content-Type":"application/json"}},...B(this,vf)}}onReceiveResponse(t){const{headers:n}=t,i=this.uppy.getState().companion||{},s=this.opts.companionUrl;n.has("i-am")&&n.get("i-am")!==i[s]&&this.uppy.setState({companion:{...i,[s]:n.get("i-am")}})}async request({path:t,method:n="GET",data:r,skipPostResponse:i,signal:s}){try{const a=await this.headers(!r),o=await w0e(Me(this,ad,QN).call(this,t),{method:n,signal:s,headers:a,credentials:this.opts.companionCookiesRule||"same-origin",body:r?JSON.stringify(r):null});return i||this.onReceiveResponse(o),await Xbe(o)}catch(a){throw a.isAuthError||a.name==="UserFacingApiError"||a.name==="AbortError"?a:new x0e(`Could not ${n} ${Me(this,ad,QN).call(this,t)}`,{cause:a})}}async get(t,n){return this.request({...n,path:t})}async post(t,n,r){return this.request({...r,path:t,method:"POST",data:n})}async delete(t,n,r){return this.request({...r,path:t,method:"DELETE",data:n})}async uploadRemoteFile(t,n,r){try{const{signal:i,getQueue:s}=r||{};return await T5(async()=>{var d;const a=(d=this.uppy.getFile(t.id))==null?void 0:d.serverToken;if(a!=null)return this.uppy.log(`Connecting to exiting websocket ${a}`),Me(this,ad,JN).call(this,{file:t,queue:s(),signal:i});const u=await s().wrapPromiseFunction(async(...h)=>{try{return await B(this,zS).call(this,...h)}catch(m){if(m.isAuthError)throw new ZN(m);if(m.cause==null)throw m;const y=m.cause,b=()=>[408,409,429,418,423].includes(y.statusCode)||y.statusCode>=500&&y.statusCode<=599&&![501,505].includes(y.statusCode);throw y.name==="HttpError"&&!b()?new ZN(y):y}},{priority:-1})({file:t,postBody:n,signal:i}).abortOn(i);if(this.uppy.getFile(t.id))return this.uppy.setFileState(t.id,{serverToken:u}),Me(this,ad,JN).call(this,{file:this.uppy.getFile(t.id),queue:s(),signal:i})},{retries:N5,signal:i,onFailedAttempt:a=>this.uppy.log(`Retrying upload due to: ${a.message}`,"warning")})}catch(i){if(i.name==="AbortError")return;throw this.uppy.emit("upload-error",t,i),i}}}vf=new WeakMap,ad=new WeakSet,QN=function(t){return/^(https?:|)\/\//.test(t)?t:`${this.hostname}/${t}`},zS=new WeakMap,JN=async function({file:t,queue:n,signal:r}){let i;const{capabilities:s}=this.uppy.getState();try{return await new Promise((a,o)=>{const u=t.serverToken,d=k0e(t.remote.companionUrl);let h,m,y,{isPaused:b}=t;const C=(M,R)=>{if(h==null||h.readyState!==h.OPEN){this.uppy.log(`Cannot send "${M}" to socket ${t.id} because the socket state was ${String(h==null?void 0:h.readyState)}`,"warning");return}h.send(JSON.stringify({action:M,payload:R??{}}))};function w(){s.resumableUploads&&C(b?"pause":"resume")}const A=async()=>{m&&m.abort(),m=new AbortController;const M=L=>{var U;this.uppy.setFileState(t.id,{serverToken:null}),(U=m==null?void 0:m.abort)==null||U.call(m),o(L)};function R(){clearTimeout(y),!b&&(y=setTimeout(()=>M(new Error("Timeout waiting for message from Companion socket")),Gbe))}try{await n.wrapPromiseFunction(async()=>{await T5(async()=>new Promise((U,X)=>{h=new WebSocket(`${d}/api/${u}`),R(),h.addEventListener("close",()=>{h=void 0,X(new Error("Socket closed unexpectedly"))}),h.addEventListener("error",V=>{this.uppy.log(`Companion socket error ${JSON.stringify(V)}, closing socket`,"warning"),h==null||h.close()}),h.addEventListener("open",()=>{w()}),h.addEventListener("message",V=>{var Z,H,q;R();try{const{action:G,payload:W}=JSON.parse(V.data);switch(G){case"progress":{Ybe(this,W,this.uppy.getFile(t.id));break}case"success":{const oe=(Z=W.response)==null?void 0:Z.responseText;this.uppy.emit("upload-success",this.uppy.getFile(t.id),{uploadURL:W.url,status:((H=W.response)==null?void 0:H.status)??200,body:oe?JSON.parse(oe):void 0}),(q=m==null?void 0:m.abort)==null||q.call(m),a();break}case"error":{const{message:oe}=W.error;throw Object.assign(new Error(oe),{cause:W.error})}default:this.uppy.log(`Companion socket unknown action ${G}`,"warning")}}catch(G){M(G)}});const F=()=>{this.uppy.log(`Closing socket ${t.id}`),clearTimeout(y),h&&h.close(),h=void 0};m.signal.addEventListener("abort",()=>{F()})}),{retries:N5,signal:m.signal,onFailedAttempt:()=>{m.signal.aborted||this.uppy.log(`Retrying websocket ${t.id}`)}})})().abortOn(m.signal)}catch(L){if(m.signal.aborted)return;M(L)}},_=M=>{s.resumableUploads&&(b=M,h&&w())},E=M=>{var R;s.individualCancellation&&M.id===t.id&&(C("cancel"),(R=m==null?void 0:m.abort)==null||R.call(m),this.uppy.log(`upload ${t.id} was removed`),a())},N=()=>{var M;C("cancel"),(M=m==null?void 0:m.abort)==null||M.call(m),this.uppy.log(`upload ${t.id} was canceled`),a()},I=(M,R)=>{(M==null?void 0:M.id)===t.id&&_(R)},O=()=>_(!0),k=()=>_(!1);this.uppy.on("file-removed",E),this.uppy.on("cancel-all",N),this.uppy.on("upload-pause",I),this.uppy.on("pause-all",O),this.uppy.on("resume-all",k),i=()=>{this.uppy.off("file-removed",E),this.uppy.off("cancel-all",N),this.uppy.off("upload-pause",I),this.uppy.off("pause-all",O),this.uppy.off("resume-all",k)},r.addEventListener("abort",()=>{m==null||m.abort()}),A()})}finally{i==null||i()}},Q(rY,"VERSION",Vbe.version);const Zbe="@uppy/aws-s3",Qbe="Upload to Amazon S3 with Uppy",Jbe="5.0.1",ewe="MIT",twe="module",nwe=!1,rwe={build:"tsc --build tsconfig.build.json",typecheck:"tsc --build",test:"vitest run --environment=jsdom --silent='passed-only'"},iwe=["file uploader","aws s3","amazon s3","s3","uppy","uppy-plugin","multipart"],swe="https://uppy.io",awe={url:"https://github.com/transloadit/uppy/issues"},owe={type:"git",url:"git+https://github.com/transloadit/uppy.git"},lwe=["src","lib","dist","CHANGELOG.md"],cwe={".":"./lib/index.js","./package.json":"./package.json"},uwe={"@uppy/companion-client":"^5.0.1","@uppy/utils":"^7.0.2"},dwe={"@aws-sdk/client-s3":"^3.362.0","@aws-sdk/s3-request-presigner":"^3.362.0","@uppy/core":"^5.0.2",jsdom:"^26.1.0",nock:"^13.1.0",typescript:"^5.8.3",vitest:"^3.2.4","whatwg-fetch":"3.6.2"},fwe={"@uppy/core":"^5.0.2"},hwe={name:Zbe,description:Qbe,version:Jbe,license:ewe,type:twe,sideEffects:nwe,scripts:rwe,keywords:iwe,homepage:swe,bugs:awe,repository:owe,files:lwe,exports:cwe,dependencies:uwe,devDependencies:dwe,peerDependencies:fwe};function pwe({method:e="PUT",CanonicalUri:t="/",CanonicalQueryString:n="",SignedHeaders:r,HashedPayload:i}){const s=Object.keys(r).map(a=>a.toLowerCase()).sort();return[e,t,n,...s.map(a=>`${a}:${r[a]}`),"",s.join(";"),i].join(`
`)}const bk=new TextEncoder,wk={name:"HMAC",hash:"SHA-256"};async function mwe(e){const{subtle:t}=globalThis.crypto;return t.digest(wk.hash,bk.encode(e))}async function gwe(e){const{subtle:t}=globalThis.crypto;return t.importKey("raw",typeof e=="string"?bk.encode(e):e,wk,!1,["sign"])}function P5(e){const t=new Uint8Array(e);let n="";for(let r=0;r<t.length;r++)n+=t[r].toString(16).padStart(2,"0");return n}async function y0(e,t){const{subtle:n}=globalThis.crypto;return n.sign(wk,await gwe(e),bk.encode(t))}async function ywe({accountKey:e,accountSecret:t,sessionToken:n,bucketName:r,Key:i,Region:s,expires:a,uploadId:o,partNumber:u}){const d="s3",h=`${d}.${s}.amazonaws.com`,m=`/${r}/${encodeURI(i).replace(/[;?:@&=+$,#!'()*]/g,L=>`%${L.charCodeAt(0).toString(16).toUpperCase()}`)}`,y="UNSIGNED-PAYLOAD",b=new Date().toISOString().replace(/[-:]|\.\d+/g,""),C=b.slice(0,8),w=`${C}/${s}/${d}/aws4_request`,A=new URL(`https://${h}${m}`);A.searchParams.set("X-Amz-Algorithm","AWS4-HMAC-SHA256"),A.searchParams.set("X-Amz-Content-Sha256",y),A.searchParams.set("X-Amz-Credential",`${e}/${w}`),A.searchParams.set("X-Amz-Date",b),A.searchParams.set("X-Amz-Expires",a),A.searchParams.set("X-Amz-Security-Token",n),A.searchParams.set("X-Amz-SignedHeaders","host"),u&&A.searchParams.set("partNumber",u),o&&A.searchParams.set("uploadId",o),A.searchParams.set("x-id",u&&o?"UploadPart":"PutObject");const _=pwe({CanonicalUri:m,CanonicalQueryString:A.search.slice(1),SignedHeaders:{host:h},HashedPayload:y}),E=P5(await mwe(_)),N=["AWS4-HMAC-SHA256",b,w,E].join(`
`),I=await y0(`AWS4${t}`,C),O=await y0(I,s),k=await y0(O,d),M=await y0(k,"aws4_request"),R=P5(await y0(M,N));return A.searchParams.set("X-Amz-Signature",R),A}const vwe=1024*1024,O5={getChunkSize(e){return Math.ceil(e.size/1e4)},onProgress(){},onPartComplete(){},onSuccess(){},onError(e){throw e}};function xwe(e){if(typeof e=="string")return parseInt(e,10);if(typeof e=="number")return e;throw new TypeError("Expected a number")}const Qb=Symbol("pausing upload, not an actual error");var po,Ia,ll,nc,rc,fv,hv,tm,xf,nm,pv,rm,mv,Uo,iY,sY,eP,gv,yv,aY;class bwe{constructor(t,n){Ae(this,Uo);Q(this,"options");Ae(this,po,new GE);Ae(this,Ia,[]);Ae(this,ll,[]);Ae(this,nc);Ae(this,rc);Ae(this,fv,!1);Ae(this,hv);Ae(this,tm);Ae(this,xf);Ae(this,nm);Ae(this,pv,t=>(t==null?void 0:t.cause)===Qb?null:B(this,hv).call(this,t));Ae(this,rm,1e4);Ae(this,mv,5*vwe);Ae(this,gv,t=>n=>{if(!n.lengthComputable)return;B(this,ll)[t].uploaded=xwe(n.loaded);const r=B(this,ll).reduce((i,s)=>i+s.uploaded,0);this.options.onProgress(r,B(this,nc).size)});Ae(this,yv,t=>n=>{B(this,Ia)[t]=null,B(this,ll)[t].etag=n,B(this,ll)[t].done=!0;const r={PartNumber:t+1,ETag:n};this.options.onPartComplete(r)});var r;this.options={...O5,...n},(r=this.options).getChunkSize??(r.getChunkSize=O5.getChunkSize),_e(this,nc,t),_e(this,rc,n.file),_e(this,tm,this.options.onSuccess),_e(this,hv,this.options.onError),_e(this,xf,this.options.shouldUseMultipart),_e(this,nm,n.uploadId&&n.key),Me(this,Uo,iY).call(this)}start(){B(this,fv)?(B(this,po).signal.aborted||B(this,po).abort(Qb),_e(this,po,new GE),Me(this,Uo,eP).call(this)):B(this,nm)?(this.options.companionComm.restoreUploadFile(B(this,rc),{uploadId:this.options.uploadId,key:this.options.key}),Me(this,Uo,eP).call(this)):Me(this,Uo,sY).call(this)}pause(){B(this,po).abort(Qb),_e(this,po,new GE)}abort(t){t!=null&&t.really?Me(this,Uo,aY).call(this):this.pause()}[Symbol.for("uppy test: getChunkState")](){return B(this,ll)}}po=new WeakMap,Ia=new WeakMap,ll=new WeakMap,nc=new WeakMap,rc=new WeakMap,fv=new WeakMap,hv=new WeakMap,tm=new WeakMap,xf=new WeakMap,nm=new WeakMap,pv=new WeakMap,rm=new WeakMap,mv=new WeakMap,Uo=new WeakSet,iY=function(){const t=B(this,nc).size,n=typeof B(this,xf)=="function"?B(this,xf).call(this,B(this,rc)):!!B(this,xf);if(n&&t>B(this,mv)){let r=Math.max(this.options.getChunkSize(B(this,nc)),B(this,mv)),i=Math.floor(t/r);i>B(this,rm)&&(i=B(this,rm),r=t/B(this,rm)),_e(this,Ia,Array(i));for(let s=0,a=0;s<t;s+=r,a++){const o=Math.min(t,s+r),u=()=>{const d=s;return B(this,nc).slice(d,o)};if(B(this,Ia)[a]={getData:u,onProgress:B(this,gv).call(this,a),onComplete:B(this,yv).call(this,a),shouldUseMultipart:n},B(this,nm)){const d=s+r>t?t-s:r;B(this,Ia)[a].setAsUploaded=()=>{B(this,Ia)[a]=null,B(this,ll)[a].uploaded=d}}}}else _e(this,Ia,[{getData:()=>B(this,nc),onProgress:B(this,gv).call(this,0),onComplete:B(this,yv).call(this,0),shouldUseMultipart:n}]);_e(this,ll,B(this,Ia).map(()=>({uploaded:0})))},sY=function(){this.options.companionComm.uploadFile(B(this,rc),B(this,Ia),B(this,po).signal).then(B(this,tm),B(this,pv)),_e(this,fv,!0)},eP=function(){this.options.companionComm.resumeUploadFile(B(this,rc),B(this,Ia),B(this,po).signal).then(B(this,tm),B(this,pv))},gv=new WeakMap,yv=new WeakMap,aY=function(){B(this,po).abort(),this.options.companionComm.abortFileUpload(B(this,rc)).catch(t=>this.options.log(t))};function zi(e){if(e!=null&&e.aborted)throw GK("The operation was aborted",{cause:e.reason})}function wwe(e){const t=new URL(e);return t.search="",t.hash="",t.href}var vv,mo,xv,bv,wv,Sv,im,sm,am,om,bf,lm,go,rh,oY,tP;class Swe{constructor(t,n,r,i){Ae(this,rh);Ae(this,vv);Ae(this,mo,new WeakMap);Ae(this,xv);Ae(this,bv);Ae(this,wv);Ae(this,Sv);Ae(this,im);Ae(this,sm);Ae(this,am);Ae(this,om);Ae(this,bf);Ae(this,lm);Ae(this,go);_e(this,sm,t),_e(this,bf,r),_e(this,go,i),this.setOptions(n)}setOptions(t){const n=B(this,sm);"abortMultipartUpload"in t&&_e(this,vv,n.wrapPromiseFunction(t.abortMultipartUpload,{priority:1})),"createMultipartUpload"in t&&_e(this,xv,n.wrapPromiseFunction(t.createMultipartUpload,{priority:-1})),"signPart"in t&&_e(this,bv,n.wrapPromiseFunction(t.signPart)),"listParts"in t&&_e(this,Sv,n.wrapPromiseFunction(t.listParts)),"completeMultipartUpload"in t&&_e(this,om,n.wrapPromiseFunction(t.completeMultipartUpload,{priority:1})),"retryDelays"in t&&_e(this,am,t.retryDelays??[]),"uploadPartBytes"in t&&_e(this,lm,n.wrapPromiseFunction(t.uploadPartBytes,{priority:1/0})),"getUploadParameters"in t&&_e(this,wv,n.wrapPromiseFunction(t.getUploadParameters))}async getUploadId(t,n){let r;for(;r=B(this,mo).get(t.data),r!=null;)try{return await r}catch{}const i=B(this,xv).call(this,B(this,go).call(this,t),n),s=()=>{i.abort(n.reason),B(this,mo).delete(t.data)};return n.addEventListener("abort",s,{once:!0}),B(this,mo).set(t.data,i),i.then(async a=>{n.removeEventListener("abort",s),B(this,bf).call(this,t,a),B(this,mo).set(t.data,a)},()=>{n.removeEventListener("abort",s),B(this,mo).delete(t.data)}),i}async abortFileUpload(t){const n=B(this,mo).get(t.data);if(n==null)return;B(this,mo).delete(t.data),B(this,bf).call(this,t,Object.create(null));let r;try{r=await n}catch{return}await B(this,vv).call(this,B(this,go).call(this,t),r)}async uploadFile(t,n,r){if(zi(r),n.length===1&&!n[0].shouldUseMultipart)return Me(this,rh,tP).call(this,t,n[0],r);const{uploadId:i,key:s}=await this.getUploadId(t,r);zi(r);try{const a=await Promise.all(n.map((o,u)=>this.uploadChunk(t,u+1,o,r)));return zi(r),await B(this,om).call(this,B(this,go).call(this,t),{key:s,uploadId:i,parts:a,signal:r},r).abortOn(r)}catch(a){throw(a==null?void 0:a.cause)!==Qb&&(a==null?void 0:a.name)!=="AbortError"&&this.abortFileUpload(t),a}}restoreUploadFile(t,n){B(this,mo).set(t.data,n)}async resumeUploadFile(t,n,r){if(zi(r),n.length===1&&n[0]!=null&&!n[0].shouldUseMultipart)return Me(this,rh,tP).call(this,t,n[0],r);const{uploadId:i,key:s}=await this.getUploadId(t,r);zi(r);const a=await B(this,Sv).call(this,B(this,go).call(this,t),{uploadId:i,key:s,signal:r},r).abortOn(r);zi(r);const o=await Promise.all(n.map((u,d)=>{var y;const h=d+1,m=a.find(({PartNumber:b})=>b===h);return m==null?this.uploadChunk(t,h,u,r):((y=u==null?void 0:u.setAsUploaded)==null||y.call(u),{PartNumber:h,ETag:m.ETag})}));return zi(r),B(this,om).call(this,B(this,go).call(this,t),{key:s,uploadId:i,parts:o,signal:r},r).abortOn(r)}async uploadChunk(t,n,r,i){zi(i);const{uploadId:s,key:a}=await this.getUploadId(t,i),o=B(this,am).values(),u=B(this,am).values(),d=()=>{const h=o.next();return h==null||h.done?null:h.value};for(;;){zi(i);const h=r.getData(),{onProgress:m,onComplete:y}=r;let b;try{b=await B(this,bv).call(this,B(this,go).call(this,t),{uploadId:s,key:a,partNumber:n,body:h,signal:i}).abortOn(i)}catch(C){const w=d();if(w==null||i.aborted)throw C;await new Promise(A=>setTimeout(A,w));continue}zi(i);try{return{PartNumber:n,...await B(this,lm).call(this,{signature:b,body:h,size:h.size,onProgress:m,onComplete:y,signal:i}).abortOn(i)}}catch(C){if(!await Me(this,rh,oY).call(this,C,u))throw C}}}}vv=new WeakMap,mo=new WeakMap,xv=new WeakMap,bv=new WeakMap,wv=new WeakMap,Sv=new WeakMap,im=new WeakMap,sm=new WeakMap,am=new WeakMap,om=new WeakMap,bf=new WeakMap,lm=new WeakMap,go=new WeakMap,rh=new WeakSet,oY=async function(t,n){var s;const r=B(this,sm),i=(s=t==null?void 0:t.source)==null?void 0:s.status;if(i==null)return!1;if(i===403&&t.message==="Request has expired"){if(!r.isPaused){if(r.limit===1||B(this,im)==null){const a=n.next();if(a==null||a.done)return!1;_e(this,im,a.value)}r.rateLimit(0),await new Promise(a=>setTimeout(a,B(this,im)))}}else if(i===429){if(!r.isPaused){const a=n.next();if(a==null||a.done)return!1;r.rateLimit(a.value)}}else{if(i>400&&i<500&&i!==409)return!1;if(typeof navigator<"u"&&navigator.onLine===!1)r.isPaused||(r.pause(),window.addEventListener("online",()=>{r.resume()},{once:!0}));else{const a=n.next();if(a==null||a.done)return!1;await new Promise(o=>setTimeout(o,a.value))}}return!0},tP=async function(t,n,r){const{method:i="POST",url:s,fields:a,headers:o}=await B(this,wv).call(this,B(this,go).call(this,t),{signal:r}).abortOn(r);let u;const d=n.getData();if(i.toUpperCase()==="POST"){const C=new FormData;Object.entries(a).forEach(([w,A])=>C.set(w,A)),C.set("file",d),u=C}else u=d;const{onProgress:h,onComplete:m}=n,y=await B(this,lm).call(this,{signature:{url:s,headers:o,method:i},body:u,size:d.size,onProgress:h,onComplete:m,signal:r}).abortOn(r),b=a==null?void 0:a.key;return B(this,bf).call(this,t,{key:b}),{...y,location:y.location??wwe(s),bucket:a==null?void 0:a.bucket,key:b}};function Ph(e){if(e!=null&&e.error){const t=new Error(e.message);throw Object.assign(t,e.error),t}return e}function j5(e){const t=e.Expiration;if(t){const n=Math.floor((new Date(t)-Date.now())/1e3);if(n>9)return n}}function k5({meta:e,allowedMetaFields:t,querify:n=!1}){const r=t??Object.keys(e);return e?Object.fromEntries(r.filter(i=>e[i]!=null).map(i=>{const s=n?`metadata[${i}]`:i,a=String(e[i]);return[s,a]})):{}}const Cwe={allowedMetaFields:!0,limit:6,getTemporarySecurityCredentials:!1,shouldUseMultipart:e=>(e.size||0)>100*1024*1024,retryDelays:[0,1e3,3e3,5e3]};var cm,cs,ii,rP,su,yo,lY,VS,um,cY,uY,Cv,dm,wf,Av;const WS=class WS extends bX{constructor(n,r){super(n,{...Cwe,uploadPartBytes:WS.uploadPartBytes,createMultipartUpload:null,listParts:null,abortMultipartUpload:null,completeMultipartUpload:null,signPart:null,getUploadParameters:null,...r});Ae(this,ii);Ae(this,cm);Ae(this,cs);Q(this,"requests");Q(this,"uploaderEvents");Q(this,"uploaders");Ae(this,yo);Ae(this,VS,(n,{key:r,uploadId:i})=>{const s=this.uppy.getFile(n.id);s!=null&&this.uppy.setFileState(n.id,{s3Multipart:{...s.s3Multipart,key:r,uploadId:i}})});Ae(this,um,n=>this.uppy.getFile(n.id)||n);Ae(this,Cv,async n=>{if(n.length===0)return;const r=this.uppy.getFilesByIds(n),i=S0e(r),s=C0e(i);this.uppy.emit("upload-start",s);const a=i.map(u=>{if(u.isRemote){const d=()=>this.requests;B(this,wf).call(this,!1);const h=new AbortController,m=b=>{b.id===u.id&&h.abort()};this.uppy.on("file-removed",m);const y=this.uppy.getRequestClientForFile(u).uploadRemoteFile(u,Me(this,ii,uY).call(this,u),{signal:h.signal,getQueue:d});return this.requests.wrapSyncFunction(()=>{this.uppy.off("file-removed",m)},{priority:-1})(),y}return Me(this,ii,cY).call(this,u)}),o=await Promise.allSettled(a);return B(this,wf).call(this,!0),o});Ae(this,dm,()=>{var n;(n=B(this,cs))==null||n.setCompanionHeaders(this.opts.headers)});Ae(this,wf,n=>{const{capabilities:r}=this.uppy.getState();this.uppy.setState({capabilities:{...r,resumableUploads:n}})});Ae(this,Av,()=>{B(this,wf).call(this,!0)});this.type="uploader",this.id=this.opts.id||"AwsS3Multipart",Me(this,ii,rP).call(this,r);const i={createMultipartUpload:this.createMultipartUpload,listParts:this.listParts,abortMultipartUpload:this.abortMultipartUpload,completeMultipartUpload:this.completeMultipartUpload,signPart:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.signPart,getUploadParameters:r!=null&&r.getTemporarySecurityCredentials?this.createSignedURL:this.getUploadParameters};for(const s of Object.keys(i))this.opts[s]==null&&(this.opts[s]=i[s].bind(this));this.requests=this.opts.rateLimitedQueue??new L0e(this.opts.limit),_e(this,cm,new Swe(this.requests,this.opts,B(this,VS),B(this,um))),this.uploaders=Object.create(null),this.uploaderEvents=Object.create(null)}[Symbol.for("uppy test: getClient")](){return B(this,cs)}setOptions(n){B(this,cm).setOptions(n),super.setOptions(n),Me(this,ii,rP).call(this,n)}resetUploaderReferences(n,r){this.uploaders[n]&&(this.uploaders[n].abort({really:(r==null?void 0:r.abort)||!1}),this.uploaders[n]=null),this.uploaderEvents[n]&&(this.uploaderEvents[n].remove(),this.uploaderEvents[n]=null)}createMultipartUpload(n,r){Me(this,ii,su).call(this,"createMultipartUpload"),zi(r);const i=MR(this.opts.allowedMetaFields,n.meta),s=k5({meta:n.meta,allowedMetaFields:i});return B(this,cs).post("s3/multipart",{filename:n.name,type:n.type,metadata:s},{signal:r}).then(Ph)}listParts(n,{key:r,uploadId:i,signal:s},a){s??(s=a),Me(this,ii,su).call(this,"listParts"),zi(s);const o=encodeURIComponent(r);return B(this,cs).get(`s3/multipart/${encodeURIComponent(i)}?key=${o}`,{signal:s}).then(Ph)}completeMultipartUpload(n,{key:r,uploadId:i,parts:s,signal:a},o){a??(a=o),Me(this,ii,su).call(this,"completeMultipartUpload"),zi(a);const u=encodeURIComponent(r),d=encodeURIComponent(i);return B(this,cs).post(`s3/multipart/${d}/complete?key=${u}`,{parts:s.map(({ETag:h,PartNumber:m})=>({ETag:h,PartNumber:m}))},{signal:a}).then(Ph)}async createSignedURL(n,r){const i=await Me(this,ii,lY).call(this,r),s=j5(i.credentials)||604800,{uploadId:a,key:o,partNumber:u}=r;return{method:"PUT",expires:s,fields:{},url:`${await ywe({accountKey:i.credentials.AccessKeyId,accountSecret:i.credentials.SecretAccessKey,sessionToken:i.credentials.SessionToken,expires:s,bucketName:i.bucket,Region:i.region,Key:o??`${crypto.randomUUID()}-${n.name}`,uploadId:a,partNumber:u})}`,headers:{"Content-Type":n.type}}}signPart(n,{uploadId:r,key:i,partNumber:s,signal:a}){if(Me(this,ii,su).call(this,"signPart"),zi(a),r==null||i==null||s==null)throw new Error("Cannot sign without a key, an uploadId, and a partNumber");const o=encodeURIComponent(i);return B(this,cs).get(`s3/multipart/${encodeURIComponent(r)}/${s}?key=${o}`,{signal:a}).then(Ph)}abortMultipartUpload(n,{key:r,uploadId:i,signal:s}){Me(this,ii,su).call(this,"abortMultipartUpload");const a=encodeURIComponent(r),o=encodeURIComponent(i);return B(this,cs).delete(`s3/multipart/${o}?key=${a}`,void 0,{signal:s}).then(Ph)}getUploadParameters(n,r){Me(this,ii,su).call(this,"getUploadParameters");const{meta:i}=n,{type:s,name:a}=i,o=MR(this.opts.allowedMetaFields,n.meta),u=k5({meta:i,allowedMetaFields:o,querify:!0}),d=new URLSearchParams({filename:a,type:s,...u});return B(this,cs).get(`s3/params?${d}`,r)}static async uploadPartBytes({signature:{url:n,expires:r,headers:i,method:s="PUT"},body:a,size:o=a.size,onProgress:u,onComplete:d,signal:h}){if(zi(h),n==null)throw new Error("Cannot upload to an undefined URL");return new Promise((m,y)=>{const b=new XMLHttpRequest;b.open(s,n,!0),i&&Object.keys(i).forEach(A=>{b.setRequestHeader(A,i[A])}),b.responseType="text",typeof r=="number"&&(b.timeout=r*1e3);function C(){b.abort()}function w(){h==null||h.removeEventListener("abort",C)}h==null||h.addEventListener("abort",C),b.upload.addEventListener("progress",A=>{u(A)}),b.addEventListener("abort",()=>{w(),y(GK())}),b.addEventListener("timeout",()=>{w();const A=new Error("Request has expired");A.source={status:403},y(A)}),b.addEventListener("load",()=>{if(w(),b.status===403&&b.responseText.includes("<Message>Request has expired</Message>")){const I=new Error("Request has expired");I.source=b,y(I);return}if(b.status<200||b.status>=300){const I=new Error("Non 2xx");I.source=b,y(I);return}u==null||u({loaded:o,lengthComputable:!0});const A=b.getAllResponseHeaders().trim().split(/[\r\n]+/),_={__proto__:null};for(const I of A){const O=I.split(": "),k=O.shift(),M=O.join(": ");_[k]=M}const{etag:E,location:N}=_;if(s.toUpperCase()==="POST"&&N==null&&console.error("@uppy/aws-s3: Could not read the Location header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket"),E==null){console.error("@uppy/aws-s3: Could not read the ETag header. This likely means CORS is not configured correctly on the S3 Bucket. See https://uppy.io/docs/aws-s3/#setting-up-your-s3-bucket");return}d==null||d(E),m({..._,ETag:E})}),b.addEventListener("error",A=>{w();const _=new Error("Unknown error");_.source=A.target,y(_)}),b.send(a)})}install(){B(this,wf).call(this,!0),this.uppy.addPreProcessor(B(this,dm)),this.uppy.addUploader(B(this,Cv)),this.uppy.on("cancel-all",B(this,Av))}uninstall(){this.uppy.removePreProcessor(B(this,dm)),this.uppy.removeUploader(B(this,Cv)),this.uppy.off("cancel-all",B(this,Av))}};cm=new WeakMap,cs=new WeakMap,ii=new WeakSet,rP=function(n){n==null||!("endpoint"in n||"companionUrl"in n||"headers"in n||"companionHeaders"in n||"cookiesRule"in n||"companionCookiesRule"in n)||("companionUrl"in n&&!("endpoint"in n)&&this.uppy.log("`companionUrl` option has been removed in @uppy/aws-s3, use `endpoint` instead.","warning"),"companionHeaders"in n&&!("headers"in n)&&this.uppy.log("`companionHeaders` option has been removed in @uppy/aws-s3, use `headers` instead.","warning"),"companionCookiesRule"in n&&!("cookiesRule"in n)&&this.uppy.log("`companionCookiesRule` option has been removed in @uppy/aws-s3, use `cookiesRule` instead.","warning"),"endpoint"in n?_e(this,cs,new rY(this.uppy,{pluginId:this.id,provider:"AWS",companionUrl:this.opts.endpoint,companionHeaders:this.opts.headers,companionCookiesRule:this.opts.cookiesRule})):("headers"in n&&B(this,dm).call(this),"cookiesRule"in n&&(B(this,cs).opts.companionCookiesRule=n.cookiesRule)))},su=function(n){if(!B(this,cs))throw new Error(`Expected a \`endpoint\` option containing a URL, or if you are not using Companion, a custom \`${n}\` implementation.`)},yo=new WeakMap,lY=async function(n){if(zi(n==null?void 0:n.signal),B(this,yo)==null){const{getTemporarySecurityCredentials:r}=this.opts;r===!0?(Me(this,ii,su).call(this,"getTemporarySecurityCredentials"),_e(this,yo,B(this,cs).get("s3/sts",n).then(Ph))):_e(this,yo,r(n)),_e(this,yo,await B(this,yo)),setTimeout(()=>{_e(this,yo,null)},(j5(B(this,yo).credentials)||0)*500)}return B(this,yo)},VS=new WeakMap,um=new WeakMap,cY=function(n){return new Promise((r,i)=>{const s=(h,m)=>{const y=this.uppy.getFile(n.id);this.uppy.emit("upload-progress",y,{uploadStarted:y.progress.uploadStarted??0,bytesUploaded:h,bytesTotal:m})},a=h=>{this.uppy.log(h),this.uppy.emit("upload-error",n,h),this.resetUploaderReferences(n.id),i(h)},o=h=>{const m={body:{...h},status:200,uploadURL:h.location};this.resetUploaderReferences(n.id),this.uppy.emit("upload-success",B(this,um).call(this,n),m),h.location&&this.uppy.log(`Download ${n.name} from ${h.location}`),r(void 0)},u=new bwe(n.data,{companionComm:B(this,cm),log:(...h)=>this.uppy.log(...h),getChunkSize:this.opts.getChunkSize?this.opts.getChunkSize.bind(this):void 0,onProgress:s,onError:a,onSuccess:o,onPartComplete:h=>{this.uppy.emit("s3-multipart:part-uploaded",B(this,um).call(this,n),h)},file:n,shouldUseMultipart:this.opts.shouldUseMultipart,...n.s3Multipart});this.uploaders[n.id]=u;const d=new tye(this.uppy);this.uploaderEvents[n.id]=d,d.onFileRemove(n.id,h=>{u.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${h} was removed`)}),d.onCancelAll(n.id,()=>{u.abort(),this.resetUploaderReferences(n.id,{abort:!0}),r(`upload ${n.id} was canceled`)}),d.onFilePause(n.id,h=>{h?u.pause():u.start()}),d.onPauseAll(n.id,()=>{u.pause()}),d.onResumeAll(n.id,()=>{u.start()}),u.start()})},uY=function(n){var r;return{...(r=n.remote)==null?void 0:r.body,protocol:"s3-multipart",size:n.data.size,metadata:n.meta}},Cv=new WeakMap,dm=new WeakMap,wf=new WeakMap,Av=new WeakMap,Q(WS,"VERSION",hwe.version);let nP=WS;function Awe({maxNumberOfFiles:e=1,maxFileSize:t=10485760,onGetUploadParameters:n,onComplete:r,buttonClassName:i,children:s}){const[a,o]=T.useState(!1),[u]=T.useState(()=>new RN({restrictions:{maxNumberOfFiles:e,maxFileSize:t,allowedFileTypes:["image/*"]},autoProceed:!1}).use(nP,{shouldUseMultipart:!1,getUploadParameters:n}).on("complete",d=>{r==null||r(d),o(!1)}));return c.jsxs("div",{children:[c.jsx(Re,{type:"button",onClick:()=>o(!0),className:i,"data-testid":"button-upload-image",children:s}),c.jsx(tY,{uppy:u,open:a,onRequestClose:()=>o(!1),proudlyDisplayPoweredByUppy:!1})]})}const Ewe=dd("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),jc=T.forwardRef(({className:e,variant:t,...n},r)=>c.jsx("div",{ref:r,role:"alert",className:Te(Ewe({variant:t}),e),...n}));jc.displayName="Alert";const _we=T.forwardRef(({className:e,...t},n)=>c.jsx("h5",{ref:n,className:Te("mb-1 font-medium leading-none tracking-tight",e),...t}));_we.displayName="AlertTitle";const kc=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Te("text-sm [&_p]:leading-relaxed",e),...t}));kc.displayName="AlertDescription";function Twe(){const{data:e,isLoading:t,error:n}=un({queryKey:["/api/barcodelookup/rate-limits"],refetchInterval:6e4});if(t||n||!e)return null;const r=e.remaining_requests/e.allowed_requests*100,i=r<20,s=r<10,a=new Date(e.reset_time),o=new Date,u=Math.max(0,Math.round((a.getTime()-o.getTime())/(1e3*60*60)));return c.jsx(jc,{variant:s?"destructive":"default",className:"mb-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[s?c.jsx(Tc,{className:"h-4 w-4 mt-0.5"}):i?c.jsx(Tc,{className:"h-4 w-4 mt-0.5 text-yellow-600 dark:text-yellow-500"}):c.jsx(Xd,{className:"h-4 w-4 mt-0.5 text-green-600 dark:text-green-500"}),c.jsx("div",{className:"flex-1",children:c.jsxs(kc,{children:[c.jsxs("div",{className:"flex items-center justify-between gap-4 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"font-medium",children:[e.remaining_requests," of ",e.allowed_requests]}),c.jsx("span",{className:"text-muted-foreground text-sm",children:"product image lookups remaining"})]}),u>0&&c.jsxs("div",{className:"flex items-center gap-1 text-sm text-muted-foreground",children:[c.jsx(Uy,{className:"h-3 w-3"}),c.jsxs("span",{children:["Resets in ",u,"h"]})]})]}),s&&c.jsx("p",{className:"mt-2 text-sm",children:"You're running low on product image lookups. Consider uploading your own photos or waiting for the limit to reset."})]})})]})})}function Qy(e,[t,n]){return Math.min(n,Math.max(t,e))}function zv(e){const t=T.useRef({value:e,previous:e});return T.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var Nwe=[" ","Enter","ArrowUp","ArrowDown"],Pwe=[" ","Enter"],Vv="Select",[IC,MC,Owe]=cC(Vv),[Ng,ktt]=Yr(Vv,[Owe,wg]),DC=wg(),[jwe,hd]=Ng(Vv),[kwe,Iwe]=Ng(Vv),dY=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:i,onOpenChange:s,value:a,defaultValue:o,onValueChange:u,dir:d,name:h,autoComplete:m,disabled:y,required:b,form:C}=e,w=DC(t),[A,_]=T.useState(null),[E,N]=T.useState(null),[I,O]=T.useState(!1),k=lh(d),[M=!1,R]=Qi({prop:r,defaultProp:i,onChange:s}),[L,U]=Qi({prop:a,defaultProp:o,onChange:u}),X=T.useRef(null),F=A?C||!!A.closest("form"):!0,[V,Z]=T.useState(new Set),H=Array.from(V).map(q=>q.props.value).join(";");return c.jsx(Fj,{...w,children:c.jsxs(jwe,{required:b,scope:t,trigger:A,onTriggerChange:_,valueNode:E,onValueNodeChange:N,valueNodeHasChildren:I,onValueNodeHasChildrenChange:O,contentId:Mi(),value:L,onValueChange:U,open:M,onOpenChange:R,dir:k,triggerPointerDownPosRef:X,disabled:y,children:[c.jsx(IC.Provider,{scope:t,children:c.jsx(kwe,{scope:e.__scopeSelect,onNativeOptionAdd:T.useCallback(q=>{Z(G=>new Set(G).add(q))},[]),onNativeOptionRemove:T.useCallback(q=>{Z(G=>{const W=new Set(G);return W.delete(q),W})},[]),children:n})}),F?c.jsxs(RY,{"aria-hidden":!0,required:b,tabIndex:-1,name:h,autoComplete:m,value:L,onChange:q=>U(q.target.value),disabled:y,form:C,children:[L===void 0?c.jsx("option",{value:""}):null,Array.from(V)]},H):null]})})};dY.displayName=Vv;var fY="SelectTrigger",hY=T.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...i}=e,s=DC(n),a=hd(fY,n),o=a.disabled||r,u=$t(t,a.onTriggerChange),d=MC(n),h=T.useRef("touch"),[m,y,b]=FY(w=>{const A=d().filter(N=>!N.disabled),_=A.find(N=>N.value===a.value),E=LY(A,w,_);E!==void 0&&a.onValueChange(E.value)}),C=w=>{o||(a.onOpenChange(!0),b()),w&&(a.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return c.jsx(vC,{asChild:!0,...s,children:c.jsx(Je.button,{type:"button",role:"combobox","aria-controls":a.contentId,"aria-expanded":a.open,"aria-required":a.required,"aria-autocomplete":"none",dir:a.dir,"data-state":a.open?"open":"closed",disabled:o,"data-disabled":o?"":void 0,"data-placeholder":DY(a.value)?"":void 0,...i,ref:u,onClick:Qe(i.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&C(w)}),onPointerDown:Qe(i.onPointerDown,w=>{h.current=w.pointerType;const A=w.target;A.hasPointerCapture(w.pointerId)&&A.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(C(w),w.preventDefault())}),onKeyDown:Qe(i.onKeyDown,w=>{const A=m.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&y(w.key),!(A&&w.key===" ")&&Nwe.includes(w.key)&&(C(),w.preventDefault())})})})});hY.displayName=fY;var pY="SelectValue",mY=T.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:a="",...o}=e,u=hd(pY,n),{onValueNodeHasChildrenChange:d}=u,h=s!==void 0,m=$t(t,u.onValueNodeChange);return Br(()=>{d(h)},[d,h]),c.jsx(Je.span,{...o,ref:m,style:{pointerEvents:"none"},children:DY(u.value)?c.jsx(c.Fragment,{children:a}):s})});mY.displayName=pY;var Mwe="SelectIcon",gY=T.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...i}=e;return c.jsx(Je.span,{"aria-hidden":!0,...i,ref:t,children:r||""})});gY.displayName=Mwe;var Dwe="SelectPortal",yY=e=>c.jsx(jv,{asChild:!0,...e});yY.displayName=Dwe;var qf="SelectContent",vY=T.forwardRef((e,t)=>{const n=hd(qf,e.__scopeSelect),[r,i]=T.useState();if(Br(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?ud.createPortal(c.jsx(xY,{scope:e.__scopeSelect,children:c.jsx(IC.Slot,{scope:e.__scopeSelect,children:c.jsx("div",{children:e.children})})}),s):null}return c.jsx(bY,{...e,ref:t})});vY.displayName=qf;var oo=10,[xY,pd]=Ng(qf),Rwe="SelectContentImpl",Fwe=Uf("SelectContent.RemoveScroll"),bY=T.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:a,side:o,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:b,sticky:C,hideWhenDetached:w,avoidCollisions:A,..._}=e,E=hd(qf,n),[N,I]=T.useState(null),[O,k]=T.useState(null),M=$t(t,be=>I(be)),[R,L]=T.useState(null),[U,X]=T.useState(null),F=MC(n),[V,Z]=T.useState(!1),H=T.useRef(!1);T.useEffect(()=>{if(N)return zj(N)},[N]),Uj();const q=T.useCallback(be=>{const[Ne,...xe]=F().map(ve=>ve.ref.current),[Oe]=xe.slice(-1),je=document.activeElement;for(const ve of be)if(ve===je||(ve==null||ve.scrollIntoView({block:"nearest"}),ve===Ne&&O&&(O.scrollTop=0),ve===Oe&&O&&(O.scrollTop=O.scrollHeight),ve==null||ve.focus(),document.activeElement!==je))return},[F,O]),G=T.useCallback(()=>q([R,N]),[q,R,N]);T.useEffect(()=>{V&&G()},[V,G]);const{onOpenChange:W,triggerPointerDownPosRef:oe}=E;T.useEffect(()=>{if(N){let be={x:0,y:0};const Ne=Oe=>{var je,ve;be={x:Math.abs(Math.round(Oe.pageX)-(((je=oe.current)==null?void 0:je.x)??0)),y:Math.abs(Math.round(Oe.pageY)-(((ve=oe.current)==null?void 0:ve.y)??0))}},xe=Oe=>{be.x<=10&&be.y<=10?Oe.preventDefault():N.contains(Oe.target)||W(!1),document.removeEventListener("pointermove",Ne),oe.current=null};return oe.current!==null&&(document.addEventListener("pointermove",Ne),document.addEventListener("pointerup",xe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ne),document.removeEventListener("pointerup",xe,{capture:!0})}}},[N,W,oe]),T.useEffect(()=>{const be=()=>W(!1);return window.addEventListener("blur",be),window.addEventListener("resize",be),()=>{window.removeEventListener("blur",be),window.removeEventListener("resize",be)}},[W]);const[J,Y]=FY(be=>{const Ne=F().filter(je=>!je.disabled),xe=Ne.find(je=>je.ref.current===document.activeElement),Oe=LY(Ne,be,xe);Oe&&setTimeout(()=>Oe.ref.current.focus())}),ne=T.useCallback((be,Ne,xe)=>{const Oe=!H.current&&!xe;(E.value!==void 0&&E.value===Ne||Oe)&&(L(be),Oe&&(H.current=!0))},[E.value]),pe=T.useCallback(()=>N==null?void 0:N.focus(),[N]),he=T.useCallback((be,Ne,xe)=>{const Oe=!H.current&&!xe;(E.value!==void 0&&E.value===Ne||Oe)&&X(be)},[E.value]),we=r==="popper"?iP:wY,me=we===iP?{side:o,sideOffset:u,align:d,alignOffset:h,arrowPadding:m,collisionBoundary:y,collisionPadding:b,sticky:C,hideWhenDetached:w,avoidCollisions:A}:{};return c.jsx(xY,{scope:n,content:N,viewport:O,onViewportChange:k,itemRefCallback:ne,selectedItem:R,onItemLeave:pe,itemTextRefCallback:he,focusSelectedItem:G,selectedItemText:U,position:r,isPositioned:V,searchRef:J,children:c.jsx(_C,{as:Fwe,allowPinchZoom:!0,children:c.jsx(AC,{asChild:!0,trapped:E.open,onMountAutoFocus:be=>{be.preventDefault()},onUnmountAutoFocus:Qe(i,be=>{var Ne;(Ne=E.trigger)==null||Ne.focus({preventScroll:!0}),be.preventDefault()}),children:c.jsx(yg,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:a,onFocusOutside:be=>be.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:c.jsx(we,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:be=>be.preventDefault(),..._,...me,onPlaced:()=>Z(!0),ref:M,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:Qe(_.onKeyDown,be=>{const Ne=be.ctrlKey||be.altKey||be.metaKey;if(be.key==="Tab"&&be.preventDefault(),!Ne&&be.key.length===1&&Y(be.key),["ArrowUp","ArrowDown","Home","End"].includes(be.key)){let Oe=F().filter(je=>!je.disabled).map(je=>je.ref.current);if(["ArrowUp","End"].includes(be.key)&&(Oe=Oe.slice().reverse()),["ArrowUp","ArrowDown"].includes(be.key)){const je=be.target,ve=Oe.indexOf(je);Oe=Oe.slice(ve+1)}setTimeout(()=>q(Oe)),be.preventDefault()}})})})})})})});bY.displayName=Rwe;var Lwe="SelectItemAlignedPosition",wY=T.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...i}=e,s=hd(qf,n),a=pd(qf,n),[o,u]=T.useState(null),[d,h]=T.useState(null),m=$t(t,M=>h(M)),y=MC(n),b=T.useRef(!1),C=T.useRef(!0),{viewport:w,selectedItem:A,selectedItemText:_,focusSelectedItem:E}=a,N=T.useCallback(()=>{if(s.trigger&&s.valueNode&&o&&d&&w&&A&&_){const M=s.trigger.getBoundingClientRect(),R=d.getBoundingClientRect(),L=s.valueNode.getBoundingClientRect(),U=_.getBoundingClientRect();if(s.dir!=="rtl"){const je=U.left-R.left,ve=L.left-je,ze=M.left-ve,Be=M.width+ze,dt=Math.max(Be,R.width),Ct=window.innerWidth-oo,yt=Qy(ve,[oo,Math.max(oo,Ct-dt)]);o.style.minWidth=Be+"px",o.style.left=yt+"px"}else{const je=R.right-U.right,ve=window.innerWidth-L.right-je,ze=window.innerWidth-M.right-ve,Be=M.width+ze,dt=Math.max(Be,R.width),Ct=window.innerWidth-oo,yt=Qy(ve,[oo,Math.max(oo,Ct-dt)]);o.style.minWidth=Be+"px",o.style.right=yt+"px"}const X=y(),F=window.innerHeight-oo*2,V=w.scrollHeight,Z=window.getComputedStyle(d),H=parseInt(Z.borderTopWidth,10),q=parseInt(Z.paddingTop,10),G=parseInt(Z.borderBottomWidth,10),W=parseInt(Z.paddingBottom,10),oe=H+q+V+W+G,J=Math.min(A.offsetHeight*5,oe),Y=window.getComputedStyle(w),ne=parseInt(Y.paddingTop,10),pe=parseInt(Y.paddingBottom,10),he=M.top+M.height/2-oo,we=F-he,me=A.offsetHeight/2,be=A.offsetTop+me,Ne=H+q+be,xe=oe-Ne;if(Ne<=he){const je=X.length>0&&A===X[X.length-1].ref.current;o.style.bottom="0px";const ve=d.clientHeight-w.offsetTop-w.offsetHeight,ze=Math.max(we,me+(je?pe:0)+ve+G),Be=Ne+ze;o.style.height=Be+"px"}else{const je=X.length>0&&A===X[0].ref.current;o.style.top="0px";const ze=Math.max(he,H+w.offsetTop+(je?ne:0)+me)+xe;o.style.height=ze+"px",w.scrollTop=Ne-he+w.offsetTop}o.style.margin=`${oo}px 0`,o.style.minHeight=J+"px",o.style.maxHeight=F+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[y,s.trigger,s.valueNode,o,d,w,A,_,s.dir,r]);Br(()=>N(),[N]);const[I,O]=T.useState();Br(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const k=T.useCallback(M=>{M&&C.current===!0&&(N(),E==null||E(),C.current=!1)},[N,E]);return c.jsx($we,{scope:n,contentWrapper:o,shouldExpandOnScrollRef:b,onScrollButtonChange:k,children:c.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:I},children:c.jsx(Je.div,{...i,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});wY.displayName=Lwe;var Bwe="SelectPopperPosition",iP=T.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=oo,...s}=e,a=DC(n);return c.jsx(Lj,{...a,...s,ref:t,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});iP.displayName=Bwe;var[$we,Sk]=Ng(qf,{}),sP="SelectViewport",SY=T.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...i}=e,s=pd(sP,n),a=Sk(sP,n),o=$t(t,s.onViewportChange),u=T.useRef(0);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),c.jsx(IC.Slot,{scope:n,children:c.jsx(Je.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:o,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:Qe(i.onScroll,d=>{const h=d.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=a;if(y!=null&&y.current&&m){const b=Math.abs(u.current-h.scrollTop);if(b>0){const C=window.innerHeight-oo*2,w=parseFloat(m.style.minHeight),A=parseFloat(m.style.height),_=Math.max(w,A);if(_<C){const E=_+b,N=Math.min(C,E),I=E-N;m.style.height=N+"px",m.style.bottom==="0px"&&(h.scrollTop=I>0?I:0,m.style.justifyContent="flex-end")}}}u.current=h.scrollTop})})})]})});SY.displayName=sP;var CY="SelectGroup",[Uwe,zwe]=Ng(CY),Vwe=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=Mi();return c.jsx(Uwe,{scope:n,id:i,children:c.jsx(Je.div,{role:"group","aria-labelledby":i,...r,ref:t})})});Vwe.displayName=CY;var AY="SelectLabel",EY=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=zwe(AY,n);return c.jsx(Je.div,{id:i.id,...r,ref:t})});EY.displayName=AY;var Qw="SelectItem",[Wwe,_Y]=Ng(Qw),TY=T.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...a}=e,o=hd(Qw,n),u=pd(Qw,n),d=o.value===r,[h,m]=T.useState(s??""),[y,b]=T.useState(!1),C=$t(t,E=>{var N;return(N=u.itemRefCallback)==null?void 0:N.call(u,E,r,i)}),w=Mi(),A=T.useRef("touch"),_=()=>{i||(o.onValueChange(r),o.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return c.jsx(Wwe,{scope:n,value:r,disabled:i,textId:w,isSelected:d,onItemTextChange:T.useCallback(E=>{m(N=>N||((E==null?void 0:E.textContent)??"").trim())},[]),children:c.jsx(IC.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:c.jsx(Je.div,{role:"option","aria-labelledby":w,"data-highlighted":y?"":void 0,"aria-selected":d&&y,"data-state":d?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...a,ref:C,onFocus:Qe(a.onFocus,()=>b(!0)),onBlur:Qe(a.onBlur,()=>b(!1)),onClick:Qe(a.onClick,()=>{A.current!=="mouse"&&_()}),onPointerUp:Qe(a.onPointerUp,()=>{A.current==="mouse"&&_()}),onPointerDown:Qe(a.onPointerDown,E=>{A.current=E.pointerType}),onPointerMove:Qe(a.onPointerMove,E=>{var N;A.current=E.pointerType,i?(N=u.onItemLeave)==null||N.call(u):A.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Qe(a.onPointerLeave,E=>{var N;E.currentTarget===document.activeElement&&((N=u.onItemLeave)==null||N.call(u))}),onKeyDown:Qe(a.onKeyDown,E=>{var I;((I=u.searchRef)==null?void 0:I.current)!==""&&E.key===" "||(Pwe.includes(E.key)&&_(),E.key===" "&&E.preventDefault())})})})})});TY.displayName=Qw;var H0="SelectItemText",NY=T.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:i,...s}=e,a=hd(H0,n),o=pd(H0,n),u=_Y(H0,n),d=Iwe(H0,n),[h,m]=T.useState(null),y=$t(t,_=>m(_),u.onItemTextChange,_=>{var E;return(E=o.itemTextRefCallback)==null?void 0:E.call(o,_,u.value,u.disabled)}),b=h==null?void 0:h.textContent,C=T.useMemo(()=>c.jsx("option",{value:u.value,disabled:u.disabled,children:b},u.value),[u.disabled,u.value,b]),{onNativeOptionAdd:w,onNativeOptionRemove:A}=d;return Br(()=>(w(C),()=>A(C)),[w,A,C]),c.jsxs(c.Fragment,{children:[c.jsx(Je.span,{id:u.textId,...s,ref:y}),u.isSelected&&a.valueNode&&!a.valueNodeHasChildren?ud.createPortal(s.children,a.valueNode):null]})});NY.displayName=H0;var PY="SelectItemIndicator",OY=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return _Y(PY,n).isSelected?c.jsx(Je.span,{"aria-hidden":!0,...r,ref:t}):null});OY.displayName=PY;var aP="SelectScrollUpButton",jY=T.forwardRef((e,t)=>{const n=pd(aP,e.__scopeSelect),r=Sk(aP,e.__scopeSelect),[i,s]=T.useState(!1),a=$t(t,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let o=function(){const d=u.scrollTop>0;s(d)};const u=n.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?c.jsx(IY,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=n;o&&u&&(o.scrollTop=o.scrollTop-u.offsetHeight)}}):null});jY.displayName=aP;var oP="SelectScrollDownButton",kY=T.forwardRef((e,t)=>{const n=pd(oP,e.__scopeSelect),r=Sk(oP,e.__scopeSelect),[i,s]=T.useState(!1),a=$t(t,r.onScrollButtonChange);return Br(()=>{if(n.viewport&&n.isPositioned){let o=function(){const d=u.scrollHeight-u.clientHeight,h=Math.ceil(u.scrollTop)<d;s(h)};const u=n.viewport;return o(),u.addEventListener("scroll",o),()=>u.removeEventListener("scroll",o)}},[n.viewport,n.isPositioned]),i?c.jsx(IY,{...e,ref:a,onAutoScroll:()=>{const{viewport:o,selectedItem:u}=n;o&&u&&(o.scrollTop=o.scrollTop+u.offsetHeight)}}):null});kY.displayName=oP;var IY=T.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=e,s=pd("SelectScrollButton",n),a=T.useRef(null),o=MC(n),u=T.useCallback(()=>{a.current!==null&&(window.clearInterval(a.current),a.current=null)},[]);return T.useEffect(()=>()=>u(),[u]),Br(()=>{var h;const d=o().find(m=>m.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[o]),c.jsx(Je.div,{"aria-hidden":!0,...i,ref:t,style:{flexShrink:0,...i.style},onPointerDown:Qe(i.onPointerDown,()=>{a.current===null&&(a.current=window.setInterval(r,50))}),onPointerMove:Qe(i.onPointerMove,()=>{var d;(d=s.onItemLeave)==null||d.call(s),a.current===null&&(a.current=window.setInterval(r,50))}),onPointerLeave:Qe(i.onPointerLeave,()=>{u()})})}),Hwe="SelectSeparator",MY=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return c.jsx(Je.div,{"aria-hidden":!0,...r,ref:t})});MY.displayName=Hwe;var lP="SelectArrow",Gwe=T.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,i=DC(n),s=hd(lP,n),a=pd(lP,n);return s.open&&a.position==="popper"?c.jsx(Bj,{...i,...r,ref:t}):null});Gwe.displayName=lP;function DY(e){return e===""||e===void 0}var RY=T.forwardRef((e,t)=>{const{value:n,...r}=e,i=T.useRef(null),s=$t(t,i),a=zv(n);return T.useEffect(()=>{const o=i.current,u=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(u,"value").set;if(a!==n&&h){const m=new Event("change",{bubbles:!0});h.call(o,n),o.dispatchEvent(m)}},[a,n]),c.jsx(kv,{asChild:!0,children:c.jsx("select",{...r,ref:s,defaultValue:n})})});RY.displayName="BubbleSelect";function FY(e){const t=Er(e),n=T.useRef(""),r=T.useRef(0),i=T.useCallback(a=>{const o=n.current+a;t(o),function u(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>u(""),1e3))}(o)},[t]),s=T.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function LY(e,t,n){const i=t.length>1&&Array.from(t).every(d=>d===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let a=qwe(e,Math.max(s,0));i.length===1&&(a=a.filter(d=>d!==n));const u=a.find(d=>d.textValue.toLowerCase().startsWith(i.toLowerCase()));return u!==n?u:void 0}function qwe(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var Kwe=dY,BY=hY,Xwe=mY,Ywe=gY,Zwe=yY,$Y=vY,Qwe=SY,UY=EY,zY=TY,Jwe=NY,e2e=OY,VY=jY,WY=kY,HY=MY;const qr=Kwe,Kr=Xwe,Rr=T.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(BY,{ref:r,className:Te("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background/90 px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus-glass transition-morph disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,c.jsx(Ywe,{asChild:!0,children:c.jsx(fC,{className:"h-4 w-4 opacity-50"})})]}));Rr.displayName=BY.displayName;const GY=T.forwardRef(({className:e,...t},n)=>c.jsx(VY,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(bG,{className:"h-4 w-4"})}));GY.displayName=VY.displayName;const qY=T.forwardRef(({className:e,...t},n)=>c.jsx(WY,{ref:n,className:Te("flex cursor-default items-center justify-center py-1",e),...t,children:c.jsx(fC,{className:"h-4 w-4"})}));qY.displayName=WY.displayName;const Fr=T.forwardRef(({className:e,children:t,position:n="popper",...r},i)=>c.jsx(Zwe,{children:c.jsxs($Y,{ref:i,className:Te("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[c.jsx(GY,{}),c.jsx(Qwe,{className:Te("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),c.jsx(qY,{})]})}));Fr.displayName=$Y.displayName;const t2e=T.forwardRef(({className:e,...t},n)=>c.jsx(UY,{ref:n,className:Te("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));t2e.displayName=UY.displayName;const mt=T.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(zY,{ref:r,className:Te("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[c.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:c.jsx(e2e,{children:c.jsx(Cj,{className:"h-4 w-4"})})}),c.jsx(Jwe,{children:t})]}));mt.displayName=zY.displayName;const n2e=T.forwardRef(({className:e,...t},n)=>c.jsx(HY,{ref:n,className:Te("-mx-1 my-1 h-px bg-muted",e),...t}));n2e.displayName=HY.displayName;function I5(e,t){if(!e)return 7;const n=e.toLowerCase();return n.includes("fruit")||n.includes("vegetable")||n.includes("produce")?7:n.includes("dairy")||n.includes("milk")||n.includes("cheese")||n.includes("yogurt")?10:n.includes("meat")||n.includes("poultry")||n.includes("beef")||n.includes("pork")||n.includes("chicken")||n.includes("fish")||n.includes("seafood")?3:n.includes("bread")||n.includes("bakery")||n.includes("baked")?5:n.includes("egg")?21:n.includes("frozen")?90:n.includes("canned")||n.includes("packaged")||n.includes("snack")||n.includes("cereal")||n.includes("grain")||n.includes("pasta")?180:n.includes("sauce")||n.includes("condiment")||n.includes("dressing")?60:14}function M5(e,t,n){var i,s,a,o,u;if(!n||n.length===0)return null;const r=`${e||""} ${t||""}`.toLowerCase();return r.includes("frozen")?((i=n.find(d=>d.name.toLowerCase()==="freezer"))==null?void 0:i.id)||null:r.includes("dairy")||r.includes("milk")||r.includes("cheese")||r.includes("yogurt")||r.includes("meat")||r.includes("poultry")||r.includes("beef")||r.includes("pork")||r.includes("chicken")||r.includes("fish")||r.includes("seafood")||r.includes("egg")||r.includes("fruit")||r.includes("vegetable")||r.includes("produce")?((s=n.find(d=>d.name.toLowerCase()==="fridge"))==null?void 0:s.id)||null:r.includes("canned")||r.includes("packaged")||r.includes("snack")||r.includes("cereal")||r.includes("grain")||r.includes("pasta")||r.includes("sauce")||r.includes("condiment")||r.includes("dressing")?((a=n.find(d=>d.name.toLowerCase()==="pantry"))==null?void 0:a.id)||null:r.includes("bread")||r.includes("bakery")||r.includes("baked")?((o=n.find(d=>d.name.toLowerCase()==="counter"))==null?void 0:o.id)||null:((u=n.find(d=>d.name.toLowerCase()==="fridge"))==null?void 0:u.id)||null}function KY({open:e,onOpenChange:t}){const[n,r]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(null),[u,d]=T.useState(null),[h,m]=T.useState(""),[y,b]=T.useState(""),[C,w]=T.useState(""),[A,_]=T.useState(""),[E,N]=T.useState(null),[I,O]=T.useState("none"),[k,M]=T.useState(!1),[R,L]=T.useState(!1),[U,X]=T.useState([]),[F,V]=T.useState("relevance"),[Z,H]=T.useState("asc"),[q,G]=T.useState(20),[W,oe]=T.useState(1),[J,Y]=T.useState(""),[ne,pe]=T.useState(""),[he,we]=T.useState(null),[me,be]=T.useState(!1),[Ne,xe]=T.useState(!1),{toast:Oe}=or(),{data:je}=oh(),ve=PN(de=>{pe(de)},300,[]),ze=()=>{const de=new URLSearchParams;return de.append("query",i),U.length>0&&de.append("dataType",U.join(",")),F&&F!=="relevance"&&de.append("sortBy",F),Z&&de.append("sortOrder",Z),q!==20&&de.append("pageSize",q.toString()),W!==1&&de.append("pageNumber",W.toString()),ne&&de.append("brandOwner",ne),de.toString()},{data:Be,isFetching:dt,refetch:Ct}=un({queryKey:[`/api/usda/search?${ze()}`],enabled:i.length>0}),yt=PN(de=>{s(de),M(!1)},300,[]),At=de=>{r(de),oe(1),de.trim()?(M(!0),yt(de.trim())):(M(!1),s(""))},ct=de=>{Y(de),oe(1),ve(de.trim())},xn=Dn({mutationFn:async de=>await(await Xt("POST","/api/food-items",de)).json(),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/food-items"]}),St.invalidateQueries({queryKey:["/api/storage-locations"]}),St.invalidateQueries({queryKey:["/api/nutrition/stats"]}),St.invalidateQueries({queryKey:["/api/nutrition/items"]}),Oe({title:"Success",description:"Food item added to inventory"}),ae()},onError:()=>{Oe({title:"Error",description:"Failed to add food item",variant:"destructive"})}}),Ze=Dn({mutationFn:async de=>await(await Xt("POST","/api/food/analyze-image",{image:de})).json(),onSuccess:de=>{var Ye;if(de.success&&de.analysis){const ut=de.analysis;if(we(ut),r(ut.name||""),m(((Ye=ut.quantity)==null?void 0:Ye.replace(/[^0-9.]/g,""))||"1"),b(ut.unit||"serving"),je&&ut.category){const Ft=M5(ut.category,ut.name,je);Ft&&w(Ft)}if(!A&&ut.category){const Ft=I5(ut.category),As=new Date;As.setDate(As.getDate()+Ft),_(As.toISOString().split("T")[0])}xe(!0),Oe({title:"Image Analyzed",description:`Detected: ${ut.name} (${ut.confidence}% confidence)`})}else Oe({title:"Analysis Failed",description:"Could not analyze the image. Please enter details manually.",variant:"destructive"})},onError:de=>{Oe({title:"Analysis Error",description:de.message||"Failed to analyze the image",variant:"destructive"})},onSettled:()=>{be(!1)}}),ae=()=>{r(""),s(""),o(null),d(null),m(""),b(""),w(""),_(""),N(null),O("none"),M(!1),L(!1),X([]),V("relevance"),H("asc"),G(20),oe(1),Y(""),pe(""),we(null),be(!1),xe(!1),t(!1)},le=async()=>({method:"PUT",url:(await(await Xt("POST","/api/objects/upload",{})).json()).uploadURL}),ee=async de=>{if(de.successful&&de.successful.length>0){const Ye=de.successful[0].uploadURL,Ft=await(await Xt("PUT","/api/food-images",{imageURL:Ye})).json();N(Ft.objectPath),O("upload"),we(null),xe(!1),Oe({title:"Image uploaded",description:"Photo uploaded successfully. You can now analyze it to detect ingredients."})}},Ee=async()=>{if(!E){Oe({title:"No image",description:"Please upload an image first",variant:"destructive"});return}be(!0),Ze.mutate(E)},Pe=async()=>{if(!n.trim()&&!u){Oe({title:"Search required",description:"Please select a food item first",variant:"destructive"});return}try{let de,Ye="";if(u)Ye=`UPC ${u}`,de=await Xt("GET",`/api/barcodelookup/product/${encodeURIComponent(u)}`,null);else{const Ft=a!=null&&a.brandOwner?`${a.brandOwner} ${n.split(",")[0].trim()}`.trim():n.split(",")[0].trim();Ye=`search "${Ft}"`,de=await Xt("GET",`/api/barcodelookup/search?query=${encodeURIComponent(Ft)}`,null)}const ut=await de.json();ut.imageUrl?(N(ut.imageUrl),O("branded"),Oe({title:"Product image found",description:`Found image using ${Ye}`})):ut.products&&ut.products.length>0&&ut.products[0].imageUrl?(N(ut.products[0].imageUrl),O("branded"),Oe({title:"Product image found",description:`Found image for ${ut.products[0].name}`})):Oe({title:"No image found",description:"No product images found. Try uploading your own photo.",variant:"destructive"})}catch(de){console.error("Barcode Lookup search error:",de),Oe({title:"Search failed",description:"Failed to search for product images. Please try again.",variant:"destructive"})}},Ie=()=>{var ut;if(console.log("handleSubmit called with:",{selectedFood:a,searchQuery:n,quantity:h,unit:y,storageLocationId:C,expirationDate:A}),!a&&!n.trim()){Oe({title:"Error",description:"Please select a food item or enter a name",variant:"destructive"});return}const de=[];if(h||de.push("quantity"),y||de.push("unit"),C||de.push("storage location"),A||de.push("expiration date"),de.length>0){Oe({title:"Error",description:`Please fill in: ${de.join(", ")}`,variant:"destructive"}),console.error("Missing fields:",de);return}const Ye={name:(a==null?void 0:a.description)||n,fcdId:((ut=a==null?void 0:a.fdcId)==null?void 0:ut.toString())||null,quantity:h,unit:y,storageLocationId:C,expirationDate:A,imageUrl:E,nutrition:a!=null&&a.nutrition?JSON.stringify(a.nutrition):null,usdaData:a||null,foodCategory:(a==null?void 0:a.foodCategory)||null};console.log("Submitting mutation with data:",Ye),xn.mutate(Ye)};return c.jsx($s,{open:e,onOpenChange:t,children:c.jsxs(vs,{className:"max-w-2xl max-h-[90vh] overflow-y-auto bg-muted",children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Add Food Item"}),c.jsx(Vs,{children:"We utilize the USDA database to provide accurate nutritional information."})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{children:"Search USDA Database"}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(gn,{placeholder:"Search for food items... (searches automatically as you type)",value:n,onChange:de=>At(de.target.value),"data-testid":"input-usda-search"}),c.jsxs(Vw,{open:R,onOpenChange:L,children:[c.jsx(Ww,{asChild:!0,children:c.jsxs(Re,{variant:"ghost",size:"sm",className:"w-full justify-between",children:[c.jsxs("span",{className:"flex items-center gap-2",children:[c.jsx(wG,{className:"w-4 h-4"}),"Advanced Search Options"]}),R?c.jsx(bG,{className:"w-4 h-4"}):c.jsx(fC,{className:"w-4 h-4"})]})}),c.jsxs(Hw,{className:"space-y-4 pt-4 px-1",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{className:"text-sm",children:"Data Types"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:["Branded","Foundation","Survey (FNDDS)","SR Legacy"].map(de=>c.jsx(Ot,{variant:U.includes(de)?"default":"outline",className:"cursor-pointer hover-elevate",onClick:()=>{X(Ye=>Ye.includes(de)?Ye.filter(ut=>ut!==de):[...Ye,de]),oe(1)},children:de},de))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"brand-owner",className:"text-sm",children:"Brand Owner"}),c.jsx(gn,{id:"brand-owner",placeholder:"Filter by brand (e.g., Nestle, Kellogg's)",value:J,onChange:de=>ct(de.target.value),className:"text-sm"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{className:"text-sm",children:"Sort By"}),c.jsxs(qr,{value:F||"relevance",onValueChange:de=>{V(de==="relevance"?"":de),oe(1)},children:[c.jsx(Rr,{className:"text-sm",children:c.jsx(Kr,{placeholder:"Select..."})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"relevance",children:"Relevance"}),c.jsx(mt,{value:"lowercaseDescription.keyword",children:"Description"}),c.jsx(mt,{value:"dataType.keyword",children:"Data Type"}),c.jsx(mt,{value:"fdcId",children:"FDC ID"}),c.jsx(mt,{value:"publishedDate",children:"Published Date"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{className:"text-sm",children:"Order"}),c.jsxs(qr,{value:Z,onValueChange:de=>{H(de),oe(1)},children:[c.jsx(Rr,{className:"text-sm",children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"asc",children:"Ascending"}),c.jsx(mt,{value:"desc",children:"Descending"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{className:"text-sm",children:"Results per page"}),c.jsxs(qr,{value:q.toString(),onValueChange:de=>{G(Number(de)),oe(1)},children:[c.jsx(Rr,{className:"text-sm",children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"10",children:"10"}),c.jsx(mt,{value:"20",children:"20"}),c.jsx(mt,{value:"50",children:"50"}),c.jsx(mt,{value:"100",children:"100"})]})]})]}),(U.length>0||J||F&&F!=="relevance")&&c.jsx(Re,{variant:"outline",size:"sm",onClick:()=>{X([]),V("relevance"),H("asc"),Y(""),pe(""),G(20),oe(1)},className:"w-full",children:"Clear All Filters"})]})]}),(k||dt)&&c.jsx("div",{className:"text-sm text-muted-foreground",children:"Searching USDA database..."})]})]}),Be&&Be.foods.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(Tt,{children:"Search Results"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[Be.totalHits," total results"]})]}),c.jsx("div",{className:"border border-border rounded-lg max-h-48 overflow-y-auto",children:Be.foods.map(de=>c.jsxs("button",{onClick:()=>{o(de),d(de.gtinUpc||null),r(de.description),de.servingSize&&de.servingSizeUnit?(m(de.servingSize.toString()),b(de.servingSizeUnit)):(m("1"),b("piece"));const Ye=I5(de.foodCategory,de.dataType),ut=new Date;ut.setDate(ut.getDate()+Ye),_(ut.toISOString().split("T")[0]);const Ft=M5(de.foodCategory,de.description,je);Ft&&w(Ft)},className:`w-full p-3 text-left hover-elevate border-b border-border last:border-0 ${(a==null?void 0:a.fdcId)===de.fdcId?"bg-accent":""}`,"data-testid":`button-select-food-${de.fdcId}`,children:[c.jsx("div",{className:"font-medium",children:de.description}),c.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[de.brandOwner&&c.jsx("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded",children:de.brandOwner}),de.gtinUpc&&c.jsxs("span",{className:"text-xs bg-green-500/10 text-green-600 dark:text-green-400 px-2 py-0.5 rounded font-mono",children:["UPC: ",de.gtinUpc]}),de.foodCategory&&c.jsx("span",{className:"text-xs bg-secondary/50 text-secondary-foreground px-2 py-0.5 rounded",children:de.foodCategory}),c.jsxs("span",{className:"text-xs text-muted-foreground font-mono",children:[de.dataType,"  ID: ",de.fdcId]})]})]},de.fdcId))}),Be.totalPages>1&&c.jsxs("div",{className:"flex items-center justify-between pt-2",children:[c.jsx(Re,{variant:"outline",size:"sm",onClick:()=>oe(de=>Math.max(1,de-1)),disabled:W===1,children:"Previous"}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",W," of ",Be.totalPages]}),c.jsx(Re,{variant:"outline",size:"sm",onClick:()=>oe(de=>Math.min(Be.totalPages,de+1)),disabled:W===Be.totalPages,children:"Next"})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"quantity",children:"Quantity *"}),c.jsx(gn,{id:"quantity",type:"text",placeholder:"e.g., 2, 1.5",value:h,onChange:de=>m(de.target.value),"data-testid":"input-quantity"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"unit",children:"Unit *"}),c.jsx(gn,{id:"unit",placeholder:"e.g., lbs, kg, cups",value:y,onChange:de=>b(de.target.value),"data-testid":"input-unit"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{id:"storage-location-label",children:"Storage Location *"}),c.jsx(PK,{type:"single",value:C,onValueChange:w,"aria-labelledby":"storage-location-label",className:"flex flex-wrap gap-2 justify-start",children:je==null?void 0:je.map(de=>c.jsx(OK,{value:de.id,"aria-label":`Select ${de.name}`,className:"rounded-full","data-testid":`button-storage-${de.name.toLowerCase()}`,children:de.name},de.id))})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"expiration",children:"Expiration Date *"}),c.jsx(gn,{id:"expiration",type:"date",value:A,onChange:de=>_(de.target.value),"data-testid":"input-expiration"}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Auto-suggested based on food type. Always verify with the package label."})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx(Tt,{children:"Food Image (Optional)"}),c.jsxs(WK,{value:I,onValueChange:de=>O(de),className:"w-full",children:[c.jsxs(sk,{className:"grid w-full grid-cols-3",children:[c.jsxs(Ef,{value:"none","data-testid":"tab-no-image",children:[c.jsx(Wfe,{className:"w-4 h-4 mr-2"}),"No Image"]}),c.jsxs(Ef,{value:"branded","data-testid":"tab-search-image",children:[c.jsx(Sm,{className:"w-4 h-4 mr-2"}),"Find Product"]}),c.jsxs(Ef,{value:"upload","data-testid":"tab-upload-image",children:[c.jsx(vN,{className:"w-4 h-4 mr-2"}),"Upload Photo"]})]}),c.jsx(Kb,{value:"none",className:"text-sm text-muted-foreground",children:"No image will be added to this item"}),c.jsxs(Kb,{value:"branded",className:"space-y-3",children:[c.jsx(Twe,{}),c.jsx("p",{className:"text-sm text-muted-foreground",children:u?`Will search using UPC barcode: ${u}`:"Search for branded product images from Barcode Lookup database"}),c.jsxs(Re,{type:"button",onClick:Pe,variant:"outline",className:"w-full","data-testid":"button-search-product-image",children:[c.jsx(Sm,{className:"w-4 h-4 mr-2"}),u?"Find Product by UPC":"Search for Product Image"]}),E&&I==="branded"&&c.jsx("div",{className:"mt-2 p-2 border border-border rounded-lg",children:c.jsx("img",{src:E,alt:"Product",className:"w-full h-32 object-contain"})})]}),c.jsxs(Kb,{value:"upload",className:"space-y-2",children:[c.jsx("p",{className:"text-sm text-muted-foreground",children:"Take or upload a photo of your leftover meal to automatically detect ingredients"}),c.jsxs(Awe,{maxNumberOfFiles:1,maxFileSize:10485760,onGetUploadParameters:le,onComplete:ee,buttonClassName:"w-full",children:[c.jsx(vN,{className:"w-4 h-4 mr-2"}),"Upload Photo"]}),E&&I==="upload"&&c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"mt-2 p-2 border border-border rounded-lg",children:c.jsx("img",{src:E,alt:"Uploaded",className:"w-full h-32 object-contain"})}),!Ne&&c.jsx(Re,{type:"button",onClick:Ee,disabled:me,variant:"outline",className:"w-full","data-testid":"button-analyze-image",children:me?c.jsxs(c.Fragment,{children:[c.jsx(Nu,{className:"w-4 h-4 mr-2 animate-spin"}),"Analyzing Image..."]}):c.jsxs(c.Fragment,{children:[c.jsx(nR,{className:"w-4 h-4 mr-2"}),"Analyze for Ingredients"]})}),he&&c.jsxs(jc,{className:"bg-muted/50",children:[c.jsx(nR,{className:"h-4 w-4"}),c.jsx(kc,{children:c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"font-medium",children:["Detected: ",he.name,he.confidence&&c.jsxs("span",{className:"text-muted-foreground ml-2",children:["(",he.confidence,"% confidence)"]})]}),he.ingredients&&he.ingredients.length>0&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("p",{className:"text-sm font-medium",children:"Visible ingredients:"}),c.jsx("ul",{className:"text-xs text-muted-foreground list-disc list-inside",children:he.ingredients.map((de,Ye)=>c.jsxs("li",{children:[de.name," - ",de.quantity," ",de.unit]},Ye))})]}),he.calories!==void 0&&c.jsxs("div",{className:"text-xs space-y-1",children:[c.jsx("p",{className:"font-medium",children:"Estimated nutrition:"}),c.jsxs("div",{className:"grid grid-cols-2 gap-x-4 text-muted-foreground",children:[c.jsxs("span",{children:["Calories: ",he.calories]}),c.jsxs("span",{children:["Protein: ",he.protein,"g"]}),c.jsxs("span",{children:["Carbs: ",he.carbs,"g"]}),c.jsxs("span",{children:["Fat: ",he.fat,"g"]})]})]}),c.jsx("p",{className:"text-xs text-muted-foreground italic",children:"Form fields have been pre-filled. Please review and adjust as needed."})]})})]})]})]})]})]})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(Re,{variant:"outline",className:"touch-target",onClick:ae,"data-testid":"button-cancel",children:"Cancel"}),c.jsx(Re,{className:"touch-target",onClick:Ie,disabled:xn.isPending,"data-testid":"button-submit-food",children:xn.isPending?"Adding...":"Add Item"})]})]})})}var XY=["PageUp","PageDown"],YY=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ZY={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Pg="Slider",[cP,r2e,i2e]=cC(Pg),[QY,Itt]=Yr(Pg,[i2e]),[s2e,RC]=QY(Pg),JY=T.forwardRef((e,t)=>{const{name:n,min:r=0,max:i=100,step:s=1,orientation:a="horizontal",disabled:o=!1,minStepsBetweenThumbs:u=0,defaultValue:d=[r],value:h,onValueChange:m=()=>{},onValueCommit:y=()=>{},inverted:b=!1,form:C,...w}=e,A=T.useRef(new Set),_=T.useRef(0),N=a==="horizontal"?a2e:o2e,[I=[],O]=Qi({prop:h,defaultProp:d,onChange:X=>{var V;(V=[...A.current][_.current])==null||V.focus(),m(X)}}),k=T.useRef(I);function M(X){const F=f2e(I,X);U(X,F)}function R(X){U(X,_.current)}function L(){const X=k.current[_.current];I[_.current]!==X&&y(I)}function U(X,F,{commit:V}={commit:!1}){const Z=g2e(s),H=y2e(Math.round((X-r)/s)*s+r,Z),q=Qy(H,[r,i]);O((G=[])=>{const W=u2e(G,q,F);if(m2e(W,u*s)){_.current=W.indexOf(q);const oe=String(W)!==String(G);return oe&&V&&y(W),oe?W:G}else return G})}return c.jsx(s2e,{scope:e.__scopeSlider,name:n,disabled:o,min:r,max:i,valueIndexToChangeRef:_,thumbs:A.current,values:I,orientation:a,form:C,children:c.jsx(cP.Provider,{scope:e.__scopeSlider,children:c.jsx(cP.Slot,{scope:e.__scopeSlider,children:c.jsx(N,{"aria-disabled":o,"data-disabled":o?"":void 0,...w,ref:t,onPointerDown:Qe(w.onPointerDown,()=>{o||(k.current=I)}),min:r,max:i,inverted:b,onSlideStart:o?void 0:M,onSlideMove:o?void 0:R,onSlideEnd:o?void 0:L,onHomeKeyDown:()=>!o&&U(r,0,{commit:!0}),onEndKeyDown:()=>!o&&U(i,I.length-1,{commit:!0}),onStepKeyDown:({event:X,direction:F})=>{if(!o){const H=XY.includes(X.key)||X.shiftKey&&YY.includes(X.key)?10:1,q=_.current,G=I[q],W=s*H*F;U(G+W,q,{commit:!0})}}})})})})});JY.displayName=Pg;var[eZ,tZ]=QY(Pg,{startEdge:"left",endEdge:"right",size:"width",direction:1}),a2e=T.forwardRef((e,t)=>{const{min:n,max:r,dir:i,inverted:s,onSlideStart:a,onSlideMove:o,onSlideEnd:u,onStepKeyDown:d,...h}=e,[m,y]=T.useState(null),b=$t(t,N=>y(N)),C=T.useRef(void 0),w=lh(i),A=w==="ltr",_=A&&!s||!A&&s;function E(N){const I=C.current||m.getBoundingClientRect(),O=[0,I.width],M=Ck(O,_?[n,r]:[r,n]);return C.current=I,M(N-I.left)}return c.jsx(eZ,{scope:e.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:c.jsx(nZ,{dir:w,"data-orientation":"horizontal",...h,ref:b,style:{...h.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:N=>{const I=E(N.clientX);a==null||a(I)},onSlideMove:N=>{const I=E(N.clientX);o==null||o(I)},onSlideEnd:()=>{C.current=void 0,u==null||u()},onStepKeyDown:N=>{const O=ZY[_?"from-left":"from-right"].includes(N.key);d==null||d({event:N,direction:O?-1:1})}})})}),o2e=T.forwardRef((e,t)=>{const{min:n,max:r,inverted:i,onSlideStart:s,onSlideMove:a,onSlideEnd:o,onStepKeyDown:u,...d}=e,h=T.useRef(null),m=$t(t,h),y=T.useRef(void 0),b=!i;function C(w){const A=y.current||h.current.getBoundingClientRect(),_=[0,A.height],N=Ck(_,b?[r,n]:[n,r]);return y.current=A,N(w-A.top)}return c.jsx(eZ,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:c.jsx(nZ,{"data-orientation":"vertical",...d,ref:m,style:{...d.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const A=C(w.clientY);s==null||s(A)},onSlideMove:w=>{const A=C(w.clientY);a==null||a(A)},onSlideEnd:()=>{y.current=void 0,o==null||o()},onStepKeyDown:w=>{const _=ZY[b?"from-bottom":"from-top"].includes(w.key);u==null||u({event:w,direction:_?-1:1})}})})}),nZ=T.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:i,onSlideEnd:s,onHomeKeyDown:a,onEndKeyDown:o,onStepKeyDown:u,...d}=e,h=RC(Pg,n);return c.jsx(Je.span,{...d,ref:t,onKeyDown:Qe(e.onKeyDown,m=>{m.key==="Home"?(a(m),m.preventDefault()):m.key==="End"?(o(m),m.preventDefault()):XY.concat(YY).includes(m.key)&&(u(m),m.preventDefault())}),onPointerDown:Qe(e.onPointerDown,m=>{const y=m.target;y.setPointerCapture(m.pointerId),m.preventDefault(),h.thumbs.has(y)?y.focus():r(m)}),onPointerMove:Qe(e.onPointerMove,m=>{m.target.hasPointerCapture(m.pointerId)&&i(m)}),onPointerUp:Qe(e.onPointerUp,m=>{const y=m.target;y.hasPointerCapture(m.pointerId)&&(y.releasePointerCapture(m.pointerId),s(m))})})}),rZ="SliderTrack",iZ=T.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=RC(rZ,n);return c.jsx(Je.span,{"data-disabled":i.disabled?"":void 0,"data-orientation":i.orientation,...r,ref:t})});iZ.displayName=rZ;var uP="SliderRange",sZ=T.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,i=RC(uP,n),s=tZ(uP,n),a=T.useRef(null),o=$t(t,a),u=i.values.length,d=i.values.map(y=>oZ(y,i.min,i.max)),h=u>1?Math.min(...d):0,m=100-Math.max(...d);return c.jsx(Je.span,{"data-orientation":i.orientation,"data-disabled":i.disabled?"":void 0,...r,ref:o,style:{...e.style,[s.startEdge]:h+"%",[s.endEdge]:m+"%"}})});sZ.displayName=uP;var dP="SliderThumb",aZ=T.forwardRef((e,t)=>{const n=r2e(e.__scopeSlider),[r,i]=T.useState(null),s=$t(t,o=>i(o)),a=T.useMemo(()=>r?n().findIndex(o=>o.ref.current===r):-1,[n,r]);return c.jsx(l2e,{...e,ref:s,index:a})}),l2e=T.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:i,...s}=e,a=RC(dP,n),o=tZ(dP,n),[u,d]=T.useState(null),h=$t(t,E=>d(E)),m=u?a.form||!!u.closest("form"):!0,y=Dv(u),b=a.values[r],C=b===void 0?0:oZ(b,a.min,a.max),w=d2e(r,a.values.length),A=y==null?void 0:y[o.size],_=A?h2e(A,C,o.direction):0;return T.useEffect(()=>{if(u)return a.thumbs.add(u),()=>{a.thumbs.delete(u)}},[u,a.thumbs]),c.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[o.startEdge]:`calc(${C}% + ${_}px)`},children:[c.jsx(cP.ItemSlot,{scope:e.__scopeSlider,children:c.jsx(Je.span,{role:"slider","aria-label":e["aria-label"]||w,"aria-valuemin":a.min,"aria-valuenow":b,"aria-valuemax":a.max,"aria-orientation":a.orientation,"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,tabIndex:a.disabled?void 0:0,...s,ref:h,style:b===void 0?{display:"none"}:e.style,onFocus:Qe(e.onFocus,()=>{a.valueIndexToChangeRef.current=r})})}),m&&c.jsx(c2e,{name:i??(a.name?a.name+(a.values.length>1?"[]":""):void 0),form:a.form,value:b},r)]})});aZ.displayName=dP;var c2e=e=>{const{value:t,...n}=e,r=T.useRef(null),i=zv(t);return T.useEffect(()=>{const s=r.current,a=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(a,"value").set;if(i!==t&&u){const d=new Event("input",{bubbles:!0});u.call(s,t),s.dispatchEvent(d)}},[i,t]),c.jsx("input",{style:{display:"none"},...n,ref:r,defaultValue:t})};function u2e(e=[],t,n){const r=[...e];return r[n]=t,r.sort((i,s)=>i-s)}function oZ(e,t,n){const s=100/(n-t)*(e-t);return Qy(s,[0,100])}function d2e(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function f2e(e,t){if(e.length===1)return 0;const n=e.map(i=>Math.abs(i-t)),r=Math.min(...n);return n.indexOf(r)}function h2e(e,t,n){const r=e/2,s=Ck([0,50],[0,r]);return(r-s(t)*n)*n}function p2e(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function m2e(e,t){if(t>0){const n=p2e(e);return Math.min(...n)>=t}return!0}function Ck(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function g2e(e){return(String(e).split(".")[1]||"").length}function y2e(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var lZ=JY,v2e=iZ,x2e=sZ,b2e=aZ;const fP=T.forwardRef(({className:e,...t},n)=>c.jsxs(lZ,{ref:n,className:Te("relative flex w-full touch-none select-none items-center",e),...t,children:[c.jsx(v2e,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:c.jsx(x2e,{className:"absolute h-full bg-primary"})}),c.jsx(b2e,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));fP.displayName=lZ.displayName;var Ak="Switch",[w2e,Mtt]=Yr(Ak),[S2e,C2e]=w2e(Ak),cZ=T.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:u="on",onCheckedChange:d,form:h,...m}=e,[y,b]=T.useState(null),C=$t(t,N=>b(N)),w=T.useRef(!1),A=y?h||!!y.closest("form"):!0,[_=!1,E]=Qi({prop:i,defaultProp:s,onChange:d});return c.jsxs(S2e,{scope:n,checked:_,disabled:o,children:[c.jsx(Je.button,{type:"button",role:"switch","aria-checked":_,"aria-required":a,"data-state":fZ(_),"data-disabled":o?"":void 0,disabled:o,value:u,...m,ref:C,onClick:Qe(e.onClick,N=>{E(I=>!I),A&&(w.current=N.isPropagationStopped(),w.current||N.stopPropagation())})}),A&&c.jsx(A2e,{control:y,bubbles:!w.current,name:r,value:u,checked:_,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"}})]})});cZ.displayName=Ak;var uZ="SwitchThumb",dZ=T.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,i=C2e(uZ,n);return c.jsx(Je.span,{"data-state":fZ(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:t})});dZ.displayName=uZ;var A2e=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=T.useRef(null),a=zv(n),o=Dv(t);return T.useEffect(()=>{const u=s.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&m){const y=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(y)}},[a,n,r]),c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function fZ(e){return e?"checked":"unchecked"}var hZ=cZ,E2e=dZ;const pZ=T.forwardRef(({className:e,...t},n)=>c.jsx(hZ,{className:Te("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:c.jsx(E2e,{className:Te("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));pZ.displayName=hZ.displayName;function mZ({onRecipeGenerated:e,open:t,onOpenChange:n}){const[r,i]=T.useState(!1),s=t!==void 0?t:r,a=n||i,{toast:o}=or(),[u,d]=T.useState({timeConstraint:"moderate",servings:4,difficulty:"intermediate",mealType:"dinner",creativity:5,onlyUseOnHand:!0}),h=Dn({mutationFn:async b=>await(await Xt("POST","/api/recipes/generate",b)).json(),onSuccess:async b=>{await St.invalidateQueries({queryKey:["/api/food-items"]}),await St.invalidateQueries({queryKey:["/api/recipes?includeMatching=true"]});const C=await St.fetchQuery({queryKey:["/api/recipes?includeMatching=true"],staleTime:0}),w=C==null?void 0:C.find(A=>A.id===b.id);o({title:"Recipe Generated!",description:`${b.title} - Availability validated`}),e==null||e(w||b),await St.invalidateQueries({queryKey:["/api/recipes"]}),a(!1)},onError:b=>{o({title:"Error",description:b.message||"Failed to generate recipe",variant:"destructive"})}}),m=()=>{h.mutate(u)},y=b=>b<=3?"Traditional":b<=7?"Balanced":"Experimental";return c.jsx($s,{open:s,onOpenChange:a,children:c.jsxs(vs,{className:"sm:max-w-md bg-muted","data-testid":"dialog-recipe-customization",children:[c.jsxs(Us,{children:[c.jsxs(zs,{className:"flex items-center gap-2",children:[c.jsx(bs,{className:"w-5 h-5 text-primary"}),"Customize Your Recipe"]}),c.jsx(Vs,{children:"Set your preferences to generate a personalized recipe"})]}),c.jsxs("div",{className:"space-y-6 py-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Tt,{htmlFor:"time",className:"flex items-center gap-2",children:[c.jsx(Uy,{className:"w-4 h-4"}),"Time Available"]}),c.jsxs(qr,{value:u.timeConstraint,onValueChange:b=>d({...u,timeConstraint:b}),children:[c.jsx(Rr,{id:"time","data-testid":"select-time-constraint",children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"quick",children:"Quick (under 30 min)"}),c.jsx(mt,{value:"moderate",children:"Moderate (30-60 min)"}),c.jsx(mt,{value:"elaborate",children:"Elaborate (over 60 min)"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Tt,{htmlFor:"servings",className:"flex items-center gap-2",children:[c.jsx(Iv,{className:"w-4 h-4"}),"Servings: ",u.servings]}),c.jsx(fP,{id:"servings",min:1,max:12,step:1,value:[u.servings],onValueChange:b=>d({...u,servings:b[0]}),className:"w-full","data-testid":"slider-servings"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"1"}),c.jsx("span",{children:"6"}),c.jsx("span",{children:"12"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Tt,{htmlFor:"difficulty",className:"flex items-center gap-2",children:[c.jsx(zfe,{className:"w-4 h-4"}),"Difficulty Level"]}),c.jsxs(qr,{value:u.difficulty,onValueChange:b=>d({...u,difficulty:b}),children:[c.jsx(Rr,{id:"difficulty","data-testid":"select-difficulty",children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"beginner",children:"Beginner"}),c.jsx(mt,{value:"intermediate",children:"Intermediate"}),c.jsx(mt,{value:"advanced",children:"Advanced"}),c.jsx(mt,{value:"expert",children:"Expert Chef"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Tt,{htmlFor:"meal-type",className:"flex items-center gap-2",children:[c.jsx(OG,{className:"w-4 h-4"}),"Meal Type"]}),c.jsxs(qr,{value:u.mealType,onValueChange:b=>d({...u,mealType:b}),children:[c.jsx(Rr,{id:"meal-type","data-testid":"select-meal-type",children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"breakfast",children:"Breakfast"}),c.jsx(mt,{value:"lunch",children:"Lunch"}),c.jsx(mt,{value:"dinner",children:"Dinner"}),c.jsx(mt,{value:"snack",children:"Snack"}),c.jsx(mt,{value:"dessert",children:"Dessert"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(Tt,{htmlFor:"only-on-hand",className:"flex items-center gap-2",children:[c.jsx(NG,{className:"w-4 h-4"}),"Only use ingredients on hand"]}),c.jsx(pZ,{id:"only-on-hand",checked:u.onlyUseOnHand,onCheckedChange:b=>d({...u,onlyUseOnHand:b}),"data-testid":"switch-only-on-hand"})]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:u.onlyUseOnHand?"Recipe will only use ingredients from your inventory":"Recipe may include ingredients you need to buy"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Tt,{htmlFor:"creativity",className:"flex items-center gap-2",children:[c.jsx(Vy,{className:"w-4 h-4"}),"Creativity: ",y(u.creativity)]}),c.jsx(fP,{id:"creativity",min:1,max:10,step:1,value:[u.creativity],onValueChange:b=>d({...u,creativity:b[0]}),className:"w-full","data-testid":"slider-creativity"}),c.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground",children:[c.jsx("span",{children:"Traditional"}),c.jsx("span",{children:"Balanced"}),c.jsx("span",{children:"Experimental"})]})]})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Re,{variant:"outline",onClick:()=>a(!1),disabled:h.isPending,"data-testid":"button-cancel",children:"Cancel"}),c.jsx(Re,{onClick:m,disabled:h.isPending,"data-testid":"button-generate",children:h.isPending?c.jsx(c.Fragment,{children:"Generating..."}):c.jsxs(c.Fragment,{children:[c.jsx(bs,{className:"w-4 h-4 mr-2"}),"Generate Recipe"]})})]})]})})}const gc=T.forwardRef(({className:e,...t},n)=>c.jsx("textarea",{className:Te("flex min-h-[80px] w-full rounded-md border border-input bg-background/90 px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-glass transition-morph disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));gc.displayName="Textarea";var Ek="Radio",[_2e,gZ]=Yr(Ek),[T2e,N2e]=_2e(Ek),yZ=T.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:a,value:o="on",onCheck:u,form:d,...h}=e,[m,y]=T.useState(null),b=$t(t,A=>y(A)),C=T.useRef(!1),w=m?d||!!m.closest("form"):!0;return c.jsxs(T2e,{scope:n,checked:i,disabled:a,children:[c.jsx(Je.button,{type:"button",role:"radio","aria-checked":i,"data-state":bZ(i),"data-disabled":a?"":void 0,disabled:a,value:o,...h,ref:b,onClick:Qe(e.onClick,A=>{i||u==null||u(),w&&(C.current=A.isPropagationStopped(),C.current||A.stopPropagation())})}),w&&c.jsx(P2e,{control:m,bubbles:!C.current,name:r,value:o,checked:i,required:s,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});yZ.displayName=Ek;var vZ="RadioIndicator",xZ=T.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...i}=e,s=N2e(vZ,n);return c.jsx(es,{present:r||s.checked,children:c.jsx(Je.span,{"data-state":bZ(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:t})})});xZ.displayName=vZ;var P2e=e=>{const{control:t,checked:n,bubbles:r=!0,...i}=e,s=T.useRef(null),a=zv(n),o=Dv(t);return T.useEffect(()=>{const u=s.current,d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"checked").set;if(a!==n&&m){const y=new Event("click",{bubbles:r});m.call(u,n),u.dispatchEvent(y)}},[a,n,r]),c.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...e.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function bZ(e){return e?"checked":"unchecked"}var O2e=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],_k="RadioGroup",[j2e,Dtt]=Yr(_k,[Ag,gZ]),wZ=Ag(),SZ=gZ(),[k2e,I2e]=j2e(_k),CZ=T.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:a=!1,disabled:o=!1,orientation:u,dir:d,loop:h=!0,onValueChange:m,...y}=e,b=wZ(n),C=lh(d),[w,A]=Qi({prop:s,defaultProp:i,onChange:m});return c.jsx(k2e,{scope:n,name:r,required:a,disabled:o,value:w,onValueChange:A,children:c.jsx(Jj,{asChild:!0,...b,orientation:u,dir:C,loop:h,children:c.jsx(Je.div,{role:"radiogroup","aria-required":a,"aria-orientation":u,"data-disabled":o?"":void 0,dir:C,...y,ref:t})})})});CZ.displayName=_k;var AZ="RadioGroupItem",EZ=T.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...i}=e,s=I2e(AZ,n),a=s.disabled||r,o=wZ(n),u=SZ(n),d=T.useRef(null),h=$t(t,d),m=s.value===i.value,y=T.useRef(!1);return T.useEffect(()=>{const b=w=>{O2e.includes(w.key)&&(y.current=!0)},C=()=>y.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",C)}},[]),c.jsx(ek,{asChild:!0,...o,focusable:!a,active:m,children:c.jsx(yZ,{disabled:a,required:s.required,checked:m,...u,...i,name:s.name,ref:h,onCheck:()=>s.onValueChange(i.value),onKeyDown:Qe(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:Qe(i.onFocus,()=>{var b;y.current&&((b=d.current)==null||b.click())})})})});EZ.displayName=AZ;var M2e="RadioGroupIndicator",_Z=T.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,i=SZ(n);return c.jsx(xZ,{...i,...r,ref:t})});_Z.displayName=M2e;var TZ=CZ,NZ=EZ,D2e=_Z;const hP=T.forwardRef(({className:e,...t},n)=>c.jsx(TZ,{className:Te("grid gap-2",e),...t,ref:n}));hP.displayName=TZ.displayName;const Rd=T.forwardRef(({className:e,...t},n)=>c.jsx(NZ,{ref:n,className:Te("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:c.jsx(D2e,{className:"flex items-center justify-center",children:c.jsx(Mfe,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Rd.displayName=NZ.displayName;function PZ({mode:e="floating"}){const[t,n]=T.useState(!1),[r,i]=T.useState("general"),[s,a]=T.useState(""),[o,u]=T.useState("medium"),[d,h]=T.useState("neutral"),{toast:m}=or(),[y]=Bc(),b=Dn({mutationFn:async N=>(await Xt("POST","/api/feedback",N)).json(),onSuccess:()=>{m({title:"Thank you for your feedback!",description:"We'll review it and take action as needed."}),n(!1),C(),St.invalidateQueries({queryKey:["/api/feedback"]})},onError:()=>{m({title:"Failed to submit feedback",description:"Please try again later.",variant:"destructive"})}}),C=()=>{i("general"),a(""),u("medium"),h("neutral")},w=()=>{if(!s.trim()){m({title:"Please enter your feedback",description:"We need to know what you're thinking!",variant:"destructive"});return}b.mutate({type:r,content:s.trim(),priority:r==="bug"?o:void 0,sentiment:d,metadata:{userAgent:navigator.userAgent,timestamp:new Date().toISOString()}})},A=y==="/"||y.startsWith("/chat"),_=c.jsx("button",{onClick:()=>n(!0),className:Te(e==="floating"&&"fixed z-50",e==="floating"&&(A?"bottom-48 right-6":"bottom-6 right-6"),e==="inline"&&"flex-shrink-0","glass-subtle backdrop-blur-md",e==="floating"?"rounded-full p-4":"rounded-full p-3","shadow-glass hover:shadow-glass-hover","transition-all duration-300 hover:scale-105","group"),"data-testid":"button-feedback-widget",title:"Send Feedback",children:c.jsx(tR,{className:Te(e==="floating"?"w-5 h-5":"w-4 h-4","text-foreground group-hover:rotate-12 transition-transform")})}),E=c.jsx("div",{className:Te(e==="floating"&&"fixed z-50",e==="floating"&&(A?"bottom-48 right-6":"bottom-6 right-6"),e==="inline"&&"absolute bottom-full mb-2 left-0 z-50","glass-subtle backdrop-blur-md","rounded-2xl shadow-glass","w-96 max-h-[600px]","animate-in slide-in-from-bottom-5 fade-in duration-300"),style:{borderRadius:"var(--radius)"},children:c.jsxs("div",{className:"p-6 space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx("h3",{className:"text-lg font-semibold",children:"Send Feedback"}),c.jsx(Re,{size:"icon",variant:"ghost",onClick:()=>n(!1),className:"h-8 w-8","data-testid":"button-close-feedback",children:c.jsx(Mn,{className:"w-4 h-4"})})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{children:"Feedback Type"}),c.jsxs(hP,{value:r,onValueChange:N=>i(N),children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Rd,{value:"general",id:"general"}),c.jsxs(Tt,{htmlFor:"general",className:"flex items-center gap-2 cursor-pointer",children:[c.jsx(tR,{className:"w-4 h-4"}),"General Feedback"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Rd,{value:"bug",id:"bug"}),c.jsxs(Tt,{htmlFor:"bug",className:"flex items-center gap-2 cursor-pointer",children:[c.jsx(xG,{className:"w-4 h-4"}),"Report a Bug"]})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Rd,{value:"feature",id:"feature"}),c.jsxs(Tt,{htmlFor:"feature",className:"flex items-center gap-2 cursor-pointer",children:[c.jsx(Aj,{className:"w-4 h-4"}),"Request Feature"]})]})]})]}),r==="bug"&&c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{children:"Priority"}),c.jsxs(qr,{value:o,onValueChange:N=>u(N),children:[c.jsx(Rr,{"data-testid":"select-priority",children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"low",children:"Low - Minor issue"}),c.jsx(mt,{value:"medium",children:"Medium - Affects my work"}),c.jsx(mt,{value:"high",children:"High - Blocking my work"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{children:"How's your experience?"}),c.jsxs(hP,{value:d,onValueChange:N=>h(N),children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Rd,{value:"positive",id:"positive"}),c.jsx(Tt,{htmlFor:"positive",className:"cursor-pointer",children:" Great"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Rd,{value:"neutral",id:"neutral"}),c.jsx(Tt,{htmlFor:"neutral",className:"cursor-pointer",children:" Okay"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Rd,{value:"negative",id:"negative"}),c.jsx(Tt,{htmlFor:"negative",className:"cursor-pointer",children:" Needs improvement"})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{children:r==="bug"?"Describe the issue":r==="feature"?"Describe your idea":"Your feedback"}),c.jsx(gc,{placeholder:r==="bug"?"What happened? What did you expect to happen?":r==="feature"?"What would you like to see added or improved?":"Share your thoughts with us...",value:s,onChange:N=>a(N.target.value),rows:4,className:"resize-none","data-testid":"input-feedback-content"})]}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Re,{variant:"ghost",onClick:()=>{n(!1),C()},"data-testid":"button-cancel-feedback",children:"Cancel"}),c.jsx(Re,{onClick:w,disabled:b.isPending||!s.trim(),"data-testid":"button-submit-feedback",children:b.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Nu,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):c.jsxs(c.Fragment,{children:[c.jsx(_G,{className:"w-4 h-4 mr-2"}),"Submit"]})})]})]})]})});return e==="inline"?c.jsxs("div",{className:"relative",children:[_,t&&E]}):t?E:_}function R2e({variant:e="both",gradientType:t="soft",particleCount:n=20,className:r,children:i}){const[s,a]=T.useState([]);T.useEffect(()=>{const u=["hsla(82, 39%, 30%, 0.3)","hsla(60, 10%, 40%, 0.3)","hsla(102, 20%, 35%, 0.3)","hsla(92, 25%, 35%, 0.3)"],d=Array.from({length:n},(h,m)=>({id:m,x:Math.random()*100,y:Math.random()*100,size:Math.random()*4+2,duration:Math.random()*20+20,delay:Math.random()*10,path:["up","diagonal","zigzag"][Math.floor(Math.random()*3)],color:u[Math.floor(Math.random()*u.length)]}));a(d)},[n]);const o={primary:"gradient-animate",secondary:"bg-gradient-to-br from-yellow-700/10 via-lime-600/10 to-amber-700/10",vibrant:"gradient-animate",soft:"bg-gradient-to-br from-olive-400/5 via-lime-500/5 to-green-600/5"};return c.jsxs("div",{className:Te("fixed inset-0 overflow-hidden pointer-events-none",r),children:[(e==="gradient"||e==="both")&&c.jsx("div",{className:Te("absolute inset-0 opacity-50",o[t])}),(e==="particles"||e==="both")&&c.jsx("div",{className:"absolute inset-0",children:s.map(u=>c.jsx("div",{className:"absolute animate-float-up",style:{left:`${u.x}%`,top:`${u.y}%`,width:`${u.size}px`,height:`${u.size}px`,background:u.color,borderRadius:"50%",filter:"blur(1px)",animation:`${u.path==="up"?"float-up":u.path==="diagonal"?"float-diagonal":"float-up"} ${u.duration}s ${u.delay}s linear infinite`,boxShadow:`0 0 ${u.size*3}px ${u.color}`}},u.id))}),c.jsx("div",{className:"absolute inset-0 opacity-[0.02]",style:{backgroundImage:`url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='200' height='200'%3E%3Cdefs%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.9' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3C/defs%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)' opacity='0.5'/%3E%3C/svg%3E")`}}),i]})}function FC(){const{data:e,isLoading:t}=un({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}const xt=T.forwardRef(({className:e,variant:t="default",animate:n=!0,...r},i)=>{const s={default:"bg-card/80 backdrop-blur-sm border-card-border shadow-sm",glass:"glass-vibrant border-white/10 shadow-lg",vibrant:"glass-ultra border-white/20 shadow-xl","colored-primary":"glass-colored-primary","colored-secondary":"glass-colored-secondary"};return c.jsx("div",{ref:i,className:Te("shadcn-card rounded-xl border text-card-foreground transition-morph",s[t],n&&"hover:scale-[1.02] hover:shadow-2xl animate-fade-in",e),...r})});xt.displayName="Card";const gt=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Te("flex flex-col space-y-1.5 p-6",e),...t}));gt.displayName="CardHeader";const vt=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Te("text-2xl font-semibold leading-none tracking-tight",e),...t}));vt.displayName="CardTitle";const Pn=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Te("text-sm text-muted-foreground",e),...t}));Pn.displayName="CardDescription";const it=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Te("p-6 pt-0",e),...t}));it.displayName="CardContent";const OZ=T.forwardRef(({className:e,...t},n)=>c.jsx("div",{ref:n,className:Te("flex items-center p-6 pt-0",e),...t}));OZ.displayName="CardFooter";class F2e extends T.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null},this.handleReset=()=>{this.setState({hasError:!1,error:null})}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){console.error("Uncaught error:",t,n)}render(){return this.state.hasError?c.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:c.jsxs(xt,{className:"max-w-lg w-full",children:[c.jsxs(gt,{children:[c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(Vf,{className:"h-6 w-6 text-destructive"}),c.jsx(vt,{children:"Something went wrong"})]}),c.jsx(Pn,{children:"An unexpected error occurred. You can try refreshing the page or continue using the app."})]}),c.jsxs(it,{children:[!1,c.jsxs("div",{className:"flex space-x-2",children:[c.jsx(Re,{onClick:()=>window.location.reload(),children:"Refresh Page"}),c.jsx(Re,{variant:"outline",onClick:this.handleReset,children:"Try Again"})]})]})]})}):this.props.children}}function D5(){return c.jsx("div",{className:"min-h-screen bg-gradient-to-b from-lime-950/50 via-background to-green-50/30 dark:from-lime-950/20 dark:via-background dark:to-green-950/20",children:c.jsx("div",{className:"container mx-auto px-4 py-16",children:c.jsxs("div",{className:"flex flex-col items-center text-center space-y-8",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(bs,{className:"w-12 h-12 text-primary"}),c.jsx("h1",{className:"text-5xl font-bold",children:"ChefSpAIce"})]}),c.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl",children:"Your AI-powered kitchen assistant. Manage your food inventory, discover recipes, and reduce wasteall in one place."}),c.jsx(Re,{size:"lg",className:"mt-8",onClick:()=>window.location.href="/api/login","data-testid":"button-login",children:"Get Started"}),c.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-4 gap-6 mt-16 w-full max-w-6xl",children:[c.jsx(xt,{"data-testid":"card-feature-inventory",children:c.jsxs(gt,{children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(lc,{className:"w-8 h-8 text-primary"})}),c.jsx(vt,{children:"Smart Inventory"}),c.jsx(Pn,{children:"Track what's in your fridge, freezer, and pantry with expiration reminders"})]})}),c.jsx(xt,{"data-testid":"card-feature-recipes",children:c.jsxs(gt,{children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(bs,{className:"w-8 h-8 text-primary"})}),c.jsx(vt,{children:"AI Recipes"}),c.jsx(Pn,{children:"Generate personalized recipes based on what you have in stock"})]})}),c.jsx(xt,{"data-testid":"card-feature-planner",children:c.jsxs(gt,{children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(ah,{className:"w-8 h-8 text-primary"})}),c.jsx(vt,{children:"Meal Planning"}),c.jsx(Pn,{children:"Plan your weekly meals and stay organized effortlessly"})]})}),c.jsx(xt,{"data-testid":"card-feature-shopping",children:c.jsxs(gt,{children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(Cm,{className:"w-8 h-8 text-primary"})}),c.jsx(vt,{children:"Shopping Lists"}),c.jsx(Pn,{children:"Automatically generate shopping lists from your meal plans"})]})})]}),c.jsx(xt,{className:"mt-12 w-full max-w-3xl","data-testid":"card-feature-ai",children:c.jsxs(gt,{children:[c.jsxs("div",{className:"flex justify-center gap-3",children:[c.jsx(Vy,{className:"w-8 h-8 text-primary"}),c.jsx(vt,{className:"text-2xl",children:"Powered by AI"})]}),c.jsx(Pn,{className:"text-base",children:"Our intelligent assistant helps you reduce food waste, discover new recipes, and make the most of your ingredients. Chat with it to get cooking tips, recipe suggestions, and personalized recommendations."})]})})]})})})}var Wv=e=>e.type==="checkbox",Zd=e=>e instanceof Date,fs=e=>e==null;const jZ=e=>typeof e=="object";var Lr=e=>!fs(e)&&!Array.isArray(e)&&jZ(e)&&!Zd(e),kZ=e=>Lr(e)&&e.target?Wv(e.target)?e.target.checked:e.target.value:e,L2e=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,IZ=(e,t)=>e.has(L2e(t)),B2e=e=>{const t=e.constructor&&e.constructor.prototype;return Lr(t)&&t.hasOwnProperty("isPrototypeOf")},Tk=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ti(e){let t;const n=Array.isArray(e),r=typeof FileList<"u"?e instanceof FileList:!1;if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(Tk&&(e instanceof Blob||r))&&(n||Lr(e)))if(t=n?[]:{},!n&&!B2e(e))t=e;else for(const i in e)e.hasOwnProperty(i)&&(t[i]=Ti(e[i]));else return e;return t}var LC=e=>Array.isArray(e)?e.filter(Boolean):[],Ir=e=>e===void 0,et=(e,t,n)=>{if(!t||!Lr(e))return n;const r=LC(t.split(/[,[\].]+?/)).reduce((i,s)=>fs(i)?i:i[s],e);return Ir(r)||r===e?Ir(e[t])?n:e[t]:r},sa=e=>typeof e=="boolean",Nk=e=>/^\w*$/.test(e),MZ=e=>LC(e.replace(/["|']|\]/g,"").split(/\.|\[/)),wn=(e,t,n)=>{let r=-1;const i=Nk(t)?[t]:MZ(t),s=i.length,a=s-1;for(;++r<s;){const o=i[r];let u=n;if(r!==a){const d=e[o];u=Lr(d)||Array.isArray(d)?d:isNaN(+i[r+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;e[o]=u,e=e[o]}};const Jw={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Eo={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zl={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},DZ=te.createContext(null),BC=()=>te.useContext(DZ),$2e=e=>{const{children:t,...n}=e;return te.createElement(DZ.Provider,{value:n},t)};var RZ=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const a=s;return t._proxyFormState[a]!==Eo.all&&(t._proxyFormState[a]=!r||Eo.all),n&&(n[a]=!0),e[a]}});return i};function U2e(e){const t=BC(),{control:n=t.control,disabled:r,name:i,exact:s}=e||{},[a,o]=te.useState(n._formState),u=te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=te.useRef(i);return d.current=i,te.useEffect(()=>n._subscribe({name:d.current,formState:u.current,exact:s,callback:h=>{!r&&o({...n._formState,...h})}}),[n,r,s]),te.useEffect(()=>{u.current.isValid&&n._setValid(!0)},[n]),te.useMemo(()=>RZ(a,n,u.current,!1),[a,n])}var fl=e=>typeof e=="string",FZ=(e,t,n,r,i)=>fl(e)?(r&&t.watch.add(e),et(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),et(n,s))):(r&&(t.watchAll=!0),n);function z2e(e){const t=BC(),{control:n=t.control,name:r,defaultValue:i,disabled:s,exact:a}=e||{},o=te.useRef(r),u=te.useRef(i);o.current=r,te.useEffect(()=>n._subscribe({name:o.current,formState:{values:!0},exact:a,callback:m=>!s&&h(FZ(o.current,n._names,m.values||n._formValues,!1,u.current))}),[n,s,a]);const[d,h]=te.useState(n._getWatch(r,i));return te.useEffect(()=>n._removeUnmounted()),d}function V2e(e){const t=BC(),{name:n,disabled:r,control:i=t.control,shouldUnregister:s}=e,a=IZ(i._names.array,n),o=z2e({control:i,name:n,defaultValue:et(i._formValues,n,et(i._defaultValues,n,e.defaultValue)),exact:!0}),u=U2e({control:i,name:n,exact:!0}),d=te.useRef(e),h=te.useRef(i.register(n,{...e.rules,value:o,...sa(e.disabled)?{disabled:e.disabled}:{}})),m=te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!et(u.errors,n)},isDirty:{enumerable:!0,get:()=>!!et(u.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!et(u.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!et(u.validatingFields,n)},error:{enumerable:!0,get:()=>et(u.errors,n)}}),[u,n]),y=te.useCallback(A=>h.current.onChange({target:{value:kZ(A),name:n},type:Jw.CHANGE}),[n]),b=te.useCallback(()=>h.current.onBlur({target:{value:et(i._formValues,n),name:n},type:Jw.BLUR}),[n,i._formValues]),C=te.useCallback(A=>{const _=et(i._fields,n);_&&A&&(_._f.ref={focus:()=>A.focus(),select:()=>A.select(),setCustomValidity:E=>A.setCustomValidity(E),reportValidity:()=>A.reportValidity()})},[i._fields,n]),w=te.useMemo(()=>({name:n,value:o,...sa(r)||u.disabled?{disabled:u.disabled||r}:{},onChange:y,onBlur:b,ref:C}),[n,r,u.disabled,y,b,C,o]);return te.useEffect(()=>{const A=i._options.shouldUnregister||s;i.register(n,{...d.current.rules,...sa(d.current.disabled)?{disabled:d.current.disabled}:{}});const _=(E,N)=>{const I=et(i._fields,E);I&&I._f&&(I._f.mount=N)};if(_(n,!0),A){const E=Ti(et(i._options.defaultValues,n));wn(i._defaultValues,n,E),Ir(et(i._formValues,n))&&wn(i._formValues,n,E)}return!a&&i.register(n),()=>{(a?A&&!i._state.action:A)?i.unregister(n):_(n,!1)}},[n,i,a,s]),te.useEffect(()=>{i._setDisabledField({disabled:r,name:n})},[r,n,i]),te.useMemo(()=>({field:w,formState:u,fieldState:m}),[w,u,m])}const W2e=e=>e.render(V2e(e));var LZ=(e,t,n,r,i)=>t?{...n[e],types:{...n[e]&&n[e].types?n[e].types:{},[r]:i||!0}}:{},uy=e=>Array.isArray(e)?e:[e],R5=()=>{let e=[];return{get observers(){return e},next:i=>{for(const s of e)s.next&&s.next(i)},subscribe:i=>(e.push(i),{unsubscribe:()=>{e=e.filter(s=>s!==i)}}),unsubscribe:()=>{e=[]}}},pP=e=>fs(e)||!jZ(e);function hu(e,t){if(pP(e)||pP(t))return e===t;if(Zd(e)&&Zd(t))return e.getTime()===t.getTime();const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(const i of n){const s=e[i];if(!r.includes(i))return!1;if(i!=="ref"){const a=t[i];if(Zd(s)&&Zd(a)||Lr(s)&&Lr(a)||Array.isArray(s)&&Array.isArray(a)?!hu(s,a):s!==a)return!1}}return!0}var us=e=>Lr(e)&&!Object.keys(e).length,Pk=e=>e.type==="file",_o=e=>typeof e=="function",e2=e=>{if(!Tk)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},BZ=e=>e.type==="select-multiple",Ok=e=>e.type==="radio",H2e=e=>Ok(e)||Wv(e),a_=e=>e2(e)&&e.isConnected;function G2e(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Ir(e)?r++:e[t[r++]];return e}function q2e(e){for(const t in e)if(e.hasOwnProperty(t)&&!Ir(e[t]))return!1;return!0}function ni(e,t){const n=Array.isArray(t)?t:Nk(t)?[t]:MZ(t),r=n.length===1?e:G2e(e,n),i=n.length-1,s=n[i];return r&&delete r[s],i!==0&&(Lr(r)&&us(r)||Array.isArray(r)&&q2e(r))&&ni(e,n.slice(0,-1)),e}var $Z=e=>{for(const t in e)if(_o(e[t]))return!0;return!1};function t2(e,t={}){const n=Array.isArray(e);if(Lr(e)||n)for(const r in e)Array.isArray(e[r])||Lr(e[r])&&!$Z(e[r])?(t[r]=Array.isArray(e[r])?[]:{},t2(e[r],t[r])):fs(e[r])||(t[r]=!0);return t}function UZ(e,t,n){const r=Array.isArray(e);if(Lr(e)||r)for(const i in e)Array.isArray(e[i])||Lr(e[i])&&!$Z(e[i])?Ir(t)||pP(n[i])?n[i]=Array.isArray(e[i])?t2(e[i],[]):{...t2(e[i])}:UZ(e[i],fs(t)?{}:t[i],n[i]):n[i]=!hu(e[i],t[i]);return n}var v0=(e,t)=>UZ(e,t,t2(t));const F5={value:!1,isValid:!1},L5={value:!0,isValid:!0};var zZ=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Ir(e[0].attributes.value)?Ir(e[0].value)||e[0].value===""?L5:{value:e[0].value,isValid:!0}:L5:F5}return F5},VZ=(e,{valueAsNumber:t,valueAsDate:n,setValueAs:r})=>Ir(e)?e:t?e===""?NaN:e&&+e:n&&fl(e)?new Date(e):r?r(e):e;const B5={isValid:!1,value:null};var WZ=e=>Array.isArray(e)?e.reduce((t,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:t,B5):B5;function $5(e){const t=e.ref;return Pk(t)?t.files:Ok(t)?WZ(e.refs).value:BZ(t)?[...t.selectedOptions].map(({value:n})=>n):Wv(t)?zZ(e.refs).value:VZ(Ir(t.value)?e.ref.value:t.value,e)}var K2e=(e,t,n,r)=>{const i={};for(const s of e){const a=et(t,s);a&&wn(i,s,a._f)}return{criteriaMode:n,names:[...e],fields:i,shouldUseNativeValidation:r}},n2=e=>e instanceof RegExp,x0=e=>Ir(e)?e:n2(e)?e.source:Lr(e)?n2(e.value)?e.value.source:e.value:e,U5=e=>({isOnSubmit:!e||e===Eo.onSubmit,isOnBlur:e===Eo.onBlur,isOnChange:e===Eo.onChange,isOnAll:e===Eo.all,isOnTouch:e===Eo.onTouched});const z5="AsyncFunction";var X2e=e=>!!e&&!!e.validate&&!!(_o(e.validate)&&e.validate.constructor.name===z5||Lr(e.validate)&&Object.values(e.validate).find(t=>t.constructor.name===z5)),Y2e=e=>e.mount&&(e.required||e.min||e.max||e.maxLength||e.minLength||e.pattern||e.validate),V5=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(r=>e.startsWith(r)&&/^\.\w+/.test(e.slice(r.length))));const dy=(e,t,n,r)=>{for(const i of n||Object.keys(e)){const s=et(e,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&t(a.refs[0],i)&&!r)return!0;if(a.ref&&t(a.ref,a.name)&&!r)return!0;if(dy(o,t))break}else if(Lr(o)&&dy(o,t))break}}};function W5(e,t,n){const r=et(e,n);if(r||Nk(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const s=i.join("."),a=et(t,s),o=et(e,s);if(a&&!Array.isArray(a)&&n!==s)return{name:n};if(o&&o.type)return{name:s,error:o};i.pop()}return{name:n}}var Z2e=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return us(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(a=>t[a]===(!r||Eo.all))},Q2e=(e,t,n)=>!e||!t||e===t||uy(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r))),J2e=(e,t,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(t||e):(n?r.isOnBlur:i.isOnBlur)?!e:(n?r.isOnChange:i.isOnChange)?e:!0,eSe=(e,t)=>!LC(et(e,t)).length&&ni(e,t),tSe=(e,t,n)=>{const r=uy(et(e,n));return wn(r,"root",t[n]),wn(e,n,r),e},Jb=e=>fl(e);function H5(e,t,n="validate"){if(Jb(e)||Array.isArray(e)&&e.every(Jb)||sa(e)&&!e)return{type:n,message:Jb(e)?e:"",ref:t}}var Oh=e=>Lr(e)&&!n2(e)?e:{value:e,message:""},G5=async(e,t,n,r,i,s)=>{const{ref:a,refs:o,required:u,maxLength:d,minLength:h,min:m,max:y,pattern:b,validate:C,name:w,valueAsNumber:A,mount:_}=e._f,E=et(n,w);if(!_||t.has(w))return{};const N=o?o[0]:a,I=F=>{i&&N.reportValidity&&(N.setCustomValidity(sa(F)?"":F||""),N.reportValidity())},O={},k=Ok(a),M=Wv(a),R=k||M,L=(A||Pk(a))&&Ir(a.value)&&Ir(E)||e2(a)&&a.value===""||E===""||Array.isArray(E)&&!E.length,U=LZ.bind(null,w,r,O),X=(F,V,Z,H=zl.maxLength,q=zl.minLength)=>{const G=F?V:Z;O[w]={type:F?H:q,message:G,ref:a,...U(F?H:q,G)}};if(s?!Array.isArray(E)||!E.length:u&&(!R&&(L||fs(E))||sa(E)&&!E||M&&!zZ(o).isValid||k&&!WZ(o).isValid)){const{value:F,message:V}=Jb(u)?{value:!!u,message:u}:Oh(u);if(F&&(O[w]={type:zl.required,message:V,ref:N,...U(zl.required,V)},!r))return I(V),O}if(!L&&(!fs(m)||!fs(y))){let F,V;const Z=Oh(y),H=Oh(m);if(!fs(E)&&!isNaN(E)){const q=a.valueAsNumber||E&&+E;fs(Z.value)||(F=q>Z.value),fs(H.value)||(V=q<H.value)}else{const q=a.valueAsDate||new Date(E),G=J=>new Date(new Date().toDateString()+" "+J),W=a.type=="time",oe=a.type=="week";fl(Z.value)&&E&&(F=W?G(E)>G(Z.value):oe?E>Z.value:q>new Date(Z.value)),fl(H.value)&&E&&(V=W?G(E)<G(H.value):oe?E<H.value:q<new Date(H.value))}if((F||V)&&(X(!!F,Z.message,H.message,zl.max,zl.min),!r))return I(O[w].message),O}if((d||h)&&!L&&(fl(E)||s&&Array.isArray(E))){const F=Oh(d),V=Oh(h),Z=!fs(F.value)&&E.length>+F.value,H=!fs(V.value)&&E.length<+V.value;if((Z||H)&&(X(Z,F.message,V.message),!r))return I(O[w].message),O}if(b&&!L&&fl(E)){const{value:F,message:V}=Oh(b);if(n2(F)&&!E.match(F)&&(O[w]={type:zl.pattern,message:V,ref:a,...U(zl.pattern,V)},!r))return I(V),O}if(C){if(_o(C)){const F=await C(E,n),V=H5(F,N);if(V&&(O[w]={...V,...U(zl.validate,V.message)},!r))return I(V.message),O}else if(Lr(C)){let F={};for(const V in C){if(!us(F)&&!r)break;const Z=H5(await C[V](E,n),N,V);Z&&(F={...Z,...U(V,Z.message)},I(Z.message),r&&(O[w]=F))}if(!us(F)&&(O[w]={ref:N,...F},!r))return O}}return I(!0),O};const nSe={mode:Eo.onSubmit,reValidateMode:Eo.onChange,shouldFocusError:!0};function rSe(e={}){let t={...nSe,...e},n={submitCount:0,isDirty:!1,isLoading:_o(t.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1};const r={};let i=Lr(t.defaultValues)||Lr(t.values)?Ti(t.values||t.defaultValues)||{}:{},s=t.shouldUnregister?{}:Ti(i),a={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,d=0;const h={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let m={...h};const y={array:R5(),state:R5()},b=U5(t.mode),C=U5(t.reValidateMode),w=t.criteriaMode===Eo.all,A=ae=>le=>{clearTimeout(d),d=setTimeout(ae,le)},_=async ae=>{if(!t.disabled&&(h.isValid||m.isValid||ae)){const le=t.resolver?us((await L()).errors):await X(r,!0);le!==n.isValid&&y.state.next({isValid:le})}},E=(ae,le)=>{!t.disabled&&(h.isValidating||h.validatingFields||m.isValidating||m.validatingFields)&&((ae||Array.from(o.mount)).forEach(ee=>{ee&&(le?wn(n.validatingFields,ee,le):ni(n.validatingFields,ee))}),y.state.next({validatingFields:n.validatingFields,isValidating:!us(n.validatingFields)}))},N=(ae,le=[],ee,Ee,Pe=!0,Ie=!0)=>{if(Ee&&ee&&!t.disabled){if(a.action=!0,Ie&&Array.isArray(et(r,ae))){const de=ee(et(r,ae),Ee.argA,Ee.argB);Pe&&wn(r,ae,de)}if(Ie&&Array.isArray(et(n.errors,ae))){const de=ee(et(n.errors,ae),Ee.argA,Ee.argB);Pe&&wn(n.errors,ae,de),eSe(n.errors,ae)}if((h.touchedFields||m.touchedFields)&&Ie&&Array.isArray(et(n.touchedFields,ae))){const de=ee(et(n.touchedFields,ae),Ee.argA,Ee.argB);Pe&&wn(n.touchedFields,ae,de)}(h.dirtyFields||m.dirtyFields)&&(n.dirtyFields=v0(i,s)),y.state.next({name:ae,isDirty:V(ae,le),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else wn(s,ae,le)},I=(ae,le)=>{wn(n.errors,ae,le),y.state.next({errors:n.errors})},O=ae=>{n.errors=ae,y.state.next({errors:n.errors,isValid:!1})},k=(ae,le,ee,Ee)=>{const Pe=et(r,ae);if(Pe){const Ie=et(s,ae,Ir(ee)?et(i,ae):ee);Ir(Ie)||Ee&&Ee.defaultChecked||le?wn(s,ae,le?Ie:$5(Pe._f)):q(ae,Ie),a.mount&&_()}},M=(ae,le,ee,Ee,Pe)=>{let Ie=!1,de=!1;const Ye={name:ae};if(!t.disabled){if(!ee||Ee){(h.isDirty||m.isDirty)&&(de=n.isDirty,n.isDirty=Ye.isDirty=V(),Ie=de!==Ye.isDirty);const ut=hu(et(i,ae),le);de=!!et(n.dirtyFields,ae),ut?ni(n.dirtyFields,ae):wn(n.dirtyFields,ae,!0),Ye.dirtyFields=n.dirtyFields,Ie=Ie||(h.dirtyFields||m.dirtyFields)&&de!==!ut}if(ee){const ut=et(n.touchedFields,ae);ut||(wn(n.touchedFields,ae,ee),Ye.touchedFields=n.touchedFields,Ie=Ie||(h.touchedFields||m.touchedFields)&&ut!==ee)}Ie&&Pe&&y.state.next(Ye)}return Ie?Ye:{}},R=(ae,le,ee,Ee)=>{const Pe=et(n.errors,ae),Ie=(h.isValid||m.isValid)&&sa(le)&&n.isValid!==le;if(t.delayError&&ee?(u=A(()=>I(ae,ee)),u(t.delayError)):(clearTimeout(d),u=null,ee?wn(n.errors,ae,ee):ni(n.errors,ae)),(ee?!hu(Pe,ee):Pe)||!us(Ee)||Ie){const de={...Ee,...Ie&&sa(le)?{isValid:le}:{},errors:n.errors,name:ae};n={...n,...de},y.state.next(de)}},L=async ae=>{E(ae,!0);const le=await t.resolver(s,t.context,K2e(ae||o.mount,r,t.criteriaMode,t.shouldUseNativeValidation));return E(ae),le},U=async ae=>{const{errors:le}=await L(ae);if(ae)for(const ee of ae){const Ee=et(le,ee);Ee?wn(n.errors,ee,Ee):ni(n.errors,ee)}else n.errors=le;return le},X=async(ae,le,ee={valid:!0})=>{for(const Ee in ae){const Pe=ae[Ee];if(Pe){const{_f:Ie,...de}=Pe;if(Ie){const Ye=o.array.has(Ie.name),ut=Pe._f&&X2e(Pe._f);ut&&h.validatingFields&&E([Ee],!0);const Ft=await G5(Pe,o.disabled,s,w,t.shouldUseNativeValidation&&!le,Ye);if(ut&&h.validatingFields&&E([Ee]),Ft[Ie.name]&&(ee.valid=!1,le))break;!le&&(et(Ft,Ie.name)?Ye?tSe(n.errors,Ft,Ie.name):wn(n.errors,Ie.name,Ft[Ie.name]):ni(n.errors,Ie.name))}!us(de)&&await X(de,le,ee)}}return ee.valid},F=()=>{for(const ae of o.unMount){const le=et(r,ae);le&&(le._f.refs?le._f.refs.every(ee=>!a_(ee)):!a_(le._f.ref))&&xe(ae)}o.unMount=new Set},V=(ae,le)=>!t.disabled&&(ae&&le&&wn(s,ae,le),!hu(ne(),i)),Z=(ae,le,ee)=>FZ(ae,o,{...a.mount?s:Ir(le)?i:fl(ae)?{[ae]:le}:le},ee,le),H=ae=>LC(et(a.mount?s:i,ae,t.shouldUnregister?et(i,ae,[]):[])),q=(ae,le,ee={})=>{const Ee=et(r,ae);let Pe=le;if(Ee){const Ie=Ee._f;Ie&&(!Ie.disabled&&wn(s,ae,VZ(le,Ie)),Pe=e2(Ie.ref)&&fs(le)?"":le,BZ(Ie.ref)?[...Ie.ref.options].forEach(de=>de.selected=Pe.includes(de.value)):Ie.refs?Wv(Ie.ref)?Ie.refs.length>1?Ie.refs.forEach(de=>(!de.defaultChecked||!de.disabled)&&(de.checked=Array.isArray(Pe)?!!Pe.find(Ye=>Ye===de.value):Pe===de.value)):Ie.refs[0]&&(Ie.refs[0].checked=!!Pe):Ie.refs.forEach(de=>de.checked=de.value===Pe):Pk(Ie.ref)?Ie.ref.value="":(Ie.ref.value=Pe,Ie.ref.type||y.state.next({name:ae,values:Ti(s)})))}(ee.shouldDirty||ee.shouldTouch)&&M(ae,Pe,ee.shouldTouch,ee.shouldDirty,!0),ee.shouldValidate&&Y(ae)},G=(ae,le,ee)=>{for(const Ee in le){const Pe=le[Ee],Ie=`${ae}.${Ee}`,de=et(r,Ie);(o.array.has(ae)||Lr(Pe)||de&&!de._f)&&!Zd(Pe)?G(Ie,Pe,ee):q(Ie,Pe,ee)}},W=(ae,le,ee={})=>{const Ee=et(r,ae),Pe=o.array.has(ae),Ie=Ti(le);wn(s,ae,Ie),Pe?(y.array.next({name:ae,values:Ti(s)}),(h.isDirty||h.dirtyFields||m.isDirty||m.dirtyFields)&&ee.shouldDirty&&y.state.next({name:ae,dirtyFields:v0(i,s),isDirty:V(ae,Ie)})):Ee&&!Ee._f&&!fs(Ie)?G(ae,Ie,ee):q(ae,Ie,ee),V5(ae,o)&&y.state.next({...n}),y.state.next({name:a.mount?ae:void 0,values:Ti(s)})},oe=async ae=>{a.mount=!0;const le=ae.target;let ee=le.name,Ee=!0;const Pe=et(r,ee),Ie=de=>{Ee=Number.isNaN(de)||Zd(de)&&isNaN(de.getTime())||hu(de,et(s,ee,de))};if(Pe){let de,Ye;const ut=le.type?$5(Pe._f):kZ(ae),Ft=ae.type===Jw.BLUR||ae.type===Jw.FOCUS_OUT,As=!Y2e(Pe._f)&&!t.resolver&&!et(n.errors,ee)&&!Pe._f.deps||J2e(Ft,et(n.touchedFields,ee),n.isSubmitted,C,b),Vt=V5(ee,o,Ft);wn(s,ee,ut),Ft?(Pe._f.onBlur&&Pe._f.onBlur(ae),u&&u(0)):Pe._f.onChange&&Pe._f.onChange(ae);const Ke=M(ee,ut,Ft),Ln=!us(Ke)||Vt;if(!Ft&&y.state.next({name:ee,type:ae.type,values:Ti(s)}),As)return(h.isValid||m.isValid)&&(t.mode==="onBlur"?Ft&&_():Ft||_()),Ln&&y.state.next({name:ee,...Vt?{}:Ke});if(!Ft&&Vt&&y.state.next({...n}),t.resolver){const{errors:rn}=await L([ee]);if(Ie(ut),Ee){const Bn=W5(n.errors,r,ee),Wo=W5(rn,r,Bn.name||ee);de=Wo.error,ee=Wo.name,Ye=us(rn)}}else E([ee],!0),de=(await G5(Pe,o.disabled,s,w,t.shouldUseNativeValidation))[ee],E([ee]),Ie(ut),Ee&&(de?Ye=!1:(h.isValid||m.isValid)&&(Ye=await X(r,!0)));Ee&&(Pe._f.deps&&Y(Pe._f.deps),R(ee,Ye,de,Ke))}},J=(ae,le)=>{if(et(n.errors,le)&&ae.focus)return ae.focus(),1},Y=async(ae,le={})=>{let ee,Ee;const Pe=uy(ae);if(t.resolver){const Ie=await U(Ir(ae)?ae:Pe);ee=us(Ie),Ee=ae?!Pe.some(de=>et(Ie,de)):ee}else ae?(Ee=(await Promise.all(Pe.map(async Ie=>{const de=et(r,Ie);return await X(de&&de._f?{[Ie]:de}:de)}))).every(Boolean),!(!Ee&&!n.isValid)&&_()):Ee=ee=await X(r);return y.state.next({...!fl(ae)||(h.isValid||m.isValid)&&ee!==n.isValid?{}:{name:ae},...t.resolver||!ae?{isValid:ee}:{},errors:n.errors}),le.shouldFocus&&!Ee&&dy(r,J,ae?Pe:o.mount),Ee},ne=ae=>{const le={...a.mount?s:i};return Ir(ae)?le:fl(ae)?et(le,ae):ae.map(ee=>et(le,ee))},pe=(ae,le)=>({invalid:!!et((le||n).errors,ae),isDirty:!!et((le||n).dirtyFields,ae),error:et((le||n).errors,ae),isValidating:!!et(n.validatingFields,ae),isTouched:!!et((le||n).touchedFields,ae)}),he=ae=>{ae&&uy(ae).forEach(le=>ni(n.errors,le)),y.state.next({errors:ae?n.errors:{}})},we=(ae,le,ee)=>{const Ee=(et(r,ae,{_f:{}})._f||{}).ref,Pe=et(n.errors,ae)||{},{ref:Ie,message:de,type:Ye,...ut}=Pe;wn(n.errors,ae,{...ut,...le,ref:Ee}),y.state.next({name:ae,errors:n.errors,isValid:!1}),ee&&ee.shouldFocus&&Ee&&Ee.focus&&Ee.focus()},me=(ae,le)=>_o(ae)?y.state.subscribe({next:ee=>ae(Z(void 0,le),ee)}):Z(ae,le,!0),be=ae=>y.state.subscribe({next:le=>{Q2e(ae.name,le.name,ae.exact)&&Z2e(le,ae.formState||h,ct,ae.reRenderRoot)&&ae.callback({values:{...s},...n,...le})}}).unsubscribe,Ne=ae=>(a.mount=!0,m={...m,...ae.formState},be({...ae,formState:m})),xe=(ae,le={})=>{for(const ee of ae?uy(ae):o.mount)o.mount.delete(ee),o.array.delete(ee),le.keepValue||(ni(r,ee),ni(s,ee)),!le.keepError&&ni(n.errors,ee),!le.keepDirty&&ni(n.dirtyFields,ee),!le.keepTouched&&ni(n.touchedFields,ee),!le.keepIsValidating&&ni(n.validatingFields,ee),!t.shouldUnregister&&!le.keepDefaultValue&&ni(i,ee);y.state.next({values:Ti(s)}),y.state.next({...n,...le.keepDirty?{isDirty:V()}:{}}),!le.keepIsValid&&_()},Oe=({disabled:ae,name:le})=>{(sa(ae)&&a.mount||ae||o.disabled.has(le))&&(ae?o.disabled.add(le):o.disabled.delete(le))},je=(ae,le={})=>{let ee=et(r,ae);const Ee=sa(le.disabled)||sa(t.disabled);return wn(r,ae,{...ee||{},_f:{...ee&&ee._f?ee._f:{ref:{name:ae}},name:ae,mount:!0,...le}}),o.mount.add(ae),ee?Oe({disabled:sa(le.disabled)?le.disabled:t.disabled,name:ae}):k(ae,!0,le.value),{...Ee?{disabled:le.disabled||t.disabled}:{},...t.progressive?{required:!!le.required,min:x0(le.min),max:x0(le.max),minLength:x0(le.minLength),maxLength:x0(le.maxLength),pattern:x0(le.pattern)}:{},name:ae,onChange:oe,onBlur:oe,ref:Pe=>{if(Pe){je(ae,le),ee=et(r,ae);const Ie=Ir(Pe.value)&&Pe.querySelectorAll&&Pe.querySelectorAll("input,select,textarea")[0]||Pe,de=H2e(Ie),Ye=ee._f.refs||[];if(de?Ye.find(ut=>ut===Ie):Ie===ee._f.ref)return;wn(r,ae,{_f:{...ee._f,...de?{refs:[...Ye.filter(a_),Ie,...Array.isArray(et(i,ae))?[{}]:[]],ref:{type:Ie.type,name:ae}}:{ref:Ie}}}),k(ae,!1,void 0,Ie)}else ee=et(r,ae,{}),ee._f&&(ee._f.mount=!1),(t.shouldUnregister||le.shouldUnregister)&&!(IZ(o.array,ae)&&a.action)&&o.unMount.add(ae)}}},ve=()=>t.shouldFocusError&&dy(r,J,o.mount),ze=ae=>{sa(ae)&&(y.state.next({disabled:ae}),dy(r,(le,ee)=>{const Ee=et(r,ee);Ee&&(le.disabled=Ee._f.disabled||ae,Array.isArray(Ee._f.refs)&&Ee._f.refs.forEach(Pe=>{Pe.disabled=Ee._f.disabled||ae}))},0,!1))},Be=(ae,le)=>async ee=>{let Ee;ee&&(ee.preventDefault&&ee.preventDefault(),ee.persist&&ee.persist());let Pe=Ti(s);if(y.state.next({isSubmitting:!0}),t.resolver){const{errors:Ie,values:de}=await L();n.errors=Ie,Pe=de}else await X(r);if(o.disabled.size)for(const Ie of o.disabled)wn(Pe,Ie,void 0);if(ni(n.errors,"root"),us(n.errors)){y.state.next({errors:{}});try{await ae(Pe,ee)}catch(Ie){Ee=Ie}}else le&&await le({...n.errors},ee),ve(),setTimeout(ve);if(y.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:us(n.errors)&&!Ee,submitCount:n.submitCount+1,errors:n.errors}),Ee)throw Ee},dt=(ae,le={})=>{et(r,ae)&&(Ir(le.defaultValue)?W(ae,Ti(et(i,ae))):(W(ae,le.defaultValue),wn(i,ae,Ti(le.defaultValue))),le.keepTouched||ni(n.touchedFields,ae),le.keepDirty||(ni(n.dirtyFields,ae),n.isDirty=le.defaultValue?V(ae,Ti(et(i,ae))):V()),le.keepError||(ni(n.errors,ae),h.isValid&&_()),y.state.next({...n}))},Ct=(ae,le={})=>{const ee=ae?Ti(ae):i,Ee=Ti(ee),Pe=us(ae),Ie=Pe?i:Ee;if(le.keepDefaultValues||(i=ee),!le.keepValues){if(le.keepDirtyValues){const de=new Set([...o.mount,...Object.keys(v0(i,s))]);for(const Ye of Array.from(de))et(n.dirtyFields,Ye)?wn(Ie,Ye,et(s,Ye)):W(Ye,et(Ie,Ye))}else{if(Tk&&Ir(ae))for(const de of o.mount){const Ye=et(r,de);if(Ye&&Ye._f){const ut=Array.isArray(Ye._f.refs)?Ye._f.refs[0]:Ye._f.ref;if(e2(ut)){const Ft=ut.closest("form");if(Ft){Ft.reset();break}}}}for(const de of o.mount)W(de,et(Ie,de))}s=Ti(Ie),y.array.next({values:{...Ie}}),y.state.next({values:{...Ie}})}o={mount:le.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!le.keepIsValid||!!le.keepDirtyValues,a.watch=!!t.shouldUnregister,y.state.next({submitCount:le.keepSubmitCount?n.submitCount:0,isDirty:Pe?!1:le.keepDirty?n.isDirty:!!(le.keepDefaultValues&&!hu(ae,i)),isSubmitted:le.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:Pe?{}:le.keepDirtyValues?le.keepDefaultValues&&s?v0(i,s):n.dirtyFields:le.keepDefaultValues&&ae?v0(i,ae):le.keepDirty?n.dirtyFields:{},touchedFields:le.keepTouched?n.touchedFields:{},errors:le.keepErrors?n.errors:{},isSubmitSuccessful:le.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},yt=(ae,le)=>Ct(_o(ae)?ae(s):ae,le),At=(ae,le={})=>{const ee=et(r,ae),Ee=ee&&ee._f;if(Ee){const Pe=Ee.refs?Ee.refs[0]:Ee.ref;Pe.focus&&(Pe.focus(),le.shouldSelect&&_o(Pe.select)&&Pe.select())}},ct=ae=>{n={...n,...ae}},Ze={control:{register:je,unregister:xe,getFieldState:pe,handleSubmit:Be,setError:we,_subscribe:be,_runSchema:L,_getWatch:Z,_getDirty:V,_setValid:_,_setFieldArray:N,_setDisabledField:Oe,_setErrors:O,_getFieldArray:H,_reset:Ct,_resetDefaultValues:()=>_o(t.defaultValues)&&t.defaultValues().then(ae=>{yt(ae,t.resetOptions),y.state.next({isLoading:!1})}),_removeUnmounted:F,_disableForm:ze,_subjects:y,_proxyFormState:h,get _fields(){return r},get _formValues(){return s},get _state(){return a},set _state(ae){a=ae},get _defaultValues(){return i},get _names(){return o},set _names(ae){o=ae},get _formState(){return n},get _options(){return t},set _options(ae){t={...t,...ae}}},subscribe:Ne,trigger:Y,register:je,handleSubmit:Be,watch:me,setValue:W,getValues:ne,reset:yt,resetField:dt,clearErrors:he,unregister:xe,setError:we,setFocus:At,getFieldState:pe};return{...Ze,formControl:Ze}}function jk(e={}){const t=te.useRef(void 0),n=te.useRef(void 0),[r,i]=te.useState({isDirty:!1,isValidating:!1,isLoading:_o(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,defaultValues:_o(e.defaultValues)?void 0:e.defaultValues});t.current||(t.current={...e.formControl?e.formControl:rSe(e),formState:r},e.formControl&&e.defaultValues&&!_o(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions));const s=t.current.control;return s._options=e,te.useLayoutEffect(()=>s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0}),[s]),te.useEffect(()=>s._disableForm(e.disabled),[s,e.disabled]),te.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==r.isDirty&&s._subjects.state.next({isDirty:a})}},[s,r.isDirty]),te.useEffect(()=>{e.values&&!hu(e.values,n.current)?(s._reset(e.values,s._options.resetOptions),n.current=e.values,i(a=>({...a}))):s._resetDefaultValues()},[e.values,s]),te.useEffect(()=>{e.errors&&!us(e.errors)&&s._setErrors(e.errors)},[e.errors,s]),te.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),te.useEffect(()=>{e.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[e.shouldUnregister,s]),t.current.formState=RZ(r,s),t.current}const q5=(e,t,n)=>{if(e&&"reportValidity"in e){const r=et(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},HZ=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?q5(r.ref,n,e):r.refs&&r.refs.forEach(i=>q5(i,n,e))}},iSe=(e,t)=>{t.shouldUseNativeValidation&&HZ(e,t);const n={};for(const r in e){const i=et(t.fields,r),s=Object.assign(e[r]||{},{ref:i&&i.ref});if(sSe(t.names||Object.keys(e),r)){const a=Object.assign({},et(n,r));wn(a,"root",s),wn(n,r,a)}else wn(n,r,s)}return n},sSe=(e,t)=>e.some(n=>n.startsWith(t+"."));var aSe=function(e,t){for(var n={};e.length;){var r=e[0],i=r.code,s=r.message,a=r.path.join(".");if(!n[a])if("unionErrors"in r){var o=r.unionErrors[0].errors[0];n[a]={message:o.message,type:o.code}}else n[a]={message:s,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(h){return h.errors.forEach(function(m){return e.push(m)})}),t){var u=n[a].types,d=u&&u[r.code];n[a]=LZ(a,t,n,i,d?[].concat(d,r.message):r.message)}e.shift()}return n},kk=function(e,t,n){return n===void 0&&(n={}),function(r,i,s){try{return Promise.resolve(function(a,o){try{var u=Promise.resolve(e[n.mode==="sync"?"parse":"parseAsync"](r,t)).then(function(d){return s.shouldUseNativeValidation&&HZ({},s),{errors:{},values:n.raw?r:d}})}catch(d){return o(d)}return u&&u.then?u.then(void 0,o):u}(0,function(a){if(function(o){return Array.isArray(o==null?void 0:o.errors)}(a))return{values:{},errors:iSe(aSe(a.errors,!s.shouldUseNativeValidation&&s.criteriaMode==="all"),s)};throw a}))}catch(a){return Promise.reject(a)}}},cn;(function(e){e.assertEqual=i=>{};function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const a of i)s[a]=a;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(o=>typeof i[i[o]]!="number"),a={};for(const o of s)a[o]=i[o];return e.objectValues(a)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const a in i)Object.prototype.hasOwnProperty.call(i,a)&&s.push(a);return s},e.find=(i,s)=>{for(const a of i)if(s(a))return a},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&Number.isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(cn||(cn={}));var mP;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(mP||(mP={}));const rt=cn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Zl=e=>{switch(typeof e){case"undefined":return rt.undefined;case"string":return rt.string;case"number":return Number.isNaN(e)?rt.nan:rt.number;case"boolean":return rt.boolean;case"function":return rt.function;case"bigint":return rt.bigint;case"symbol":return rt.symbol;case"object":return Array.isArray(e)?rt.array:e===null?rt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?rt.promise:typeof Map<"u"&&e instanceof Map?rt.map:typeof Set<"u"&&e instanceof Set?rt.set:typeof Date<"u"&&e instanceof Date?rt.date:rt.object;default:return rt.unknown}},We=cn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),oSe=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class ma extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(i);else if(a.code==="invalid_return_type")i(a.returnTypeError);else if(a.code==="invalid_arguments")i(a.argumentsError);else if(a.path.length===0)r._errors.push(n(a));else{let o=r,u=0;for(;u<a.path.length;){const d=a.path[u];u===a.path.length-1?(o[d]=o[d]||{_errors:[]},o[d]._errors.push(n(a))):o[d]=o[d]||{_errors:[]},o=o[d],u++}}};return i(this),r}static assert(t){if(!(t instanceof ma))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,cn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)if(i.path.length>0){const s=i.path[0];n[s]=n[s]||[],n[s].push(t(i))}else r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}ma.create=e=>new ma(e);const Nm=(e,t)=>{let n;switch(e.code){case We.invalid_type:e.received===rt.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case We.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,cn.jsonStringifyReplacer)}`;break;case We.unrecognized_keys:n=`Unrecognized key(s) in object: ${cn.joinValues(e.keys,", ")}`;break;case We.invalid_union:n="Invalid input";break;case We.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${cn.joinValues(e.options)}`;break;case We.invalid_enum_value:n=`Invalid enum value. Expected ${cn.joinValues(e.options)}, received '${e.received}'`;break;case We.invalid_arguments:n="Invalid function arguments";break;case We.invalid_return_type:n="Invalid function return type";break;case We.invalid_date:n="Invalid date";break;case We.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:cn.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case We.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case We.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case We.custom:n="Invalid input";break;case We.invalid_intersection_types:n="Intersection results could not be merged";break;case We.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case We.not_finite:n="Number must be finite";break;default:n=t.defaultError,cn.assertNever(e)}return{message:n}};let GZ=Nm;function lSe(e){GZ=e}function r2(){return GZ}const i2=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],a={...i,path:s};if(i.message!==void 0)return{...i,path:s,message:i.message};let o="";const u=r.filter(d=>!!d).slice().reverse();for(const d of u)o=d(a,{data:t,defaultError:o}).message;return{...i,path:s,message:o}},cSe=[];function tt(e,t){const n=r2(),r=i2({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===Nm?void 0:Nm].filter(i=>!!i)});e.common.issues.push(r)}class Ji{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return It;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n){const s=await i.key,a=await i.value;r.push({key:s,value:a})}return Ji.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:a}=i;if(s.status==="aborted"||a.status==="aborted")return It;s.status==="dirty"&&t.dirty(),a.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||i.alwaysSet)&&(r[s.value]=a.value)}return{status:t.value,value:r}}}const It=Object.freeze({status:"aborted"}),ep=e=>({status:"dirty",value:e}),ws=e=>({status:"valid",value:e}),gP=e=>e.status==="aborted",yP=e=>e.status==="dirty",Kf=e=>e.status==="valid",Jy=e=>typeof Promise<"u"&&e instanceof Promise;var pt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(pt||(pt={}));class Pl{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const K5=(e,t)=>{if(Kf(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new ma(e.common.issues);return this._error=n,this._error}}};function Ht(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(a,o)=>{const{message:u}=e;return a.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??r??o.defaultError}:a.code!=="invalid_type"?{message:o.defaultError}:{message:u??n??o.defaultError}},description:i}}class Yt{get description(){return this._def.description}_getType(t){return Zl(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Zl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Ji,ctx:{common:t.parent.common,data:t.data,parsedType:Zl(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Jy(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zl(t)},i=this._parseSync({data:t,path:r.path,parent:r});return K5(r,i)}"~validate"(t){var r,i;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zl(t)};if(!this["~standard"].async)try{const s=this._parseSync({data:t,path:[],parent:n});return Kf(s)?{value:s.value}:{issues:n.common.issues}}catch(s){(i=(r=s==null?void 0:s.message)==null?void 0:r.toLowerCase())!=null&&i.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(s=>Kf(s)?{value:s.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Zl(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(Jy(i)?i:Promise.resolve(i));return K5(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const a=t(i),o=()=>s.addIssue({code:We.custom,...r(i)});return typeof Promise<"u"&&a instanceof Promise?a.then(u=>u?!0:(o(),!1)):a?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new Fo({schema:this,typeName:Dt.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return bl.create(this,this._def)}nullable(){return td.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return jo.create(this)}promise(){return Om.create(this,this._def)}or(t){return r1.create([this,t],this._def)}and(t){return i1.create(this,t,this._def)}transform(t){return new Fo({...Ht(this._def),schema:this,typeName:Dt.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new c1({...Ht(this._def),innerType:this,defaultValue:n,typeName:Dt.ZodDefault})}brand(){return new Ik({typeName:Dt.ZodBranded,type:this,...Ht(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new u1({...Ht(this._def),innerType:this,catchValue:n,typeName:Dt.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Hv.create(this,t)}readonly(){return d1.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const uSe=/^c[^\s-]{8,}$/i,dSe=/^[0-9a-z]+$/,fSe=/^[0-9A-HJKMNP-TV-Z]{26}$/i,hSe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,pSe=/^[a-z0-9_-]{21}$/i,mSe=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,gSe=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,ySe=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,vSe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let o_;const xSe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,bSe=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,wSe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,SSe=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,CSe=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,ASe=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,qZ="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",ESe=new RegExp(`^${qZ}$`);function KZ(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function _Se(e){return new RegExp(`^${KZ(e)}$`)}function XZ(e){let t=`${qZ}T${KZ(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function TSe(e,t){return!!((t==="v4"||!t)&&xSe.test(e)||(t==="v6"||!t)&&wSe.test(e))}function NSe(e,t){if(!mSe.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),i=JSON.parse(atob(r));return!(typeof i!="object"||i===null||"typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||t&&i.alg!==t)}catch{return!1}}function PSe(e,t){return!!((t==="v4"||!t)&&bSe.test(e)||(t==="v6"||!t)&&SSe.test(e))}class No extends Yt{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==rt.string){const s=this._getOrReturnCtx(t);return tt(s,{code:We.invalid_type,expected:rt.string,received:s.parsedType}),It}const r=new Ji;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:We.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:We.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const a=t.data.length>s.value,o=t.data.length<s.value;(a||o)&&(i=this._getOrReturnCtx(t,i),a?tt(i,{code:We.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):o&&tt(i,{code:We.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")ySe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"email",code:We.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")o_||(o_=new RegExp(vSe,"u")),o_.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"emoji",code:We.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")hSe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"uuid",code:We.invalid_string,message:s.message}),r.dirty());else if(s.kind==="nanoid")pSe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"nanoid",code:We.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")uSe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cuid",code:We.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")dSe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cuid2",code:We.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")fSe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"ulid",code:We.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),tt(i,{validation:"url",code:We.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"regex",code:We.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),tt(i,{code:We.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),tt(i,{code:We.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),tt(i,{code:We.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?XZ(s).test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:We.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="date"?ESe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:We.invalid_string,validation:"date",message:s.message}),r.dirty()):s.kind==="time"?_Se(s).test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{code:We.invalid_string,validation:"time",message:s.message}),r.dirty()):s.kind==="duration"?gSe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"duration",code:We.invalid_string,message:s.message}),r.dirty()):s.kind==="ip"?TSe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"ip",code:We.invalid_string,message:s.message}),r.dirty()):s.kind==="jwt"?NSe(t.data,s.alg)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"jwt",code:We.invalid_string,message:s.message}),r.dirty()):s.kind==="cidr"?PSe(t.data,s.version)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"cidr",code:We.invalid_string,message:s.message}),r.dirty()):s.kind==="base64"?CSe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"base64",code:We.invalid_string,message:s.message}),r.dirty()):s.kind==="base64url"?ASe.test(t.data)||(i=this._getOrReturnCtx(t,i),tt(i,{validation:"base64url",code:We.invalid_string,message:s.message}),r.dirty()):cn.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:We.invalid_string,...pt.errToObj(r)})}_addCheck(t){return new No({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...pt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...pt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...pt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...pt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...pt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...pt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...pt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...pt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...pt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...pt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...pt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...pt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...pt.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...pt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...pt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...pt.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...pt.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...pt.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...pt.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...pt.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...pt.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...pt.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...pt.errToObj(n)})}nonempty(t){return this.min(1,pt.errToObj(t))}trim(){return new No({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new No({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new No({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}No.create=e=>new No({checks:[],typeName:Dt.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...Ht(e)});function OSe(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=Number.parseInt(e.toFixed(i).replace(".","")),a=Number.parseInt(t.toFixed(i).replace(".",""));return s%a/10**i}class Qu extends Yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==rt.number){const s=this._getOrReturnCtx(t);return tt(s,{code:We.invalid_type,expected:rt.number,received:s.parsedType}),It}let r;const i=new Ji;for(const s of this._def.checks)s.kind==="int"?cn.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),tt(r,{code:We.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:We.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:We.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?OSe(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),tt(r,{code:We.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),tt(r,{code:We.not_finite,message:s.message}),i.dirty()):cn.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,pt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,pt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,pt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,pt.toString(n))}setLimit(t,n,r,i){return new Qu({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:pt.toString(i)}]})}_addCheck(t){return new Qu({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:pt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:pt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:pt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:pt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:pt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:pt.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:pt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:pt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:pt.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&cn.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Qu.create=e=>new Qu({checks:[],typeName:Dt.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ht(e)});class Ju extends Yt{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==rt.bigint)return this._getInvalidInput(t);let r;const i=new Ji;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:We.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:We.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),tt(r,{code:We.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):cn.assertNever(s);return{status:i.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return tt(n,{code:We.invalid_type,expected:rt.bigint,received:n.parsedType}),It}gte(t,n){return this.setLimit("min",t,!0,pt.toString(n))}gt(t,n){return this.setLimit("min",t,!1,pt.toString(n))}lte(t,n){return this.setLimit("max",t,!0,pt.toString(n))}lt(t,n){return this.setLimit("max",t,!1,pt.toString(n))}setLimit(t,n,r,i){return new Ju({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:pt.toString(i)}]})}_addCheck(t){return new Ju({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:pt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:pt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:pt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:pt.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:pt.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ju.create=e=>new Ju({checks:[],typeName:Dt.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...Ht(e)});class e1 extends Yt{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==rt.boolean){const r=this._getOrReturnCtx(t);return tt(r,{code:We.invalid_type,expected:rt.boolean,received:r.parsedType}),It}return ws(t.data)}}e1.create=e=>new e1({typeName:Dt.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ht(e)});class Xf extends Yt{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==rt.date){const s=this._getOrReturnCtx(t);return tt(s,{code:We.invalid_type,expected:rt.date,received:s.parsedType}),It}if(Number.isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return tt(s,{code:We.invalid_date}),It}const r=new Ji;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:We.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),tt(i,{code:We.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):cn.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Xf({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:pt.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:pt.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Xf.create=e=>new Xf({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Dt.ZodDate,...Ht(e)});class s2 extends Yt{_parse(t){if(this._getType(t)!==rt.symbol){const r=this._getOrReturnCtx(t);return tt(r,{code:We.invalid_type,expected:rt.symbol,received:r.parsedType}),It}return ws(t.data)}}s2.create=e=>new s2({typeName:Dt.ZodSymbol,...Ht(e)});class t1 extends Yt{_parse(t){if(this._getType(t)!==rt.undefined){const r=this._getOrReturnCtx(t);return tt(r,{code:We.invalid_type,expected:rt.undefined,received:r.parsedType}),It}return ws(t.data)}}t1.create=e=>new t1({typeName:Dt.ZodUndefined,...Ht(e)});class n1 extends Yt{_parse(t){if(this._getType(t)!==rt.null){const r=this._getOrReturnCtx(t);return tt(r,{code:We.invalid_type,expected:rt.null,received:r.parsedType}),It}return ws(t.data)}}n1.create=e=>new n1({typeName:Dt.ZodNull,...Ht(e)});class Pm extends Yt{constructor(){super(...arguments),this._any=!0}_parse(t){return ws(t.data)}}Pm.create=e=>new Pm({typeName:Dt.ZodAny,...Ht(e)});class _f extends Yt{constructor(){super(...arguments),this._unknown=!0}_parse(t){return ws(t.data)}}_f.create=e=>new _f({typeName:Dt.ZodUnknown,...Ht(e)});class Ic extends Yt{_parse(t){const n=this._getOrReturnCtx(t);return tt(n,{code:We.invalid_type,expected:rt.never,received:n.parsedType}),It}}Ic.create=e=>new Ic({typeName:Dt.ZodNever,...Ht(e)});class a2 extends Yt{_parse(t){if(this._getType(t)!==rt.undefined){const r=this._getOrReturnCtx(t);return tt(r,{code:We.invalid_type,expected:rt.void,received:r.parsedType}),It}return ws(t.data)}}a2.create=e=>new a2({typeName:Dt.ZodVoid,...Ht(e)});class jo extends Yt{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==rt.array)return tt(n,{code:We.invalid_type,expected:rt.array,received:n.parsedType}),It;if(i.exactLength!==null){const a=n.data.length>i.exactLength.value,o=n.data.length<i.exactLength.value;(a||o)&&(tt(n,{code:a?We.too_big:We.too_small,minimum:o?i.exactLength.value:void 0,maximum:a?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(tt(n,{code:We.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(tt(n,{code:We.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((a,o)=>i.type._parseAsync(new Pl(n,a,n.path,o)))).then(a=>Ji.mergeArray(r,a));const s=[...n.data].map((a,o)=>i.type._parseSync(new Pl(n,a,n.path,o)));return Ji.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new jo({...this._def,minLength:{value:t,message:pt.toString(n)}})}max(t,n){return new jo({...this._def,maxLength:{value:t,message:pt.toString(n)}})}length(t,n){return new jo({...this._def,exactLength:{value:t,message:pt.toString(n)}})}nonempty(t){return this.min(1,t)}}jo.create=(e,t)=>new jo({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Dt.ZodArray,...Ht(t)});function $h(e){if(e instanceof dr){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=bl.create($h(r))}return new dr({...e._def,shape:()=>t})}else return e instanceof jo?new jo({...e._def,type:$h(e.element)}):e instanceof bl?bl.create($h(e.unwrap())):e instanceof td?td.create($h(e.unwrap())):e instanceof Ol?Ol.create(e.items.map(t=>$h(t))):e}class dr extends Yt{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=cn.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==rt.object){const d=this._getOrReturnCtx(t);return tt(d,{code:We.invalid_type,expected:rt.object,received:d.parsedType}),It}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:a}=this._getCached(),o=[];if(!(this._def.catchall instanceof Ic&&this._def.unknownKeys==="strip"))for(const d in i.data)a.includes(d)||o.push(d);const u=[];for(const d of a){const h=s[d],m=i.data[d];u.push({key:{status:"valid",value:d},value:h._parse(new Pl(i,m,i.path,d)),alwaysSet:d in i.data})}if(this._def.catchall instanceof Ic){const d=this._def.unknownKeys;if(d==="passthrough")for(const h of o)u.push({key:{status:"valid",value:h},value:{status:"valid",value:i.data[h]}});else if(d==="strict")o.length>0&&(tt(i,{code:We.unrecognized_keys,keys:o}),r.dirty());else if(d!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const d=this._def.catchall;for(const h of o){const m=i.data[h];u.push({key:{status:"valid",value:h},value:d._parse(new Pl(i,m,i.path,h)),alwaysSet:h in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const d=[];for(const h of u){const m=await h.key,y=await h.value;d.push({key:m,value:y,alwaysSet:h.alwaysSet})}return d}).then(d=>Ji.mergeObjectSync(r,d)):Ji.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return pt.errToObj,new dr({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var s,a;const i=((a=(s=this._def).errorMap)==null?void 0:a.call(s,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:pt.errToObj(t).message??i}:{message:i}}}:{}})}strip(){return new dr({...this._def,unknownKeys:"strip"})}passthrough(){return new dr({...this._def,unknownKeys:"passthrough"})}extend(t){return new dr({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new dr({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Dt.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new dr({...this._def,catchall:t})}pick(t){const n={};for(const r of cn.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new dr({...this._def,shape:()=>n})}omit(t){const n={};for(const r of cn.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new dr({...this._def,shape:()=>n})}deepPartial(){return $h(this)}partial(t){const n={};for(const r of cn.objectKeys(this.shape)){const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}return new dr({...this._def,shape:()=>n})}required(t){const n={};for(const r of cn.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof bl;)s=s._def.innerType;n[r]=s}return new dr({...this._def,shape:()=>n})}keyof(){return YZ(cn.objectKeys(this.shape))}}dr.create=(e,t)=>new dr({shape:()=>e,unknownKeys:"strip",catchall:Ic.create(),typeName:Dt.ZodObject,...Ht(t)});dr.strictCreate=(e,t)=>new dr({shape:()=>e,unknownKeys:"strict",catchall:Ic.create(),typeName:Dt.ZodObject,...Ht(t)});dr.lazycreate=(e,t)=>new dr({shape:e,unknownKeys:"strip",catchall:Ic.create(),typeName:Dt.ZodObject,...Ht(t)});class r1 extends Yt{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const o of s)if(o.result.status==="valid")return o.result;for(const o of s)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const a=s.map(o=>new ma(o.ctx.common.issues));return tt(n,{code:We.invalid_union,unionErrors:a}),It}if(n.common.async)return Promise.all(r.map(async s=>{const a={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:a}),ctx:a}})).then(i);{let s;const a=[];for(const u of r){const d={...n,common:{...n.common,issues:[]},parent:null},h=u._parseSync({data:n.data,path:n.path,parent:d});if(h.status==="valid")return h;h.status==="dirty"&&!s&&(s={result:h,ctx:d}),d.common.issues.length&&a.push(d.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const o=a.map(u=>new ma(u));return tt(n,{code:We.invalid_union,unionErrors:o}),It}}get options(){return this._def.options}}r1.create=(e,t)=>new r1({options:e,typeName:Dt.ZodUnion,...Ht(t)});const Gl=e=>e instanceof a1?Gl(e.schema):e instanceof Fo?Gl(e.innerType()):e instanceof o1?[e.value]:e instanceof ed?e.options:e instanceof l1?cn.objectValues(e.enum):e instanceof c1?Gl(e._def.innerType):e instanceof t1?[void 0]:e instanceof n1?[null]:e instanceof bl?[void 0,...Gl(e.unwrap())]:e instanceof td?[null,...Gl(e.unwrap())]:e instanceof Ik||e instanceof d1?Gl(e.unwrap()):e instanceof u1?Gl(e._def.innerType):[];class $C extends Yt{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.object)return tt(n,{code:We.invalid_type,expected:rt.object,received:n.parsedType}),It;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(tt(n,{code:We.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),It)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const s of n){const a=Gl(s.shape[t]);if(!a.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of a){if(i.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);i.set(o,s)}}return new $C({typeName:Dt.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...Ht(r)})}}function vP(e,t){const n=Zl(e),r=Zl(t);if(e===t)return{valid:!0,data:e};if(n===rt.object&&r===rt.object){const i=cn.objectKeys(t),s=cn.objectKeys(e).filter(o=>i.indexOf(o)!==-1),a={...e,...t};for(const o of s){const u=vP(e[o],t[o]);if(!u.valid)return{valid:!1};a[o]=u.data}return{valid:!0,data:a}}else if(n===rt.array&&r===rt.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const a=e[s],o=t[s],u=vP(a,o);if(!u.valid)return{valid:!1};i.push(u.data)}return{valid:!0,data:i}}else return n===rt.date&&r===rt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class i1 extends Yt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,a)=>{if(gP(s)||gP(a))return It;const o=vP(s.value,a.value);return o.valid?((yP(s)||yP(a))&&n.dirty(),{status:n.value,value:o.data}):(tt(r,{code:We.invalid_intersection_types}),It)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,a])=>i(s,a)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}i1.create=(e,t,n)=>new i1({left:e,right:t,typeName:Dt.ZodIntersection,...Ht(n)});class Ol extends Yt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.array)return tt(r,{code:We.invalid_type,expected:rt.array,received:r.parsedType}),It;if(r.data.length<this._def.items.length)return tt(r,{code:We.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),It;!this._def.rest&&r.data.length>this._def.items.length&&(tt(r,{code:We.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((a,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new Pl(r,a,r.path,o)):null}).filter(a=>!!a);return r.common.async?Promise.all(s).then(a=>Ji.mergeArray(n,a)):Ji.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new Ol({...this._def,rest:t})}}Ol.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ol({items:e,typeName:Dt.ZodTuple,rest:null,...Ht(t)})};class s1 extends Yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.object)return tt(r,{code:We.invalid_type,expected:rt.object,received:r.parsedType}),It;const i=[],s=this._def.keyType,a=this._def.valueType;for(const o in r.data)i.push({key:s._parse(new Pl(r,o,r.path,o)),value:a._parse(new Pl(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?Ji.mergeObjectAsync(n,i):Ji.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof Yt?new s1({keyType:t,valueType:n,typeName:Dt.ZodRecord,...Ht(r)}):new s1({keyType:No.create(),valueType:t,typeName:Dt.ZodRecord,...Ht(n)})}}class o2 extends Yt{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.map)return tt(r,{code:We.invalid_type,expected:rt.map,received:r.parsedType}),It;const i=this._def.keyType,s=this._def.valueType,a=[...r.data.entries()].map(([o,u],d)=>({key:i._parse(new Pl(r,o,r.path,[d,"key"])),value:s._parse(new Pl(r,u,r.path,[d,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of a){const d=await u.key,h=await u.value;if(d.status==="aborted"||h.status==="aborted")return It;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(d.value,h.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const u of a){const d=u.key,h=u.value;if(d.status==="aborted"||h.status==="aborted")return It;(d.status==="dirty"||h.status==="dirty")&&n.dirty(),o.set(d.value,h.value)}return{status:n.value,value:o}}}}o2.create=(e,t,n)=>new o2({valueType:t,keyType:e,typeName:Dt.ZodMap,...Ht(n)});class Yf extends Yt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==rt.set)return tt(r,{code:We.invalid_type,expected:rt.set,received:r.parsedType}),It;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(tt(r,{code:We.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(tt(r,{code:We.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function a(u){const d=new Set;for(const h of u){if(h.status==="aborted")return It;h.status==="dirty"&&n.dirty(),d.add(h.value)}return{status:n.value,value:d}}const o=[...r.data.values()].map((u,d)=>s._parse(new Pl(r,u,r.path,d)));return r.common.async?Promise.all(o).then(u=>a(u)):a(o)}min(t,n){return new Yf({...this._def,minSize:{value:t,message:pt.toString(n)}})}max(t,n){return new Yf({...this._def,maxSize:{value:t,message:pt.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Yf.create=(e,t)=>new Yf({valueType:e,minSize:null,maxSize:null,typeName:Dt.ZodSet,...Ht(t)});class Ep extends Yt{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.function)return tt(n,{code:We.invalid_type,expected:rt.function,received:n.parsedType}),It;function r(o,u){return i2({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,r2(),Nm].filter(d=>!!d),issueData:{code:We.invalid_arguments,argumentsError:u}})}function i(o,u){return i2({data:o,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,r2(),Nm].filter(d=>!!d),issueData:{code:We.invalid_return_type,returnTypeError:u}})}const s={errorMap:n.common.contextualErrorMap},a=n.data;if(this._def.returns instanceof Om){const o=this;return ws(async function(...u){const d=new ma([]),h=await o._def.args.parseAsync(u,s).catch(b=>{throw d.addIssue(r(u,b)),d}),m=await Reflect.apply(a,this,h);return await o._def.returns._def.type.parseAsync(m,s).catch(b=>{throw d.addIssue(i(m,b)),d})})}else{const o=this;return ws(function(...u){const d=o._def.args.safeParse(u,s);if(!d.success)throw new ma([r(u,d.error)]);const h=Reflect.apply(a,this,d.data),m=o._def.returns.safeParse(h,s);if(!m.success)throw new ma([i(h,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new Ep({...this._def,args:Ol.create(t).rest(_f.create())})}returns(t){return new Ep({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new Ep({args:t||Ol.create([]).rest(_f.create()),returns:n||_f.create(),typeName:Dt.ZodFunction,...Ht(r)})}}class a1 extends Yt{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}a1.create=(e,t)=>new a1({getter:e,typeName:Dt.ZodLazy,...Ht(t)});class o1 extends Yt{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return tt(n,{received:n.data,code:We.invalid_literal,expected:this._def.value}),It}return{status:"valid",value:t.data}}get value(){return this._def.value}}o1.create=(e,t)=>new o1({value:e,typeName:Dt.ZodLiteral,...Ht(t)});function YZ(e,t){return new ed({values:e,typeName:Dt.ZodEnum,...Ht(t)})}class ed extends Yt{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return tt(n,{expected:cn.joinValues(r),received:n.parsedType,code:We.invalid_type}),It}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return tt(n,{received:n.data,code:We.invalid_enum_value,options:r}),It}return ws(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return ed.create(t,{...this._def,...n})}exclude(t,n=this._def){return ed.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}ed.create=YZ;class l1 extends Yt{_parse(t){const n=cn.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==rt.string&&r.parsedType!==rt.number){const i=cn.objectValues(n);return tt(r,{expected:cn.joinValues(i),received:r.parsedType,code:We.invalid_type}),It}if(this._cache||(this._cache=new Set(cn.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const i=cn.objectValues(n);return tt(r,{received:r.data,code:We.invalid_enum_value,options:i}),It}return ws(t.data)}get enum(){return this._def.values}}l1.create=(e,t)=>new l1({values:e,typeName:Dt.ZodNativeEnum,...Ht(t)});class Om extends Yt{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==rt.promise&&n.common.async===!1)return tt(n,{code:We.invalid_type,expected:rt.promise,received:n.parsedType}),It;const r=n.parsedType===rt.promise?n.data:Promise.resolve(n.data);return ws(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Om.create=(e,t)=>new Om({type:e,typeName:Dt.ZodPromise,...Ht(t)});class Fo extends Yt{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Dt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:a=>{tt(r,a),a.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const a=i.transform(r.data,s);if(r.common.async)return Promise.resolve(a).then(async o=>{if(n.value==="aborted")return It;const u=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return u.status==="aborted"?It:u.status==="dirty"||n.value==="dirty"?ep(u.value):u});{if(n.value==="aborted")return It;const o=this._def.schema._parseSync({data:a,path:r.path,parent:r});return o.status==="aborted"?It:o.status==="dirty"||n.value==="dirty"?ep(o.value):o}}if(i.type==="refinement"){const a=o=>{const u=i.refinement(o,s);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?It:(o.status==="dirty"&&n.dirty(),a(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?It:(o.status==="dirty"&&n.dirty(),a(o.value).then(()=>({status:n.value,value:o.value}))))}if(i.type==="transform")if(r.common.async===!1){const a=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!Kf(a))return It;const o=i.transform(a.value,s);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(a=>Kf(a)?Promise.resolve(i.transform(a.value,s)).then(o=>({status:n.value,value:o})):It);cn.assertNever(i)}}Fo.create=(e,t,n)=>new Fo({schema:e,typeName:Dt.ZodEffects,effect:t,...Ht(n)});Fo.createWithPreprocess=(e,t,n)=>new Fo({schema:t,effect:{type:"preprocess",transform:e},typeName:Dt.ZodEffects,...Ht(n)});class bl extends Yt{_parse(t){return this._getType(t)===rt.undefined?ws(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}bl.create=(e,t)=>new bl({innerType:e,typeName:Dt.ZodOptional,...Ht(t)});class td extends Yt{_parse(t){return this._getType(t)===rt.null?ws(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}td.create=(e,t)=>new td({innerType:e,typeName:Dt.ZodNullable,...Ht(t)});class c1 extends Yt{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===rt.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}c1.create=(e,t)=>new c1({innerType:e,typeName:Dt.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ht(t)});class u1 extends Yt{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Jy(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new ma(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ma(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}u1.create=(e,t)=>new u1({innerType:e,typeName:Dt.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ht(t)});class l2 extends Yt{_parse(t){if(this._getType(t)!==rt.nan){const r=this._getOrReturnCtx(t);return tt(r,{code:We.invalid_type,expected:rt.nan,received:r.parsedType}),It}return{status:"valid",value:t.data}}}l2.create=e=>new l2({typeName:Dt.ZodNaN,...Ht(e)});const jSe=Symbol("zod_brand");class Ik extends Yt{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Hv extends Yt{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?It:s.status==="dirty"?(n.dirty(),ep(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?It:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Hv({in:t,out:n,typeName:Dt.ZodPipeline})}}class d1 extends Yt{_parse(t){const n=this._def.innerType._parse(t),r=i=>(Kf(i)&&(i.value=Object.freeze(i.value)),i);return Jy(n)?n.then(i=>r(i)):r(n)}unwrap(){return this._def.innerType}}d1.create=(e,t)=>new d1({innerType:e,typeName:Dt.ZodReadonly,...Ht(t)});function X5(e,t){const n=typeof e=="function"?e(t):typeof e=="string"?{message:e}:e;return typeof n=="string"?{message:n}:n}function Mk(e,t={},n){return e?Pm.create().superRefine((r,i)=>{const s=e(r);if(s instanceof Promise)return s.then(a=>{if(!a){const o=X5(t,r),u=o.fatal??n??!0;i.addIssue({code:"custom",...o,fatal:u})}});if(!s){const a=X5(t,r),o=a.fatal??n??!0;i.addIssue({code:"custom",...a,fatal:o})}}):Pm.create()}const kSe={object:dr.lazycreate};var Dt;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Dt||(Dt={}));const ISe=(e,t={message:`Input not instance of ${e.name}`})=>Mk(n=>n instanceof e,t),Ms=No.create,Lo=Qu.create,MSe=l2.create,DSe=Ju.create,UC=e1.create,ZZ=Xf.create,RSe=s2.create,FSe=t1.create,QZ=n1.create,c2=Pm.create,LSe=_f.create,BSe=Ic.create,$Se=a2.create,hl=jo.create,Gv=dr.create,USe=dr.strictCreate,Dk=r1.create,zSe=$C.create,VSe=i1.create,WSe=Ol.create,JZ=s1.create,HSe=o2.create,GSe=Yf.create,qSe=Ep.create,KSe=a1.create,XSe=o1.create,$a=ed.create,YSe=l1.create,ZSe=Om.create,Y5=Fo.create,QSe=bl.create,JSe=td.create,eCe=Fo.createWithPreprocess,tCe=Hv.create,nCe=()=>Ms().optional(),rCe=()=>Lo().optional(),iCe=()=>UC().optional(),sCe={string:e=>No.create({...e,coerce:!0}),number:e=>Qu.create({...e,coerce:!0}),boolean:e=>e1.create({...e,coerce:!0}),bigint:e=>Ju.create({...e,coerce:!0}),date:e=>Xf.create({...e,coerce:!0})},aCe=It,oCe=Object.freeze(Object.defineProperty({__proto__:null,BRAND:jSe,DIRTY:ep,EMPTY_PATH:cSe,INVALID:It,NEVER:aCe,OK:ws,ParseStatus:Ji,Schema:Yt,ZodAny:Pm,ZodArray:jo,ZodBigInt:Ju,ZodBoolean:e1,ZodBranded:Ik,ZodCatch:u1,ZodDate:Xf,ZodDefault:c1,ZodDiscriminatedUnion:$C,ZodEffects:Fo,ZodEnum:ed,ZodError:ma,get ZodFirstPartyTypeKind(){return Dt},ZodFunction:Ep,ZodIntersection:i1,ZodIssueCode:We,ZodLazy:a1,ZodLiteral:o1,ZodMap:o2,ZodNaN:l2,ZodNativeEnum:l1,ZodNever:Ic,ZodNull:n1,ZodNullable:td,ZodNumber:Qu,ZodObject:dr,ZodOptional:bl,ZodParsedType:rt,ZodPipeline:Hv,ZodPromise:Om,ZodReadonly:d1,ZodRecord:s1,ZodSchema:Yt,ZodSet:Yf,ZodString:No,ZodSymbol:s2,ZodTransformer:Fo,ZodTuple:Ol,ZodType:Yt,ZodUndefined:t1,ZodUnion:r1,ZodUnknown:_f,ZodVoid:a2,addIssueToContext:tt,any:c2,array:hl,bigint:DSe,boolean:UC,coerce:sCe,custom:Mk,date:ZZ,datetimeRegex:XZ,defaultErrorMap:Nm,discriminatedUnion:zSe,effect:Y5,enum:$a,function:qSe,getErrorMap:r2,getParsedType:Zl,instanceof:ISe,intersection:VSe,isAborted:gP,isAsync:Jy,isDirty:yP,isValid:Kf,late:kSe,lazy:KSe,literal:XSe,makeIssue:i2,map:HSe,nan:MSe,nativeEnum:YSe,never:BSe,null:QZ,nullable:JSe,number:Lo,object:Gv,get objectUtil(){return mP},oboolean:iCe,onumber:rCe,optional:QSe,ostring:nCe,pipeline:tCe,preprocess:eCe,promise:ZSe,quotelessJson:oSe,record:JZ,set:GSe,setErrorMap:lSe,strictObject:USe,string:Ms,symbol:RSe,transformer:Y5,tuple:WSe,undefined:FSe,union:Dk,unknown:LSe,get util(){return cn},void:$Se},Symbol.toStringTag,{value:"Module"})),Rk=$2e,eQ=T.createContext({}),Ua=({...e})=>c.jsx(eQ.Provider,{value:{name:e.name},children:c.jsx(W2e,{...e})}),zC=()=>{const e=T.useContext(eQ),t=T.useContext(tQ),{getFieldState:n,formState:r}=BC(),i=n(e.name,r);if(!e)throw new Error("useFormField should be used within <FormField>");const{id:s}=t;return{id:s,name:e.name,formItemId:`${s}-form-item`,formDescriptionId:`${s}-form-item-description`,formMessageId:`${s}-form-item-message`,...i}},tQ=T.createContext({}),da=T.forwardRef(({className:e,...t},n)=>{const r=T.useId();return c.jsx(tQ.Provider,{value:{id:r},children:c.jsx("div",{ref:n,className:Te("space-y-2",e),...t})})});da.displayName="FormItem";const fr=T.forwardRef(({className:e,...t},n)=>{const{error:r,formItemId:i}=zC();return c.jsx(Tt,{ref:n,className:Te(r&&"text-destructive",e),htmlFor:i,...t})});fr.displayName="FormLabel";const fa=T.forwardRef(({...e},t)=>{const{error:n,formItemId:r,formDescriptionId:i,formMessageId:s}=zC();return c.jsx(Ov,{ref:t,id:r,"aria-describedby":n?`${i} ${s}`:`${i}`,"aria-invalid":!!n,...e})});fa.displayName="FormControl";const js=T.forwardRef(({className:e,...t},n)=>{const{formDescriptionId:r}=zC();return c.jsx("p",{ref:n,id:r,className:Te("text-sm text-muted-foreground",e),...t})});js.displayName="FormDescription";const G0=T.forwardRef(({className:e,children:t,...n},r)=>{const{error:i,formMessageId:s}=zC(),a=i?String((i==null?void 0:i.message)??""):t;return a?c.jsx("p",{ref:r,id:s,className:Te("text-sm font-medium text-destructive",e),...n,children:a}):null});G0.displayName="FormMessage";const lCe=[{name:"Fridge",icon:lc},{name:"Freezer",icon:_j},{name:"Pantry",icon:pC},{name:"Counter",icon:Nc}],cCe=["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Keto","Paleo","Low-Carb","Halal","Kosher"],uCe=["Peanuts","Tree Nuts","Shellfish","Fish","Eggs","Milk","Soy","Wheat","Sesame"],dCe=[{value:"beginner",label:"Beginner - I'm just starting out"},{value:"intermediate",label:"Intermediate - I know my way around"},{value:"advanced",label:"Advanced - I'm quite experienced"}],cb=[{name:"Salt",storage:"Pantry",quantity:"1",unit:"container",expiration:730},{name:"Black Pepper",storage:"Pantry",quantity:"1",unit:"container",expiration:730},{name:"Olive Oil",storage:"Pantry",quantity:"1",unit:"bottle",expiration:365},{name:"All-Purpose Flour",storage:"Pantry",quantity:"5",unit:"lbs",expiration:180},{name:"Sugar",storage:"Pantry",quantity:"5",unit:"lbs",expiration:730},{name:"Rice",storage:"Pantry",quantity:"2",unit:"lbs",expiration:365},{name:"Pasta",storage:"Pantry",quantity:"1",unit:"lb",expiration:365},{name:"Canned Tomatoes",storage:"Pantry",quantity:"2",unit:"cans",expiration:365},{name:"Onions",storage:"Pantry",quantity:"3",unit:"whole",expiration:30},{name:"Garlic",storage:"Pantry",quantity:"1",unit:"bulb",expiration:30},{name:"Chicken Broth",storage:"Pantry",quantity:"2",unit:"cans",expiration:365},{name:"Soy Sauce",storage:"Pantry",quantity:"1",unit:"bottle",expiration:730},{name:"Milk",storage:"Fridge",quantity:"1",unit:"gallon",expiration:7},{name:"Eggs",storage:"Fridge",quantity:"12",unit:"count",expiration:21},{name:"Butter",storage:"Fridge",quantity:"1",unit:"lb",expiration:60},{name:"Cheddar Cheese",storage:"Fridge",quantity:"8",unit:"oz",expiration:30},{name:"Carrots",storage:"Fridge",quantity:"1",unit:"lb",expiration:21},{name:"Bell Peppers",storage:"Fridge",quantity:"2",unit:"whole",expiration:7},{name:"Lettuce",storage:"Fridge",quantity:"1",unit:"head",expiration:7},{name:"Yogurt",storage:"Fridge",quantity:"4",unit:"cups",expiration:14},{name:"Mayonnaise",storage:"Fridge",quantity:"1",unit:"jar",expiration:90},{name:"Mustard",storage:"Fridge",quantity:"1",unit:"jar",expiration:180},{name:"Ketchup",storage:"Fridge",quantity:"1",unit:"bottle",expiration:180},{name:"Frozen Peas",storage:"Freezer",quantity:"1",unit:"bag",expiration:365},{name:"Frozen Corn",storage:"Freezer",quantity:"1",unit:"bag",expiration:365},{name:"Chicken Breast",storage:"Freezer",quantity:"2",unit:"lbs",expiration:180},{name:"Ground Beef",storage:"Freezer",quantity:"1",unit:"lb",expiration:120},{name:"Frozen Pizza",storage:"Freezer",quantity:"1",unit:"whole",expiration:180},{name:"Ice Cream",storage:"Freezer",quantity:"1",unit:"pint",expiration:90}],fCe=Gv({storageAreasEnabled:hl(Ms()).min(1,"Please select at least one storage area"),householdSize:Lo().int().min(1).max(20),cookingSkillLevel:$a(["beginner","intermediate","advanced"]),preferredUnits:$a(["metric","imperial"]),dietaryRestrictions:hl(Ms()).optional(),allergens:hl(Ms()).optional(),foodsToAvoid:hl(Ms()).optional(),expirationAlertDays:Lo().int().min(1).max(14)});function hCe(){const{toast:e}=or(),[t,n]=T.useState(["Fridge","Freezer","Pantry","Counter"]),[r,i]=T.useState([]),[s,a]=T.useState(""),[o,u]=T.useState([]),[d,h]=T.useState([]),[m,y]=T.useState([]),[b,C]=T.useState(""),[w,A]=T.useState([]),_=jk({resolver:kk(fCe),defaultValues:{storageAreasEnabled:["Fridge","Freezer","Pantry","Counter"],householdSize:2,cookingSkillLevel:"beginner",preferredUnits:"imperial",dietaryRestrictions:[],allergens:[],foodsToAvoid:[],expirationAlertDays:3}}),E=Dn({mutationFn:async F=>{var W;const V=[];let Z=0;await Xt("PUT","/api/user/preferences",{...F,hasCompletedOnboarding:!0});for(const oe of r)await Xt("POST","/api/storage-locations",{name:oe,icon:"package"});const q=await(await Xt("GET","/api/storage-locations",null)).json(),G=new Map(q.map(oe=>[oe.name,oe.id]));for(const oe of o){let J=null;try{const Y=await fetch(`/api/onboarding/enriched-item/${encodeURIComponent(oe)}`,{method:"GET",credentials:"include"});Y.ok?(J=await Y.json(),console.log(`Successfully fetched enriched data for ${oe}`)):console.warn(`Failed to fetch enriched data for ${oe}: ${Y.status}`)}catch(Y){console.warn(`Error fetching enriched data for ${oe}:`,Y)}if(J){const Y=G.get(J.storage);if(!Y){console.error(`No storage location found for ${J.storage}`),V.push(oe);continue}const ne=new Date;ne.setDate(ne.getDate()+J.expirationDays);try{await Xt("POST","/api/food-items",{name:J.name,quantity:J.quantity,unit:J.unit,storageLocationId:Y,expirationDate:ne.toISOString(),fcdId:J.fcdId,nutrition:J.nutrition,usdaData:J.usdaData,foodCategory:((W=J.usdaData)==null?void 0:W.foodCategory)||null}),console.log(`Created enriched food item: ${J.name}`),Z++}catch(pe){console.error(`Failed to create enriched food item ${J.name}:`,pe),V.push(oe)}}else{const Y=cb.find(he=>he.name===oe);if(!Y){console.error(`No basic data found for ${oe}`),V.push(oe);continue}const ne=G.get(Y.storage);if(!ne){console.error(`No storage location found for ${Y.storage}`),V.push(oe);continue}const pe=new Date;pe.setDate(pe.getDate()+Y.expiration);try{await Xt("POST","/api/food-items",{name:Y.name,quantity:Y.quantity,unit:Y.unit,storageLocationId:ne,expirationDate:pe.toISOString()}),console.log(`Created basic food item: ${Y.name}`),Z++}catch(he){console.error(`Failed to create basic food item ${Y.name}:`,he),V.push(oe)}}}return{successCount:Z,failedItems:V}},onSuccess:F=>{St.invalidateQueries({queryKey:["/api/user/preferences"]}),St.invalidateQueries({queryKey:["/api/storage-locations"]}),St.invalidateQueries({queryKey:["/api/food-items"]}),F.failedItems.length>0?e({title:"Setup Complete with Warnings",description:`${F.successCount} items added successfully. ${F.failedItems.length} items failed: ${F.failedItems.join(", ")}. You can add them manually later.`,variant:"default"}):F.successCount>0&&e({title:"Setup Complete!",description:`Successfully added ${F.successCount} items to your kitchen.`}),window.location.href="/"},onError:F=>{e({title:"Error",description:F.message||"Failed to save preferences. Please try again.",variant:"destructive"})}});Dn({mutationFn:async()=>{await Xt("PUT","/api/user/preferences",{hasCompletedOnboarding:!0})},onSuccess:()=>{St.invalidateQueries({queryKey:["/api/user/preferences"]}),window.location.href="/"},onError:F=>{e({title:"Error",description:F.message||"Failed to skip onboarding. Please try again.",variant:"destructive"})}});const N=F=>{const V=t.includes(F)?t.filter(Z=>Z!==F):[...t,F];n(V),_.setValue("storageAreasEnabled",V)},I=()=>{const F=s.trim();if(F&&!r.includes(F)&&!t.includes(F)){const V=[...r,F];i(V);const Z=[...t,F];n(Z),_.setValue("storageAreasEnabled",Z),a("")}},O=F=>{i(r.filter(Z=>Z!==F));const V=t.filter(Z=>Z!==F);n(V),_.setValue("storageAreasEnabled",V)},k=F=>{const V=o.includes(F)?o.filter(Z=>Z!==F):[...o,F];u(V)},M=F=>{const V=d.includes(F)?d.filter(Z=>Z!==F):[...d,F];h(V),_.setValue("dietaryRestrictions",V)},R=F=>{const V=m.includes(F)?m.filter(Z=>Z!==F):[...m,F];y(V),_.setValue("allergens",V)},L=()=>{if(b.trim()&&!w.includes(b.trim())){const F=[...w,b.trim()];A(F),_.setValue("foodsToAvoid",F),C("")}},U=F=>{const V=w.filter(Z=>Z!==F);A(V),_.setValue("foodsToAvoid",V)},X=F=>{E.mutate(F)};return c.jsx("div",{className:"min-h-screen bg-black/80 p-4 py-8",children:c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsxs(xt,{"data-testid":"card-onboarding",children:[c.jsxs(gt,{className:"text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(bs,{className:"w-16 h-16 text-primary"})}),c.jsx(vt,{className:"text-3xl",children:"Welcome to ChefSpAIce!"}),c.jsx(Pn,{className:"text-base",children:"Let's personalize your experience. You can always change these later."})]}),c.jsx(it,{children:c.jsx(Rk,{..._,children:c.jsxs("form",{onSubmit:_.handleSubmit(X),className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Which storage areas do you have? (Pre-selected for you)"}),c.jsx(js,{children:"These are already selected. Deselect any you don't have, or add your own custom storage areas."}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[lCe.map(F=>{const V=F.icon;return c.jsxs(Ot,{variant:t.includes(F.name)?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2 gap-1.5",onClick:()=>N(F.name),"data-testid":`badge-storage-${F.name.toLowerCase()}`,children:[c.jsx(V,{className:"w-3.5 h-3.5"}),F.name,t.includes(F.name)&&c.jsx(Mn,{className:"w-3 h-3 ml-0.5"})]},F.name)}),r.map(F=>c.jsxs(Ot,{variant:"default",className:"cursor-pointer hover-elevate active-elevate-2 gap-1.5",onClick:()=>O(F),"data-testid":`badge-custom-storage-${F.toLowerCase().replace(/\s+/g,"-")}`,children:[c.jsx(vg,{className:"w-3.5 h-3.5"}),F,c.jsx(Mn,{className:"w-3 h-3 ml-0.5"})]},F))]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(gn,{type:"text",placeholder:"Add custom storage (e.g., Wine Cellar, Garage Fridge)",value:s,onChange:F=>a(F.target.value),onKeyPress:F=>{F.key==="Enter"&&(F.preventDefault(),I())},"data-testid":"input-custom-storage"}),c.jsx(Re,{type:"button",variant:"outline",onClick:I,"data-testid":"button-add-custom-storage",children:c.jsx(Tl,{className:"w-4 h-4"})})]}),_.formState.errors.storageAreasEnabled&&c.jsx("p",{className:"text-sm text-destructive",children:_.formState.errors.storageAreasEnabled.message})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Quick-Add Common Items (Optional)"}),c.jsx(js,{children:"Select items you already have to save time setting up your inventory. You can add more items later."}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Pantry Staples"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:cb.filter(F=>F.storage==="Pantry").map(F=>c.jsxs(Ot,{variant:o.includes(F.name)?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>k(F.name),"data-testid":`badge-common-${F.name.toLowerCase().replace(/\s+/g,"-")}`,children:[F.name,o.includes(F.name)&&c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},F.name))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Refrigerator Items"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:cb.filter(F=>F.storage==="Fridge").map(F=>c.jsxs(Ot,{variant:o.includes(F.name)?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>k(F.name),"data-testid":`badge-common-${F.name.toLowerCase().replace(/\s+/g,"-")}`,children:[F.name,o.includes(F.name)&&c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},F.name))})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"text-sm font-medium mb-2",children:"Freezer Items"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:cb.filter(F=>F.storage==="Freezer").map(F=>c.jsxs(Ot,{variant:o.includes(F.name)?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>k(F.name),"data-testid":`badge-common-${F.name.toLowerCase().replace(/\s+/g,"-")}`,children:[F.name,o.includes(F.name)&&c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},F.name))})]}),o.length>0&&c.jsxs("p",{className:"text-sm text-muted-foreground",children:[o.length," item",o.length!==1?"s":""," selected"]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(Ua,{control:_.control,name:"householdSize",render:({field:F})=>c.jsxs(da,{children:[c.jsx(fr,{children:"How many people do you typically cook for?"}),c.jsx(fa,{children:c.jsx(gn,{type:"number",min:1,max:20,...F,onChange:V=>F.onChange(parseInt(V.target.value)),"data-testid":"input-household-size"})}),c.jsx(js,{children:"This helps us suggest appropriate serving sizes"})]})}),c.jsx(Ua,{control:_.control,name:"cookingSkillLevel",render:({field:F})=>c.jsxs(da,{children:[c.jsx(fr,{children:"What's your cooking skill level?"}),c.jsxs(qr,{onValueChange:F.onChange,defaultValue:F.value,children:[c.jsx(fa,{children:c.jsx(Rr,{"data-testid":"select-cooking-skill",children:c.jsx(Kr,{placeholder:"Select your skill level"})})}),c.jsx(Fr,{children:dCe.map(V=>c.jsx(mt,{value:V.value,"data-testid":`option-skill-${V.value}`,children:V.label},V.value))})]}),c.jsx(js,{children:"We'll tailor recipe complexity to your level"})]})})]}),c.jsx(Ua,{control:_.control,name:"preferredUnits",render:({field:F})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Preferred measurement units"}),c.jsxs(qr,{onValueChange:F.onChange,defaultValue:F.value,children:[c.jsx(fa,{children:c.jsx(Rr,{"data-testid":"select-units",children:c.jsx(Kr,{placeholder:"Select unit system"})})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"imperial","data-testid":"option-units-imperial",children:"Imperial (cups, oz, F)"}),c.jsx(mt,{value:"metric","data-testid":"option-units-metric",children:"Metric (ml, g, C)"})]})]}),c.jsx(js,{children:"Your preferred units for recipes and measurements"})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Dietary Preferences (Optional)"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:cCe.map(F=>c.jsxs(Ot,{variant:d.includes(F)?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>M(F),"data-testid":`badge-dietary-${F.toLowerCase()}`,children:[F,d.includes(F)&&c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},F))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Allergens to Avoid (Optional)"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:uCe.map(F=>c.jsxs(Ot,{variant:m.includes(F)?"destructive":"outline",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>R(F),"data-testid":`badge-allergen-${F.toLowerCase()}`,children:[F,m.includes(F)&&c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},F))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Foods to Always Avoid (Optional)"}),c.jsx(js,{children:"Add any specific foods or ingredients you want to avoid in recipes"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(gn,{type:"text",placeholder:"e.g., cilantro, mushrooms",value:b,onChange:F=>C(F.target.value),onKeyPress:F=>{F.key==="Enter"&&(F.preventDefault(),L())},"data-testid":"input-food-to-avoid"}),c.jsx(Re,{type:"button",variant:"outline",onClick:L,"data-testid":"button-add-food-to-avoid",children:"Add"})]}),w.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(F=>c.jsxs(Ot,{variant:"secondary",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>U(F),"data-testid":`badge-avoid-${F.toLowerCase().replace(/\s+/g,"-")}`,children:[F,c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},F))})]}),c.jsx(Ua,{control:_.control,name:"expirationAlertDays",render:({field:F})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Expiration Alert Days"}),c.jsx(fa,{children:c.jsx(gn,{type:"number",min:1,max:14,...F,onChange:V=>F.onChange(parseInt(V.target.value)),"data-testid":"input-expiration-days"})}),c.jsx(js,{children:"Get notified when food items will expire within this many days"})]})}),c.jsx(Re,{type:"submit",className:"w-full",disabled:E.isPending,"data-testid":"button-complete-onboarding",children:E.isPending?"Setting up...":"Complete Setup"})]})})})]})})})}/*! @license DOMPurify 3.2.7 | (c) Cure53 and other contributors | Released under the Apache license 2.0 and Mozilla Public License 2.0 | github.com/cure53/DOMPurify/blob/3.2.7/LICENSE */var l_,Z5;function Q5(){if(Z5)return l_;Z5=1;const{entries:e,setPrototypeOf:t,isFrozen:n,getPrototypeOf:r,getOwnPropertyDescriptor:i}=Object;let{freeze:s,seal:a,create:o}=Object,{apply:u,construct:d}=typeof Reflect<"u"&&Reflect;s||(s=function(le){return le}),a||(a=function(le){return le}),u||(u=function(le,ee){for(var Ee=arguments.length,Pe=new Array(Ee>2?Ee-2:0),Ie=2;Ie<Ee;Ie++)Pe[Ie-2]=arguments[Ie];return le.apply(ee,Pe)}),d||(d=function(le){for(var ee=arguments.length,Ee=new Array(ee>1?ee-1:0),Pe=1;Pe<ee;Pe++)Ee[Pe-1]=arguments[Pe];return new le(...Ee)});const h=R(Array.prototype.forEach),m=R(Array.prototype.lastIndexOf),y=R(Array.prototype.pop),b=R(Array.prototype.push),C=R(Array.prototype.splice),w=R(String.prototype.toLowerCase),A=R(String.prototype.toString),_=R(String.prototype.match),E=R(String.prototype.replace),N=R(String.prototype.indexOf),I=R(String.prototype.trim),O=R(Object.prototype.hasOwnProperty),k=R(RegExp.prototype.test),M=L(TypeError);function R(ae){return function(le){le instanceof RegExp&&(le.lastIndex=0);for(var ee=arguments.length,Ee=new Array(ee>1?ee-1:0),Pe=1;Pe<ee;Pe++)Ee[Pe-1]=arguments[Pe];return u(ae,le,Ee)}}function L(ae){return function(){for(var le=arguments.length,ee=new Array(le),Ee=0;Ee<le;Ee++)ee[Ee]=arguments[Ee];return d(ae,ee)}}function U(ae,le){let ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:w;t&&t(ae,null);let Ee=le.length;for(;Ee--;){let Pe=le[Ee];if(typeof Pe=="string"){const Ie=ee(Pe);Ie!==Pe&&(n(le)||(le[Ee]=Ie),Pe=Ie)}ae[Pe]=!0}return ae}function X(ae){for(let le=0;le<ae.length;le++)O(ae,le)||(ae[le]=null);return ae}function F(ae){const le=o(null);for(const[ee,Ee]of e(ae))O(ae,ee)&&(Array.isArray(Ee)?le[ee]=X(Ee):Ee&&typeof Ee=="object"&&Ee.constructor===Object?le[ee]=F(Ee):le[ee]=Ee);return le}function V(ae,le){for(;ae!==null;){const Ee=i(ae,le);if(Ee){if(Ee.get)return R(Ee.get);if(typeof Ee.value=="function")return R(Ee.value)}ae=r(ae)}function ee(){return null}return ee}const Z=s(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","search","section","select","shadow","slot","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),H=s(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","enterkeyhint","exportparts","filter","font","g","glyph","glyphref","hkern","image","inputmode","line","lineargradient","marker","mask","metadata","mpath","part","path","pattern","polygon","polyline","radialgradient","rect","slot","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),q=s(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),G=s(["animate","color-profile","cursor","discard","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),W=s(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover","mprescripts"]),oe=s(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),J=s(["#text"]),Y=s(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","exportparts","face","for","headers","height","hidden","high","href","hreflang","id","inert","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","part","pattern","placeholder","playsinline","popover","popovertarget","popovertargetaction","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","slot","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","wrap","xmlns","slot"]),ne=s(["accent-height","accumulate","additive","alignment-baseline","amplitude","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","exponent","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","intercept","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","slope","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","tablevalues","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),pe=s(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),he=s(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),we=a(/\{\{[\w\W]*|[\w\W]*\}\}/gm),me=a(/<%[\w\W]*|[\w\W]*%>/gm),be=a(/\$\{[\w\W]*/gm),Ne=a(/^data-[\-\w.\u00B7-\uFFFF]+$/),xe=a(/^aria-[\-\w]+$/),Oe=a(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|sms|cid|xmpp|matrix):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),je=a(/^(?:\w+script|data):/i),ve=a(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),ze=a(/^html$/i),Be=a(/^[a-z][.\w]*(-[.\w]+)+$/i);var dt=Object.freeze({__proto__:null,ARIA_ATTR:xe,ATTR_WHITESPACE:ve,CUSTOM_ELEMENT:Be,DATA_ATTR:Ne,DOCTYPE_NAME:ze,ERB_EXPR:me,IS_ALLOWED_URI:Oe,IS_SCRIPT_OR_DATA:je,MUSTACHE_EXPR:we,TMPLIT_EXPR:be});const Ct={element:1,attribute:2,text:3,cdataSection:4,entityReference:5,entityNode:6,progressingInstruction:7,comment:8,document:9,documentType:10,documentFragment:11,notation:12},yt=function(){return typeof window>"u"?null:window},At=function(le,ee){if(typeof le!="object"||typeof le.createPolicy!="function")return null;let Ee=null;const Pe="data-tt-policy-suffix";ee&&ee.hasAttribute(Pe)&&(Ee=ee.getAttribute(Pe));const Ie="dompurify"+(Ee?"#"+Ee:"");try{return le.createPolicy(Ie,{createHTML(de){return de},createScriptURL(de){return de}})}catch{return console.warn("TrustedTypes policy "+Ie+" could not be created."),null}},ct=function(){return{afterSanitizeAttributes:[],afterSanitizeElements:[],afterSanitizeShadowDOM:[],beforeSanitizeAttributes:[],beforeSanitizeElements:[],beforeSanitizeShadowDOM:[],uponSanitizeAttribute:[],uponSanitizeElement:[],uponSanitizeShadowNode:[]}};function xn(){let ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:yt();const le=ft=>xn(ft);if(le.version="3.2.7",le.removed=[],!ae||!ae.document||ae.document.nodeType!==Ct.document||!ae.Element)return le.isSupported=!1,le;let{document:ee}=ae;const Ee=ee,Pe=Ee.currentScript,{DocumentFragment:Ie,HTMLTemplateElement:de,Node:Ye,Element:ut,NodeFilter:Ft,NamedNodeMap:As=ae.NamedNodeMap||ae.MozNamedAttrMap,HTMLFormElement:Vt,DOMParser:Ke,trustedTypes:Ln}=ae,rn=ut.prototype,Bn=V(rn,"cloneNode"),Wo=V(rn,"remove"),Vg=V(rn,"nextSibling"),hx=V(rn,"childNodes"),sn=V(rn,"parentNode");if(typeof de=="function"){const ft=ee.createElement("template");ft.content&&ft.content.ownerDocument&&(ee=ft.content.ownerDocument)}let lr,Gc="";const{implementation:ph,createNodeIterator:Xs,createDocumentFragment:Wg,getElementsByTagName:ui}=ee,{importNode:qc}=Ee;let $r=ct();le.isSupported=typeof e=="function"&&typeof sn=="function"&&ph&&ph.createHTMLDocument!==void 0;const{MUSTACHE_EXPR:Es,ERB_EXPR:Hg,TMPLIT_EXPR:Qa,DATA_ATTR:Gg,ARIA_ATTR:Ri,IS_SCRIPT_OR_DATA:Fl,ATTR_WHITESPACE:ts,CUSTOM_ELEMENT:nt}=dt;let{IS_ALLOWED_URI:Ll}=dt,vr=null;const Si=U({},[...Z,...H,...q,...W,...J]);let rr=null;const bd=U({},[...Y,...ne,...pe,...he]);let $n=Object.seal(o(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),Fi=null,qg=null,px=!0,_s=!0,di=!1,jn=!0,Bl=!1,Ys=!0,Ja=!1,De=!1,Kg=!1,An=!1,eo=!1,mh=!1,fn=!0,ln=!1;const tn="user-content-";let wd=!0,$l=!1,Ho={},Un=null;const to=U({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]);let mx=null;const ir=U({},["audio","video","img","source","image","track"]);let Ea=null;const gx=U({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),no="http://www.w3.org/1998/Math/MathML",bn="http://www.w3.org/2000/svg",zn="http://www.w3.org/1999/xhtml";let ge=zn,re=!1,ht=null;const Ur=U({},[no,bn,zn],A);let Ci=U({},["mi","mo","mn","ms","mtext"]),gh=U({},["annotation-xml"]);const Xg=U({},["title","style","font","a","script"]);let fi=null;const Et=["application/xhtml+xml","text/html"],Xn="text/html";let Tr=null,Kc=null;const Yg=ee.createElement("form"),Sd=function(fe){return fe instanceof RegExp||fe instanceof Function},Cd=function(){let fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!(Kc&&Kc===fe)){if((!fe||typeof fe!="object")&&(fe={}),fe=F(fe),fi=Et.indexOf(fe.PARSER_MEDIA_TYPE)===-1?Xn:fe.PARSER_MEDIA_TYPE,Tr=fi==="application/xhtml+xml"?A:w,vr=O(fe,"ALLOWED_TAGS")?U({},fe.ALLOWED_TAGS,Tr):Si,rr=O(fe,"ALLOWED_ATTR")?U({},fe.ALLOWED_ATTR,Tr):bd,ht=O(fe,"ALLOWED_NAMESPACES")?U({},fe.ALLOWED_NAMESPACES,A):Ur,Ea=O(fe,"ADD_URI_SAFE_ATTR")?U(F(gx),fe.ADD_URI_SAFE_ATTR,Tr):gx,mx=O(fe,"ADD_DATA_URI_TAGS")?U(F(ir),fe.ADD_DATA_URI_TAGS,Tr):ir,Un=O(fe,"FORBID_CONTENTS")?U({},fe.FORBID_CONTENTS,Tr):to,Fi=O(fe,"FORBID_TAGS")?U({},fe.FORBID_TAGS,Tr):F({}),qg=O(fe,"FORBID_ATTR")?U({},fe.FORBID_ATTR,Tr):F({}),Ho=O(fe,"USE_PROFILES")?fe.USE_PROFILES:!1,px=fe.ALLOW_ARIA_ATTR!==!1,_s=fe.ALLOW_DATA_ATTR!==!1,di=fe.ALLOW_UNKNOWN_PROTOCOLS||!1,jn=fe.ALLOW_SELF_CLOSE_IN_ATTR!==!1,Bl=fe.SAFE_FOR_TEMPLATES||!1,Ys=fe.SAFE_FOR_XML!==!1,Ja=fe.WHOLE_DOCUMENT||!1,An=fe.RETURN_DOM||!1,eo=fe.RETURN_DOM_FRAGMENT||!1,mh=fe.RETURN_TRUSTED_TYPE||!1,Kg=fe.FORCE_BODY||!1,fn=fe.SANITIZE_DOM!==!1,ln=fe.SANITIZE_NAMED_PROPS||!1,wd=fe.KEEP_CONTENT!==!1,$l=fe.IN_PLACE||!1,Ll=fe.ALLOWED_URI_REGEXP||Oe,ge=fe.NAMESPACE||zn,Ci=fe.MATHML_TEXT_INTEGRATION_POINTS||Ci,gh=fe.HTML_INTEGRATION_POINTS||gh,$n=fe.CUSTOM_ELEMENT_HANDLING||{},fe.CUSTOM_ELEMENT_HANDLING&&Sd(fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&($n.tagNameCheck=fe.CUSTOM_ELEMENT_HANDLING.tagNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&Sd(fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&($n.attributeNameCheck=fe.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),fe.CUSTOM_ELEMENT_HANDLING&&typeof fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&($n.allowCustomizedBuiltInElements=fe.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Bl&&(_s=!1),eo&&(An=!0),Ho&&(vr=U({},J),rr=[],Ho.html===!0&&(U(vr,Z),U(rr,Y)),Ho.svg===!0&&(U(vr,H),U(rr,ne),U(rr,he)),Ho.svgFilters===!0&&(U(vr,q),U(rr,ne),U(rr,he)),Ho.mathMl===!0&&(U(vr,W),U(rr,pe),U(rr,he))),fe.ADD_TAGS&&(vr===Si&&(vr=F(vr)),U(vr,fe.ADD_TAGS,Tr)),fe.ADD_ATTR&&(rr===bd&&(rr=F(rr)),U(rr,fe.ADD_ATTR,Tr)),fe.ADD_URI_SAFE_ATTR&&U(Ea,fe.ADD_URI_SAFE_ATTR,Tr),fe.FORBID_CONTENTS&&(Un===to&&(Un=F(Un)),U(Un,fe.FORBID_CONTENTS,Tr)),wd&&(vr["#text"]=!0),Ja&&U(vr,["html","head","body"]),vr.table&&(U(vr,["tbody"]),delete Fi.tbody),fe.TRUSTED_TYPES_POLICY){if(typeof fe.TRUSTED_TYPES_POLICY.createHTML!="function")throw M('TRUSTED_TYPES_POLICY configuration option must provide a "createHTML" hook.');if(typeof fe.TRUSTED_TYPES_POLICY.createScriptURL!="function")throw M('TRUSTED_TYPES_POLICY configuration option must provide a "createScriptURL" hook.');lr=fe.TRUSTED_TYPES_POLICY,Gc=lr.createHTML("")}else lr===void 0&&(lr=At(Ln,Pe)),lr!==null&&typeof Gc=="string"&&(Gc=lr.createHTML(""));s&&s(fe),Kc=fe}},yx=U({},[...H,...q,...G]),Nr=U({},[...W,...oe]),Ad=function(fe){let Ve=sn(fe);(!Ve||!Ve.tagName)&&(Ve={namespaceURI:ge,tagName:"template"});const at=w(fe.tagName),Zt=w(Ve.tagName);return ht[fe.namespaceURI]?fe.namespaceURI===bn?Ve.namespaceURI===zn?at==="svg":Ve.namespaceURI===no?at==="svg"&&(Zt==="annotation-xml"||Ci[Zt]):!!yx[at]:fe.namespaceURI===no?Ve.namespaceURI===zn?at==="math":Ve.namespaceURI===bn?at==="math"&&gh[Zt]:!!Nr[at]:fe.namespaceURI===zn?Ve.namespaceURI===bn&&!gh[Zt]||Ve.namespaceURI===no&&!Ci[Zt]?!1:!Nr[at]&&(Xg[at]||!yx[at]):!!(fi==="application/xhtml+xml"&&ht[fe.namespaceURI]):!1},Qr=function(fe){b(le.removed,{element:fe});try{sn(fe).removeChild(fe)}catch{Wo(fe)}},bt=function(fe,Ve){try{b(le.removed,{attribute:Ve.getAttributeNode(fe),from:Ve})}catch{b(le.removed,{attribute:null,from:Ve})}if(Ve.removeAttribute(fe),fe==="is")if(An||eo)try{Qr(Ve)}catch{}else try{Ve.setAttribute(fe,"")}catch{}},vx=function(fe){let Ve=null,at=null;if(Kg)fe="<remove></remove>"+fe;else{const cr=_(fe,/^[\r\n\t ]+/);at=cr&&cr[0]}fi==="application/xhtml+xml"&&ge===zn&&(fe='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+fe+"</body></html>");const Zt=lr?lr.createHTML(fe):fe;if(ge===zn)try{Ve=new Ke().parseFromString(Zt,fi)}catch{}if(!Ve||!Ve.documentElement){Ve=ph.createDocument(ge,"template",null);try{Ve.documentElement.innerHTML=re?Gc:Zt}catch{}}const Jr=Ve.body||Ve.documentElement;return fe&&at&&Jr.insertBefore(ee.createTextNode(at),Jr.childNodes[0]||null),ge===zn?ui.call(Ve,Ja?"html":"body")[0]:Ja?Ve.documentElement:Jr},Ut=function(fe){return Xs.call(fe.ownerDocument||fe,fe,Ft.SHOW_ELEMENT|Ft.SHOW_COMMENT|Ft.SHOW_TEXT|Ft.SHOW_PROCESSING_INSTRUCTION|Ft.SHOW_CDATA_SECTION,null)},Pr=function(fe){return fe instanceof Vt&&(typeof fe.nodeName!="string"||typeof fe.textContent!="string"||typeof fe.removeChild!="function"||!(fe.attributes instanceof As)||typeof fe.removeAttribute!="function"||typeof fe.setAttribute!="function"||typeof fe.namespaceURI!="string"||typeof fe.insertBefore!="function"||typeof fe.hasChildNodes!="function")},xx=function(fe){return typeof Ye=="function"&&fe instanceof Ye};function Zs(ft,fe,Ve){h(ft,at=>{at.call(le,fe,Ve,Kc)})}const Zg=function(fe){let Ve=null;if(Zs($r.beforeSanitizeElements,fe,null),Pr(fe))return Qr(fe),!0;const at=Tr(fe.nodeName);if(Zs($r.uponSanitizeElement,fe,{tagName:at,allowedTags:vr}),Ys&&fe.hasChildNodes()&&!xx(fe.firstElementChild)&&k(/<[/\w!]/g,fe.innerHTML)&&k(/<[/\w!]/g,fe.textContent)||fe.nodeType===Ct.progressingInstruction||Ys&&fe.nodeType===Ct.comment&&k(/<[/\w]/g,fe.data))return Qr(fe),!0;if(!vr[at]||Fi[at]){if(!Fi[at]&&bx(at)&&($n.tagNameCheck instanceof RegExp&&k($n.tagNameCheck,at)||$n.tagNameCheck instanceof Function&&$n.tagNameCheck(at)))return!1;if(wd&&!Un[at]){const Zt=sn(fe)||fe.parentNode,Jr=hx(fe)||fe.childNodes;if(Jr&&Zt){const cr=Jr.length;for(let Ai=cr-1;Ai>=0;--Ai){const ro=Bn(Jr[Ai],!0);ro.__removalCount=(fe.__removalCount||0)+1,Zt.insertBefore(ro,Vg(fe))}}}return Qr(fe),!0}return fe instanceof ut&&!Ad(fe)||(at==="noscript"||at==="noembed"||at==="noframes")&&k(/<\/no(script|embed|frames)/i,fe.innerHTML)?(Qr(fe),!0):(Bl&&fe.nodeType===Ct.text&&(Ve=fe.textContent,h([Es,Hg,Qa],Zt=>{Ve=E(Ve,Zt," ")}),fe.textContent!==Ve&&(b(le.removed,{element:fe.cloneNode()}),fe.textContent=Ve)),Zs($r.afterSanitizeElements,fe,null),!1)},Go=function(fe,Ve,at){if(fn&&(Ve==="id"||Ve==="name")&&(at in ee||at in Yg))return!1;if(!(_s&&!qg[Ve]&&k(Gg,Ve))){if(!(px&&k(Ri,Ve))){if(!rr[Ve]||qg[Ve]){if(!(bx(fe)&&($n.tagNameCheck instanceof RegExp&&k($n.tagNameCheck,fe)||$n.tagNameCheck instanceof Function&&$n.tagNameCheck(fe))&&($n.attributeNameCheck instanceof RegExp&&k($n.attributeNameCheck,Ve)||$n.attributeNameCheck instanceof Function&&$n.attributeNameCheck(Ve,fe))||Ve==="is"&&$n.allowCustomizedBuiltInElements&&($n.tagNameCheck instanceof RegExp&&k($n.tagNameCheck,at)||$n.tagNameCheck instanceof Function&&$n.tagNameCheck(at))))return!1}else if(!Ea[Ve]){if(!k(Ll,E(at,ts,""))){if(!((Ve==="src"||Ve==="xlink:href"||Ve==="href")&&fe!=="script"&&N(at,"data:")===0&&mx[fe])){if(!(di&&!k(Fl,E(at,ts,"")))){if(at)return!1}}}}}}return!0},bx=function(fe){return fe!=="annotation-xml"&&_(fe,nt)},Xc=function(fe){Zs($r.beforeSanitizeAttributes,fe,null);const{attributes:Ve}=fe;if(!Ve||Pr(fe))return;const at={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:rr,forceKeepAttr:void 0};let Zt=Ve.length;for(;Zt--;){const Jr=Ve[Zt],{name:cr,namespaceURI:Ai,value:ro}=Jr,Yc=Tr(cr),Qg=ro;let Bt=cr==="value"?Qg:I(Qg);if(at.attrName=Yc,at.attrValue=Bt,at.keepAttr=!0,at.forceKeepAttr=void 0,Zs($r.uponSanitizeAttribute,fe,at),Bt=at.attrValue,ln&&(Yc==="id"||Yc==="name")&&(bt(cr,fe),Bt=tn+Bt),Ys&&k(/((--!?|])>)|<\/(style|title|textarea)/i,Bt)){bt(cr,fe);continue}if(Yc==="attributename"&&_(Bt,"href")){bt(cr,fe);continue}if(at.forceKeepAttr)continue;if(!at.keepAttr){bt(cr,fe);continue}if(!jn&&k(/\/>/i,Bt)){bt(cr,fe);continue}Bl&&h([Es,Hg,Qa],_d=>{Bt=E(Bt,_d," ")});const Jg=Tr(fe.nodeName);if(!Go(Jg,Yc,Bt)){bt(cr,fe);continue}if(lr&&typeof Ln=="object"&&typeof Ln.getAttributeType=="function"&&!Ai)switch(Ln.getAttributeType(Jg,Yc)){case"TrustedHTML":{Bt=lr.createHTML(Bt);break}case"TrustedScriptURL":{Bt=lr.createScriptURL(Bt);break}}if(Bt!==Qg)try{Ai?fe.setAttributeNS(Ai,cr,Bt):fe.setAttribute(cr,Bt),Pr(fe)?Qr(fe):y(le.removed)}catch{bt(cr,fe)}}Zs($r.afterSanitizeAttributes,fe,null)},Ed=function ft(fe){let Ve=null;const at=Ut(fe);for(Zs($r.beforeSanitizeShadowDOM,fe,null);Ve=at.nextNode();)Zs($r.uponSanitizeShadowNode,Ve,null),Zg(Ve),Xc(Ve),Ve.content instanceof Ie&&ft(Ve.content);Zs($r.afterSanitizeShadowDOM,fe,null)};return le.sanitize=function(ft){let fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Ve=null,at=null,Zt=null,Jr=null;if(re=!ft,re&&(ft="<!-->"),typeof ft!="string"&&!xx(ft))if(typeof ft.toString=="function"){if(ft=ft.toString(),typeof ft!="string")throw M("dirty is not a string, aborting")}else throw M("toString is not a function");if(!le.isSupported)return ft;if(De||Cd(fe),le.removed=[],typeof ft=="string"&&($l=!1),$l){if(ft.nodeName){const ro=Tr(ft.nodeName);if(!vr[ro]||Fi[ro])throw M("root node is forbidden and cannot be sanitized in-place")}}else if(ft instanceof Ye)Ve=vx("<!---->"),at=Ve.ownerDocument.importNode(ft,!0),at.nodeType===Ct.element&&at.nodeName==="BODY"||at.nodeName==="HTML"?Ve=at:Ve.appendChild(at);else{if(!An&&!Bl&&!Ja&&ft.indexOf("<")===-1)return lr&&mh?lr.createHTML(ft):ft;if(Ve=vx(ft),!Ve)return An?null:mh?Gc:""}Ve&&Kg&&Qr(Ve.firstChild);const cr=Ut($l?ft:Ve);for(;Zt=cr.nextNode();)Zg(Zt),Xc(Zt),Zt.content instanceof Ie&&Ed(Zt.content);if($l)return ft;if(An){if(eo)for(Jr=Wg.call(Ve.ownerDocument);Ve.firstChild;)Jr.appendChild(Ve.firstChild);else Jr=Ve;return(rr.shadowroot||rr.shadowrootmode)&&(Jr=qc.call(Ee,Jr,!0)),Jr}let Ai=Ja?Ve.outerHTML:Ve.innerHTML;return Ja&&vr["!doctype"]&&Ve.ownerDocument&&Ve.ownerDocument.doctype&&Ve.ownerDocument.doctype.name&&k(ze,Ve.ownerDocument.doctype.name)&&(Ai="<!DOCTYPE "+Ve.ownerDocument.doctype.name+`>
`+Ai),Bl&&h([Es,Hg,Qa],ro=>{Ai=E(Ai,ro," ")}),lr&&mh?lr.createHTML(Ai):Ai},le.setConfig=function(){let ft=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};Cd(ft),De=!0},le.clearConfig=function(){Kc=null,De=!1},le.isValidAttribute=function(ft,fe,Ve){Kc||Cd({});const at=Tr(ft),Zt=Tr(fe);return Go(at,Zt,Ve)},le.addHook=function(ft,fe){typeof fe=="function"&&b($r[ft],fe)},le.removeHook=function(ft,fe){if(fe!==void 0){const Ve=m($r[ft],fe);return Ve===-1?void 0:C($r[ft],Ve,1)[0]}return y($r[ft])},le.removeHooks=function(ft){$r[ft]=[]},le.removeAllHooks=function(){$r=ct()},le}var Ze=xn();return l_=Ze,l_}var pCe=window.DOMPurify||(window.DOMPurify=Q5().default||Q5());const J5=en(pCe);var Fk="Avatar",[mCe,Rtt]=Yr(Fk),[gCe,nQ]=mCe(Fk),rQ=T.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[i,s]=T.useState("idle");return c.jsx(gCe,{scope:n,imageLoadingStatus:i,onImageLoadingStatusChange:s,children:c.jsx(Je.span,{...r,ref:t})})});rQ.displayName=Fk;var iQ="AvatarImage",sQ=T.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:i=()=>{},...s}=e,a=nQ(iQ,n),o=yCe(r,s),u=Er(d=>{i(d),a.onImageLoadingStatusChange(d)});return Br(()=>{o!=="idle"&&u(o)},[o,u]),o==="loaded"?c.jsx(Je.img,{...s,ref:t,src:r}):null});sQ.displayName=iQ;var aQ="AvatarFallback",oQ=T.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...i}=e,s=nQ(aQ,n),[a,o]=T.useState(r===void 0);return T.useEffect(()=>{if(r!==void 0){const u=window.setTimeout(()=>o(!0),r);return()=>window.clearTimeout(u)}},[r]),a&&s.imageLoadingStatus!=="loaded"?c.jsx(Je.span,{...i,ref:t}):null});oQ.displayName=aQ;function e8(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function yCe(e,{referrerPolicy:t,crossOrigin:n}){const r=xCe(),i=T.useRef(null),s=r?(i.current||(i.current=new window.Image),i.current):null,[a,o]=T.useState(()=>e8(s,e));return Br(()=>{o(e8(s,e))},[s,e]),Br(()=>{const u=m=>()=>{o(m)};if(!s)return;const d=u("loaded"),h=u("error");return s.addEventListener("load",d),s.addEventListener("error",h),t&&(s.referrerPolicy=t),typeof n=="string"&&(s.crossOrigin=n),()=>{s.removeEventListener("load",d),s.removeEventListener("error",h)}},[s,n,t]),a}function vCe(){return()=>{}}function xCe(){return T.useSyncExternalStore(vCe,()=>!0,()=>!1)}var lQ=rQ,cQ=sQ,uQ=oQ;const Lk=T.forwardRef(({className:e,...t},n)=>c.jsx(lQ,{ref:n,className:Te(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,e),...t}));Lk.displayName=lQ.displayName;const Bk=T.forwardRef(({className:e,...t},n)=>c.jsx(cQ,{ref:n,className:Te("aspect-square h-full w-full",e),...t}));Bk.displayName=cQ.displayName;const $k=T.forwardRef(({className:e,...t},n)=>c.jsx(uQ,{ref:n,className:Te("flex h-full w-full items-center justify-center rounded-full bg-muted",e),...t}));$k.displayName=uQ.displayName;function t8({role:e,content:t,timestamp:n,children:r,userProfileImageUrl:i,userInitials:s}){const a=e==="user";return e==="system"?c.jsx("div",{className:"flex justify-center my-6","data-testid":"message-system",children:c.jsx("div",{className:"glass-subtle border-2 border-border/50 rounded-xl px-4 py-2 text-sm text-muted-foreground max-w-md text-center shadow-glass transition-morph",dangerouslySetInnerHTML:{__html:J5.sanitize(t)}})}):c.jsxs("div",{className:Te("flex gap-3 mb-4 animate-in fade-in slide-in-from-bottom-2 duration-300",a?"flex-row-reverse":"flex-row"),"data-testid":`message-${e}`,children:[a?c.jsxs(Lk,{className:"w-8 h-8 flex-shrink-0 transition-spring",children:[c.jsx(Bk,{src:i||void 0}),c.jsx($k,{className:"bg-primary text-primary-foreground text-xs",children:s||c.jsx(fhe,{className:"w-4 h-4"})})]}):c.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center flex-shrink-0 transition-spring",children:c.jsx(bs,{className:"w-4 h-4 text-accent-foreground"})}),c.jsxs("div",{className:Te("flex flex-col gap-2",a?"items-end":"items-start","max-w-2xl"),children:[c.jsx("div",{className:Te("rounded-2xl px-4 py-3 glass-subtle shadow-glass transition-morph",a?"bg-primary/90 text-primary-foreground backdrop-blur-sm":"bg-accent/90 text-foreground backdrop-blur-sm"),style:{borderRadius:"var(--radius)"},children:c.jsx("p",{className:"text-base leading-relaxed whitespace-pre-wrap",dangerouslySetInnerHTML:{__html:J5.sanitize(t)}})}),r&&c.jsx("div",{className:"w-full mt-1",children:r}),n&&c.jsx("span",{className:"text-xs text-muted-foreground mt-1","data-testid":"text-timestamp",children:n})]})]})}function bCe({onSend:e,disabled:t=!1,showFeedbackWidget:n=!1}){const[r,i]=T.useState(""),s=()=>{r.trim()&&!t&&(e(r.trim()),i(""))},a=o=>{o.key==="Enter"&&!o.shiftKey&&(o.preventDefault(),s())};return c.jsx("div",{className:"border-t border-border bg-background p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex gap-2",children:[c.jsxs("div",{className:"flex flex-col gap-2 flex-shrink-0",children:[c.jsx(Re,{size:"icon",variant:"ghost",className:"flex-shrink-0","data-testid":"button-attach",children:c.jsx(ihe,{className:"w-5 h-5"})}),n&&c.jsx(PZ,{mode:"inline"})]}),c.jsx(gc,{value:r,onChange:o=>i(o.target.value),onKeyDown:a,placeholder:"Ask your ChefSpAIce anything... (e.g., 'What can I make with chicken?', 'Add eggs to my fridge')",className:"resize-none min-h-[60px] max-h-[120px] rounded-xl",disabled:t,"data-testid":"input-chat-message"}),c.jsx(Re,{size:"icon",onClick:s,disabled:!r.trim()||t,className:"flex-shrink-0 rounded-full w-12 h-12","data-testid":"button-send-message",children:c.jsx(_G,{className:"w-5 h-5"})})]})})}function dQ({type:e,onAction:t}){return e==="chat"?c.jsx("div",{className:"flex items-center justify-center h-full p-8 animate-fade-in","data-testid":"empty-state-chat",children:c.jsx("div",{className:"glass-subtle backdrop-blur-md rounded-2xl shadow-glass p-8 max-w-2xl w-full",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mb-6 animate-pulse-subtle",children:c.jsx(bs,{className:"w-12 h-12 text-primary"})}),c.jsx("h2",{className:"text-2xl font-semibold text-foreground mb-3",children:"Welcome to ChefSpAIce!"}),c.jsx("p",{className:"text-muted-foreground text-center max-w-md mb-6",children:"Your personal kitchen assistant is here to help you manage your food inventory and discover amazing recipes."}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 w-full",children:[c.jsxs("div",{className:"p-4 border border-border rounded-xl hover-elevate card-hover shadow-sm",children:[c.jsx(wm,{className:"w-5 h-5 text-primary mb-2"}),c.jsx("p",{className:"text-sm text-foreground font-medium mb-1",children:"Try asking:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:'"What can I make with chicken and rice?"'})]}),c.jsxs("div",{className:"p-4 border border-border rounded-xl hover-elevate card-hover shadow-sm",children:[c.jsx(Tl,{className:"w-5 h-5 text-primary mb-2"}),c.jsx("p",{className:"text-sm text-foreground font-medium mb-1",children:"Or say:"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:'"Add 2 pounds of chicken to my fridge"'})]})]})]})})}):c.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 animate-fade-in","data-testid":"empty-state-inventory",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mb-6 animate-pulse-subtle",children:c.jsx(lc,{className:"w-12 h-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No items yet"}),c.jsx("p",{className:"text-muted-foreground text-center max-w-sm mb-6",children:"Start by adding food items to your inventory or ask your ChefSpAIce to help you."}),t&&c.jsxs(Re,{onClick:t,className:"scale-touch","data-testid":"button-add-first-item",children:[c.jsx(Tl,{className:"w-4 h-4 mr-2"}),"Add Your First Item"]})]})}function mn(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function ba(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function ki(e,t){const n=mn(e);return isNaN(t)?ba(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Bo(e,t){const n=mn(e);if(isNaN(t))return ba(e,NaN);if(!t)return n;const r=n.getDate(),i=ba(e,n.getTime());i.setMonth(n.getMonth()+t+1,0);const s=i.getDate();return r>=s?i:(n.setFullYear(i.getFullYear(),i.getMonth(),r),n)}const Uk=6048e5,wCe=864e5;let SCe={};function qv(){return SCe}function ga(e,t){var o,u,d,h;const n=qv(),r=(t==null?void 0:t.weekStartsOn)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=mn(e),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Zf(e){return ga(e,{weekStartsOn:1})}function fQ(e){const t=mn(e),n=t.getFullYear(),r=ba(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=Zf(r),s=ba(e,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=Zf(s);return t.getTime()>=i.getTime()?n+1:t.getTime()>=a.getTime()?n:n-1}function jm(e){const t=mn(e);return t.setHours(0,0,0,0),t}function u2(e){const t=mn(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function pl(e,t){const n=jm(e),r=jm(t),i=+n-u2(n),s=+r-u2(r);return Math.round((i-s)/wCe)}function CCe(e){const t=fQ(e),n=ba(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Zf(n)}function xP(e,t){const n=t*7;return ki(e,n)}function ACe(e,t){return Bo(e,t*12)}function ECe(e){let t;return e.forEach(function(n){const r=mn(n);(t===void 0||t<r||isNaN(Number(r)))&&(t=r)}),t||new Date(NaN)}function _Ce(e){let t;return e.forEach(n=>{const r=mn(n);(!t||t>r||isNaN(+r))&&(t=r)}),t||new Date(NaN)}function Ds(e,t){const n=jm(e),r=jm(t);return+n==+r}function zk(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function TCe(e){if(!zk(e)&&typeof e!="number")return!1;const t=mn(e);return!isNaN(Number(t))}function f1(e,t){const n=mn(e),r=mn(t),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function NCe(e,t,n){const r=ga(e,n),i=ga(t,n),s=+r-u2(r),a=+i-u2(i);return Math.round((s-a)/Uk)}function Vk(e){const t=mn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function Ws(e){const t=mn(e);return t.setDate(1),t.setHours(0,0,0,0),t}function hQ(e){const t=mn(e),n=ba(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function _p(e,t){var o,u,d,h;const n=qv(),r=(t==null?void 0:t.weekStartsOn)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,i=mn(e),s=i.getDay(),a=(s<r?-7:0)+6-(s-r);return i.setDate(i.getDate()+a),i.setHours(23,59,59,999),i}function pQ(e){return _p(e,{weekStartsOn:1})}const PCe={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},OCe=(e,t,n)=>{let r;const i=PCe[e];return typeof i=="string"?r=i:t===1?r=i.one:r=i.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function c_(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const jCe={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},kCe={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},ICe={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},MCe={date:c_({formats:jCe,defaultWidth:"full"}),time:c_({formats:kCe,defaultWidth:"full"}),dateTime:c_({formats:ICe,defaultWidth:"full"})},DCe={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},RCe=(e,t,n,r)=>DCe[e];function b0(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&e.formattingValues){const a=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=e.formattingValues[o]||e.formattingValues[a]}else{const a=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;i=e.values[o]||e.values[a]}const s=e.argumentCallback?e.argumentCallback(t):t;return i[s]}}const FCe={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},LCe={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},BCe={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},$Ce={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},UCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},zCe={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},VCe=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},WCe={ordinalNumber:VCe,era:b0({values:FCe,defaultWidth:"wide"}),quarter:b0({values:LCe,defaultWidth:"wide",argumentCallback:e=>e-1}),month:b0({values:BCe,defaultWidth:"wide"}),day:b0({values:$Ce,defaultWidth:"wide"}),dayPeriod:b0({values:UCe,defaultWidth:"wide",formattingValues:zCe,defaultFormattingWidth:"wide"})};function w0(e){return(t,n={})=>{const r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],s=t.match(i);if(!s)return null;const a=s[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?GCe(o,m=>m.test(a)):HCe(o,m=>m.test(a));let d;d=e.valueCallback?e.valueCallback(u):u,d=n.valueCallback?n.valueCallback(d):d;const h=t.slice(a.length);return{value:d,rest:h}}}function HCe(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function GCe(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function qCe(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const i=r[0],s=t.match(e.parsePattern);if(!s)return null;let a=e.valueCallback?e.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=t.slice(i.length);return{value:a,rest:o}}}const KCe=/^(\d+)(th|st|nd|rd)?/i,XCe=/\d+/i,YCe={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ZCe={any:[/^b/i,/^(a|c)/i]},QCe={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},JCe={any:[/1/i,/2/i,/3/i,/4/i]},eAe={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},tAe={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},nAe={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rAe={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},iAe={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},sAe={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},aAe={ordinalNumber:qCe({matchPattern:KCe,parsePattern:XCe,valueCallback:e=>parseInt(e,10)}),era:w0({matchPatterns:YCe,defaultMatchWidth:"wide",parsePatterns:ZCe,defaultParseWidth:"any"}),quarter:w0({matchPatterns:QCe,defaultMatchWidth:"wide",parsePatterns:JCe,defaultParseWidth:"any",valueCallback:e=>e+1}),month:w0({matchPatterns:eAe,defaultMatchWidth:"wide",parsePatterns:tAe,defaultParseWidth:"any"}),day:w0({matchPatterns:nAe,defaultMatchWidth:"wide",parsePatterns:rAe,defaultParseWidth:"any"}),dayPeriod:w0({matchPatterns:iAe,defaultMatchWidth:"any",parsePatterns:sAe,defaultParseWidth:"any"})},mQ={code:"en-US",formatDistance:OCe,formatLong:MCe,formatRelative:RCe,localize:WCe,match:aAe,options:{weekStartsOn:0,firstWeekContainsDate:1}};function oAe(e){const t=mn(e);return pl(t,hQ(t))+1}function gQ(e){const t=mn(e),n=+Zf(t)-+CCe(t);return Math.round(n/Uk)+1}function yQ(e,t){var h,m,y,b;const n=mn(e),r=n.getFullYear(),i=qv(),s=(t==null?void 0:t.firstWeekContainsDate)??((m=(h=t==null?void 0:t.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??i.firstWeekContainsDate??((b=(y=i.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,a=ba(e,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=ga(a,t),u=ba(e,0);u.setFullYear(r,0,s),u.setHours(0,0,0,0);const d=ga(u,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function lAe(e,t){var o,u,d,h;const n=qv(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,i=yQ(e,t),s=ba(e,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),ga(s,t)}function vQ(e,t){const n=mn(e),r=+ga(n,t)-+lAe(n,t);return Math.round(r/Uk)+1}function En(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const nu={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return En(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):En(n+1,2)},d(e,t){return En(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return En(e.getHours()%12||12,t.length)},H(e,t){return En(e.getHours(),t.length)},m(e,t){return En(e.getMinutes(),t.length)},s(e,t){return En(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return En(i,t.length)}},jh={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},n8={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return nu.y(e,t)},Y:function(e,t,n,r){const i=yQ(e,r),s=i>0?i:1-i;if(t==="YY"){const a=s%100;return En(a,2)}return t==="Yo"?n.ordinalNumber(s,{unit:"year"}):En(s,t.length)},R:function(e,t){const n=fQ(e);return En(n,t.length)},u:function(e,t){const n=e.getFullYear();return En(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return En(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return En(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return nu.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return En(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const i=vQ(e,r);return t==="wo"?n.ordinalNumber(i,{unit:"week"}):En(i,t.length)},I:function(e,t,n){const r=gQ(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):En(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):nu.d(e,t)},D:function(e,t,n){const r=oAe(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):En(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(s);case"ee":return En(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const i=e.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(s);case"cc":return En(s,t.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),i=r===0?7:r;switch(t){case"i":return String(i);case"ii":return En(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const i=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let i;switch(r===12?i=jh.noon:r===0?i=jh.midnight:i=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let i;switch(r>=17?i=jh.evening:r>=12?i=jh.afternoon:r>=4?i=jh.morning:i=jh.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return nu.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):nu.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):En(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):En(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):nu.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):nu.s(e,t)},S:function(e,t){return nu.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return i8(r);case"XXXX":case"XX":return Fd(r);case"XXXXX":case"XXX":default:return Fd(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return i8(r);case"xxxx":case"xx":return Fd(r);case"xxxxx":case"xxx":default:return Fd(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+r8(r,":");case"OOOO":default:return"GMT"+Fd(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+r8(r,":");case"zzzz":default:return"GMT"+Fd(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return En(r,t.length)},T:function(e,t,n){const r=e.getTime();return En(r,t.length)}};function r8(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+t+En(s,2)}function i8(e,t){return e%60===0?(e>0?"-":"+")+En(Math.abs(e)/60,2):Fd(e,t)}function Fd(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),i=En(Math.trunc(r/60),2),s=En(r%60,2);return n+i+t+s}const s8=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xQ=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},cAe=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return s8(e,t);let s;switch(r){case"P":s=t.dateTime({width:"short"});break;case"PP":s=t.dateTime({width:"medium"});break;case"PPP":s=t.dateTime({width:"long"});break;case"PPPP":default:s=t.dateTime({width:"full"});break}return s.replace("{{date}}",s8(r,t)).replace("{{time}}",xQ(i,t))},uAe={p:xQ,P:cAe},dAe=/^D+$/,fAe=/^Y+$/,hAe=["D","DD","YY","YYYY"];function pAe(e){return dAe.test(e)}function mAe(e){return fAe.test(e)}function gAe(e,t,n){const r=yAe(e,t,n);if(console.warn(r),hAe.includes(e))throw new RangeError(r)}function yAe(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const vAe=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,xAe=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,bAe=/^'([^]*?)'?$/,wAe=/''/g,SAe=/[a-zA-Z]/;function qa(e,t,n){var h,m,y,b,C,w,A,_;const r=qv(),i=(n==null?void 0:n.locale)??r.locale??mQ,s=(n==null?void 0:n.firstWeekContainsDate)??((m=(h=n==null?void 0:n.locale)==null?void 0:h.options)==null?void 0:m.firstWeekContainsDate)??r.firstWeekContainsDate??((b=(y=r.locale)==null?void 0:y.options)==null?void 0:b.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((w=(C=n==null?void 0:n.locale)==null?void 0:C.options)==null?void 0:w.weekStartsOn)??r.weekStartsOn??((_=(A=r.locale)==null?void 0:A.options)==null?void 0:_.weekStartsOn)??0,o=mn(e);if(!TCe(o))throw new RangeError("Invalid time value");let u=t.match(xAe).map(E=>{const N=E[0];if(N==="p"||N==="P"){const I=uAe[N];return I(E,i.formatLong)}return E}).join("").match(vAe).map(E=>{if(E==="''")return{isToken:!1,value:"'"};const N=E[0];if(N==="'")return{isToken:!1,value:CAe(E)};if(n8[N])return{isToken:!0,value:E};if(N.match(SAe))throw new RangeError("Format string contains an unescaped latin alphabet character `"+N+"`");return{isToken:!1,value:E}});i.localize.preprocessor&&(u=i.localize.preprocessor(o,u));const d={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(E=>{if(!E.isToken)return E.value;const N=E.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&mAe(N)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&pAe(N))&&gAe(N,t,String(e));const I=n8[N[0]];return I(o,N,i.localize,d)}).join("")}function CAe(e){const t=e.match(bAe);return t?t[1].replace(wAe,"'"):e}function AAe(e){const t=mn(e),n=t.getFullYear(),r=t.getMonth(),i=ba(e,0);return i.setFullYear(n,r+1,0),i.setHours(0,0,0,0),i.getDate()}function EAe(e){return Math.trunc(+mn(e)/1e3)}function _Ae(e){const t=mn(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(0,0,0,0),t}function TAe(e,t){return NCe(_Ae(e),Ws(e),t)+1}function bP(e,t){const n=mn(e),r=mn(t);return n.getTime()>r.getTime()}function bQ(e,t){const n=mn(e),r=mn(t);return+n<+r}function Wk(e,t){const n=mn(e),r=mn(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function NAe(e,t){const n=mn(e),r=mn(t);return n.getFullYear()===r.getFullYear()}function u_(e,t){return ki(e,-t)}function d_(e,t){const n=mn(e),r=n.getFullYear(),i=n.getDate(),s=ba(e,0);s.setFullYear(r,t,15),s.setHours(0,0,0,0);const a=AAe(s);return n.setMonth(t,Math.min(i,a)),n}function a8(e,t){const n=mn(e);return isNaN(+n)?ba(e,NaN):(n.setFullYear(t),n)}var Rt=function(){return Rt=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},Rt.apply(this,arguments)};function PAe(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function wQ(e,t,n){for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}function Kv(e){return e.mode==="multiple"}function Xv(e){return e.mode==="range"}function VC(e){return e.mode==="single"}var OAe={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function jAe(e,t){return qa(e,"LLLL y",t)}function kAe(e,t){return qa(e,"d",t)}function IAe(e,t){return qa(e,"LLLL",t)}function MAe(e){return"".concat(e)}function DAe(e,t){return qa(e,"cccccc",t)}function RAe(e,t){return qa(e,"yyyy",t)}var FAe=Object.freeze({__proto__:null,formatCaption:jAe,formatDay:kAe,formatMonthCaption:IAe,formatWeekNumber:MAe,formatWeekdayName:DAe,formatYearCaption:RAe}),LAe=function(e,t,n){return qa(e,"do MMMM (EEEE)",n)},BAe=function(){return"Month: "},$Ae=function(){return"Go to next month"},UAe=function(){return"Go to previous month"},zAe=function(e,t){return qa(e,"cccc",t)},VAe=function(e){return"Week n. ".concat(e)},WAe=function(){return"Year: "},HAe=Object.freeze({__proto__:null,labelDay:LAe,labelMonthDropdown:BAe,labelNext:$Ae,labelPrevious:UAe,labelWeekNumber:VAe,labelWeekday:zAe,labelYearDropdown:WAe});function GAe(){var e="buttons",t=OAe,n=mQ,r={},i={},s=1,a={},o=new Date;return{captionLayout:e,classNames:t,formatters:FAe,labels:HAe,locale:n,modifiersClassNames:r,modifiers:i,numberOfMonths:s,styles:a,today:o,mode:"default"}}function qAe(e){var t=e.fromYear,n=e.toYear,r=e.fromMonth,i=e.toMonth,s=e.fromDate,a=e.toDate;return r?s=Ws(r):t&&(s=new Date(t,0,1)),i?a=Vk(i):n&&(a=new Date(n,11,31)),{fromDate:s?jm(s):void 0,toDate:a?jm(a):void 0}}var SQ=T.createContext(void 0);function KAe(e){var t,n=e.initialProps,r=GAe(),i=qAe(n),s=i.fromDate,a=i.toDate,o=(t=n.captionLayout)!==null&&t!==void 0?t:r.captionLayout;o!=="buttons"&&(!s||!a)&&(o="buttons");var u;(VC(n)||Kv(n)||Xv(n))&&(u=n.onSelect);var d=Rt(Rt(Rt({},r),n),{captionLayout:o,classNames:Rt(Rt({},r.classNames),n.classNames),components:Rt({},n.components),formatters:Rt(Rt({},r.formatters),n.formatters),fromDate:s,labels:Rt(Rt({},r.labels),n.labels),mode:n.mode||r.mode,modifiers:Rt(Rt({},r.modifiers),n.modifiers),modifiersClassNames:Rt(Rt({},r.modifiersClassNames),n.modifiersClassNames),onSelect:u,styles:Rt(Rt({},r.styles),n.styles),toDate:a});return c.jsx(SQ.Provider,{value:d,children:e.children})}function Kn(){var e=T.useContext(SQ);if(!e)throw new Error("useDayPicker must be used within a DayPickerProvider.");return e}function CQ(e){var t=Kn(),n=t.locale,r=t.classNames,i=t.styles,s=t.formatters.formatCaption;return c.jsx("div",{className:r.caption_label,style:i.caption_label,"aria-live":"polite",role:"presentation",id:e.id,children:s(e.displayMonth,{locale:n})})}function XAe(e){return c.jsx("svg",Rt({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},e,{children:c.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function AQ(e){var t,n,r=e.onChange,i=e.value,s=e.children,a=e.caption,o=e.className,u=e.style,d=Kn(),h=(n=(t=d.components)===null||t===void 0?void 0:t.IconDropdown)!==null&&n!==void 0?n:XAe;return c.jsxs("div",{className:o,style:u,children:[c.jsx("span",{className:d.classNames.vhidden,children:e["aria-label"]}),c.jsx("select",{name:e.name,"aria-label":e["aria-label"],className:d.classNames.dropdown,style:d.styles.dropdown,value:i,onChange:r,children:s}),c.jsxs("div",{className:d.classNames.caption_label,style:d.styles.caption_label,"aria-hidden":"true",children:[a,c.jsx(h,{className:d.classNames.dropdown_icon,style:d.styles.dropdown_icon})]})]})}function YAe(e){var t,n=Kn(),r=n.fromDate,i=n.toDate,s=n.styles,a=n.locale,o=n.formatters.formatMonthCaption,u=n.classNames,d=n.components,h=n.labels.labelMonthDropdown;if(!r)return c.jsx(c.Fragment,{});if(!i)return c.jsx(c.Fragment,{});var m=[];if(NAe(r,i))for(var y=Ws(r),b=r.getMonth();b<=i.getMonth();b++)m.push(d_(y,b));else for(var y=Ws(new Date),b=0;b<=11;b++)m.push(d_(y,b));var C=function(A){var _=Number(A.target.value),E=d_(Ws(e.displayMonth),_);e.onChange(E)},w=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:AQ;return c.jsx(w,{name:"months","aria-label":h(),className:u.dropdown_month,style:s.dropdown_month,onChange:C,value:e.displayMonth.getMonth(),caption:o(e.displayMonth,{locale:a}),children:m.map(function(A){return c.jsx("option",{value:A.getMonth(),children:o(A,{locale:a})},A.getMonth())})})}function ZAe(e){var t,n=e.displayMonth,r=Kn(),i=r.fromDate,s=r.toDate,a=r.locale,o=r.styles,u=r.classNames,d=r.components,h=r.formatters.formatYearCaption,m=r.labels.labelYearDropdown,y=[];if(!i)return c.jsx(c.Fragment,{});if(!s)return c.jsx(c.Fragment,{});for(var b=i.getFullYear(),C=s.getFullYear(),w=b;w<=C;w++)y.push(a8(hQ(new Date),w));var A=function(E){var N=a8(Ws(n),Number(E.target.value));e.onChange(N)},_=(t=d==null?void 0:d.Dropdown)!==null&&t!==void 0?t:AQ;return c.jsx(_,{name:"years","aria-label":m(),className:u.dropdown_year,style:o.dropdown_year,onChange:A,value:n.getFullYear(),caption:h(n,{locale:a}),children:y.map(function(E){return c.jsx("option",{value:E.getFullYear(),children:h(E,{locale:a})},E.getFullYear())})})}function QAe(e,t){var n=T.useState(e),r=n[0],i=n[1],s=t===void 0?r:t;return[s,i]}function JAe(e){var t=e.month,n=e.defaultMonth,r=e.today,i=t||n||r||new Date,s=e.toDate,a=e.fromDate,o=e.numberOfMonths,u=o===void 0?1:o;if(s&&f1(s,i)<0){var d=-1*(u-1);i=Bo(s,d)}return a&&f1(i,a)<0&&(i=a),Ws(i)}function eEe(){var e=Kn(),t=JAe(e),n=QAe(t,e.month),r=n[0],i=n[1],s=function(a){var o;if(!e.disableNavigation){var u=Ws(a);i(u),(o=e.onMonthChange)===null||o===void 0||o.call(e,u)}};return[r,s]}function tEe(e,t){for(var n=t.reverseMonths,r=t.numberOfMonths,i=Ws(e),s=Ws(Bo(i,r)),a=f1(s,i),o=[],u=0;u<a;u++){var d=Bo(i,u);o.push(d)}return n&&(o=o.reverse()),o}function nEe(e,t){if(!t.disableNavigation){var n=t.toDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=Ws(e);if(!n)return Bo(o,a);var u=f1(n,e);if(!(u<s))return Bo(o,a)}}function rEe(e,t){if(!t.disableNavigation){var n=t.fromDate,r=t.pagedNavigation,i=t.numberOfMonths,s=i===void 0?1:i,a=r?s:1,o=Ws(e);if(!n)return Bo(o,-a);var u=f1(o,n);if(!(u<=0))return Bo(o,-a)}}var EQ=T.createContext(void 0);function iEe(e){var t=Kn(),n=eEe(),r=n[0],i=n[1],s=tEe(r,t),a=nEe(r,t),o=rEe(r,t),u=function(m){return s.some(function(y){return Wk(m,y)})},d=function(m,y){u(m)||(y&&bQ(m,y)?i(Bo(m,1+t.numberOfMonths*-1)):i(m))},h={currentMonth:r,displayMonths:s,goToMonth:i,goToDate:d,previousMonth:o,nextMonth:a,isDateDisplayed:u};return c.jsx(EQ.Provider,{value:h,children:e.children})}function Yv(){var e=T.useContext(EQ);if(!e)throw new Error("useNavigation must be used within a NavigationProvider");return e}function o8(e){var t,n=Kn(),r=n.classNames,i=n.styles,s=n.components,a=Yv().goToMonth,o=function(h){a(Bo(h,e.displayIndex?-e.displayIndex:0))},u=(t=s==null?void 0:s.CaptionLabel)!==null&&t!==void 0?t:CQ,d=c.jsx(u,{id:e.id,displayMonth:e.displayMonth});return c.jsxs("div",{className:r.caption_dropdowns,style:i.caption_dropdowns,children:[c.jsx("div",{className:r.vhidden,children:d}),c.jsx(YAe,{onChange:o,displayMonth:e.displayMonth}),c.jsx(ZAe,{onChange:o,displayMonth:e.displayMonth})]})}function sEe(e){return c.jsx("svg",Rt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function aEe(e){return c.jsx("svg",Rt({width:"16px",height:"16px",viewBox:"0 0 120 120"},e,{children:c.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var d2=T.forwardRef(function(e,t){var n=Kn(),r=n.classNames,i=n.styles,s=[r.button_reset,r.button];e.className&&s.push(e.className);var a=s.join(" "),o=Rt(Rt({},i.button_reset),i.button);return e.style&&Object.assign(o,e.style),c.jsx("button",Rt({},e,{ref:t,type:"button",className:a,style:o}))});function oEe(e){var t,n,r=Kn(),i=r.dir,s=r.locale,a=r.classNames,o=r.styles,u=r.labels,d=u.labelPrevious,h=u.labelNext,m=r.components;if(!e.nextMonth&&!e.previousMonth)return c.jsx(c.Fragment,{});var y=d(e.previousMonth,{locale:s}),b=[a.nav_button,a.nav_button_previous].join(" "),C=h(e.nextMonth,{locale:s}),w=[a.nav_button,a.nav_button_next].join(" "),A=(t=m==null?void 0:m.IconRight)!==null&&t!==void 0?t:aEe,_=(n=m==null?void 0:m.IconLeft)!==null&&n!==void 0?n:sEe;return c.jsxs("div",{className:a.nav,style:o.nav,children:[!e.hidePrevious&&c.jsx(d2,{name:"previous-month","aria-label":y,className:b,style:o.nav_button_previous,disabled:!e.previousMonth,onClick:e.onPreviousClick,children:i==="rtl"?c.jsx(A,{className:a.nav_icon,style:o.nav_icon}):c.jsx(_,{className:a.nav_icon,style:o.nav_icon})}),!e.hideNext&&c.jsx(d2,{name:"next-month","aria-label":C,className:w,style:o.nav_button_next,disabled:!e.nextMonth,onClick:e.onNextClick,children:i==="rtl"?c.jsx(_,{className:a.nav_icon,style:o.nav_icon}):c.jsx(A,{className:a.nav_icon,style:o.nav_icon})})]})}function l8(e){var t=Kn().numberOfMonths,n=Yv(),r=n.previousMonth,i=n.nextMonth,s=n.goToMonth,a=n.displayMonths,o=a.findIndex(function(C){return Wk(e.displayMonth,C)}),u=o===0,d=o===a.length-1,h=t>1&&(u||!d),m=t>1&&(d||!u),y=function(){r&&s(r)},b=function(){i&&s(i)};return c.jsx(oEe,{displayMonth:e.displayMonth,hideNext:h,hidePrevious:m,nextMonth:i,previousMonth:r,onPreviousClick:y,onNextClick:b})}function lEe(e){var t,n=Kn(),r=n.classNames,i=n.disableNavigation,s=n.styles,a=n.captionLayout,o=n.components,u=(t=o==null?void 0:o.CaptionLabel)!==null&&t!==void 0?t:CQ,d;return i?d=c.jsx(u,{id:e.id,displayMonth:e.displayMonth}):a==="dropdown"?d=c.jsx(o8,{displayMonth:e.displayMonth,id:e.id}):a==="dropdown-buttons"?d=c.jsxs(c.Fragment,{children:[c.jsx(o8,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id}),c.jsx(l8,{displayMonth:e.displayMonth,displayIndex:e.displayIndex,id:e.id})]}):d=c.jsxs(c.Fragment,{children:[c.jsx(u,{id:e.id,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c.jsx(l8,{displayMonth:e.displayMonth,id:e.id})]}),c.jsx("div",{className:r.caption,style:s.caption,children:d})}function cEe(e){var t=Kn(),n=t.footer,r=t.styles,i=t.classNames.tfoot;return n?c.jsx("tfoot",{className:i,style:r.tfoot,children:c.jsx("tr",{children:c.jsx("td",{colSpan:8,children:n})})}):c.jsx(c.Fragment,{})}function uEe(e,t,n){for(var r=n?Zf(new Date):ga(new Date,{locale:e,weekStartsOn:t}),i=[],s=0;s<7;s++){var a=ki(r,s);i.push(a)}return i}function dEe(){var e=Kn(),t=e.classNames,n=e.styles,r=e.showWeekNumber,i=e.locale,s=e.weekStartsOn,a=e.ISOWeek,o=e.formatters.formatWeekdayName,u=e.labels.labelWeekday,d=uEe(i,s,a);return c.jsxs("tr",{style:n.head_row,className:t.head_row,children:[r&&c.jsx("td",{style:n.head_cell,className:t.head_cell}),d.map(function(h,m){return c.jsx("th",{scope:"col",className:t.head_cell,style:n.head_cell,"aria-label":u(h,{locale:i}),children:o(h,{locale:i})},m)})]})}function fEe(){var e,t=Kn(),n=t.classNames,r=t.styles,i=t.components,s=(e=i==null?void 0:i.HeadRow)!==null&&e!==void 0?e:dEe;return c.jsx("thead",{style:r.head,className:n.head,children:c.jsx(s,{})})}function hEe(e){var t=Kn(),n=t.locale,r=t.formatters.formatDay;return c.jsx(c.Fragment,{children:r(e.date,{locale:n})})}var Hk=T.createContext(void 0);function pEe(e){if(!Kv(e.initialProps)){var t={selected:void 0,modifiers:{disabled:[]}};return c.jsx(Hk.Provider,{value:t,children:e.children})}return c.jsx(mEe,{initialProps:e.initialProps,children:e.children})}function mEe(e){var t=e.initialProps,n=e.children,r=t.selected,i=t.min,s=t.max,a=function(d,h,m){var y,b;(y=t.onDayClick)===null||y===void 0||y.call(t,d,h,m);var C=!!(h.selected&&i&&(r==null?void 0:r.length)===i);if(!C){var w=!!(!h.selected&&s&&(r==null?void 0:r.length)===s);if(!w){var A=r?wQ([],r):[];if(h.selected){var _=A.findIndex(function(E){return Ds(d,E)});A.splice(_,1)}else A.push(d);(b=t.onSelect)===null||b===void 0||b.call(t,A,d,h,m)}}},o={disabled:[]};r&&o.disabled.push(function(d){var h=s&&r.length>s-1,m=r.some(function(y){return Ds(y,d)});return!!(h&&!m)});var u={selected:r,onDayClick:a,modifiers:o};return c.jsx(Hk.Provider,{value:u,children:n})}function Gk(){var e=T.useContext(Hk);if(!e)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return e}function gEe(e,t){var n=t||{},r=n.from,i=n.to;return r&&i?Ds(i,e)&&Ds(r,e)?void 0:Ds(i,e)?{from:i,to:void 0}:Ds(r,e)?void 0:bP(r,e)?{from:e,to:i}:{from:r,to:e}:i?bP(e,i)?{from:i,to:e}:{from:e,to:i}:r?bQ(e,r)?{from:e,to:r}:{from:r,to:e}:{from:e,to:void 0}}var qk=T.createContext(void 0);function yEe(e){if(!Xv(e.initialProps)){var t={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return c.jsx(qk.Provider,{value:t,children:e.children})}return c.jsx(vEe,{initialProps:e.initialProps,children:e.children})}function vEe(e){var t=e.initialProps,n=e.children,r=t.selected,i=r||{},s=i.from,a=i.to,o=t.min,u=t.max,d=function(b,C,w){var A,_;(A=t.onDayClick)===null||A===void 0||A.call(t,b,C,w);var E=gEe(b,r);(_=t.onSelect)===null||_===void 0||_.call(t,E,b,C,w)},h={range_start:[],range_end:[],range_middle:[],disabled:[]};if(s?(h.range_start=[s],a?(h.range_end=[a],Ds(s,a)||(h.range_middle=[{after:s,before:a}])):h.range_end=[s]):a&&(h.range_start=[a],h.range_end=[a]),o&&(s&&!a&&h.disabled.push({after:u_(s,o-1),before:ki(s,o-1)}),s&&a&&h.disabled.push({after:s,before:ki(s,o-1)}),!s&&a&&h.disabled.push({after:u_(a,o-1),before:ki(a,o-1)})),u){if(s&&!a&&(h.disabled.push({before:ki(s,-u+1)}),h.disabled.push({after:ki(s,u-1)})),s&&a){var m=pl(a,s)+1,y=u-m;h.disabled.push({before:u_(s,y)}),h.disabled.push({after:ki(a,y)})}!s&&a&&(h.disabled.push({before:ki(a,-u+1)}),h.disabled.push({after:ki(a,u-1)}))}return c.jsx(qk.Provider,{value:{selected:r,onDayClick:d,modifiers:h},children:n})}function Kk(){var e=T.useContext(qk);if(!e)throw new Error("useSelectRange must be used within a SelectRangeProvider");return e}function ew(e){return Array.isArray(e)?wQ([],e):e!==void 0?[e]:[]}function xEe(e){var t={};return Object.entries(e).forEach(function(n){var r=n[0],i=n[1];t[r]=ew(i)}),t}var $o;(function(e){e.Outside="outside",e.Disabled="disabled",e.Selected="selected",e.Hidden="hidden",e.Today="today",e.RangeStart="range_start",e.RangeEnd="range_end",e.RangeMiddle="range_middle"})($o||($o={}));var bEe=$o.Selected,Vl=$o.Disabled,wEe=$o.Hidden,SEe=$o.Today,f_=$o.RangeEnd,h_=$o.RangeMiddle,p_=$o.RangeStart,CEe=$o.Outside;function AEe(e,t,n){var r,i=(r={},r[bEe]=ew(e.selected),r[Vl]=ew(e.disabled),r[wEe]=ew(e.hidden),r[SEe]=[e.today],r[f_]=[],r[h_]=[],r[p_]=[],r[CEe]=[],r);return e.fromDate&&i[Vl].push({before:e.fromDate}),e.toDate&&i[Vl].push({after:e.toDate}),Kv(e)?i[Vl]=i[Vl].concat(t.modifiers[Vl]):Xv(e)&&(i[Vl]=i[Vl].concat(n.modifiers[Vl]),i[p_]=n.modifiers[p_],i[h_]=n.modifiers[h_],i[f_]=n.modifiers[f_]),i}var _Q=T.createContext(void 0);function EEe(e){var t=Kn(),n=Gk(),r=Kk(),i=AEe(t,n,r),s=xEe(t.modifiers),a=Rt(Rt({},i),s);return c.jsx(_Q.Provider,{value:a,children:e.children})}function TQ(){var e=T.useContext(_Q);if(!e)throw new Error("useModifiers must be used within a ModifiersProvider");return e}function _Ee(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function TEe(e){return!!(e&&typeof e=="object"&&"from"in e)}function NEe(e){return!!(e&&typeof e=="object"&&"after"in e)}function PEe(e){return!!(e&&typeof e=="object"&&"before"in e)}function OEe(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function jEe(e,t){var n,r=t.from,i=t.to;if(r&&i){var s=pl(i,r)<0;s&&(n=[i,r],r=n[0],i=n[1]);var a=pl(e,r)>=0&&pl(i,e)>=0;return a}return i?Ds(i,e):r?Ds(r,e):!1}function kEe(e){return zk(e)}function IEe(e){return Array.isArray(e)&&e.every(zk)}function MEe(e,t){return t.some(function(n){if(typeof n=="boolean")return n;if(kEe(n))return Ds(e,n);if(IEe(n))return n.includes(e);if(TEe(n))return jEe(e,n);if(OEe(n))return n.dayOfWeek.includes(e.getDay());if(_Ee(n)){var r=pl(n.before,e),i=pl(n.after,e),s=r>0,a=i<0,o=bP(n.before,n.after);return o?a&&s:s||a}return NEe(n)?pl(e,n.after)>0:PEe(n)?pl(n.before,e)>0:typeof n=="function"?n(e):!1})}function Xk(e,t,n){var r=Object.keys(t).reduce(function(s,a){var o=t[a];return MEe(e,o)&&s.push(a),s},[]),i={};return r.forEach(function(s){return i[s]=!0}),n&&!Wk(e,n)&&(i.outside=!0),i}function DEe(e,t){for(var n=Ws(e[0]),r=Vk(e[e.length-1]),i,s,a=n;a<=r;){var o=Xk(a,t),u=!o.disabled&&!o.hidden;if(!u){a=ki(a,1);continue}if(o.selected)return a;o.today&&!s&&(s=a),i||(i=a),a=ki(a,1)}return s||i}var REe=365;function NQ(e,t){var n=t.moveBy,r=t.direction,i=t.context,s=t.modifiers,a=t.retry,o=a===void 0?{count:0,lastFocused:e}:a,u=i.weekStartsOn,d=i.fromDate,h=i.toDate,m=i.locale,y={day:ki,week:xP,month:Bo,year:ACe,startOfWeek:function(A){return i.ISOWeek?Zf(A):ga(A,{locale:m,weekStartsOn:u})},endOfWeek:function(A){return i.ISOWeek?pQ(A):_p(A,{locale:m,weekStartsOn:u})}},b=y[n](e,r==="after"?1:-1);r==="before"&&d?b=ECe([d,b]):r==="after"&&h&&(b=_Ce([h,b]));var C=!0;if(s){var w=Xk(b,s);C=!w.disabled&&!w.hidden}return C?b:o.count>REe?o.lastFocused:NQ(b,{moveBy:n,direction:r,context:i,modifiers:s,retry:Rt(Rt({},o),{count:o.count+1})})}var PQ=T.createContext(void 0);function FEe(e){var t=Yv(),n=TQ(),r=T.useState(),i=r[0],s=r[1],a=T.useState(),o=a[0],u=a[1],d=DEe(t.displayMonths,n),h=i??(o&&t.isDateDisplayed(o))?o:d,m=function(){u(i),s(void 0)},y=function(A){s(A)},b=Kn(),C=function(A,_){if(i){var E=NQ(i,{moveBy:A,direction:_,context:b,modifiers:n});Ds(i,E)||(t.goToDate(E,i),y(E))}},w={focusedDay:i,focusTarget:h,blur:m,focus:y,focusDayAfter:function(){return C("day","after")},focusDayBefore:function(){return C("day","before")},focusWeekAfter:function(){return C("week","after")},focusWeekBefore:function(){return C("week","before")},focusMonthBefore:function(){return C("month","before")},focusMonthAfter:function(){return C("month","after")},focusYearBefore:function(){return C("year","before")},focusYearAfter:function(){return C("year","after")},focusStartOfWeek:function(){return C("startOfWeek","before")},focusEndOfWeek:function(){return C("endOfWeek","after")}};return c.jsx(PQ.Provider,{value:w,children:e.children})}function Yk(){var e=T.useContext(PQ);if(!e)throw new Error("useFocusContext must be used within a FocusProvider");return e}function LEe(e,t){var n=TQ(),r=Xk(e,n,t);return r}var Zk=T.createContext(void 0);function BEe(e){if(!VC(e.initialProps)){var t={selected:void 0};return c.jsx(Zk.Provider,{value:t,children:e.children})}return c.jsx($Ee,{initialProps:e.initialProps,children:e.children})}function $Ee(e){var t=e.initialProps,n=e.children,r=function(s,a,o){var u,d,h;if((u=t.onDayClick)===null||u===void 0||u.call(t,s,a,o),a.selected&&!t.required){(d=t.onSelect)===null||d===void 0||d.call(t,void 0,s,a,o);return}(h=t.onSelect)===null||h===void 0||h.call(t,s,s,a,o)},i={selected:t.selected,onDayClick:r};return c.jsx(Zk.Provider,{value:i,children:n})}function OQ(){var e=T.useContext(Zk);if(!e)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return e}function UEe(e,t){var n=Kn(),r=OQ(),i=Gk(),s=Kk(),a=Yk(),o=a.focusDayAfter,u=a.focusDayBefore,d=a.focusWeekAfter,h=a.focusWeekBefore,m=a.blur,y=a.focus,b=a.focusMonthBefore,C=a.focusMonthAfter,w=a.focusYearBefore,A=a.focusYearAfter,_=a.focusStartOfWeek,E=a.focusEndOfWeek,N=function(G){var W,oe,J,Y;VC(n)?(W=r.onDayClick)===null||W===void 0||W.call(r,e,t,G):Kv(n)?(oe=i.onDayClick)===null||oe===void 0||oe.call(i,e,t,G):Xv(n)?(J=s.onDayClick)===null||J===void 0||J.call(s,e,t,G):(Y=n.onDayClick)===null||Y===void 0||Y.call(n,e,t,G)},I=function(G){var W;y(e),(W=n.onDayFocus)===null||W===void 0||W.call(n,e,t,G)},O=function(G){var W;m(),(W=n.onDayBlur)===null||W===void 0||W.call(n,e,t,G)},k=function(G){var W;(W=n.onDayMouseEnter)===null||W===void 0||W.call(n,e,t,G)},M=function(G){var W;(W=n.onDayMouseLeave)===null||W===void 0||W.call(n,e,t,G)},R=function(G){var W;(W=n.onDayPointerEnter)===null||W===void 0||W.call(n,e,t,G)},L=function(G){var W;(W=n.onDayPointerLeave)===null||W===void 0||W.call(n,e,t,G)},U=function(G){var W;(W=n.onDayTouchCancel)===null||W===void 0||W.call(n,e,t,G)},X=function(G){var W;(W=n.onDayTouchEnd)===null||W===void 0||W.call(n,e,t,G)},F=function(G){var W;(W=n.onDayTouchMove)===null||W===void 0||W.call(n,e,t,G)},V=function(G){var W;(W=n.onDayTouchStart)===null||W===void 0||W.call(n,e,t,G)},Z=function(G){var W;(W=n.onDayKeyUp)===null||W===void 0||W.call(n,e,t,G)},H=function(G){var W;switch(G.key){case"ArrowLeft":G.preventDefault(),G.stopPropagation(),n.dir==="rtl"?o():u();break;case"ArrowRight":G.preventDefault(),G.stopPropagation(),n.dir==="rtl"?u():o();break;case"ArrowDown":G.preventDefault(),G.stopPropagation(),d();break;case"ArrowUp":G.preventDefault(),G.stopPropagation(),h();break;case"PageUp":G.preventDefault(),G.stopPropagation(),G.shiftKey?w():b();break;case"PageDown":G.preventDefault(),G.stopPropagation(),G.shiftKey?A():C();break;case"Home":G.preventDefault(),G.stopPropagation(),_();break;case"End":G.preventDefault(),G.stopPropagation(),E();break}(W=n.onDayKeyDown)===null||W===void 0||W.call(n,e,t,G)},q={onClick:N,onFocus:I,onBlur:O,onKeyDown:H,onKeyUp:Z,onMouseEnter:k,onMouseLeave:M,onPointerEnter:R,onPointerLeave:L,onTouchCancel:U,onTouchEnd:X,onTouchMove:F,onTouchStart:V};return q}function zEe(){var e=Kn(),t=OQ(),n=Gk(),r=Kk(),i=VC(e)?t.selected:Kv(e)?n.selected:Xv(e)?r.selected:void 0;return i}function VEe(e){return Object.values($o).includes(e)}function WEe(e,t){var n=[e.classNames.day];return Object.keys(t).forEach(function(r){var i=e.modifiersClassNames[r];if(i)n.push(i);else if(VEe(r)){var s=e.classNames["day_".concat(r)];s&&n.push(s)}}),n}function HEe(e,t){var n=Rt({},e.styles.day);return Object.keys(t).forEach(function(r){var i;n=Rt(Rt({},n),(i=e.modifiersStyles)===null||i===void 0?void 0:i[r])}),n}function GEe(e,t,n){var r,i,s,a=Kn(),o=Yk(),u=LEe(e,t),d=UEe(e,u),h=zEe(),m=!!(a.onDayClick||a.mode!=="default");T.useEffect(function(){var k;u.outside||o.focusedDay&&m&&Ds(o.focusedDay,e)&&((k=n.current)===null||k===void 0||k.focus())},[o.focusedDay,e,n,m,u.outside]);var y=WEe(a,u).join(" "),b=HEe(a,u),C=!!(u.outside&&!a.showOutsideDays||u.hidden),w=(s=(i=a.components)===null||i===void 0?void 0:i.DayContent)!==null&&s!==void 0?s:hEe,A=c.jsx(w,{date:e,displayMonth:t,activeModifiers:u}),_={style:b,className:y,children:A,role:"gridcell"},E=o.focusTarget&&Ds(o.focusTarget,e)&&!u.outside,N=o.focusedDay&&Ds(o.focusedDay,e),I=Rt(Rt(Rt({},_),(r={disabled:u.disabled,role:"gridcell"},r["aria-selected"]=u.selected,r.tabIndex=N||E?0:-1,r)),d),O={isButton:m,isHidden:C,activeModifiers:u,selectedDays:h,buttonProps:I,divProps:_};return O}function qEe(e){var t=T.useRef(null),n=GEe(e.date,e.displayMonth,t);return n.isHidden?c.jsx("div",{role:"gridcell"}):n.isButton?c.jsx(d2,Rt({name:"day",ref:t},n.buttonProps)):c.jsx("div",Rt({},n.divProps))}function KEe(e){var t=e.number,n=e.dates,r=Kn(),i=r.onWeekNumberClick,s=r.styles,a=r.classNames,o=r.locale,u=r.labels.labelWeekNumber,d=r.formatters.formatWeekNumber,h=d(Number(t),{locale:o});if(!i)return c.jsx("span",{className:a.weeknumber,style:s.weeknumber,children:h});var m=u(Number(t),{locale:o}),y=function(b){i(t,n,b)};return c.jsx(d2,{name:"week-number","aria-label":m,className:a.weeknumber,style:s.weeknumber,onClick:y,children:h})}function XEe(e){var t,n,r=Kn(),i=r.styles,s=r.classNames,a=r.showWeekNumber,o=r.components,u=(t=o==null?void 0:o.Day)!==null&&t!==void 0?t:qEe,d=(n=o==null?void 0:o.WeekNumber)!==null&&n!==void 0?n:KEe,h;return a&&(h=c.jsx("td",{className:s.cell,style:i.cell,children:c.jsx(d,{number:e.weekNumber,dates:e.dates})})),c.jsxs("tr",{className:s.row,style:i.row,children:[h,e.dates.map(function(m){return c.jsx("td",{className:s.cell,style:i.cell,role:"presentation",children:c.jsx(u,{displayMonth:e.displayMonth,date:m})},EAe(m))})]})}function c8(e,t,n){for(var r=n!=null&&n.ISOWeek?pQ(t):_p(t,n),i=n!=null&&n.ISOWeek?Zf(e):ga(e,n),s=pl(r,i),a=[],o=0;o<=s;o++)a.push(ki(i,o));var u=a.reduce(function(d,h){var m=n!=null&&n.ISOWeek?gQ(h):vQ(h,n),y=d.find(function(b){return b.weekNumber===m});return y?(y.dates.push(h),d):(d.push({weekNumber:m,dates:[h]}),d)},[]);return u}function YEe(e,t){var n=c8(Ws(e),Vk(e),t);if(t!=null&&t.useFixedWeeks){var r=TAe(e,t);if(r<6){var i=n[n.length-1],s=i.dates[i.dates.length-1],a=xP(s,6-r),o=c8(xP(s,1),a,t);n.push.apply(n,o)}}return n}function ZEe(e){var t,n,r,i=Kn(),s=i.locale,a=i.classNames,o=i.styles,u=i.hideHead,d=i.fixedWeeks,h=i.components,m=i.weekStartsOn,y=i.firstWeekContainsDate,b=i.ISOWeek,C=YEe(e.displayMonth,{useFixedWeeks:!!d,ISOWeek:b,locale:s,weekStartsOn:m,firstWeekContainsDate:y}),w=(t=h==null?void 0:h.Head)!==null&&t!==void 0?t:fEe,A=(n=h==null?void 0:h.Row)!==null&&n!==void 0?n:XEe,_=(r=h==null?void 0:h.Footer)!==null&&r!==void 0?r:cEe;return c.jsxs("table",{id:e.id,className:a.table,style:o.table,role:"grid","aria-labelledby":e["aria-labelledby"],children:[!u&&c.jsx(w,{}),c.jsx("tbody",{className:a.tbody,style:o.tbody,children:C.map(function(E){return c.jsx(A,{displayMonth:e.displayMonth,dates:E.dates,weekNumber:E.weekNumber},E.weekNumber)})}),c.jsx(_,{displayMonth:e.displayMonth})]})}function QEe(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var JEe=QEe()?T.useLayoutEffect:T.useEffect,m_=!1,e_e=0;function u8(){return"react-day-picker-".concat(++e_e)}function t_e(e){var t,n=e??(m_?u8():null),r=T.useState(n),i=r[0],s=r[1];return JEe(function(){i===null&&s(u8())},[]),T.useEffect(function(){m_===!1&&(m_=!0)},[]),(t=e??i)!==null&&t!==void 0?t:void 0}function n_e(e){var t,n,r=Kn(),i=r.dir,s=r.classNames,a=r.styles,o=r.components,u=Yv().displayMonths,d=t_e(r.id?"".concat(r.id,"-").concat(e.displayIndex):void 0),h=r.id?"".concat(r.id,"-grid-").concat(e.displayIndex):void 0,m=[s.month],y=a.month,b=e.displayIndex===0,C=e.displayIndex===u.length-1,w=!b&&!C;i==="rtl"&&(t=[b,C],C=t[0],b=t[1]),b&&(m.push(s.caption_start),y=Rt(Rt({},y),a.caption_start)),C&&(m.push(s.caption_end),y=Rt(Rt({},y),a.caption_end)),w&&(m.push(s.caption_between),y=Rt(Rt({},y),a.caption_between));var A=(n=o==null?void 0:o.Caption)!==null&&n!==void 0?n:lEe;return c.jsxs("div",{className:m.join(" "),style:y,children:[c.jsx(A,{id:d,displayMonth:e.displayMonth,displayIndex:e.displayIndex}),c.jsx(ZEe,{id:h,"aria-labelledby":d,displayMonth:e.displayMonth})]},e.displayIndex)}function r_e(e){var t=Kn(),n=t.classNames,r=t.styles;return c.jsx("div",{className:n.months,style:r.months,children:e.children})}function i_e(e){var t,n,r=e.initialProps,i=Kn(),s=Yk(),a=Yv(),o=T.useState(!1),u=o[0],d=o[1];T.useEffect(function(){i.initialFocus&&s.focusTarget&&(u||(s.focus(s.focusTarget),d(!0)))},[i.initialFocus,u,s.focus,s.focusTarget,s]);var h=[i.classNames.root,i.className];i.numberOfMonths>1&&h.push(i.classNames.multiple_months),i.showWeekNumber&&h.push(i.classNames.with_weeknumber);var m=Rt(Rt({},i.styles.root),i.style),y=Object.keys(r).filter(function(C){return C.startsWith("data-")}).reduce(function(C,w){var A;return Rt(Rt({},C),(A={},A[w]=r[w],A))},{}),b=(n=(t=r.components)===null||t===void 0?void 0:t.Months)!==null&&n!==void 0?n:r_e;return c.jsx("div",Rt({className:h.join(" "),style:m,dir:i.dir,id:i.id,nonce:r.nonce,title:r.title,lang:r.lang},y,{children:c.jsx(b,{children:a.displayMonths.map(function(C,w){return c.jsx(n_e,{displayIndex:w,displayMonth:C},w)})})}))}function s_e(e){var t=e.children,n=PAe(e,["children"]);return c.jsx(KAe,{initialProps:n,children:c.jsx(iEe,{children:c.jsx(BEe,{initialProps:n,children:c.jsx(pEe,{initialProps:n,children:c.jsx(yEe,{initialProps:n,children:c.jsx(EEe,{children:c.jsx(FEe,{children:t})})})})})})})}function a_e(e){return c.jsx(s_e,Rt({},e,{children:c.jsx(i_e,{initialProps:e})}))}function f2({className:e,classNames:t,showOutsideDays:n=!0,...r}){return c.jsx(a_e,{showOutsideDays:n,className:Te("p-3",e),classNames:{months:"flex flex-col sm:flex-row space-y-4 sm:space-x-4 sm:space-y-0",month:"space-y-4",caption:"flex justify-center pt-1 relative items-center",caption_label:"text-sm font-medium",nav:"space-x-1 flex items-center",nav_button:Te(Gy({variant:"outline"}),"h-7 w-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-y-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-9 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:"h-9 w-9 text-center text-sm p-0 relative [&:has([aria-selected].day-range-end)]:rounded-r-md [&:has([aria-selected].day-outside)]:bg-accent/50 [&:has([aria-selected])]:bg-accent first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md focus-within:relative focus-within:z-20",day:Te(Gy({variant:"ghost"}),"h-9 w-9 p-0 font-normal aria-selected:opacity-100"),day_range_end:"day-range-end",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:bg-accent/50 aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...t},components:{IconLeft:({className:i,...s})=>c.jsx(hC,{className:Te("h-4 w-4",i),...s}),IconRight:({className:i,...s})=>c.jsx(zf,{className:Te("h-4 w-4",i),...s})},...r})}f2.displayName="Calendar";var Qk="Popover",[jQ,Ftt]=Yr(Qk,[wg]),Zv=wg(),[o_e,md]=jQ(Qk),kQ=e=>{const{__scopePopover:t,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:a=!1}=e,o=Zv(t),u=T.useRef(null),[d,h]=T.useState(!1),[m=!1,y]=Qi({prop:r,defaultProp:i,onChange:s});return c.jsx(Fj,{...o,children:c.jsx(o_e,{scope:t,contentId:Mi(),triggerRef:u,open:m,onOpenChange:y,onOpenToggle:T.useCallback(()=>y(b=>!b),[y]),hasCustomAnchor:d,onCustomAnchorAdd:T.useCallback(()=>h(!0),[]),onCustomAnchorRemove:T.useCallback(()=>h(!1),[]),modal:a,children:n})})};kQ.displayName=Qk;var IQ="PopoverAnchor",l_e=T.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=md(IQ,n),s=Zv(n),{onCustomAnchorAdd:a,onCustomAnchorRemove:o}=i;return T.useEffect(()=>(a(),()=>o()),[a,o]),c.jsx(vC,{...s,...r,ref:t})});l_e.displayName=IQ;var MQ="PopoverTrigger",DQ=T.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=md(MQ,n),s=Zv(n),a=$t(t,i.triggerRef),o=c.jsx(Je.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":$Q(i.open),...r,ref:a,onClick:Qe(e.onClick,i.onOpenToggle)});return i.hasCustomAnchor?o:c.jsx(vC,{asChild:!0,...s,children:o})});DQ.displayName=MQ;var Jk="PopoverPortal",[c_e,u_e]=jQ(Jk,{forceMount:void 0}),RQ=e=>{const{__scopePopover:t,forceMount:n,children:r,container:i}=e,s=md(Jk,t);return c.jsx(c_e,{scope:t,forceMount:n,children:c.jsx(es,{present:n||s.open,children:c.jsx(jv,{asChild:!0,container:i,children:r})})})};RQ.displayName=Jk;var km="PopoverContent",FQ=T.forwardRef((e,t)=>{const n=u_e(km,e.__scopePopover),{forceMount:r=n.forceMount,...i}=e,s=md(km,e.__scopePopover);return c.jsx(es,{present:r||s.open,children:s.modal?c.jsx(f_e,{...i,ref:t}):c.jsx(h_e,{...i,ref:t})})});FQ.displayName=km;var d_e=Uf("PopoverContent.RemoveScroll"),f_e=T.forwardRef((e,t)=>{const n=md(km,e.__scopePopover),r=T.useRef(null),i=$t(t,r),s=T.useRef(!1);return T.useEffect(()=>{const a=r.current;if(a)return zj(a)},[]),c.jsx(_C,{as:d_e,allowPinchZoom:!0,children:c.jsx(LQ,{...e,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Qe(e.onCloseAutoFocus,a=>{var o;a.preventDefault(),s.current||(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:Qe(e.onPointerDownOutside,a=>{const o=a.detail.originalEvent,u=o.button===0&&o.ctrlKey===!0,d=o.button===2||u;s.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:Qe(e.onFocusOutside,a=>a.preventDefault(),{checkForDefaultPrevented:!1})})})}),h_e=T.forwardRef((e,t)=>{const n=md(km,e.__scopePopover),r=T.useRef(!1),i=T.useRef(!1);return c.jsx(LQ,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var a,o;(a=e.onCloseAutoFocus)==null||a.call(e,s),s.defaultPrevented||(r.current||(o=n.triggerRef.current)==null||o.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var u,d;(u=e.onInteractOutside)==null||u.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const a=s.target;((d=n.triggerRef.current)==null?void 0:d.contains(a))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),LQ=T.forwardRef((e,t)=>{const{__scopePopover:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,disableOutsidePointerEvents:a,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:h,...m}=e,y=md(km,n),b=Zv(n);return Uj(),c.jsx(AC,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:c.jsx(yg,{asChild:!0,disableOutsidePointerEvents:a,onInteractOutside:h,onEscapeKeyDown:o,onPointerDownOutside:u,onFocusOutside:d,onDismiss:()=>y.onOpenChange(!1),children:c.jsx(Lj,{"data-state":$Q(y.open),role:"dialog",id:y.contentId,...b,...m,ref:t,style:{...m.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),BQ="PopoverClose",p_e=T.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=md(BQ,n);return c.jsx(Je.button,{type:"button",...r,ref:t,onClick:Qe(e.onClick,()=>i.onOpenChange(!1))})});p_e.displayName=BQ;var m_e="PopoverArrow",g_e=T.forwardRef((e,t)=>{const{__scopePopover:n,...r}=e,i=Zv(n);return c.jsx(Bj,{...i,...r,ref:t})});g_e.displayName=m_e;function $Q(e){return e?"open":"closed"}var y_e=kQ,v_e=DQ,x_e=RQ,UQ=FQ;const eI=y_e,tI=v_e,WC=T.forwardRef(({className:e,align:t="center",sideOffset:n=4,...r},i)=>c.jsx(x_e,{children:c.jsx(UQ,{ref:i,align:t,sideOffset:n,className:Te("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-popover-content-transform-origin]",e),...r})}));WC.displayName=UQ.displayName;const Le=Symbol.for("drizzle:entityKind");function Wr(e,t){if(!e||typeof e!="object")return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,Le))throw new Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let n=Object.getPrototypeOf(e).constructor;if(n)for(;n;){if(Le in n&&n[Le]===t[Le])return!0;n=Object.getPrototypeOf(n)}return!1}var hB;hB=Le;class Im{constructor(t,n){Q(this,"name");Q(this,"keyAsName");Q(this,"primary");Q(this,"notNull");Q(this,"default");Q(this,"defaultFn");Q(this,"onUpdateFn");Q(this,"hasDefault");Q(this,"isUnique");Q(this,"uniqueName");Q(this,"uniqueType");Q(this,"dataType");Q(this,"columnType");Q(this,"enumValues");Q(this,"generated");Q(this,"generatedIdentity");Q(this,"config");this.table=t,this.config=n,this.name=n.name,this.keyAsName=n.keyAsName,this.notNull=n.notNull,this.default=n.default,this.defaultFn=n.defaultFn,this.onUpdateFn=n.onUpdateFn,this.hasDefault=n.hasDefault,this.primary=n.primaryKey,this.isUnique=n.isUnique,this.uniqueName=n.uniqueName,this.uniqueType=n.uniqueType,this.dataType=n.dataType,this.columnType=n.columnType,this.generated=n.generated,this.generatedIdentity=n.generatedIdentity}mapFromDriverValue(t){return t}mapToDriverValue(t){return t}shouldDisableInsert(){return this.config.generated!==void 0&&this.config.generated.type!=="byDefault"}}Q(Im,hB,"Column");var pB;pB=Le;class zQ{constructor(t,n,r){Q(this,"config");Q(this,"$default",this.$defaultFn);Q(this,"$onUpdate",this.$onUpdateFn);this.config={name:t,keyAsName:t==="",notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:n,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(t){return this.config.default=t,this.config.hasDefault=!0,this}$defaultFn(t){return this.config.defaultFn=t,this.config.hasDefault=!0,this}$onUpdateFn(t){return this.config.onUpdateFn=t,this.config.hasDefault=!0,this}primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(t){this.config.name===""&&(this.config.name=t)}}Q(zQ,pB,"ColumnBuilder");const Tp=Symbol.for("drizzle:Name");var mB;mB=Le;class VQ{constructor(t,n){Q(this,"reference");Q(this,"_onUpdate","no action");Q(this,"_onDelete","no action");this.reference=()=>{const{name:r,columns:i,foreignColumns:s}=t();return{name:r,columns:i,foreignTable:s[0].table,foreignColumns:s}},n&&(this._onUpdate=n.onUpdate,this._onDelete=n.onDelete)}onUpdate(t){return this._onUpdate=t===void 0?"no action":t,this}onDelete(t){return this._onDelete=t===void 0?"no action":t,this}build(t){return new WQ(t,this)}}Q(VQ,mB,"PgForeignKeyBuilder");var gB;gB=Le;class WQ{constructor(t,n){Q(this,"reference");Q(this,"onUpdate");Q(this,"onDelete");this.table=t,this.reference=n.reference,this.onUpdate=n._onUpdate,this.onDelete=n._onDelete}getName(){const{name:t,columns:n,foreignColumns:r}=this.reference(),i=n.map(o=>o.name),s=r.map(o=>o.name),a=[this.table[Tp],...i,r[0].table[Tp],...s];return t??`${a.join("_")}_fk`}}Q(WQ,gB,"PgForeignKey");function b_e(e,...t){return e(...t)}function w_e(e,t){return`${e[Tp]}_${t.join("_")}_unique`}function d8(e,t,n){for(let r=t;r<e.length;r++){const i=e[r];if(i==="\\"){r++;continue}if(i==='"')return[e.slice(t,r).replace(/\\/g,""),r+1];if(!n&&(i===","||i==="}"))return[e.slice(t,r).replace(/\\/g,""),r]}return[e.slice(t).replace(/\\/g,""),e.length]}function HQ(e,t=0){const n=[];let r=t,i=!1;for(;r<e.length;){const s=e[r];if(s===","){(i||r===t)&&n.push(""),i=!0,r++;continue}if(i=!1,s==="\\"){r+=2;continue}if(s==='"'){const[u,d]=d8(e,r+1,!0);n.push(u),r=d;continue}if(s==="}")return[n,r+1];if(s==="{"){const[u,d]=HQ(e,r+1);n.push(u),r=d;continue}const[a,o]=d8(e,r,!1);n.push(a),r=o}return[n,r]}function S_e(e){const[t]=HQ(e,1);return t}function GQ(e){return`{${e.map(t=>Array.isArray(t)?GQ(t):typeof t=="string"?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}var yB,vB;class dn extends(vB=zQ,yB=Le,vB){constructor(){super(...arguments);Q(this,"foreignKeyConfigs",[])}array(n){return new KQ(this.config.name,this,n)}references(n,r={}){return this.foreignKeyConfigs.push({ref:n,actions:r}),this}unique(n,r){return this.config.isUnique=!0,this.config.uniqueName=n,this.config.uniqueType=r==null?void 0:r.nulls,this}generatedAlwaysAs(n){return this.config.generated={as:n,type:"always",mode:"stored"},this}buildForeignKeys(n,r){return this.foreignKeyConfigs.map(({ref:i,actions:s})=>b_e((a,o)=>{const u=new VQ(()=>{const d=a();return{columns:[n],foreignColumns:[d]}});return o.onUpdate&&u.onUpdate(o.onUpdate),o.onDelete&&u.onDelete(o.onDelete),u.build(r)},i,s))}buildExtraConfigColumn(n){return new qQ(n,this.config)}}Q(dn,yB,"PgColumnBuilder");var xB,bB;class qt extends(bB=Im,xB=Le,bB){constructor(t,n){n.uniqueName||(n.uniqueName=w_e(t,[n.name])),super(t,n),this.table=t}}Q(qt,xB,"PgColumn");var wB,SB;class qQ extends(SB=qt,wB=Le,SB){constructor(){super(...arguments);Q(this,"indexConfig",{order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass});Q(this,"defaultConfig",{order:"asc",nulls:"last",opClass:void 0})}getSQLType(){return this.getSQLType()}asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(n){return this.indexConfig.opClass=n,this}}Q(qQ,wB,"ExtraConfigColumn");var CB;CB=Le;class tw{constructor(t,n,r,i){Q(this,"name");Q(this,"keyAsName");Q(this,"type");Q(this,"indexConfig");this.name=t,this.keyAsName=n,this.type=r,this.indexConfig=i}}Q(tw,CB,"IndexedColumn");var AB,EB;class KQ extends(EB=dn,AB=Le,EB){constructor(t,n,r){super(t,"array","PgArray"),this.config.baseBuilder=n,this.config.size=r}build(t){const n=this.config.baseBuilder.build(t);return new wP(t,this.config,n)}}Q(KQ,AB,"PgArrayBuilder");var _B,TB;const HS=class HS extends(TB=qt,_B=Le,TB){constructor(n,r,i,s){super(n,r);Q(this,"size");this.baseColumn=i,this.range=s,this.size=r.size}getSQLType(){return`${this.baseColumn.getSQLType()}[${typeof this.size=="number"?this.size:""}]`}mapFromDriverValue(n){return typeof n=="string"&&(n=S_e(n)),n.map(r=>this.baseColumn.mapFromDriverValue(r))}mapToDriverValue(n,r=!1){const i=n.map(s=>s===null?null:Wr(this.baseColumn,HS)?this.baseColumn.mapToDriverValue(s,!0):this.baseColumn.mapToDriverValue(s));return r?i:GQ(i)}};Q(HS,_B,"PgArray");let wP=HS;const f8=Symbol.for("drizzle:isPgEnum");function C_e(e){return!!e&&typeof e=="function"&&f8 in e&&e[f8]===!0}var NB;NB=Le;class nI{constructor(t,n,r,i=!1){this._={brand:"Subquery",sql:t,selectedFields:n,alias:r,isWith:i}}}Q(nI,NB,"Subquery");const A_e={startActiveSpan(e,t){return t()}},Np=Symbol.for("drizzle:ViewBaseConfig"),g_=Symbol.for("drizzle:Schema"),h8=Symbol.for("drizzle:Columns"),p8=Symbol.for("drizzle:ExtraConfigColumns"),y_=Symbol.for("drizzle:OriginalName"),v_=Symbol.for("drizzle:BaseName"),h2=Symbol.for("drizzle:IsAlias"),m8=Symbol.for("drizzle:ExtraConfigBuilder"),XQ=Symbol.for("drizzle:IsDrizzleTable");var PB,OB,jB,kB,IB,MB,DB,RB,FB,LB;LB=Le,FB=Tp,RB=y_,DB=g_,MB=h8,IB=p8,kB=v_,jB=h2,OB=XQ,PB=m8;class hs{constructor(t,n,r){Q(this,FB);Q(this,RB);Q(this,DB);Q(this,MB);Q(this,IB);Q(this,kB);Q(this,jB,!1);Q(this,OB,!0);Q(this,PB);this[Tp]=this[y_]=t,this[g_]=n,this[v_]=r}}Q(hs,LB,"Table"),Q(hs,"Symbol",{Name:Tp,Schema:g_,OriginalName:y_,Columns:h8,ExtraConfigColumns:p8,BaseName:v_,IsAlias:h2,ExtraConfigBuilder:m8});function YQ(e){return typeof e=="object"&&e!==null&&XQ in e}function E_e(e){return e!=null&&typeof e.getSQL=="function"}function __e(e){var n;const t={sql:"",params:[]};for(const r of e)t.sql+=r.sql,t.params.push(...r.params),(n=r.typings)!=null&&n.length&&(t.typings||(t.typings=[]),t.typings.push(...r.typings));return t}var BB;BB=Le;class Da{constructor(t){Q(this,"value");this.value=Array.isArray(t)?t:[t]}getSQL(){return new _r([this])}}Q(Da,BB,"StringChunk");var $B;$B=Le;const Hd=class Hd{constructor(t){Q(this,"decoder",ZQ);Q(this,"shouldInlineParams",!1);this.queryChunks=t}append(t){return this.queryChunks.push(...t.queryChunks),this}toQuery(t){return A_e.startActiveSpan("drizzle.buildSQL",n=>{const r=this.buildQueryFromSourceParams(this.queryChunks,t);return n==null||n.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(t,n){const r=Object.assign({},n,{inlineParams:n.inlineParams||this.shouldInlineParams,paramStartIndex:n.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:a,prepareTyping:o,inlineParams:u,paramStartIndex:d}=r;return __e(t.map(h=>{var m;if(Wr(h,Da))return{sql:h.value.join(""),params:[]};if(Wr(h,p2))return{sql:s(h.value),params:[]};if(h===void 0)return{sql:"",params:[]};if(Array.isArray(h)){const y=[new Da("(")];for(const[b,C]of h.entries())y.push(C),b<h.length-1&&y.push(new Da(", "));return y.push(new Da(")")),this.buildQueryFromSourceParams(y,r)}if(Wr(h,Hd))return this.buildQueryFromSourceParams(h.queryChunks,{...r,inlineParams:u||h.shouldInlineParams});if(Wr(h,hs)){const y=h[hs.Symbol.Schema],b=h[hs.Symbol.Name];return{sql:y===void 0||h[h2]?s(b):s(y)+"."+s(b),params:[]}}if(Wr(h,Im)){const y=i.getColumnCasing(h);if(n.invokeSource==="indexes")return{sql:s(y),params:[]};const b=h.table[hs.Symbol.Schema];return{sql:h.table[h2]||b===void 0?s(h.table[hs.Symbol.Name])+"."+s(y):s(b)+"."+s(h.table[hs.Symbol.Name])+"."+s(y),params:[]}}if(Wr(h,eJ)){const y=h[Np].schema,b=h[Np].name;return{sql:y===void 0||h[Np].isAlias?s(b):s(y)+"."+s(b),params:[]}}if(Wr(h,rI)){if(Wr(h.value,m2))return{sql:a(d.value++,h),params:[h],typings:["none"]};const y=h.value===null?null:h.encoder.mapToDriverValue(h.value);if(Wr(y,Hd))return this.buildQueryFromSourceParams([y],r);if(u)return{sql:this.mapInlineParam(y,r),params:[]};let b=["none"];return o&&(b=[o(h.encoder)]),{sql:a(d.value++,y),params:[y],typings:b}}return Wr(h,m2)?{sql:a(d.value++,h),params:[h],typings:["none"]}:Wr(h,Hd.Aliased)&&h.fieldAlias!==void 0?{sql:s(h.fieldAlias),params:[]}:Wr(h,nI)?h._.isWith?{sql:s(h._.alias),params:[]}:this.buildQueryFromSourceParams([new Da("("),h._.sql,new Da(") "),new p2(h._.alias)],r):C_e(h)?h.schema?{sql:s(h.schema)+"."+s(h.enumName),params:[]}:{sql:s(h.enumName),params:[]}:E_e(h)?(m=h.shouldOmitSQLParens)!=null&&m.call(h)?this.buildQueryFromSourceParams([h.getSQL()],r):this.buildQueryFromSourceParams([new Da("("),h.getSQL(),new Da(")")],r):u?{sql:this.mapInlineParam(h,r),params:[]}:{sql:a(d.value++,h),params:[h],typings:["none"]}}))}mapInlineParam(t,{escapeString:n}){if(t===null)return"null";if(typeof t=="number"||typeof t=="boolean")return t.toString();if(typeof t=="string")return n(t);if(typeof t=="object"){const r=t.toString();return n(r==="[object Object]"?JSON.stringify(t):r)}throw new Error("Unexpected param value: "+t)}getSQL(){return this}as(t){return t===void 0?this:new Hd.Aliased(this,t)}mapWith(t){return this.decoder=typeof t=="function"?{mapFromDriverValue:t}:t,this}inlineParams(){return this.shouldInlineParams=!0,this}if(t){return t?this:void 0}};Q(Hd,$B,"SQL");let _r=Hd;var UB;UB=Le;class p2{constructor(t){Q(this,"brand");this.value=t}getSQL(){return new _r([this])}}Q(p2,UB,"Name");const ZQ={mapFromDriverValue:e=>e},QQ={mapToDriverValue:e=>e};({...ZQ,...QQ});var zB;zB=Le;class rI{constructor(t,n=QQ){Q(this,"brand");this.value=t,this.encoder=n}getSQL(){return new _r([this])}}Q(rI,zB,"Param");function yr(e,...t){const n=[];(t.length>0||e.length>0&&e[0]!=="")&&n.push(new Da(e[0]));for(const[r,i]of t.entries())n.push(i,new Da(e[r+1]));return new _r(n)}(e=>{function t(){return new _r([])}e.empty=t;function n(u){return new _r(u)}e.fromList=n;function r(u){return new _r([new Da(u)])}e.raw=r;function i(u,d){const h=[];for(const[m,y]of u.entries())m>0&&d!==void 0&&h.push(d),h.push(y);return new _r(h)}e.join=i;function s(u){return new p2(u)}e.identifier=s;function a(u){return new m2(u)}e.placeholder=a;function o(u,d){return new rI(u,d)}e.param=o})(yr||(yr={}));(e=>{var n;n=Le;const r=class r{constructor(s,a){Q(this,"isSelectionField",!1);this.sql=s,this.fieldAlias=a}getSQL(){return this.sql}clone(){return new r(this.sql,this.fieldAlias)}};Q(r,n,"SQL.Aliased");let t=r;e.Aliased=t})(_r||(_r={}));var VB;VB=Le;class m2{constructor(t){this.name=t}getSQL(){return new _r([this])}}Q(m2,VB,"Placeholder");const JQ=Symbol.for("drizzle:IsDrizzleView");var WB,HB,GB;GB=Le,HB=Np,WB=JQ;class eJ{constructor({name:t,schema:n,selectedFields:r,query:i}){Q(this,HB);Q(this,WB,!0);this[Np]={name:t,originalName:t,schema:n,selectedFields:r,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new _r([this])}}Q(eJ,GB,"View");function T_e(e){return typeof e=="object"&&e!==null&&JQ in e}Im.prototype.getSQL=function(){return new _r([this])};hs.prototype.getSQL=function(){return new _r([this])};nI.prototype.getSQL=function(){return new _r([this])};function N_e(e){return e[hs.Symbol.Columns]}function P_e(e){return e[Np].selectedFields}function xi(e,t){return{name:typeof e=="string"&&e.length>0?e:"",config:typeof e=="object"?e:t}}var qB,KB;class Qv extends(KB=dn,qB=Le,KB){generatedAlwaysAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"always",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(t){if(t){const{name:n,...r}=t;this.config.generatedIdentity={type:"byDefault",sequenceName:n,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}Q(Qv,qB,"PgIntColumnBaseBuilder");var XB,YB;class tJ extends(YB=Qv,XB=Le,YB){constructor(t){super(t,"number","PgBigInt53")}build(t){return new nJ(t,this.config)}}Q(tJ,XB,"PgBigInt53Builder");var ZB,QB;class nJ extends(QB=qt,ZB=Le,QB){getSQLType(){return"bigint"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Q(nJ,ZB,"PgBigInt53");var JB,e$;class rJ extends(e$=Qv,JB=Le,e$){constructor(t){super(t,"bigint","PgBigInt64")}build(t){return new iJ(t,this.config)}}Q(rJ,JB,"PgBigInt64Builder");var t$,n$;class iJ extends(n$=qt,t$=Le,n$){getSQLType(){return"bigint"}mapFromDriverValue(t){return BigInt(t)}}Q(iJ,t$,"PgBigInt64");function O_e(e,t){const{name:n,config:r}=xi(e,t);return r.mode==="number"?new tJ(n):new rJ(n)}var r$,i$;class sJ extends(i$=dn,r$=Le,i$){constructor(t){super(t,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new aJ(t,this.config)}}Q(sJ,r$,"PgBigSerial53Builder");var s$,a$;class aJ extends(a$=qt,s$=Le,a$){getSQLType(){return"bigserial"}mapFromDriverValue(t){return typeof t=="number"?t:Number(t)}}Q(aJ,s$,"PgBigSerial53");var o$,l$;class oJ extends(l$=dn,o$=Le,l$){constructor(t){super(t,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(t){return new lJ(t,this.config)}}Q(oJ,o$,"PgBigSerial64Builder");var c$,u$;class lJ extends(u$=qt,c$=Le,u$){getSQLType(){return"bigserial"}mapFromDriverValue(t){return BigInt(t)}}Q(lJ,c$,"PgBigSerial64");function j_e(e,t){const{name:n,config:r}=xi(e,t);return r.mode==="number"?new sJ(n):new oJ(n)}var d$,f$;class cJ extends(f$=dn,d$=Le,f$){constructor(t){super(t,"boolean","PgBoolean")}build(t){return new uJ(t,this.config)}}Q(cJ,d$,"PgBooleanBuilder");var h$,p$;class uJ extends(p$=qt,h$=Le,p$){getSQLType(){return"boolean"}}Q(uJ,h$,"PgBoolean");function zc(e){return new cJ(e??"")}var m$,g$;class dJ extends(g$=dn,m$=Le,g$){constructor(t,n){super(t,"string","PgChar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new fJ(t,this.config)}}Q(dJ,m$,"PgCharBuilder");var y$,v$;class fJ extends(v$=qt,y$=Le,v$){constructor(){super(...arguments);Q(this,"length",this.config.length);Q(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"char":`char(${this.length})`}}Q(fJ,y$,"PgChar");function k_e(e,t={}){const{name:n,config:r}=xi(e,t);return new dJ(n,r)}var x$,b$;class hJ extends(b$=dn,x$=Le,b$){constructor(t){super(t,"string","PgCidr")}build(t){return new pJ(t,this.config)}}Q(hJ,x$,"PgCidrBuilder");var w$,S$;class pJ extends(S$=qt,w$=Le,S$){getSQLType(){return"cidr"}}Q(pJ,w$,"PgCidr");function I_e(e){return new hJ(e??"")}var C$,A$;class mJ extends(A$=dn,C$=Le,A$){constructor(t,n,r){super(t,"custom","PgCustomColumn"),this.config.fieldConfig=n,this.config.customTypeParams=r}build(t){return new gJ(t,this.config)}}Q(mJ,C$,"PgCustomColumnBuilder");var E$,_$;class gJ extends(_$=qt,E$=Le,_$){constructor(n,r){super(n,r);Q(this,"sqlName");Q(this,"mapTo");Q(this,"mapFrom");this.sqlName=r.customTypeParams.dataType(r.fieldConfig),this.mapTo=r.customTypeParams.toDriver,this.mapFrom=r.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(n){return typeof this.mapFrom=="function"?this.mapFrom(n):n}mapToDriverValue(n){return typeof this.mapTo=="function"?this.mapTo(n):n}}Q(gJ,E$,"PgCustomColumn");function M_e(e){return(t,n)=>{const{name:r,config:i}=xi(t,n);return new mJ(r,i,e)}}var T$,N$;class Og extends(N$=dn,T$=Le,N$){defaultNow(){return this.default(yr`now()`)}}Q(Og,T$,"PgDateColumnBaseBuilder");var P$,O$;class yJ extends(O$=Og,P$=Le,O$){constructor(t){super(t,"date","PgDate")}build(t){return new vJ(t,this.config)}}Q(yJ,P$,"PgDateBuilder");var j$,k$;class vJ extends(k$=qt,j$=Le,k$){getSQLType(){return"date"}mapFromDriverValue(t){return new Date(t)}mapToDriverValue(t){return t.toISOString()}}Q(vJ,j$,"PgDate");var I$,M$;class xJ extends(M$=Og,I$=Le,M$){constructor(t){super(t,"string","PgDateString")}build(t){return new bJ(t,this.config)}}Q(xJ,I$,"PgDateStringBuilder");var D$,R$;class bJ extends(R$=qt,D$=Le,R$){getSQLType(){return"date"}}Q(bJ,D$,"PgDateString");function D_e(e,t){const{name:n,config:r}=xi(e,t);return(r==null?void 0:r.mode)==="date"?new yJ(n):new xJ(n)}var F$,L$;class wJ extends(L$=dn,F$=Le,L$){constructor(t){super(t,"number","PgDoublePrecision")}build(t){return new SJ(t,this.config)}}Q(wJ,F$,"PgDoublePrecisionBuilder");var B$,$$;class SJ extends($$=qt,B$=Le,$$){getSQLType(){return"double precision"}mapFromDriverValue(t){return typeof t=="string"?Number.parseFloat(t):t}}Q(SJ,B$,"PgDoublePrecision");function R_e(e){return new wJ(e??"")}var U$,z$;class CJ extends(z$=dn,U$=Le,z$){constructor(t){super(t,"string","PgInet")}build(t){return new AJ(t,this.config)}}Q(CJ,U$,"PgInetBuilder");var V$,W$;class AJ extends(W$=qt,V$=Le,W$){getSQLType(){return"inet"}}Q(AJ,V$,"PgInet");function F_e(e){return new CJ(e??"")}var H$,G$;class EJ extends(G$=Qv,H$=Le,G$){constructor(t){super(t,"number","PgInteger")}build(t){return new _J(t,this.config)}}Q(EJ,H$,"PgIntegerBuilder");var q$,K$;class _J extends(K$=qt,q$=Le,K$){getSQLType(){return"integer"}mapFromDriverValue(t){return typeof t=="string"?Number.parseInt(t):t}}Q(_J,q$,"PgInteger");function xs(e){return new EJ(e??"")}var X$,Y$;class TJ extends(Y$=dn,X$=Le,Y$){constructor(t,n){super(t,"string","PgInterval"),this.config.intervalConfig=n}build(t){return new NJ(t,this.config)}}Q(TJ,X$,"PgIntervalBuilder");var Z$,Q$;class NJ extends(Q$=qt,Z$=Le,Q$){constructor(){super(...arguments);Q(this,"fields",this.config.intervalConfig.fields);Q(this,"precision",this.config.intervalConfig.precision)}getSQLType(){const n=this.fields?` ${this.fields}`:"",r=this.precision?`(${this.precision})`:"";return`interval${n}${r}`}}Q(NJ,Z$,"PgInterval");function L_e(e,t={}){const{name:n,config:r}=xi(e,t);return new TJ(n,r)}var J$,eU;class PJ extends(eU=dn,J$=Le,eU){constructor(t){super(t,"json","PgJson")}build(t){return new OJ(t,this.config)}}Q(PJ,J$,"PgJsonBuilder");var tU,nU;class OJ extends(nU=qt,tU=Le,nU){constructor(t,n){super(t,n)}getSQLType(){return"json"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Q(OJ,tU,"PgJson");function B_e(e){return new PJ(e??"")}var rU,iU;class jJ extends(iU=dn,rU=Le,iU){constructor(t){super(t,"json","PgJsonb")}build(t){return new kJ(t,this.config)}}Q(jJ,rU,"PgJsonbBuilder");var sU,aU;class kJ extends(aU=qt,sU=Le,aU){constructor(t,n){super(t,n)}getSQLType(){return"jsonb"}mapToDriverValue(t){return JSON.stringify(t)}mapFromDriverValue(t){if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t}}Q(kJ,sU,"PgJsonb");function wl(e){return new jJ(e??"")}var oU,lU;class IJ extends(lU=dn,oU=Le,lU){constructor(t){super(t,"array","PgLine")}build(t){return new MJ(t,this.config)}}Q(IJ,oU,"PgLineBuilder");var cU,uU;class MJ extends(uU=qt,cU=Le,uU){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,i]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r),Number.parseFloat(i)]}mapToDriverValue(t){return`{${t[0]},${t[1]},${t[2]}}`}}Q(MJ,cU,"PgLine");var dU,fU;class DJ extends(fU=dn,dU=Le,fU){constructor(t){super(t,"json","PgLineABC")}build(t){return new RJ(t,this.config)}}Q(DJ,dU,"PgLineABCBuilder");var hU,pU;class RJ extends(pU=qt,hU=Le,pU){getSQLType(){return"line"}mapFromDriverValue(t){const[n,r,i]=t.slice(1,-1).split(",");return{a:Number.parseFloat(n),b:Number.parseFloat(r),c:Number.parseFloat(i)}}mapToDriverValue(t){return`{${t.a},${t.b},${t.c}}`}}Q(RJ,hU,"PgLineABC");function $_e(e,t){const{name:n,config:r}=xi(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new IJ(n):new DJ(n)}var mU,gU;class FJ extends(gU=dn,mU=Le,gU){constructor(t){super(t,"string","PgMacaddr")}build(t){return new LJ(t,this.config)}}Q(FJ,mU,"PgMacaddrBuilder");var yU,vU;class LJ extends(vU=qt,yU=Le,vU){getSQLType(){return"macaddr"}}Q(LJ,yU,"PgMacaddr");function U_e(e){return new FJ(e??"")}var xU,bU;class BJ extends(bU=dn,xU=Le,bU){constructor(t){super(t,"string","PgMacaddr8")}build(t){return new $J(t,this.config)}}Q(BJ,xU,"PgMacaddr8Builder");var wU,SU;class $J extends(SU=qt,wU=Le,SU){getSQLType(){return"macaddr8"}}Q($J,wU,"PgMacaddr8");function z_e(e){return new BJ(e??"")}var CU,AU;class UJ extends(AU=dn,CU=Le,AU){constructor(t,n,r){super(t,"string","PgNumeric"),this.config.precision=n,this.config.scale=r}build(t){return new zJ(t,this.config)}}Q(UJ,CU,"PgNumericBuilder");var EU,_U;class zJ extends(_U=qt,EU=Le,_U){constructor(n,r){super(n,r);Q(this,"precision");Q(this,"scale");this.precision=r.precision,this.scale=r.scale}getSQLType(){return this.precision!==void 0&&this.scale!==void 0?`numeric(${this.precision}, ${this.scale})`:this.precision===void 0?"numeric":`numeric(${this.precision})`}}Q(zJ,EU,"PgNumeric");function V_e(e,t){const{name:n,config:r}=xi(e,t);return new UJ(n,r==null?void 0:r.precision,r==null?void 0:r.scale)}var TU,NU;class VJ extends(NU=dn,TU=Le,NU){constructor(t){super(t,"array","PgPointTuple")}build(t){return new WJ(t,this.config)}}Q(VJ,TU,"PgPointTupleBuilder");var PU,OU;class WJ extends(OU=qt,PU=Le,OU){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return[Number.parseFloat(n),Number.parseFloat(r)]}return[t.x,t.y]}mapToDriverValue(t){return`(${t[0]},${t[1]})`}}Q(WJ,PU,"PgPointTuple");var jU,kU;class HJ extends(kU=dn,jU=Le,kU){constructor(t){super(t,"json","PgPointObject")}build(t){return new GJ(t,this.config)}}Q(HJ,jU,"PgPointObjectBuilder");var IU,MU;class GJ extends(MU=qt,IU=Le,MU){getSQLType(){return"point"}mapFromDriverValue(t){if(typeof t=="string"){const[n,r]=t.slice(1,-1).split(",");return{x:Number.parseFloat(n),y:Number.parseFloat(r)}}return t}mapToDriverValue(t){return`(${t.x},${t.y})`}}Q(GJ,IU,"PgPointObject");function W_e(e,t){const{name:n,config:r}=xi(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new VJ(n):new HJ(n)}function H_e(e){const t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}function g8(e,t){const n=new ArrayBuffer(8),r=new DataView(n);for(let i=0;i<8;i++)r.setUint8(i,e[t+i]);return r.getFloat64(0,!0)}function qJ(e){const t=H_e(e);let n=0;const r=t[n];n+=1;const i=new DataView(t.buffer),s=i.getUint32(n,r===1);if(n+=4,s&536870912&&(i.getUint32(n,r===1),n+=4),(s&65535)===1){const a=g8(t,n);n+=8;const o=g8(t,n);return n+=8,[a,o]}throw new Error("Unsupported geometry type")}var DU,RU;class KJ extends(RU=dn,DU=Le,RU){constructor(t){super(t,"array","PgGeometry")}build(t){return new XJ(t,this.config)}}Q(KJ,DU,"PgGeometryBuilder");var FU,LU;class XJ extends(LU=qt,FU=Le,LU){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){return qJ(t)}mapToDriverValue(t){return`point(${t[0]} ${t[1]})`}}Q(XJ,FU,"PgGeometry");var BU,$U;class YJ extends($U=dn,BU=Le,$U){constructor(t){super(t,"json","PgGeometryObject")}build(t){return new ZJ(t,this.config)}}Q(YJ,BU,"PgGeometryObjectBuilder");var UU,zU;class ZJ extends(zU=qt,UU=Le,zU){getSQLType(){return"geometry(point)"}mapFromDriverValue(t){const n=qJ(t);return{x:n[0],y:n[1]}}mapToDriverValue(t){return`point(${t.x} ${t.y})`}}Q(ZJ,UU,"PgGeometryObject");function G_e(e,t){const{name:n,config:r}=xi(e,t);return!(r!=null&&r.mode)||r.mode==="tuple"?new KJ(n):new YJ(n)}var VU,WU;class QJ extends(WU=dn,VU=Le,WU){constructor(t,n){super(t,"number","PgReal"),this.config.length=n}build(t){return new JJ(t,this.config)}}Q(QJ,VU,"PgRealBuilder");var HU,GU;class JJ extends(GU=qt,HU=Le,GU){constructor(n,r){super(n,r);Q(this,"mapFromDriverValue",n=>typeof n=="string"?Number.parseFloat(n):n)}getSQLType(){return"real"}}Q(JJ,HU,"PgReal");function iI(e){return new QJ(e??"")}var qU,KU;class eee extends(KU=dn,qU=Le,KU){constructor(t){super(t,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new tee(t,this.config)}}Q(eee,qU,"PgSerialBuilder");var XU,YU;class tee extends(YU=qt,XU=Le,YU){getSQLType(){return"serial"}}Q(tee,XU,"PgSerial");function q_e(e){return new eee(e??"")}var ZU,QU;class nee extends(QU=Qv,ZU=Le,QU){constructor(t){super(t,"number","PgSmallInt")}build(t){return new ree(t,this.config)}}Q(nee,ZU,"PgSmallIntBuilder");var JU,ez;class ree extends(ez=qt,JU=Le,ez){constructor(){super(...arguments);Q(this,"mapFromDriverValue",n=>typeof n=="string"?Number(n):n)}getSQLType(){return"smallint"}}Q(ree,JU,"PgSmallInt");function K_e(e){return new nee(e??"")}var tz,nz;class iee extends(nz=dn,tz=Le,nz){constructor(t){super(t,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(t){return new see(t,this.config)}}Q(iee,tz,"PgSmallSerialBuilder");var rz,iz;class see extends(iz=qt,rz=Le,iz){getSQLType(){return"smallserial"}}Q(see,rz,"PgSmallSerial");function X_e(e){return new iee(e??"")}var sz,az;class aee extends(az=dn,sz=Le,az){constructor(t,n){super(t,"string","PgText"),this.config.enumValues=n.enum}build(t){return new oee(t,this.config)}}Q(aee,sz,"PgTextBuilder");var oz,lz;class oee extends(lz=qt,oz=Le,lz){constructor(){super(...arguments);Q(this,"enumValues",this.config.enumValues)}getSQLType(){return"text"}}Q(oee,oz,"PgText");function $e(e,t={}){const{name:n,config:r}=xi(e,t);return new aee(n,r)}var cz,uz;class lee extends(uz=Og,cz=Le,uz){constructor(t,n,r){super(t,"string","PgTime"),this.withTimezone=n,this.precision=r,this.config.withTimezone=n,this.config.precision=r}build(t){return new cee(t,this.config)}}Q(lee,cz,"PgTimeBuilder");var dz,fz;class cee extends(fz=qt,dz=Le,fz){constructor(n,r){super(n,r);Q(this,"withTimezone");Q(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`time${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Q(cee,dz,"PgTime");function Y_e(e,t={}){const{name:n,config:r}=xi(e,t);return new lee(n,r.withTimezone??!1,r.precision)}var hz,pz;class uee extends(pz=Og,hz=Le,pz){constructor(t,n,r){super(t,"date","PgTimestamp"),this.config.withTimezone=n,this.config.precision=r}build(t){return new dee(t,this.config)}}Q(uee,hz,"PgTimestampBuilder");var mz,gz;class dee extends(gz=qt,mz=Le,gz){constructor(n,r){super(n,r);Q(this,"withTimezone");Q(this,"precision");Q(this,"mapFromDriverValue",n=>new Date(this.withTimezone?n:n+"+0000"));Q(this,"mapToDriverValue",n=>n.toISOString());this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":` (${this.precision})`}${this.withTimezone?" with time zone":""}`}}Q(dee,mz,"PgTimestamp");var yz,vz;class fee extends(vz=Og,yz=Le,vz){constructor(t,n,r){super(t,"string","PgTimestampString"),this.config.withTimezone=n,this.config.precision=r}build(t){return new hee(t,this.config)}}Q(fee,yz,"PgTimestampStringBuilder");var xz,bz;class hee extends(bz=qt,xz=Le,bz){constructor(n,r){super(n,r);Q(this,"withTimezone");Q(this,"precision");this.withTimezone=r.withTimezone,this.precision=r.precision}getSQLType(){return`timestamp${this.precision===void 0?"":`(${this.precision})`}${this.withTimezone?" with time zone":""}`}}Q(hee,xz,"PgTimestampString");function qn(e,t={}){const{name:n,config:r}=xi(e,t);return(r==null?void 0:r.mode)==="string"?new fee(n,r.withTimezone??!1,r.precision):new uee(n,(r==null?void 0:r.withTimezone)??!1,r==null?void 0:r.precision)}var wz,Sz;class pee extends(Sz=dn,wz=Le,Sz){constructor(t){super(t,"string","PgUUID")}defaultRandom(){return this.default(yr`gen_random_uuid()`)}build(t){return new mee(t,this.config)}}Q(pee,wz,"PgUUIDBuilder");var Cz,Az;class mee extends(Az=qt,Cz=Le,Az){getSQLType(){return"uuid"}}Q(mee,Cz,"PgUUID");function Z_e(e){return new pee(e??"")}var Ez,_z;class gee extends(_z=dn,Ez=Le,_z){constructor(t,n){super(t,"string","PgVarchar"),this.config.length=n.length,this.config.enumValues=n.enum}build(t){return new yee(t,this.config)}}Q(gee,Ez,"PgVarcharBuilder");var Tz,Nz;class yee extends(Nz=qt,Tz=Le,Nz){constructor(){super(...arguments);Q(this,"length",this.config.length);Q(this,"enumValues",this.config.enumValues)}getSQLType(){return this.length===void 0?"varchar":`varchar(${this.length})`}}Q(yee,Tz,"PgVarchar");function Mt(e,t={}){const{name:n,config:r}=xi(e,t);return new gee(n,r)}var Pz,Oz;class vee extends(Oz=dn,Pz=Le,Oz){constructor(t,n){super(t,"string","PgBinaryVector"),this.config.dimensions=n.dimensions}build(t){return new xee(t,this.config)}}Q(vee,Pz,"PgBinaryVectorBuilder");var jz,kz;class xee extends(kz=qt,jz=Le,kz){constructor(){super(...arguments);Q(this,"dimensions",this.config.dimensions)}getSQLType(){return`bit(${this.dimensions})`}}Q(xee,jz,"PgBinaryVector");function Q_e(e,t){const{name:n,config:r}=xi(e,t);return new vee(n,r)}var Iz,Mz;class bee extends(Mz=dn,Iz=Le,Mz){constructor(t,n){super(t,"array","PgHalfVector"),this.config.dimensions=n.dimensions}build(t){return new wee(t,this.config)}}Q(bee,Iz,"PgHalfVectorBuilder");var Dz,Rz;class wee extends(Rz=qt,Dz=Le,Rz){constructor(){super(...arguments);Q(this,"dimensions",this.config.dimensions)}getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}Q(wee,Dz,"PgHalfVector");function J_e(e,t){const{name:n,config:r}=xi(e,t);return new bee(n,r)}var Fz,Lz;class See extends(Lz=dn,Fz=Le,Lz){constructor(t,n){super(t,"string","PgSparseVector"),this.config.dimensions=n.dimensions}build(t){return new Cee(t,this.config)}}Q(See,Fz,"PgSparseVectorBuilder");var Bz,$z;class Cee extends($z=qt,Bz=Le,$z){constructor(){super(...arguments);Q(this,"dimensions",this.config.dimensions)}getSQLType(){return`sparsevec(${this.dimensions})`}}Q(Cee,Bz,"PgSparseVector");function eTe(e,t){const{name:n,config:r}=xi(e,t);return new See(n,r)}var Uz,zz;class Aee extends(zz=dn,Uz=Le,zz){constructor(t,n){super(t,"array","PgVector"),this.config.dimensions=n.dimensions}build(t){return new Eee(t,this.config)}}Q(Aee,Uz,"PgVectorBuilder");var Vz,Wz;class Eee extends(Wz=qt,Vz=Le,Wz){constructor(){super(...arguments);Q(this,"dimensions",this.config.dimensions)}getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(n){return JSON.stringify(n)}mapFromDriverValue(n){return n.slice(1,-1).split(",").map(r=>Number.parseFloat(r))}}Q(Eee,Vz,"PgVector");function tTe(e,t){const{name:n,config:r}=xi(e,t);return new Aee(n,r)}function nTe(){return{bigint:O_e,bigserial:j_e,boolean:zc,char:k_e,cidr:I_e,customType:M_e,date:D_e,doublePrecision:R_e,inet:F_e,integer:xs,interval:L_e,json:B_e,jsonb:wl,line:$_e,macaddr:U_e,macaddr8:z_e,numeric:V_e,point:W_e,geometry:G_e,real:iI,serial:q_e,smallint:K_e,smallserial:X_e,text:$e,time:Y_e,timestamp:qn,uuid:Z_e,varchar:Mt,bit:Q_e,halfvec:J_e,sparsevec:eTe,vector:tTe}}const SP=Symbol.for("drizzle:PgInlineForeignKeys"),y8=Symbol.for("drizzle:EnableRLS");var Hz,Gz,qz,Kz,Xz;class fy extends(Xz=hs,Kz=Le,qz=SP,Gz=y8,Hz=hs.Symbol.ExtraConfigBuilder,Xz){constructor(){super(...arguments);Q(this,qz,[]);Q(this,Gz,!1);Q(this,Hz)}}Q(fy,Kz,"PgTable"),Q(fy,"Symbol",Object.assign({},hs.Symbol,{InlineForeignKeys:SP,EnableRLS:y8}));function rTe(e,t,n,r,i=e){const s=new fy(e,r,i),a=typeof t=="function"?t(nTe()):t,o=Object.fromEntries(Object.entries(a).map(([h,m])=>{const y=m;y.setName(h);const b=y.build(s);return s[SP].push(...y.buildForeignKeys(b,s)),[h,b]})),u=Object.fromEntries(Object.entries(a).map(([h,m])=>{const y=m;y.setName(h);const b=y.buildExtraConfigColumn(s);return[h,b]})),d=Object.assign(s,o);return d[hs.Symbol.Columns]=o,d[hs.Symbol.ExtraConfigColumns]=u,n&&(d[fy.Symbol.ExtraConfigBuilder]=n),Object.assign(d,{enableRLS:()=>(d[fy.Symbol.EnableRLS]=!0,d)})}const Zr=(e,t,n)=>rTe(e,t,n,void 0);var Yz;Yz=Le;class sI{constructor(t,n){this.unique=t,this.name=n}on(...t){return new nw(t.map(n=>{if(Wr(n,_r))return n;n=n;const r=new tw(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=JSON.parse(JSON.stringify(n.defaultConfig)),r}),this.unique,!1,this.name)}onOnly(...t){return new nw(t.map(n=>{if(Wr(n,_r))return n;n=n;const r=new tw(n.name,!!n.keyAsName,n.columnType,n.indexConfig);return n.indexConfig=n.defaultConfig,r}),this.unique,!0,this.name)}using(t,...n){return new nw(n.map(r=>{if(Wr(r,_r))return r;r=r;const i=new tw(r.name,!!r.keyAsName,r.columnType,r.indexConfig);return r.indexConfig=JSON.parse(JSON.stringify(r.defaultConfig)),i}),this.unique,!0,this.name,t)}}Q(sI,Yz,"PgIndexBuilderOn");var Zz;Zz=Le;class nw{constructor(t,n,r,i,s="btree"){Q(this,"config");this.config={name:i,columns:t,unique:n,only:r,method:s}}concurrently(){return this.config.concurrently=!0,this}with(t){return this.config.with=t,this}where(t){return this.config.where=t,this}build(t){return new _ee(this.config,t)}}Q(nw,Zz,"PgIndexBuilder");var Qz;Qz=Le;class _ee{constructor(t,n){Q(this,"config");this.config={...t,table:n}}}Q(_ee,Qz,"PgIndex");function Jt(e){return new sI(!1,e)}function iTe(e){return new sI(!0,e)}const ur={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:16777215,INT32_MIN:-2147483648,INT32_MAX:2147483647,INT32_UNSIGNED_MAX:4294967295,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-9223372036854775808n,INT64_MAX:9223372036854775807n,INT64_UNSIGNED_MAX:18446744073709551615n};function kr(e,t){return t.includes(e.columnType)}function sTe(e){return"enumValues"in e&&Array.isArray(e.enumValues)&&e.enumValues.length>0}const aTe=Dk([Ms(),Lo(),UC(),QZ()]),oTe=Dk([aTe,JZ(c2()),hl(c2())]),lTe=Mk(e=>e instanceof Buffer);function Tee(e,t){const n=(t==null?void 0:t.zodInstance)??oCe,r=(t==null?void 0:t.coerce)??{};let i;return sTe(e)&&(i=e.enumValues.length?n.enum(e.enumValues):n.string()),i||(kr(e,["PgGeometry","PgPointTuple"])?i=n.tuple([n.number(),n.number()]):kr(e,["PgGeometryObject","PgPointObject"])?i=n.object({x:n.number(),y:n.number()}):kr(e,["PgHalfVector","PgVector"])?(i=n.array(n.number()),i=e.dimensions?i.length(e.dimensions):i):kr(e,["PgLine"])?i=n.tuple([n.number(),n.number(),n.number()]):kr(e,["PgLineABC"])?i=n.object({a:n.number(),b:n.number(),c:n.number()}):kr(e,["PgArray"])?(i=n.array(Tee(e.baseColumn,n)),i=e.size?i.length(e.size):i):e.dataType==="array"?i=n.array(n.any()):e.dataType==="number"?i=cTe(e,n,r):e.dataType==="bigint"?i=uTe(e,n,r):e.dataType==="boolean"?i=r===!0||r.boolean?n.coerce.boolean():n.boolean():e.dataType==="date"?i=r===!0||r.date?n.coerce.date():n.date():e.dataType==="string"?i=dTe(e,n,r):e.dataType==="json"?i=oTe:e.dataType==="custom"?i=n.any():e.dataType==="buffer"&&(i=lTe)),i||(i=n.any()),i}function cTe(e,t,n){let r=e.getSQLType().includes("unsigned"),i,s,a=!1;kr(e,["MySqlTinyInt","SingleStoreTinyInt"])?(i=r?0:ur.INT8_MIN,s=r?ur.INT8_UNSIGNED_MAX:ur.INT8_MAX,a=!0):kr(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(i=r?0:ur.INT16_MIN,s=r?ur.INT16_UNSIGNED_MAX:ur.INT16_MAX,a=!0):kr(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(i=r?0:ur.INT24_MIN,s=r?ur.INT24_UNSIGNED_MAX:ur.INT24_MAX,a=kr(e,["MySqlMediumInt","SingleStoreMediumInt"])):kr(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(i=r?0:ur.INT32_MIN,s=r?ur.INT32_UNSIGNED_MAX:ur.INT32_MAX,a=!0):kr(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(i=r?0:ur.INT48_MIN,s=r?ur.INT48_UNSIGNED_MAX:ur.INT48_MAX):kr(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(r=r||kr(e,["MySqlSerial","SingleStoreSerial"]),i=r?0:Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER,a=!0):kr(e,["MySqlYear","SingleStoreYear"])?(i=1901,s=2155,a=!0):(i=Number.MIN_SAFE_INTEGER,s=Number.MAX_SAFE_INTEGER);let o=n===!0||n!=null&&n.number?t.coerce.number():t.number();return o=o.min(i).max(s),a?o.int():o}function uTe(e,t,n){const r=e.getSQLType().includes("unsigned"),i=r?0n:ur.INT64_MIN,s=r?ur.INT64_UNSIGNED_MAX:ur.INT64_MAX;return(n===!0||n!=null&&n.bigint?t.coerce.bigint():t.bigint()).min(i).max(s)}function dTe(e,t,n){if(kr(e,["PgUUID"]))return t.string().uuid();let r,i,s=!1;kr(e,["PgVarchar","SQLiteText"])?r=e.length:kr(e,["MySqlVarChar","SingleStoreVarChar"])?r=e.length??ur.INT16_UNSIGNED_MAX:kr(e,["MySqlText","SingleStoreText"])&&(e.textType==="longtext"?r=ur.INT32_UNSIGNED_MAX:e.textType==="mediumtext"?r=ur.INT24_UNSIGNED_MAX:e.textType==="text"?r=ur.INT16_UNSIGNED_MAX:r=ur.INT8_UNSIGNED_MAX),kr(e,["PgChar","MySqlChar","SingleStoreChar"])&&(r=e.length,s=!0),kr(e,["PgBinaryVector"])&&(i=/^[01]+$/,r=e.dimensions);let a=n===!0||n!=null&&n.string?t.coerce.string():t.string();return a=i?a.regex(i):a,r&&s?a.length(r):r?a.max(r):a}function Nee(e){return YQ(e)?N_e(e):P_e(e)}function Pee(e,t,n,r){const i={};for(const[s,a]of Object.entries(e)){if(!Wr(a,Im)&&!Wr(a,_r)&&!Wr(a,_r.Aliased)&&typeof a=="object"){const m=YQ(a)||T_e(a)?Nee(a):a;i[s]=Pee(m,t[s]??{},n,r);continue}const o=t[s];if(o!==void 0&&typeof o!="function"){i[s]=o;continue}const u=Wr(a,Im)?a:void 0,d=u?Tee(u,r):c2(),h=typeof o=="function"?o(d):d;n.never(u)||(i[s]=h,u&&(n.nullable(u)&&(i[s]=i[s].nullable()),n.optional(u)&&(i[s]=i[s].optional())))}return Gv(i)}const fTe={never:e=>{var t,n;return((t=e==null?void 0:e.generated)==null?void 0:t.type)==="always"||((n=e==null?void 0:e.generatedIdentity)==null?void 0:n.type)==="always"},optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},bi=(e,t)=>{const n=Nee(e);return Pee(n,{},fTe)};Zr("sessions",{sid:Mt("sid").primaryKey(),sess:wl("sess").notNull(),expire:qn("expire").notNull()},e=>[Jt("IDX_session_expire").on(e.expire)]);const Aa=Zr("users",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),email:Mt("email").unique(),firstName:Mt("first_name"),lastName:Mt("last_name"),profileImageUrl:Mt("profile_image_url"),createdAt:qn("created_at").defaultNow(),updatedAt:qn("updated_at").defaultNow()}),hTe=Zr("user_preferences",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().unique().references(()=>Aa.id,{onDelete:"cascade"}),dietaryRestrictions:$e("dietary_restrictions").array(),allergens:$e("allergens").array(),favoriteCategories:$e("favorite_categories").array(),expirationAlertDays:xs("expiration_alert_days").notNull().default(3),storageAreasEnabled:$e("storage_areas_enabled").array(),householdSize:xs("household_size").notNull().default(2),cookingSkillLevel:$e("cooking_skill_level").notNull().default("beginner"),preferredUnits:$e("preferred_units").notNull().default("imperial"),foodsToAvoid:$e("foods_to_avoid").array(),hasCompletedOnboarding:zc("has_completed_onboarding").notNull().default(!1),createdAt:qn("created_at").notNull().defaultNow(),updatedAt:qn("updated_at").notNull().defaultNow()});bi(hTe).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0});const pTe=Zr("storage_locations",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),name:$e("name").notNull(),icon:$e("icon").notNull()},e=>[Jt("storage_locations_user_id_idx").on(e.userId)]);bi(pTe).omit({id:!0,userId:!0});const Oee=Zr("appliance_categories",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),name:$e("name").notNull().unique(),description:$e("description"),parentCategoryId:Mt("parent_category_id"),icon:$e("icon"),sortOrder:xs("sort_order").notNull().default(0)},e=>[Jt("appliance_categories_parent_idx").on(e.parentCategoryId)]);bi(Oee).omit({id:!0});const jee=Zr("barcode_products",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),barcodeNumber:$e("barcode_number").notNull().unique(),barcodeFormats:$e("barcode_formats"),mpn:$e("mpn"),model:$e("model"),asin:$e("asin"),title:$e("title").notNull(),category:$e("category"),manufacturer:$e("manufacturer"),brand:$e("brand"),color:$e("color"),material:$e("material"),size:$e("size"),weight:$e("weight"),dimensions:wl("dimensions").$type(),description:$e("description"),features:$e("features").array(),images:$e("images").array(),capabilities:$e("capabilities").array(),capacity:$e("capacity"),servingSize:$e("serving_size"),stores:wl("stores").$type(),rawData:wl("raw_data"),lastUpdate:qn("last_update").notNull().defaultNow(),createdAt:qn("created_at").notNull().defaultNow()},e=>[Jt("barcode_products_barcode_idx").on(e.barcodeNumber),Jt("barcode_products_brand_idx").on(e.brand),Jt("barcode_products_category_idx").on(e.category)]);bi(jee).omit({id:!0,createdAt:!0,lastUpdate:!0});const mTe=Zr("appliances",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),name:$e("name").notNull(),type:$e("type").notNull(),categoryId:Mt("category_id").references(()=>Oee.id),barcodeProductId:Mt("barcode_product_id").references(()=>jee.id),customBrand:$e("custom_brand"),customModel:$e("custom_model"),customCapabilities:$e("custom_capabilities").array(),customCapacity:$e("custom_capacity"),customServingSize:$e("custom_serving_size"),nickname:$e("nickname"),purchaseDate:$e("purchase_date"),warrantyEndDate:$e("warranty_end_date"),notes:$e("notes"),imageUrl:$e("image_url"),isActive:zc("is_active").notNull().default(!0),createdAt:qn("created_at").notNull().defaultNow(),updatedAt:qn("updated_at").notNull().defaultNow()},e=>[Jt("appliances_user_id_idx").on(e.userId),Jt("appliances_category_id_idx").on(e.categoryId),Jt("appliances_barcode_product_id_idx").on(e.barcodeProductId)]);bi(mTe).omit({id:!0,userId:!0,createdAt:!0,updatedAt:!0});const gTe=Zr("food_items",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),fcdId:$e("fcd_id"),name:$e("name").notNull(),quantity:$e("quantity").notNull(),unit:$e("unit").notNull(),weightInGrams:iI("weight_in_grams"),storageLocationId:Mt("storage_location_id").notNull(),expirationDate:$e("expiration_date").notNull(),imageUrl:$e("image_url"),nutrition:$e("nutrition"),usdaData:wl("usda_data"),foodCategory:$e("food_category"),addedAt:qn("added_at").notNull().defaultNow()},e=>[Jt("food_items_user_id_idx").on(e.userId),Jt("food_items_storage_location_id_idx").on(e.storageLocationId),Jt("food_items_expiration_date_idx").on(e.expirationDate)]);bi(gTe).omit({id:!0,userId:!0,addedAt:!0});const yTe=Zr("chat_messages",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),role:$e("role").notNull(),content:$e("content").notNull(),timestamp:qn("timestamp").notNull().defaultNow(),metadata:$e("metadata")},e=>[Jt("chat_messages_user_id_idx").on(e.userId),Jt("chat_messages_timestamp_idx").on(e.timestamp)]);bi(yTe).omit({id:!0,userId:!0,timestamp:!0});const vTe=Zr("recipes",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),title:$e("title").notNull(),prepTime:$e("prep_time"),cookTime:$e("cook_time"),servings:xs("servings"),ingredients:$e("ingredients").array().notNull(),instructions:$e("instructions").array().notNull(),usedIngredients:$e("used_ingredients").array().notNull(),missingIngredients:$e("missing_ingredients").array(),createdAt:qn("created_at").notNull().defaultNow(),isFavorite:zc("is_favorite").notNull().default(!1),rating:xs("rating")},e=>[Jt("recipes_user_id_idx").on(e.userId),Jt("recipes_created_at_idx").on(e.createdAt)]);bi(vTe).omit({id:!0,userId:!0,createdAt:!0});const xTe=Zr("expiration_notifications",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),foodItemId:Mt("food_item_id").notNull(),foodItemName:$e("food_item_name").notNull(),expirationDate:$e("expiration_date").notNull(),daysUntilExpiry:xs("days_until_expiry").notNull(),notifiedAt:qn("notified_at").notNull().defaultNow(),dismissed:zc("dismissed").notNull().default(!1)},e=>[Jt("expiration_notifications_user_id_idx").on(e.userId),Jt("expiration_notifications_dismissed_idx").on(e.dismissed)]);bi(xTe).omit({id:!0,userId:!0,notifiedAt:!0});const bTe=Zr("meal_plans",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),recipeId:Mt("recipe_id").notNull(),date:$e("date").notNull(),mealType:$e("meal_type").notNull(),servings:xs("servings").notNull().default(1),notes:$e("notes"),createdAt:qn("created_at").notNull().defaultNow()},e=>[Jt("meal_plans_user_id_idx").on(e.userId),Jt("meal_plans_date_idx").on(e.date)]),wTe=bi(bTe).omit({id:!0,userId:!0,createdAt:!0}).extend({mealType:$a(["breakfast","lunch","dinner","snack"]),date:Ms().regex(/^\d{4}-\d{2}-\d{2}$/,"Date must be in YYYY-MM-DD format"),servings:Lo().int().positive().default(1)}),STe=Zr("api_usage_logs",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),apiName:$e("api_name").notNull(),endpoint:$e("endpoint").notNull(),queryParams:$e("query_params"),statusCode:xs("status_code").notNull(),success:zc("success").notNull(),timestamp:qn("timestamp").notNull().defaultNow()},e=>[Jt("api_usage_logs_user_id_idx").on(e.userId),Jt("api_usage_logs_timestamp_idx").on(e.timestamp)]);bi(STe).omit({id:!0,timestamp:!0});const CTe=Zr("fdc_cache",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),fdcId:$e("fdc_id").notNull().unique(),description:$e("description").notNull(),dataType:$e("data_type"),brandOwner:$e("brand_owner"),brandName:$e("brand_name"),ingredients:$e("ingredients"),servingSize:iI("serving_size"),servingSizeUnit:$e("serving_size_unit"),nutrients:wl("nutrients").$type(),fullData:wl("full_data"),cachedAt:qn("cached_at").notNull().defaultNow(),lastAccessed:qn("last_accessed").notNull().defaultNow()},e=>[Jt("fdc_cache_fdc_id_idx").on(e.fdcId),Jt("fdc_cache_description_idx").on(e.description)]);bi(CTe).omit({id:!0,cachedAt:!0,lastAccessed:!0});const ATe=Zr("fdc_search_cache",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),query:$e("query").notNull(),dataType:$e("data_type"),pageNumber:xs("page_number").notNull().default(1),pageSize:xs("page_size").notNull().default(50),totalHits:xs("total_hits"),results:wl("results").$type(),cachedAt:qn("cached_at").notNull().defaultNow()},e=>[Jt("fdc_search_cache_query_idx").on(e.query,e.dataType,e.pageNumber)]);bi(ATe).omit({id:!0,cachedAt:!0});const ETe=Zr("shopping_list_items",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),ingredient:$e("ingredient").notNull(),quantity:$e("quantity"),unit:$e("unit"),recipeId:Mt("recipe_id"),isChecked:zc("is_checked").notNull().default(!1),createdAt:qn("created_at").notNull().defaultNow()},e=>[Jt("shopping_list_items_user_id_idx").on(e.userId)]);bi(ETe).omit({id:!0,userId:!0,createdAt:!0});const aI=Zr("feedback",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),type:$e("type").notNull(),sentiment:$e("sentiment"),rating:xs("rating"),content:$e("content"),metadata:wl("metadata"),contextId:Mt("context_id"),contextType:$e("context_type"),category:$e("category"),priority:$e("priority"),status:$e("status").notNull().default("open"),estimatedTurnaround:$e("estimated_turnaround"),tags:$e("tags").array(),upvoteCount:xs("upvote_count").notNull().default(0),isFlagged:zc("is_flagged").notNull().default(!1),flagReason:$e("flag_reason"),similarTo:Mt("similar_to"),createdAt:qn("created_at").notNull().defaultNow(),resolvedAt:qn("resolved_at")},e=>[Jt("feedback_user_id_idx").on(e.userId),Jt("feedback_type_idx").on(e.type),Jt("feedback_created_at_idx").on(e.createdAt),Jt("feedback_status_idx").on(e.status),Jt("feedback_context_idx").on(e.contextId,e.contextType),Jt("feedback_upvote_count_idx").on(e.upvoteCount)]);bi(aI).omit({id:!0,userId:!0,createdAt:!0,resolvedAt:!0,upvoteCount:!0,isFlagged:!0,flagReason:!0,similarTo:!0}).extend({type:$a(["chat_response","recipe","food_item","bug","feature","general"]),sentiment:$a(["positive","negative","neutral"]).optional(),rating:Lo().int().min(1).max(5).optional(),priority:$a(["low","medium","high","critical"]).optional(),status:$a(["open","in_progress","completed","wont_fix"]).optional()});const _Te=Zr("feedback_upvotes",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),feedbackId:Mt("feedback_id").notNull().references(()=>aI.id,{onDelete:"cascade"}),userId:Mt("user_id").notNull().references(()=>Aa.id,{onDelete:"cascade"}),createdAt:qn("created_at").notNull().defaultNow()},e=>[Jt("feedback_upvotes_feedback_id_idx").on(e.feedbackId),Jt("feedback_upvotes_user_id_idx").on(e.userId),iTe("feedback_upvotes_unique_idx").on(e.feedbackId,e.userId)]);bi(_Te).omit({id:!0,createdAt:!0});const TTe=Zr("feedback_responses",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),feedbackId:Mt("feedback_id").notNull().references(()=>aI.id,{onDelete:"cascade"}),responderId:Mt("responder_id"),response:$e("response").notNull(),action:$e("action"),createdAt:qn("created_at").notNull().defaultNow()},e=>[Jt("feedback_responses_feedback_id_idx").on(e.feedbackId)]);bi(TTe).omit({id:!0,createdAt:!0});const NTe=Zr("donations",{id:Mt("id").primaryKey().default(yr`gen_random_uuid()`),userId:Mt("user_id").references(()=>Aa.id,{onDelete:"set null"}),stripePaymentIntentId:$e("stripe_payment_intent_id").notNull().unique(),amount:xs("amount").notNull(),currency:$e("currency").notNull().default("usd"),status:$e("status").notNull(),donorEmail:$e("donor_email"),donorName:$e("donor_name"),message:$e("message"),anonymous:zc("anonymous").notNull().default(!1),createdAt:qn("created_at").notNull().defaultNow(),completedAt:qn("completed_at")},e=>[Jt("donations_user_id_idx").on(e.userId),Jt("donations_created_at_idx").on(e.createdAt),Jt("donations_status_idx").on(e.status)]);bi(NTe).omit({id:!0,createdAt:!0,completedAt:!0}).extend({amount:Lo().int().positive(),status:$a(["pending","succeeded","failed","canceled"]).default("pending"),currency:Ms().default("usd"),anonymous:UC().default(!1)});const PTe=Gv({date:ZZ({required_error:"Please select a date"}),mealType:$a(["breakfast","lunch","dinner","snack"]),servings:Lo().int().positive().default(1),notes:Ms().optional()});function OTe({recipeId:e,recipeTitle:t,defaultServings:n=1,trigger:r}){const[i,s]=T.useState(!1),{toast:a}=or(),o=jk({resolver:kk(PTe),defaultValues:{mealType:"dinner",servings:n,notes:""}}),u=Dn({mutationFn:async h=>{var w;const m=new Date(h.date);m.setHours(0,0,0,0);const b={date:m.toLocaleDateString("en-CA"),mealType:h.mealType,recipeId:e,servings:h.servings,notes:((w=h.notes)==null?void 0:w.trim())||void 0},C=wTe.parse(b);return await Xt("POST","/api/meal-plans",C)},onSuccess:(h,m)=>{St.invalidateQueries({queryKey:["/api/meal-plans"]}),a({title:"Meal scheduled",description:`${t} scheduled for ${m.mealType} on ${qa(m.date,"MMM d, yyyy")}`}),o.reset(),s(!1)},onError:h=>{a({title:"Error scheduling meal",description:h.message,variant:"destructive"})}}),d=h=>{u.mutate(h)};return c.jsxs($s,{open:i,onOpenChange:s,children:[c.jsx(sK,{asChild:!0,children:r||c.jsxs(Re,{variant:"outline",size:"sm","data-testid":"button-schedule-meal",children:[c.jsx(Pfe,{className:"w-4 h-4 mr-2"}),"Schedule"]})}),c.jsxs(vs,{className:"sm:max-w-md bg-muted","data-testid":"dialog-meal-planning",children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Schedule Meal"}),c.jsx(Vs,{children:"Add this recipe to your meal plan calendar"})]}),c.jsx(Rk,{...o,children:c.jsxs("form",{onSubmit:o.handleSubmit(d),className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(fr,{htmlFor:"recipe",children:"Recipe"}),c.jsx(gn,{id:"recipe",value:t,disabled:!0,className:"bg-muted","data-testid":"input-recipe-title"})]}),c.jsx(Ua,{control:o.control,name:"date",render:({field:h})=>c.jsxs(da,{className:"flex flex-col",children:[c.jsx(fr,{children:"Date"}),c.jsxs(eI,{children:[c.jsx(tI,{asChild:!0,children:c.jsx(fa,{children:c.jsxs(Re,{variant:"outline",className:"w-full justify-start text-left font-normal","data-testid":"button-select-date",children:[c.jsx(ah,{className:"mr-2 h-4 w-4"}),h.value?qa(h.value,"PPP"):c.jsx("span",{children:"Pick a date"})]})})}),c.jsx(WC,{className:"w-auto p-0",align:"start",children:c.jsx(f2,{mode:"single",selected:h.value,onSelect:h.onChange,initialFocus:!0,"data-testid":"calendar-date-picker"})})]}),c.jsx(G0,{})]})}),c.jsx(Ua,{control:o.control,name:"mealType",render:({field:h})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Meal Type"}),c.jsxs(qr,{onValueChange:h.onChange,value:h.value,children:[c.jsx(fa,{children:c.jsx(Rr,{"data-testid":"select-meal-type",children:c.jsx(Kr,{placeholder:"Select meal type"})})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"breakfast",children:"Breakfast"}),c.jsx(mt,{value:"lunch",children:"Lunch"}),c.jsx(mt,{value:"dinner",children:"Dinner"}),c.jsx(mt,{value:"snack",children:"Snack"})]})]}),c.jsx(G0,{})]})}),c.jsx(Ua,{control:o.control,name:"servings",render:({field:h})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Servings"}),c.jsx(fa,{children:c.jsx(gn,{type:"number",min:"1",...h,onChange:m=>h.onChange(parseInt(m.target.value)||1),"data-testid":"input-servings"})}),c.jsx(G0,{})]})}),c.jsx(Ua,{control:o.control,name:"notes",render:({field:h})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Notes (optional)"}),c.jsx(fa,{children:c.jsx(gc,{placeholder:"Add any notes or modifications...",rows:3,...h,"data-testid":"textarea-notes"})}),c.jsx(G0,{})]})}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(Re,{type:"button",variant:"outline",onClick:()=>s(!1),"data-testid":"button-cancel",children:"Cancel"}),c.jsx(Re,{type:"submit",disabled:u.isPending,"data-testid":"button-confirm-schedule",children:u.isPending?"Scheduling...":"Schedule Meal"})]})]})})]})]})}function v8(e){const t=e.trim(),n=[/^(\d+\/\d+)\s+([a-zA-Z]+)\s+(.+)$/,/^(\d+\s+\d+\/\d+)\s+([a-zA-Z]+)\s+(.+)$/,/^(\d+\.?\d*)\s+([a-zA-Z]+)\s+(.+)$/,/^(\d+\.?\d*)\s+(.+)$/];for(const r of n){const i=t.match(r);if(i){let s,a=null,o,u;if(r.source.includes("Mixed number")){u=i[1]+" "+i[2];const d=i[1].split(/\s+/),h=parseFloat(d[0]),m=d[1].split("/");s=h+parseFloat(m[0])/parseFloat(m[1]),a=i[2],o=i[3]}else if(i[1].includes("/")){u=i[1]+(i[3]?" "+i[2]:"");const d=i[1].split("/");s=parseFloat(d[0])/parseFloat(d[1]),a=i[3]?i[2]:null,o=i[3]||i[2]}else i.length===3?(u=i[1],s=parseFloat(i[1]),a=null,o=i[2]):(u=i[1]+" "+i[2],s=parseFloat(i[1]),a=i[2],o=i[3]);return{quantity:s,unit:(a==null?void 0:a.trim())||null,name:o.trim(),originalMatch:u}}}return{quantity:null,unit:null,name:t,originalMatch:t}}function jTe({originalServings:e,ingredients:t,onServingsChange:n}){const[r,i]=T.useState(e),[s,a]=T.useState(!1),o=d=>{if(d<1||d>20)return;const h=d/e,m=t.map(y=>{const b=v8(y);if(b.quantity&&b.originalMatch){const C=(b.quantity*h).toFixed(2).replace(/\.?0+$/,""),w=y.indexOf(b.originalMatch),A=w>=0?y.substring(w+b.originalMatch.length):"";return`${C}${b.unit?" "+b.unit:""}${A}`}return y});i(d),n==null||n(d,m)},u=()=>t.map(d=>{const h=v8(d);if(h.quantity&&h.originalMatch){const m=(h.quantity/r).toFixed(2).replace(/\.?0+$/,""),y=d.indexOf(h.originalMatch),b=y>=0?d.substring(y+h.originalMatch.length):"";return`${m}${h.unit?" "+h.unit:""}${b} per serving`}return`${d} per serving`});return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Re,{variant:"outline",size:"icon",onClick:()=>o(r-1),disabled:r<=1,className:"h-8 w-8","data-testid":"button-decrease-servings",children:c.jsx(Jfe,{className:"h-4 w-4"})}),c.jsxs("div",{className:"flex items-center gap-2 px-3",children:[c.jsx(Iv,{className:"h-4 w-4 text-muted-foreground"}),c.jsxs("span",{className:"font-semibold","data-testid":"text-current-servings",children:[r," ",r===1?"serving":"servings"]})]}),c.jsx(Re,{variant:"outline",size:"icon",onClick:()=>o(r+1),disabled:r>=20,className:"h-8 w-8","data-testid":"button-increase-servings",children:c.jsx(Tl,{className:"h-4 w-4"})})]}),c.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>a(!s),"data-testid":"button-toggle-per-serving",children:s?"Show Total":"Show Per Serving"})]}),r!==e&&c.jsxs(Re,{variant:"ghost",size:"sm",onClick:()=>o(e),className:"text-xs text-muted-foreground","data-testid":"button-reset-servings",children:["Reset to original (",e," servings)"]}),s&&c.jsxs("div",{className:"border-t pt-4",children:[c.jsx("h4",{className:"text-sm font-semibold mb-2",children:"Per Serving Breakdown:"}),c.jsx("ul",{className:"space-y-1 text-sm text-muted-foreground",children:u().map((d,h)=>c.jsx("li",{"data-testid":`text-per-serving-ingredient-${h}`,children:d},h))})]})]})}function kTe({contextId:e,contextType:t,initialRating:n=0,showTextFeedback:r=!1,className:i,onRatingSubmit:s}){const[a,o]=T.useState(n),[u,d]=T.useState(0),[h,m]=T.useState(""),[y,b]=T.useState(!1),[C,w]=T.useState(!1),A=Dn({mutationFn:async O=>(await Xt("POST","/api/feedback",O)).json(),onSuccess:()=>{w(!0),b(!1),St.invalidateQueries({queryKey:["/api/feedback"]}),t==="recipe"&&St.invalidateQueries({queryKey:["/api/recipes"]}),s&&s(a,h)}}),_=O=>{o(O),r?b(!0):A.mutate({type:t,rating:O,sentiment:O>=4?"positive":O<=2?"negative":"neutral",contextId:e,contextType:t})},E=()=>{A.mutate({type:t,rating:a,content:h,sentiment:a>=4?"positive":a<=2?"negative":"neutral",contextId:e,contextType:t})},N=Array.from({length:5},(O,k)=>k+1),I=c.jsxs("div",{className:Te("flex items-center gap-1",i),children:[N.map(O=>c.jsx("button",{onClick:()=>_(O),onMouseEnter:()=>d(O),onMouseLeave:()=>d(0),disabled:A.isPending||C,className:Te("transition-all focus:outline-none",C&&"cursor-default"),"data-testid":`button-star-${O}`,children:c.jsx(Af,{className:Te("w-5 h-5 transition-colors",u>=O||a>=O?"fill-yellow-500 text-yellow-500":"text-muted-foreground hover:text-yellow-500/70",A.isPending&&"opacity-50")})},O)),C&&c.jsx("span",{className:"text-xs text-muted-foreground ml-2",children:"Thanks for rating!"})]});return r?c.jsxs(eI,{open:y,onOpenChange:b,children:[c.jsx(tI,{asChild:!0,children:c.jsx("div",{children:I})}),c.jsx(WC,{className:"w-80",align:"start",children:c.jsxs("div",{className:"space-y-3",children:[c.jsx("div",{className:"font-medium text-sm",children:a>=4?"Great! What did you like?":a<=2?"Sorry to hear that. What went wrong?":"Thanks for rating! Any comments?"}),c.jsx(gc,{placeholder:"Optional feedback...",value:h,onChange:O=>m(O.target.value),rows:3,className:"resize-none","data-testid":"input-feedback-comment"}),c.jsxs("div",{className:"flex justify-end gap-2",children:[c.jsx(Re,{variant:"ghost",size:"sm",onClick:()=>{b(!1),A.mutate({type:t,rating:a,sentiment:a>=4?"positive":a<=2?"negative":"neutral",contextId:e,contextType:t})},"data-testid":"button-skip-comment",children:"Skip"}),c.jsx(Re,{size:"sm",onClick:E,disabled:A.isPending,"data-testid":"button-submit-rating",children:"Submit"})]})]})})]}):I}function kee({id:e,title:t,prepTime:n,cookTime:r,servings:i,ingredients:s,instructions:a,usedIngredients:o,missingIngredients:u=[],ingredientMatches:d,isFavorite:h=!1,rating:m,showControls:y=!1}){const{toast:b}=or(),[C,w]=T.useState(m||0),[A,_]=T.useState(h),[E,N]=T.useState(s),[I,O]=T.useState(i||4),[k,M]=T.useState(!1),[R,L]=T.useState(d),[U,X]=T.useState(!1),F=Dn({mutationFn:async G=>{if(!e)throw new Error("Recipe ID required");return await Xt("PATCH",`/api/recipes/${e}`,G)},onSuccess:()=>{St.invalidateQueries({queryKey:["/api/recipes"]}),St.invalidateQueries({queryKey:["/api/recipes?includeMatching=true"]})},onError:()=>{b({title:"Error",description:"Failed to update recipe",variant:"destructive"})}}),V=()=>{const G=!A;_(G),F.mutate({isFavorite:G})},Z=async()=>{if(e){M(!0);try{await St.invalidateQueries({queryKey:["/api/food-items"]});const G=await St.fetchQuery({queryKey:["/api/recipes?includeMatching=true"],staleTime:0}),W=G==null?void 0:G.find(oe=>oe.id===e);W!=null&&W.ingredientMatches&&(L(W.ingredientMatches),b({title:"Availability Updated",description:"Ingredient availability has been refreshed"}))}catch{b({title:"Error",description:"Failed to refresh availability",variant:"destructive"})}finally{M(!1)}}},H=(G,W)=>{O(G),N(W)},q=async()=>{if(!e)return;const G=R?R.filter(W=>!W.hasEnough).map(W=>W.ingredientName):u;if(G.length===0){b({title:"No missing ingredients",description:"All ingredients are available in your inventory"});return}X(!0);try{const oe=await(await Xt("POST","/api/shopping-list/add-missing",{recipeId:e,ingredients:G})).json();b({title:"Added to shopping list",description:`Added ${oe.length} item${oe.length===1?"":"s"} to your shopping list`}),St.invalidateQueries({queryKey:["/api/shopping-list/items"]})}catch{b({title:"Error",description:"Failed to add items to shopping list",variant:"destructive"})}finally{X(!1)}};return c.jsxs(xt,{className:"glass-morph hover-elevate active-elevate-2 card-hover border-2 border-primary/20 shadow-glass hover:shadow-glass-hover transition-morph","data-testid":"card-recipe",children:[c.jsxs(gt,{className:"pb-4",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsx(vt,{className:"text-2xl font-serif font-semibold text-foreground","data-testid":"text-recipe-title",children:t}),c.jsxs(Ot,{variant:"secondary",className:"flex-shrink-0 gap-1","data-testid":"badge-ai-generated",children:[c.jsx(bs,{className:"w-3 h-3"}),"AI Generated"]})]}),y&&e&&c.jsxs("div",{className:"flex items-center gap-4 mt-3 flex-wrap",children:[c.jsx(Re,{variant:"outline",size:"sm",onClick:V,"data-testid":"button-toggle-favorite",className:A?"border-amber-500 text-amber-600":"",children:c.jsx(Af,{className:`w-4 h-4 ${A?"fill-amber-500":""}`})}),c.jsx(kTe,{contextId:e,contextType:"recipe",initialRating:C,showTextFeedback:!0,onRatingSubmit:(G,W)=>{w(G),F.mutate({rating:G})}}),c.jsx(OTe,{recipeId:e,recipeTitle:t,defaultServings:i}),c.jsxs(Re,{variant:"outline",size:"sm",onClick:Z,disabled:k,"data-testid":"button-refresh-availability",className:"gap-2",children:[c.jsx(AG,{className:`w-4 h-4 ${k?"animate-spin":""}`}),k?"Checking...":"Check Availability"]})]}),c.jsxs("div",{className:"flex items-center gap-4 mt-3 flex-wrap",children:[n&&c.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground","data-testid":"text-prep-time",children:[c.jsx(Uy,{className:"w-4 h-4"}),c.jsxs("span",{children:["Prep: ",n]})]}),r&&c.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground","data-testid":"text-cook-time",children:[c.jsx(Uy,{className:"w-4 h-4"}),c.jsxs("span",{children:["Cook: ",r]})]}),i&&c.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground","data-testid":"text-servings",children:[c.jsx(Iv,{className:"w-4 h-4"}),c.jsxs("span",{children:[i," servings"]})]}),(R||d)&&(()=>{const G=R||d,W=G?G.filter(oe=>!oe.hasEnough).length:u.length;return c.jsxs(c.Fragment,{children:[c.jsxs(Ot,{variant:W===0?"default":"destructive",className:"gap-1","data-testid":"badge-missing-ingredients",children:[c.jsx(Cm,{className:"w-3 h-3"}),W===0?"All ingredients available":`${W} missing`]}),W>0&&y&&e&&c.jsxs(Re,{variant:"outline",size:"sm",onClick:q,disabled:U,"data-testid":"button-add-to-shopping-list",className:"gap-2",children:[c.jsx(NG,{className:"w-4 h-4"}),U?"Adding...":"Add to List"]})]})})()]})]}),c.jsxs(it,{className:"space-y-6",children:[i&&c.jsx(jTe,{originalServings:i,ingredients:s,onServingsChange:H}),c.jsx(Yu,{}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-base mb-3 text-foreground",children:"Ingredients"}),c.jsx("ul",{className:"space-y-2",children:E.map((G,W)=>{const oe=R||d;if(oe&&oe[W]){const ne=oe[W],pe=()=>ne.hasEnough?c.jsx(KD,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}):ne.percentageAvailable>50?c.jsx(Tc,{className:"w-4 h-4 text-amber-600 mt-0.5 flex-shrink-0"}):ne.percentageAvailable>0?c.jsx(Tc,{className:"w-4 h-4 text-orange-600 mt-0.5 flex-shrink-0"}):c.jsx(XD,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),he=()=>ne.hasEnough?null:ne.shortage?c.jsxs("span",{className:"text-xs text-red-600 ml-2",children:["(need ",ne.shortage.quantity.toFixed(1)," ",ne.shortage.unit,")"]}):ne.percentageAvailable===-1?c.jsxs("span",{className:"text-xs text-orange-600 ml-2",children:["(have ",ne.availableQuantity," ",ne.availableUnit,")"]}):null;return c.jsxs("li",{className:"flex items-start gap-2 text-base","data-testid":`text-ingredient-${W}`,children:[pe(),c.jsxs("div",{className:"flex-1",children:[c.jsx("span",{className:ne.hasEnough?"":"text-muted-foreground",children:G}),he(),ne.percentageAvailable>0&&ne.percentageAvailable<100&&ne.percentageAvailable!==-1&&c.jsx("div",{className:"w-full bg-muted rounded-full h-1.5 mt-1",children:c.jsx("div",{className:"bg-amber-600 h-1.5 rounded-full transition-all",style:{width:`${ne.percentageAvailable}%`}})})]})]},W)}const J=o.some(ne=>G.toLowerCase().includes(ne.toLowerCase())),Y=u.some(ne=>G.toLowerCase().includes(ne.toLowerCase()));return c.jsxs("li",{className:"flex items-start gap-2 text-base","data-testid":`text-ingredient-${W}`,children:[J&&c.jsx(KD,{className:"w-4 h-4 text-green-600 mt-0.5 flex-shrink-0"}),Y&&c.jsx(XD,{className:"w-4 h-4 text-red-600 mt-0.5 flex-shrink-0"}),!J&&!Y&&c.jsx("span",{className:"w-4 h-4 flex-shrink-0"}),c.jsx("span",{className:Y?"text-muted-foreground line-through":"",children:G})]},W)})})]}),c.jsx(Yu,{}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-semibold text-base mb-3 text-foreground",children:"Instructions"}),c.jsx("ol",{className:"space-y-3",children:a.map((G,W)=>c.jsxs("li",{className:"flex gap-3 text-base leading-relaxed","data-testid":`text-instruction-${W}`,children:[c.jsxs("span",{className:"font-semibold text-primary flex-shrink-0",children:[W+1,"."]}),c.jsx("span",{children:G})]},W))})]})]})]})}function Iee(){const{toast:e}=or(),t=Dn({mutationFn:async()=>await Xt("POST","/api/notifications/expiration/check",{}),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/notifications/expiration"]})},onError:o=>{console.error("Failed to check for expiring items:",o),localStorage.removeItem("lastExpirationCheck"),e({title:"Error checking expiration dates",description:"Unable to check for expiring items. Please try again later.",variant:"destructive"})}}),{data:n}=un({queryKey:["/api/notifications/expiration"]}),{data:r}=un({queryKey:["/api/suggestions/waste-reduction"]}),i=Dn({mutationFn:async o=>await Xt("POST",`/api/notifications/${o}/dismiss`,{}),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/notifications/expiration"]}),e({title:"Notification dismissed"})},onError:o=>{console.error("Failed to dismiss notification:",o),e({title:"Error dismissing notification",description:"Unable to dismiss the notification. Please try again.",variant:"destructive"})}});T.useEffect(()=>{const o=new Date().toISOString().split("T")[0];localStorage.getItem("lastExpirationCheck")!==o&&(localStorage.setItem("lastExpirationCheck",o),t.mutate())},[]);const s=n&&n.length>0,a=r&&r.suggestions.length>0;return!s&&!a?null:c.jsxs("div",{className:"space-y-3",children:[s&&c.jsxs(jc,{className:"border-amber-200 bg-amber-50 dark:bg-amber-950/20 dark:border-amber-800",children:[c.jsx(Vf,{className:"h-4 w-4 text-amber-600 dark:text-amber-400"}),c.jsx(kc,{className:"ml-2",children:c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("span",{className:"font-medium text-amber-900 dark:text-amber-100",children:"Items expiring soon:"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:n.slice(0,5).map(o=>c.jsxs(Ot,{variant:"outline",className:"bg-white dark:bg-slate-900 border-amber-300 dark:border-amber-700","data-testid":`notification-${o.id}`,children:[c.jsxs("span",{className:"mr-2",children:[o.foodItemName," (",o.daysUntilExpiry,"d)"]}),c.jsx("button",{onClick:()=>i.mutate(o.id),className:"hover:text-destructive","data-testid":`button-dismiss-${o.id}`,children:c.jsx(Mn,{className:"h-3 w-3"})})]},o.id))})]})})]}),a&&c.jsxs(xt,{className:"border-primary/20 bg-primary/5",children:[c.jsx(gt,{className:"pb-3",children:c.jsxs(vt,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(Aj,{className:"h-4 w-4 text-primary"}),"Waste Reduction Tips"]})}),c.jsx(it,{className:"space-y-2",children:r.suggestions.map((o,u)=>c.jsxs("div",{className:"text-sm text-muted-foreground flex gap-2","data-testid":`suggestion-${u}`,children:[c.jsx("span",{className:"text-primary",children:""}),c.jsx("span",{children:o})]},u))})]})]})}function ITe(){return c.jsxs("div",{className:"flex items-center gap-1","data-testid":"loading-dots",children:[c.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"0ms"}}),c.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"150ms"}}),c.jsx("div",{className:"w-2 h-2 bg-current rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}function MTe({contextId:e,contextType:t,variant:n="inline",className:r,onFeedbackSubmit:i}){const[s,a]=T.useState(null),[o,u]=T.useState(!1),d=Dn({mutationFn:async m=>(await Xt("POST","/api/feedback",m)).json(),onSuccess:(m,y)=>{u(!0),a(y.sentiment),St.invalidateQueries({queryKey:["/api/feedback"]}),i&&y.sentiment&&i(y.sentiment)}}),h=async m=>{o&&s===m||d.mutate({type:t==="chat_message"?"chat_response":t,sentiment:m,contextId:e,contextType:t,rating:m==="positive"?5:1})};return c.jsxs("div",{className:Te("flex items-center gap-1",n==="floating"&&"glass-subtle rounded-lg p-1",r),children:[c.jsx(Re,{size:"icon",variant:"ghost",className:Te("h-7 w-7 transition-all",o&&s==="positive"?"text-green-600 dark:text-green-400":"text-muted-foreground hover:text-foreground",d.isPending&&"opacity-50"),onClick:()=>h("positive"),disabled:d.isPending,"data-testid":"button-feedback-positive",title:"Helpful",children:c.jsx(PG,{className:Te("w-4 h-4",o&&s==="positive"&&"fill-current")})}),c.jsx(Re,{size:"icon",variant:"ghost",className:Te("h-7 w-7 transition-all",o&&s==="negative"?"text-red-600 dark:text-red-400":"text-muted-foreground hover:text-foreground",d.isPending&&"opacity-50"),onClick:()=>h("negative"),disabled:d.isPending,"data-testid":"button-feedback-negative",title:"Not Helpful",children:c.jsx(uhe,{className:Te("w-4 h-4",o&&s==="negative"&&"fill-current")})})]})}function x8(){const[e,t]=T.useState([]),[n,r]=T.useState(!1),[i,s]=T.useState(""),[a,o]=T.useState(null),u=T.useRef(null),d=T.useRef(null),{toast:h}=or(),{user:m}=FC(),y=()=>{if(!m)return"";const E=m.firstName||"",N=m.lastName||"";return`${E.charAt(0)}${N.charAt(0)}`.toUpperCase()},{data:b}=un({queryKey:["/api/chat/messages"]}),C=Dn({mutationFn:async()=>Xt("DELETE","/api/chat/messages"),onSuccess:()=>{t([]),o(null),St.invalidateQueries({queryKey:["/api/chat/messages"]}),h({title:"Chat cleared",description:"Your chat history has been cleared successfully."})},onError:()=>{h({title:"Error",description:"Failed to clear chat history. Please try again.",variant:"destructive"})}});T.useEffect(()=>{b&&t(b)},[b]);const w=()=>{var E;(E=u.current)==null||E.scrollIntoView({behavior:"smooth"})};T.useEffect(()=>{w()},[e,i,a]),T.useEffect(()=>()=>{d.current&&d.current.abort()},[]);const A=async E=>{o(E);try{(await fetch("/api/chat/messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({role:"assistant",content:`I've created a recipe for you: ${E.title}`,metadata:JSON.stringify({recipeId:E.id})})})).ok&&await St.invalidateQueries({queryKey:["/api/chat/messages"]})}catch(N){console.error("Failed to save recipe message:",N);const I={id:Date.now().toString(),userId:(m==null?void 0:m.id)||"",role:"assistant",content:`I've created a recipe for you: ${E.title}`,timestamp:new Date,metadata:JSON.stringify({recipeId:E.id})};t(O=>[...O,I])}},_=async E=>{var O;const N={id:Date.now().toString(),userId:(m==null?void 0:m.id)||"",role:"user",content:E,timestamp:new Date,metadata:null};t(k=>[...k,N]),r(!0),s("");const I=new AbortController;d.current=I;try{const k=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:E}),signal:I.signal});if(!k.ok)throw new Error("Failed to send message");const M=(O=k.body)==null?void 0:O.getReader(),R=new TextDecoder;if(!M)throw new Error("No response body");let L="";for(;;){const{done:U,value:X}=await M.read();if(U)break;const V=R.decode(X).split(`
`);for(const Z of V)if(Z.startsWith("data: ")){const H=Z.slice(6);if(H==="[DONE]"){const q={id:(Date.now()+1).toString(),userId:(m==null?void 0:m.id)||"",role:"assistant",content:L,timestamp:new Date,metadata:null};t(G=>[...G,q]),s(""),r(!1),d.current=null,await St.invalidateQueries({queryKey:["/api/chat/messages"]});return}try{const q=JSON.parse(H);q.content&&(L+=q.content,s(L))}catch{}}}}catch(k){if(k.name==="AbortError"){console.log("Chat stream aborted"),d.current=null;return}h({title:"Error",description:"Failed to send message. Please try again.",variant:"destructive"}),r(!1),s(""),d.current=null}};return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"border-b border-border p-4 bg-gradient-to-r from-lime-950/50 to-green-50/30 dark:from-lime-50/20 dark:to-green-950/20 shadow-2xl",children:c.jsxs("div",{className:"max-w-4xl mx-auto flex items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Chat with Chef"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Get recipe suggestions and manage your inventory"})]}),c.jsxs("div",{className:"flex gap-2",children:[e.length>0&&c.jsxs(Re,{variant:"outline",size:"sm",onClick:()=>C.mutate(),disabled:C.isPending||n,"data-testid":"button-clear-chat",children:[c.jsx(she,{className:"w-4 h-4 mr-2"}),"Start New Chat"]}),c.jsx(mZ,{onRecipeGenerated:A})]})]})}),c.jsx("div",{className:"flex-1 overflow-y-auto bg-gradient-to-br from-lime-950/50 to-green-50/30 dark:from-lime-50/20 dark:to-green-950/20",children:c.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[c.jsx("div",{className:"mb-6",children:c.jsx(Iee,{})}),e.length===0&&!n&&!a?c.jsx(dQ,{type:"chat"}):c.jsxs(c.Fragment,{children:[e.map(E=>c.jsx(t8,{role:E.role,content:E.content,userProfileImageUrl:(m==null?void 0:m.profileImageUrl)||void 0,userInitials:y(),timestamp:new Date(E.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),children:c.jsxs(c.Fragment,{children:[E.metadata&&E.metadata.includes("recipeId")&&a&&c.jsx(kee,{id:a.id,title:a.title,prepTime:a.prepTime||void 0,cookTime:a.cookTime||void 0,servings:a.servings||void 0,ingredients:a.ingredients,instructions:a.instructions,usedIngredients:a.usedIngredients,missingIngredients:a.missingIngredients||[],showControls:!0}),E.role==="assistant"&&c.jsx(MTe,{contextId:E.id,contextType:"chat_message",className:"mt-2"})]})},E.id)),n&&i&&c.jsx(t8,{role:"assistant",content:i,userProfileImageUrl:(m==null?void 0:m.profileImageUrl)||void 0,userInitials:y()}),n&&!i&&c.jsxs("div",{className:"flex gap-3 mb-4 animate-in fade-in slide-in-from-bottom-2 duration-300",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-accent flex items-center justify-center flex-shrink-0",children:c.jsx(bs,{className:"w-4 h-4 text-accent-foreground"})}),c.jsx("div",{className:"bg-accent rounded-2xl px-4 py-3 text-accent-foreground",children:c.jsx(ITe,{})})]}),c.jsx("div",{ref:u})]})]})}),c.jsx("div",{className:"shadow-2xl",children:c.jsx(bCe,{onSend:_,disabled:n,showFeedbackWidget:!0})})]})}function kh(e,t,n){let r=n.initialDeps??[],i;function s(){var a,o,u,d;let h;n.key&&((a=n.debug)!=null&&a.call(n))&&(h=Date.now());const m=e();if(!(m.length!==r.length||m.some((C,w)=>r[w]!==C)))return i;r=m;let b;if(n.key&&((o=n.debug)!=null&&o.call(n))&&(b=Date.now()),i=t(...m),n.key&&((u=n.debug)!=null&&u.call(n))){const C=Math.round((Date.now()-h)*100)/100,w=Math.round((Date.now()-b)*100)/100,A=w/16,_=(E,N)=>{for(E=String(E);E.length<N;)E=" "+E;return E};console.info(`%c ${_(w,5)} /${_(C,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*A,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(d=n==null?void 0:n.onChange)==null||d.call(n,i),i}return s.updateDeps=a=>{r=a},s}function b8(e,t){if(e===void 0)throw new Error("Unexpected undefined");return e}const DTe=(e,t)=>Math.abs(e-t)<1.01,RTe=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},w8=e=>{const{offsetWidth:t,offsetHeight:n}=e;return{width:t,height:n}},FTe=e=>e,LTe=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},BTe=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=a=>{const{width:o,height:u}=a;t({width:Math.round(o),height:Math.round(u)})};if(i(w8(n)),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(a=>{const o=()=>{const u=a[0];if(u!=null&&u.borderBoxSize){const d=u.borderBoxSize[0];if(d){i({width:d.inlineSize,height:d.blockSize});return}}i(w8(n))};e.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},S8={passive:!0},C8=typeof window>"u"?!0:"onscrollend"in window,$Te=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const s=e.options.useScrollendEvent&&C8?()=>{}:RTe(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),a=h=>()=>{const{horizontal:m,isRtl:y}=e.options;i=m?n.scrollLeft*(y&&-1||1):n.scrollTop,s(),t(i,h)},o=a(!0),u=a(!1);u(),n.addEventListener("scroll",o,S8);const d=e.options.useScrollendEvent&&C8;return d&&n.addEventListener("scrollend",u,S8),()=>{n.removeEventListener("scroll",o),d&&n.removeEventListener("scrollend",u)}},UTe=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return e[n.options.horizontal?"offsetWidth":"offsetHeight"]},zTe=(e,{adjustments:t=0,behavior:n},r)=>{var i,s;const a=e+t;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:a,behavior:n})};class VTe{constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const a=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var i;(i=r())==null||i.disconnect(),n=null},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:FTe,rangeExtractor:LTe,onChange:()=>{},measureElement:UTe,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...n}},this.notify=n=>{var r,i;(i=(r=this.options).onChange)==null||i.call(r,this,n)},this.maybeNotify=kh(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),n=>{this.notify(n)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.maybeNotify();return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let a=r-1;a>=0;a--){const o=n[a];if(i.has(o.lane))continue;const u=s.get(o.lane);if(u==null||o.end>u.end?s.set(o.lane,o):o.end<u.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=kh(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,a)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a}),{key:!1}),this.getMeasurements=kh(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:a},o)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const u=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,u);for(let h=u;h<n;h++){const m=s(h),y=this.options.lanes===1?d[h-1]:this.getFurthestMeasurement(d,h),b=y?y.end+this.options.gap:r+i,C=o.get(m),w=typeof C=="number"?C:this.options.estimateSize(h),A=b+w,_=y?y.lane:h%this.options.lanes;d[h]={index:h,start:b,size:w,end:A,key:m,lane:_}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=kh(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(n,r,i,s)=>this.range=n.length>0&&r>0?WTe({measurements:n,outerSize:r,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=kh(()=>{let n=null,r=null;const i=this.calculateRange();return i&&(n=i.startIndex,r=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,n,r]),[this.options.rangeExtractor,this.options.overscan,this.options.count,n,r]},(n,r,i,s,a)=>s===null||a===null?[]:n({startIndex:s,endIndex:a,overscan:r,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.measurementsCache[i];if(!s)return;const a=s.key,o=this.elementsCache.get(a);o!==n&&(o&&this.observer.unobserve(o),this.observer.observe(n),this.elementsCache.set(a,n)),n.isConnected&&this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.measurementsCache[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,a=r-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,a,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!1))},this.measureElement=n=>{if(!n){this.elementsCache.forEach((r,i)=>{r.isConnected||(this.observer.unobserve(r),this.elementsCache.delete(i))});return}this._measureElement(n,void 0)},this.getVirtualItems=kh(()=>[this.getVirtualIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,a=n.length;s<a;s++){const o=n[s],u=r[o];i.push(u)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return b8(r[Mee(0,r.length-1,i=>b8(r[i]).start,n)])},this.getOffsetForAlignment=(n,r,i=0)=>{const s=this.getSize(),a=this.getScrollOffset();r==="auto"&&(r=n>=a+s?"end":"start"),r==="center"?n+=(i-s)/2:r==="end"&&(n-=s);const o=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.measurementsCache[n];if(!i)return;const s=this.getSize(),a=this.getScrollOffset();if(r==="auto")if(i.end>=a+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=a+this.options.scrollPaddingStart)r="start";else return[a,r];const o=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,r,i.size),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),n=Math.max(0,Math.min(n,this.options.count-1));let s=0;const a=10,o=d=>{if(!this.targetWindow)return;const h=this.getOffsetForIndex(n,d);if(!h){console.warn("Failed to get offset for index:",n);return}const[m,y]=h;this._scrollToOffset(m,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const b=this.getScrollOffset(),C=this.getOffsetForIndex(n,y);if(!C){console.warn("Failed to get offset for index:",n);return}DTe(C[0],b)||u(y)})},u=d=>{this.targetWindow&&(s++,s<a?this.targetWindow.requestAnimationFrame(()=>o(d)):console.warn(`Failed to scroll to index ${n} after ${a} attempts.`))};o(r)},this.scrollBy=(n,{behavior:r}={})=>{r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;if(r.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((n=r[r.length-1])==null?void 0:n.end)??0;else{const s=Array(this.options.lanes).fill(null);let a=r.length-1;for(;a>=0&&s.some(o=>o===null);){const o=r[a];s[o.lane]===null&&(s[o.lane]=o.end),a--}i=Math.max(...s.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(t)}}const Mee=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,s=n(i);if(s<r)e=i+1;else if(s>r)t=i-1;else return i}return e>0?e-1:0};function WTe({measurements:e,outerSize:t,scrollOffset:n,lanes:r}){const i=e.length-1,s=u=>e[u].start;if(e.length<=r)return{startIndex:0,endIndex:i};let a=Mee(0,i,s,n),o=a;if(r===1)for(;o<i&&e[o].end<n+t;)o++;else if(r>1){const u=Array(r).fill(0);for(;o<i&&u.some(h=>h<n+t);){const h=e[o];u[h.lane]=h.end,o++}const d=Array(r).fill(n+t);for(;a>=0&&d.some(h=>h>=n);){const h=e[a];d[h.lane]=h.start,a--}a=Math.max(0,a-a%r),o=Math.min(i,o+(r-1-o%r))}return{startIndex:a,endIndex:o}}const A8=typeof document<"u"?T.useLayoutEffect:T.useEffect;function HTe(e){const t=T.useReducer(()=>({}),{})[1],n={...e,onChange:(i,s)=>{var a;s?ud.flushSync(t):t(),(a=e.onChange)==null||a.call(e,i,s)}},[r]=T.useState(()=>new VTe(n));return r.setOptions(n),A8(()=>r._didMount(),[]),A8(()=>r._willUpdate()),r}function GTe(e){return HTe({observeElementRect:BTe,observeElementOffset:$Te,scrollToFn:zTe,...e})}function qTe({open:e,onOpenChange:t,item:n}){const[r,i]=T.useState(""),[s,a]=T.useState(""),[o,u]=T.useState(""),[d,h]=T.useState(""),{toast:m}=or(),{data:y}=oh();T.useEffect(()=>{n&&(i(n.quantity),a(n.unit||""),u(n.storageLocationId),h(n.expirationDate||""))},[n]);const b=Dn({mutationFn:async w=>await Xt("PUT",`/api/food-items/${n==null?void 0:n.id}`,w),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/food-items"]}),St.invalidateQueries({queryKey:["/api/storage-locations"]}),St.invalidateQueries({queryKey:["/api/nutrition/stats"]}),St.invalidateQueries({queryKey:["/api/nutrition/items"]}),m({title:"Success",description:"Food item updated"}),t(!1)},onError:()=>{m({title:"Error",description:"Failed to update food item",variant:"destructive"})}}),C=()=>{if(!r||!s||!o||!d){m({title:"Error",description:"Please fill in all required fields",variant:"destructive"});return}b.mutate({quantity:r,unit:s,storageLocationId:o,expirationDate:d,nutrition:(n==null?void 0:n.nutrition)||null})};return n?c.jsx($s,{open:e,onOpenChange:t,children:c.jsxs(vs,{className:"bg-muted",children:[c.jsxs(Us,{children:[c.jsxs(zs,{children:["Edit ",n.name]}),c.jsx(Vs,{children:"Update quantity, storage location, or expiration date"})]}),c.jsxs("div",{className:"space-y-4 py-4",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"edit-quantity",children:"Quantity *"}),c.jsx(gn,{id:"edit-quantity",value:r,onChange:w=>i(w.target.value),"data-testid":"input-edit-quantity"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"edit-unit",children:"Unit *"}),c.jsx(gn,{id:"edit-unit",value:s,onChange:w=>a(w.target.value),"data-testid":"input-edit-unit"})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"edit-storage",children:"Storage Location *"}),c.jsxs(qr,{value:o,onValueChange:u,children:[c.jsx(Rr,{"data-testid":"select-edit-storage",children:c.jsx(Kr,{})}),c.jsx(Fr,{children:y==null?void 0:y.map(w=>c.jsx(mt,{value:w.id,children:w.name},w.id))})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"edit-expiration",children:"Expiration Date *"}),c.jsx(gn,{id:"edit-expiration",type:"date",value:d,onChange:w=>h(w.target.value),"data-testid":"input-edit-expiration"})]})]}),c.jsxs("div",{className:"flex gap-2 justify-end",children:[c.jsx(Re,{variant:"outline",onClick:()=>t(!1),"data-testid":"button-cancel-edit",children:"Cancel"}),c.jsx(Re,{onClick:C,disabled:b.isPending,"data-testid":"button-submit-edit",children:b.isPending?"Updating...":"Update"})]})]})}):null}function KTe({nutrition:e,foodName:t}){var h,m,y,b,C,w;if(!e)return null;const n=e.servingSize||"100",r=e.servingUnit||"g",i=(A,_)=>A==null||!Number.isFinite(A)||!_||!Number.isFinite(_)||_===0?0:Math.round(A/_*100),s=i(e.fat,78),a=i(e.sodium,2300),o=i(e.carbs,275),u=i(e.fiber,28),d=i(e.protein,50);return c.jsxs("div",{className:"border-2 border-foreground rounded-md p-2 w-full max-w-xs bg-background font-sans","data-testid":"nutrition-facts-label",children:[c.jsxs("div",{className:"border-b-8 border-foreground pb-1",children:[c.jsx("h2",{className:"text-3xl font-black",children:"Nutrition Facts"}),t&&c.jsx("p",{className:"text-sm mt-1 font-medium",children:t})]}),c.jsx("div",{className:"border-b-4 border-foreground py-1",children:c.jsxs("p",{className:"text-sm",children:[c.jsx("span",{className:"font-semibold",children:"Serving size"})," ",n,r]})}),c.jsxs("div",{className:"border-b-8 border-foreground pt-1 pb-2",children:[c.jsx("p",{className:"text-xs font-semibold",children:"Amount per serving"}),c.jsxs("div",{className:"flex justify-between items-end",children:[c.jsx("span",{className:"text-3xl font-black",children:"Calories"}),c.jsx("span",{className:"text-4xl font-black","data-testid":"calories-value",children:Math.round(e.calories||0)})]})]}),c.jsx("div",{className:"border-b border-foreground py-1",children:c.jsx("p",{className:"text-xs font-semibold text-right",children:"% Daily Value*"})}),c.jsxs("div",{className:"border-b border-foreground py-1 flex justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Total Fat"})," ",((h=e.fat)==null?void 0:h.toFixed(1))||0,"g"]}),c.jsxs("span",{className:"font-bold","data-testid":"fat-dv",children:[s,"%"]})]}),c.jsxs("div",{className:"border-b border-foreground py-1 flex justify-between",children:[c.jsxs("div",{className:"ml-4",children:[c.jsx("span",{className:"font-bold",children:"Saturated Fat"})," 0g"]}),c.jsx("span",{className:"font-bold",children:"0%"})]}),c.jsx("div",{className:"border-b border-foreground py-1 flex justify-between",children:c.jsxs("div",{className:"ml-4",children:[c.jsx("span",{className:"font-bold",children:"Trans Fat"})," 0g"]})}),c.jsxs("div",{className:"border-b border-foreground py-1 flex justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Cholesterol"})," 0mg"]}),c.jsx("span",{className:"font-bold",children:"0%"})]}),c.jsxs("div",{className:"border-b border-foreground py-1 flex justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Sodium"})," ",((m=e.sodium)==null?void 0:m.toFixed(0))||0,"mg"]}),c.jsxs("span",{className:"font-bold","data-testid":"sodium-dv",children:[a,"%"]})]}),c.jsxs("div",{className:"border-b border-foreground py-1 flex justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Total Carbohydrate"})," ",((y=e.carbs)==null?void 0:y.toFixed(1))||0,"g"]}),c.jsxs("span",{className:"font-bold","data-testid":"carbs-dv",children:[o,"%"]})]}),c.jsxs("div",{className:"border-b border-foreground py-1 flex justify-between",children:[c.jsxs("div",{className:"ml-4",children:[c.jsx("span",{className:"font-bold",children:"Dietary Fiber"})," ",((b=e.fiber)==null?void 0:b.toFixed(1))||0,"g"]}),c.jsxs("span",{className:"font-bold","data-testid":"fiber-dv",children:[u,"%"]})]}),c.jsx("div",{className:"border-b border-foreground py-1 flex justify-between",children:c.jsxs("div",{className:"ml-4",children:[c.jsx("span",{className:"font-bold",children:"Total Sugars"})," ",((C=e.sugar)==null?void 0:C.toFixed(1))||0,"g"]})}),c.jsxs("div",{className:"border-b-8 border-foreground py-1 flex justify-between",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-bold",children:"Protein"})," ",((w=e.protein)==null?void 0:w.toFixed(1))||0,"g"]}),c.jsxs("span",{className:"font-bold","data-testid":"protein-dv",children:[d,"%"]})]}),c.jsx("div",{className:"pt-2 text-xs leading-tight",children:c.jsx("p",{className:"border-b border-foreground pb-1",children:"* The % Daily Value (DV) tells you how much a nutrient in a serving of food contributes to a daily diet. 2,000 calories a day is used for general nutrition advice."})})]})}function XTe(e,t){return T.useReducer((n,r)=>t[n][r]??n,e)}var oI="ScrollArea",[Dee,Ltt]=Yr(oI),[YTe,Xa]=Dee(oI),Ree=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:i,scrollHideDelay:s=600,...a}=e,[o,u]=T.useState(null),[d,h]=T.useState(null),[m,y]=T.useState(null),[b,C]=T.useState(null),[w,A]=T.useState(null),[_,E]=T.useState(0),[N,I]=T.useState(0),[O,k]=T.useState(!1),[M,R]=T.useState(!1),L=$t(t,X=>u(X)),U=lh(i);return c.jsx(YTe,{scope:n,type:r,dir:U,scrollHideDelay:s,scrollArea:o,viewport:d,onViewportChange:h,content:m,onContentChange:y,scrollbarX:b,onScrollbarXChange:C,scrollbarXEnabled:O,onScrollbarXEnabledChange:k,scrollbarY:w,onScrollbarYChange:A,scrollbarYEnabled:M,onScrollbarYEnabledChange:R,onCornerWidthChange:E,onCornerHeightChange:I,children:c.jsx(Je.div,{dir:U,...a,ref:L,style:{position:"relative","--radix-scroll-area-corner-width":_+"px","--radix-scroll-area-corner-height":N+"px",...e.style}})})});Ree.displayName=oI;var Fee="ScrollAreaViewport",Lee=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:i,...s}=e,a=Xa(Fee,n),o=T.useRef(null),u=$t(t,o,a.onViewportChange);return c.jsxs(c.Fragment,{children:[c.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:i}),c.jsx(Je.div,{"data-radix-scroll-area-viewport":"",...s,ref:u,style:{overflowX:a.scrollbarXEnabled?"scroll":"hidden",overflowY:a.scrollbarYEnabled?"scroll":"hidden",...e.style},children:c.jsx("div",{ref:a.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});Lee.displayName=Fee;var Dl="ScrollAreaScrollbar",lI=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Xa(Dl,e.__scopeScrollArea),{onScrollbarXEnabledChange:s,onScrollbarYEnabledChange:a}=i,o=e.orientation==="horizontal";return T.useEffect(()=>(o?s(!0):a(!0),()=>{o?s(!1):a(!1)}),[o,s,a]),i.type==="hover"?c.jsx(ZTe,{...r,ref:t,forceMount:n}):i.type==="scroll"?c.jsx(QTe,{...r,ref:t,forceMount:n}):i.type==="auto"?c.jsx(Bee,{...r,ref:t,forceMount:n}):i.type==="always"?c.jsx(cI,{...r,ref:t}):null});lI.displayName=Dl;var ZTe=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Xa(Dl,e.__scopeScrollArea),[s,a]=T.useState(!1);return T.useEffect(()=>{const o=i.scrollArea;let u=0;if(o){const d=()=>{window.clearTimeout(u),a(!0)},h=()=>{u=window.setTimeout(()=>a(!1),i.scrollHideDelay)};return o.addEventListener("pointerenter",d),o.addEventListener("pointerleave",h),()=>{window.clearTimeout(u),o.removeEventListener("pointerenter",d),o.removeEventListener("pointerleave",h)}}},[i.scrollArea,i.scrollHideDelay]),c.jsx(es,{present:n||s,children:c.jsx(Bee,{"data-state":s?"visible":"hidden",...r,ref:t})})}),QTe=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=Xa(Dl,e.__scopeScrollArea),s=e.orientation==="horizontal",a=GC(()=>u("SCROLL_END"),100),[o,u]=XTe("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return T.useEffect(()=>{if(o==="idle"){const d=window.setTimeout(()=>u("HIDE"),i.scrollHideDelay);return()=>window.clearTimeout(d)}},[o,i.scrollHideDelay,u]),T.useEffect(()=>{const d=i.viewport,h=s?"scrollLeft":"scrollTop";if(d){let m=d[h];const y=()=>{const b=d[h];m!==b&&(u("SCROLL"),a()),m=b};return d.addEventListener("scroll",y),()=>d.removeEventListener("scroll",y)}},[i.viewport,s,u,a]),c.jsx(es,{present:n||o!=="hidden",children:c.jsx(cI,{"data-state":o==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:Qe(e.onPointerEnter,()=>u("POINTER_ENTER")),onPointerLeave:Qe(e.onPointerLeave,()=>u("POINTER_LEAVE"))})})}),Bee=T.forwardRef((e,t)=>{const n=Xa(Dl,e.__scopeScrollArea),{forceMount:r,...i}=e,[s,a]=T.useState(!1),o=e.orientation==="horizontal",u=GC(()=>{if(n.viewport){const d=n.viewport.offsetWidth<n.viewport.scrollWidth,h=n.viewport.offsetHeight<n.viewport.scrollHeight;a(o?d:h)}},10);return Mm(n.viewport,u),Mm(n.content,u),c.jsx(es,{present:r||s,children:c.jsx(cI,{"data-state":s?"visible":"hidden",...i,ref:t})})}),cI=T.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,i=Xa(Dl,e.__scopeScrollArea),s=T.useRef(null),a=T.useRef(0),[o,u]=T.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),d=Wee(o.viewport,o.content),h={...r,sizes:o,onSizesChange:u,hasThumb:d>0&&d<1,onThumbChange:y=>s.current=y,onThumbPointerUp:()=>a.current=0,onThumbPointerDown:y=>a.current=y};function m(y,b){return iNe(y,a.current,o,b)}return n==="horizontal"?c.jsx(JTe,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const y=i.viewport.scrollLeft,b=E8(y,o,i.dir);s.current.style.transform=`translate3d(${b}px, 0, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollLeft=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollLeft=m(y,i.dir))}}):n==="vertical"?c.jsx(eNe,{...h,ref:t,onThumbPositionChange:()=>{if(i.viewport&&s.current){const y=i.viewport.scrollTop,b=E8(y,o);s.current.style.transform=`translate3d(0, ${b}px, 0)`}},onWheelScroll:y=>{i.viewport&&(i.viewport.scrollTop=y)},onDragScroll:y=>{i.viewport&&(i.viewport.scrollTop=m(y))}}):null}),JTe=T.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Xa(Dl,e.__scopeScrollArea),[a,o]=T.useState(),u=T.useRef(null),d=$t(t,u,s.onScrollbarXChange);return T.useEffect(()=>{u.current&&o(getComputedStyle(u.current))},[u]),c.jsx(Uee,{"data-orientation":"horizontal",...i,ref:d,sizes:n,style:{bottom:0,left:s.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:s.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":HC(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.x),onDragScroll:h=>e.onDragScroll(h.x),onWheelScroll:(h,m)=>{if(s.viewport){const y=s.viewport.scrollLeft+h.deltaX;e.onWheelScroll(y),Gee(y,m)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollWidth,viewport:s.viewport.offsetWidth,scrollbar:{size:u.current.clientWidth,paddingStart:y2(a.paddingLeft),paddingEnd:y2(a.paddingRight)}})}})}),eNe=T.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...i}=e,s=Xa(Dl,e.__scopeScrollArea),[a,o]=T.useState(),u=T.useRef(null),d=$t(t,u,s.onScrollbarYChange);return T.useEffect(()=>{u.current&&o(getComputedStyle(u.current))},[u]),c.jsx(Uee,{"data-orientation":"vertical",...i,ref:d,sizes:n,style:{top:0,right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":HC(n)+"px",...e.style},onThumbPointerDown:h=>e.onThumbPointerDown(h.y),onDragScroll:h=>e.onDragScroll(h.y),onWheelScroll:(h,m)=>{if(s.viewport){const y=s.viewport.scrollTop+h.deltaY;e.onWheelScroll(y),Gee(y,m)&&h.preventDefault()}},onResize:()=>{u.current&&s.viewport&&a&&r({content:s.viewport.scrollHeight,viewport:s.viewport.offsetHeight,scrollbar:{size:u.current.clientHeight,paddingStart:y2(a.paddingTop),paddingEnd:y2(a.paddingBottom)}})}})}),[tNe,$ee]=Dee(Dl),Uee=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:i,onThumbChange:s,onThumbPointerUp:a,onThumbPointerDown:o,onThumbPositionChange:u,onDragScroll:d,onWheelScroll:h,onResize:m,...y}=e,b=Xa(Dl,n),[C,w]=T.useState(null),A=$t(t,L=>w(L)),_=T.useRef(null),E=T.useRef(""),N=b.viewport,I=r.content-r.viewport,O=Er(h),k=Er(u),M=GC(m,10);function R(L){if(_.current){const U=L.clientX-_.current.left,X=L.clientY-_.current.top;d({x:U,y:X})}}return T.useEffect(()=>{const L=U=>{const X=U.target;(C==null?void 0:C.contains(X))&&O(U,I)};return document.addEventListener("wheel",L,{passive:!1}),()=>document.removeEventListener("wheel",L,{passive:!1})},[N,C,I,O]),T.useEffect(k,[r,k]),Mm(C,M),Mm(b.content,M),c.jsx(tNe,{scope:n,scrollbar:C,hasThumb:i,onThumbChange:Er(s),onThumbPointerUp:Er(a),onThumbPositionChange:k,onThumbPointerDown:Er(o),children:c.jsx(Je.div,{...y,ref:A,style:{position:"absolute",...y.style},onPointerDown:Qe(e.onPointerDown,L=>{L.button===0&&(L.target.setPointerCapture(L.pointerId),_.current=C.getBoundingClientRect(),E.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",b.viewport&&(b.viewport.style.scrollBehavior="auto"),R(L))}),onPointerMove:Qe(e.onPointerMove,R),onPointerUp:Qe(e.onPointerUp,L=>{const U=L.target;U.hasPointerCapture(L.pointerId)&&U.releasePointerCapture(L.pointerId),document.body.style.webkitUserSelect=E.current,b.viewport&&(b.viewport.style.scrollBehavior=""),_.current=null})})})}),g2="ScrollAreaThumb",zee=T.forwardRef((e,t)=>{const{forceMount:n,...r}=e,i=$ee(g2,e.__scopeScrollArea);return c.jsx(es,{present:n||i.hasThumb,children:c.jsx(nNe,{ref:t,...r})})}),nNe=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...i}=e,s=Xa(g2,n),a=$ee(g2,n),{onThumbPositionChange:o}=a,u=$t(t,m=>a.onThumbChange(m)),d=T.useRef(void 0),h=GC(()=>{d.current&&(d.current(),d.current=void 0)},100);return T.useEffect(()=>{const m=s.viewport;if(m){const y=()=>{if(h(),!d.current){const b=sNe(m,o);d.current=b,o()}};return o(),m.addEventListener("scroll",y),()=>m.removeEventListener("scroll",y)}},[s.viewport,h,o]),c.jsx(Je.div,{"data-state":a.hasThumb?"visible":"hidden",...i,ref:u,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:Qe(e.onPointerDownCapture,m=>{const b=m.target.getBoundingClientRect(),C=m.clientX-b.left,w=m.clientY-b.top;a.onThumbPointerDown({x:C,y:w})}),onPointerUp:Qe(e.onPointerUp,a.onThumbPointerUp)})});zee.displayName=g2;var uI="ScrollAreaCorner",Vee=T.forwardRef((e,t)=>{const n=Xa(uI,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?c.jsx(rNe,{...e,ref:t}):null});Vee.displayName=uI;var rNe=T.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,i=Xa(uI,n),[s,a]=T.useState(0),[o,u]=T.useState(0),d=!!(s&&o);return Mm(i.scrollbarX,()=>{var m;const h=((m=i.scrollbarX)==null?void 0:m.offsetHeight)||0;i.onCornerHeightChange(h),u(h)}),Mm(i.scrollbarY,()=>{var m;const h=((m=i.scrollbarY)==null?void 0:m.offsetWidth)||0;i.onCornerWidthChange(h),a(h)}),d?c.jsx(Je.div,{...r,ref:t,style:{width:s,height:o,position:"absolute",right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function y2(e){return e?parseInt(e,10):0}function Wee(e,t){const n=e/t;return isNaN(n)?0:n}function HC(e){const t=Wee(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function iNe(e,t,n,r="ltr"){const i=HC(n),s=i/2,a=t||s,o=i-a,u=n.scrollbar.paddingStart+a,d=n.scrollbar.size-n.scrollbar.paddingEnd-o,h=n.content-n.viewport,m=r==="ltr"?[0,h]:[h*-1,0];return Hee([u,d],m)(e)}function E8(e,t,n="ltr"){const r=HC(t),i=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,s=t.scrollbar.size-i,a=t.content-t.viewport,o=s-r,u=n==="ltr"?[0,a]:[a*-1,0],d=Qy(e,u);return Hee([0,a],[0,o])(d)}function Hee(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Gee(e,t){return e>0&&e<t}var sNe=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function i(){const s={left:e.scrollLeft,top:e.scrollTop},a=n.left!==s.left,o=n.top!==s.top;(a||o)&&t(),n=s,r=window.requestAnimationFrame(i)}(),()=>window.cancelAnimationFrame(r)};function GC(e,t){const n=Er(e),r=T.useRef(0);return T.useEffect(()=>()=>window.clearTimeout(r.current),[]),T.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Mm(e,t){const n=Er(t);Br(()=>{let r=0;if(e){const i=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return i.observe(e),()=>{window.cancelAnimationFrame(r),i.unobserve(e)}}},[e,n])}var qee=Ree,aNe=Lee,oNe=Vee;const h1=T.forwardRef(({className:e,children:t,...n},r)=>c.jsxs(qee,{ref:r,className:Te("relative overflow-hidden",e),...n,children:[c.jsx(aNe,{className:"h-full w-full rounded-[inherit]",children:t}),c.jsx(Kee,{}),c.jsx(oNe,{})]}));h1.displayName=qee.displayName;const Kee=T.forwardRef(({className:e,orientation:t="vertical",...n},r)=>c.jsx(lI,{ref:r,orientation:t,className:Te("flex touch-none select-none transition-colors",t==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",t==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",e),...n,children:c.jsx(zee,{className:"relative flex-1 rounded-full bg-border"})}));Kee.displayName=lI.displayName;function lNe({open:e,onOpenChange:t,item:n}){let r=null,i=null,s=null,a=null,o=null;if(n.usdaData){const u=n.usdaData;i=u.ingredients||null,s=u.brandOwner||null,a=u.foodCategory||null,o=u.dataType||null,u.nutrition&&(r=u.nutrition)}if(!r)try{n.nutrition&&n.nutrition!=="null"&&(r=JSON.parse(n.nutrition))}catch(u){console.error("Failed to parse nutrition data:",u)}return r?c.jsx($s,{open:e,onOpenChange:t,children:c.jsxs(vs,{className:"max-w-2xl max-h-[90vh] bg-muted",children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Nutrition Facts"}),c.jsxs(Vs,{children:["Detailed nutritional information for ",n.name]})]}),c.jsx(h1,{className:"h-[calc(90vh-120px)]",children:c.jsxs("div",{className:"space-y-6 p-1",children:[(s||a||o)&&c.jsxs("div",{className:"flex flex-wrap gap-2",children:[s&&c.jsxs(Ot,{variant:"outline",children:[c.jsx(the,{className:"w-3 h-3 mr-1"}),s]}),a&&c.jsx(Ot,{variant:"secondary",children:a}),o&&c.jsxs(Ot,{variant:"outline",className:"text-xs",children:[c.jsx(zy,{className:"w-3 h-3 mr-1"}),o," Data"]})]}),c.jsx("div",{className:"flex justify-center",children:c.jsx(KTe,{nutrition:r,foodName:n.name})}),i&&c.jsxs("div",{className:"space-y-2 border-t border-border pt-4",children:[c.jsx("h3",{className:"font-semibold text-sm",children:"Ingredients"}),c.jsx("p",{className:"text-sm text-muted-foreground leading-relaxed",children:i})]}),c.jsxs("div",{className:"space-y-2 border-t border-border pt-4 text-xs text-muted-foreground",children:[c.jsx("p",{children:"* Percent Daily Values are based on a 2,000 calorie diet."}),n.fcdId&&c.jsxs("p",{children:["USDA FoodData Central ID: ",n.fcdId]})]})]})})]})}):null}function dI({item:e,storageLocationName:t}){const[n,r]=T.useState(!1),[i,s]=T.useState(!1),{toast:a}=or(),o=y=>({fridge:"bg-blue-500/10 text-blue-600 dark:bg-blue-500/20 dark:text-blue-400 border-blue-200 dark:border-blue-800",freezer:"bg-cyan-500/10 text-cyan-600 dark:bg-cyan-500/20 dark:text-cyan-400 border-cyan-200 dark:border-cyan-800",pantry:"bg-amber-500/10 text-amber-600 dark:bg-amber-500/20 dark:text-amber-400 border-amber-200 dark:border-amber-800",counter:"bg-green-500/10 text-green-600 dark:bg-green-500/20 dark:text-green-400 border-green-200 dark:border-green-800"})[y.toLowerCase()]||"bg-gray-500/10 text-gray-600 dark:bg-gray-500/20 dark:text-gray-400 border-gray-200 dark:border-gray-800",u=y=>{if(!y)return null;const b=new Date(y),C=new Date,w=Math.ceil((b.getTime()-C.getTime())/(1e3*60*60*24));return w<0?{color:"bg-red-500",text:"Expired"}:w<=3?{color:"bg-amber-500",text:`${w}d left`}:{color:"bg-green-500",text:`${w}d left`}},d=Dn({mutationFn:async()=>await Xt("DELETE",`/api/food-items/${e.id}`,null),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/food-items"]}),St.invalidateQueries({queryKey:["/api/storage-locations"]}),St.invalidateQueries({queryKey:["/api/nutrition/stats"]}),St.invalidateQueries({queryKey:["/api/nutrition/items"]}),a({title:"Item deleted",description:"Food item removed from inventory"})},onError:()=>{a({title:"Error",description:"Failed to delete item",variant:"destructive"})}}),h=u(e.expirationDate),m=e.nutrition&&e.nutrition!=="null";return c.jsxs(c.Fragment,{children:[c.jsx(xt,{className:"glass-morph hover-elevate active-elevate-2 card-hover border border-card-border/50 shadow-glass hover:shadow-glass-hover transition-morph","data-testid":`card-food-${e.id}`,children:c.jsx(it,{className:"p-4",children:c.jsxs("div",{className:"flex gap-3",children:[e.imageUrl?c.jsx("div",{className:"w-16 h-16 rounded-lg overflow-hidden flex-shrink-0 group",children:c.jsx("img",{src:e.imageUrl,alt:e.name,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-110","data-testid":`img-food-${e.id}`})}):c.jsx("div",{className:"w-16 h-16 rounded-lg bg-muted flex items-center justify-center flex-shrink-0",children:c.jsx(Nc,{className:"w-8 h-8 text-muted-foreground"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[c.jsx("h3",{className:"font-medium text-lg text-foreground truncate","data-testid":`text-food-name-${e.id}`,children:e.name}),c.jsx(Ot,{variant:"outline",className:Te("text-xs flex-shrink-0 border",o(t)),"data-testid":`badge-storage-${e.id}`,children:t})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.fcdId&&c.jsxs("span",{className:"text-xs text-muted-foreground font-mono","data-testid":`text-fcd-${e.id}`,children:["FCD: ",e.fcdId]}),c.jsxs("span",{className:"text-sm font-medium text-foreground","data-testid":`text-quantity-${e.id}`,children:[e.quantity," ",e.unit]})]}),h&&c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx("span",{className:"text-xs text-muted-foreground","data-testid":`text-expiry-${e.id}`,children:h.text}),e.expirationDate&&c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(e.expirationDate).toLocaleDateString()})]}),c.jsx("div",{className:"w-full h-1.5 bg-muted rounded-full overflow-hidden",children:c.jsx("div",{className:Te("h-full rounded-full transition-all-smooth",h.color),style:{width:(()=>{const y=new Date().getTime(),C=(new Date(e.expirationDate).getTime()-y)/(24*60*60*1e3);return C<0?"10%":C<=3?`${10+C/3*20}%`:C<=7?`${30+(C-3)/4*30}%`:`${Math.min(100,60+(C-7)/23*40)}%`})()}})})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[m&&c.jsxs(Bu,{children:[c.jsx($u,{asChild:!0,children:c.jsx(Re,{size:"icon",variant:"ghost",className:"h-8 w-8 scale-touch",onClick:()=>s(!0),"data-testid":`button-nutrition-${e.id}`,children:c.jsx(zy,{className:"w-3.5 h-3.5"})})}),c.jsx(mc,{children:c.jsx("p",{children:"View nutrition facts"})})]}),c.jsxs(Bu,{children:[c.jsx($u,{asChild:!0,children:c.jsx(Re,{size:"icon",variant:"ghost",className:"h-8 w-8 scale-touch",onClick:()=>r(!0),"data-testid":`button-edit-${e.id}`,children:c.jsx(yN,{className:"w-3.5 h-3.5"})})}),c.jsx(mc,{children:c.jsx("p",{children:"Edit item"})})]}),c.jsxs(Bu,{children:[c.jsx($u,{asChild:!0,children:c.jsx(Re,{size:"icon",variant:"ghost",className:"h-8 w-8 text-destructive hover:text-destructive scale-touch",onClick:()=>d.mutate(),disabled:d.isPending,"data-testid":`button-delete-${e.id}`,children:c.jsx(Fw,{className:"w-3.5 h-3.5"})})}),c.jsx(mc,{children:c.jsx("p",{children:"Delete item"})})]})]})]})]})})}),c.jsx(qTe,{open:n,onOpenChange:r,item:e}),m&&c.jsx(lNe,{open:i,onOpenChange:s,item:e})]})}function cNe(){return c.jsx(xt,{className:"border border-card-border shadow-sm animate-pulse",children:c.jsx(it,{className:"p-4",children:c.jsxs("div",{className:"flex gap-3",children:[c.jsx(Oi,{className:"w-16 h-16 rounded-lg flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-start justify-between gap-2 mb-2",children:[c.jsx(Oi,{className:"h-6 w-3/4"}),c.jsx(Oi,{className:"h-5 w-20 rounded-full"})]}),c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx(Oi,{className:"h-4 w-24"}),c.jsx(Oi,{className:"h-4 w-16"})]}),c.jsxs("div",{className:"mb-3",children:[c.jsxs("div",{className:"flex items-center justify-between mb-1",children:[c.jsx(Oi,{className:"h-3 w-16"}),c.jsx(Oi,{className:"h-3 w-20"})]}),c.jsx(Oi,{className:"w-full h-1.5 rounded-full"})]}),c.jsxs("div",{className:"flex items-center gap-1",children:[c.jsx(Oi,{className:"h-8 w-8 rounded-md"}),c.jsx(Oi,{className:"h-8 w-8 rounded-md"}),c.jsx(Oi,{className:"h-8 w-8 rounded-md"})]})]})]})})})}function uNe({count:e=6}){return c.jsx("div",{className:"grid gap-4 md:grid-cols-2 xl:grid-cols-3",children:Array.from({length:e}).map((t,n)=>c.jsx(cNe,{},n))})}function dNe({onRecipeGenerated:e}){const{toast:t}=or(),{data:n}=un({queryKey:["/api/food-items"]}),r=(n==null?void 0:n.filter(u=>u.expirationDate?Math.floor((new Date(u.expirationDate).getTime()-new Date().getTime())/(1e3*60*60*24))<=3:!1).length)||0,i=Dn({mutationFn:async()=>await(await Xt("POST","/api/recipes/generate",{})).json(),onSuccess:async u=>{await St.invalidateQueries({queryKey:["/api/food-items"]}),await St.invalidateQueries({queryKey:["/api/recipes?includeMatching=true"]});const d=await St.fetchQuery({queryKey:["/api/recipes?includeMatching=true"],staleTime:0}),h=d==null?void 0:d.find(m=>m.id===u.id);t({title:"Recipe Generated!",description:`${u.title} - Created using your available ingredients${r>0?", prioritizing expiring items":""}`}),e==null||e(h||u),await St.invalidateQueries({queryKey:["/api/recipes"]})},onError:u=>{t({title:"Error",description:u.message||"Failed to generate recipe",variant:"destructive"})}}),s=((n==null?void 0:n.length)||0)>0,a=c.jsxs(c.Fragment,{children:[c.jsx(bs,{className:"w-4 h-4 mr-2"}),i.isPending?"Analyzing inventory...":r>0?`Generate Recipe (${r} expiring)`:"Generate Recipe"]}),o=s?r>0?`Generate a recipe prioritizing ${r} expiring item${r===1?"":"s"}`:`Generate a recipe using your ${n==null?void 0:n.length} available ingredient${(n==null?void 0:n.length)===1?"":"s"}`:"Add ingredients to your inventory first";return c.jsx(CC,{children:c.jsxs(Bu,{children:[c.jsx($u,{asChild:!0,children:c.jsxs(Re,{onClick:()=>i.mutate(),disabled:!s||i.isPending,"data-testid":"button-generate-recipe",size:"default",variant:(r>0,"default"),className:r>0?"relative":"",children:[r>0&&c.jsx(Vf,{className:"absolute -top-1 -right-1 w-3 h-3 text-destructive animate-pulse"}),a]})}),c.jsx(mc,{children:c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(vg,{className:"w-3 h-3"}),c.jsx("span",{children:o})]})})]})})}function fNe({items:e,storageLocations:t,scrollContainerRef:n}){const r=()=>{if(typeof window>"u")return 3;const u=window.innerWidth;return u<768?1:u<1024?2:3},[i,s]=T.useState(r());T.useEffect(()=>{const u=()=>s(r());return window.addEventListener("resize",u),()=>window.removeEventListener("resize",u)},[]);const a=T.useMemo(()=>{const u=[];for(let d=0;d<e.length;d+=i)u.push(e.slice(d,d+i));return u},[e,i]),o=GTe({count:a.length,getScrollElement:()=>n.current,estimateSize:()=>280,overscan:2});return c.jsx("div",{ref:n,className:"h-[600px] overflow-auto",style:{contain:"strict"},children:c.jsx("div",{style:{height:`${o.getTotalSize()}px`,width:"100%",position:"relative"},children:o.getVirtualItems().map(u=>{const d=a[u.index];return c.jsx("div",{style:{position:"absolute",top:0,left:0,width:"100%",height:`${u.size}px`,transform:`translateY(${u.start}px)`},children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:d.map(h=>{const m=t.find(y=>y.id===h.storageLocationId);return c.jsx(dI,{item:h,storageLocationName:(m==null?void 0:m.name)||"Unknown"},h.id)})})},u.key)})})})}function hNe(){const[,e]=fue("/storage/:location"),[,t]=Bc(),[n,r]=T.useState(!1),[i,s]=T.useState(null),{toast:a}=or(),o=(e==null?void 0:e.location)||"all",u=T.useRef(null),{data:d,error:h,isLoading:m}=oh(),{data:y,error:b,isLoading:C}=un({queryKey:["/api/food-items"]}),{data:w}=un({queryKey:["/api/food-categories"]});T.useEffect(()=>{h&&a({title:"Error loading storage locations",description:"Failed to load your storage locations. Please try refreshing the page.",variant:"destructive"})},[h,a]),T.useEffect(()=>{b&&a({title:"Error loading items",description:"Failed to load your inventory items. Please try refreshing the page.",variant:"destructive"})},[b,a]);const A=d==null?void 0:d.find(N=>N.name.toLowerCase()===o.toLowerCase());let _=o==="all"?y:y==null?void 0:y.filter(N=>N.storageLocationId===(A==null?void 0:A.id));i&&_&&(_=_.filter(N=>N.foodCategory===i));const E=N=>{t("/")};return c.jsxs(c.Fragment,{children:[c.jsx("div",{className:"h-full overflow-y-auto bg-muted mobile-scroll",children:c.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[c.jsx("div",{className:"mb-6",children:c.jsx(Iee,{})}),w&&w.length>0&&c.jsxs("div",{className:"mb-6",children:[c.jsx("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground",children:"Filter by Category"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:w.map(N=>c.jsxs(Ot,{variant:i===N?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>s(i===N?null:N),"data-testid":`badge-category-${N.toLowerCase().replace(/\s+/g,"-")}`,children:[N,i===N&&c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},N))})]}),c.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground capitalize mb-2",children:o==="all"?"All Items":o}),c.jsxs("p",{className:"text-sm md:text-base text-muted-foreground",children:[(_==null?void 0:_.length)||0," item",(_==null?void 0:_.length)!==1?"s":""," in this location"]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(dNe,{onRecipeGenerated:E}),c.jsxs(Re,{onClick:()=>r(!0),className:"touch-target","data-testid":"button-add-item-page",children:[c.jsx(Tl,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden sm:inline",children:"Add Item"}),c.jsx("span",{className:"sm:hidden",children:"Add"})]})]})]}),C||m?c.jsx(uNe,{count:6}):!_||_.length===0?c.jsx(dQ,{type:"inventory",onAction:()=>r(!0)}):_.length>50?c.jsx(fNe,{items:_,storageLocations:d||[],scrollContainerRef:u}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:_.map(N=>{const I=d==null?void 0:d.find(O=>O.id===N.storageLocationId);return c.jsx(dI,{item:N,storageLocationName:(I==null?void 0:I.name)||"Unknown"},N.id)})})]})}),c.jsx(KY,{open:n,onOpenChange:r})]})}function pNe(){const[e,t]=T.useState(!1),[n,r]=T.useState(null),[i,s]=T.useState(null),[a,o]=T.useState(!1),{toast:u}=or(),d=Dn({mutationFn:async A=>await(await Xt("POST","/api/recipes/from-image",{image:A})).json(),onSuccess:A=>{u({title:"Recipe Added!",description:`Successfully extracted: ${A.title}`}),St.invalidateQueries({queryKey:["/api/recipes"]}),t(!1),h()},onError:A=>{u({title:"Extraction Failed",description:A.message||"Could not extract recipe from image. Please try a clearer photo.",variant:"destructive"})}}),h=()=>{r(null),s(null)},m=A=>{if(A&&A.type.startsWith("image/")){s(A);const _=new FileReader;_.onloadend=()=>{r(_.result)},_.readAsDataURL(A)}else u({title:"Invalid File",description:"Please select an image file",variant:"destructive"})},y=T.useCallback(A=>{A.preventDefault(),A.stopPropagation(),o(!1);const _=A.dataTransfer.files[0];_&&m(_)},[]),b=T.useCallback(A=>{A.preventDefault(),A.stopPropagation(),o(!0)},[]),C=T.useCallback(A=>{A.preventDefault(),A.stopPropagation(),o(!1)},[]),w=()=>{if(n){const A=n.split(",")[1];d.mutate(A)}};return c.jsxs($s,{open:e,onOpenChange:t,children:[c.jsx(sK,{asChild:!0,children:c.jsxs(Re,{variant:"outline",size:"sm","data-testid":"button-upload-recipe",children:[c.jsx(vN,{className:"w-4 h-4 mr-2"}),"Upload Recipe"]})}),c.jsxs(vs,{className:"sm:max-w-2xl bg-muted",children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Upload Recipe from Image"}),c.jsx(Vs,{children:"Take a photo or upload an image of a paper recipe. Our AI will extract the ingredients and instructions for you."})]}),c.jsxs("div",{className:"space-y-4",children:[n?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"relative rounded-lg overflow-hidden bg-muted",children:[c.jsx("img",{src:n,alt:"Recipe preview",className:"max-h-96 w-full object-contain","data-testid":"image-recipe-preview"}),c.jsx(Re,{variant:"ghost",size:"icon",className:"absolute top-2 right-2 bg-background/80 backdrop-blur-sm",onClick:h,"data-testid":"button-remove-image",children:c.jsx(Mn,{className:"w-4 h-4"})})]}),i&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Selected: ",i.name]})]}):c.jsx("div",{className:`border-2 border-dashed rounded-lg p-8 text-center transition-colors ${a?"border-primary bg-primary/5":"border-muted-foreground/25"}`,onDrop:y,onDragOver:b,onDragLeave:C,"data-testid":"dropzone-recipe-upload",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx(Ofe,{className:"w-8 h-8 text-primary"})}),c.jsxs("div",{children:[c.jsx("p",{className:"text-lg font-medium",children:"Drag and drop your recipe photo here"}),c.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"or click to select a file"})]}),c.jsx("input",{type:"file",accept:"image/*",className:"hidden",id:"recipe-upload",onChange:A=>{var E;const _=(E=A.target.files)==null?void 0:E[0];_&&m(_)},"data-testid":"input-recipe-file"}),c.jsx("label",{htmlFor:"recipe-upload",children:c.jsx(Re,{variant:"outline",asChild:!0,children:c.jsxs("span",{children:[c.jsx(Hfe,{className:"w-4 h-4 mr-2"}),"Choose Image"]})})})]})}),c.jsx(jc,{children:c.jsxs(kc,{children:[c.jsx("strong",{children:"Tips for best results:"}),c.jsxs("ul",{className:"mt-2 ml-4 space-y-1 list-disc text-sm",children:[c.jsx("li",{children:"Ensure the text is clearly visible and in focus"}),c.jsx("li",{children:"Include the entire recipe in the photo"}),c.jsx("li",{children:"Use good lighting to avoid shadows on the text"}),c.jsx("li",{children:"Keep the camera straight to avoid distortion"})]})]})})]}),c.jsxs(Ap,{children:[c.jsx(Re,{variant:"outline",onClick:()=>{t(!1),h()},disabled:d.isPending,"data-testid":"button-cancel-upload",children:"Cancel"}),c.jsx(Re,{onClick:w,disabled:!n||d.isPending,"data-testid":"button-process-recipe",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Nu,{className:"w-4 h-4 mr-2 animate-spin"}),"Extracting Recipe..."]}):c.jsxs(c.Fragment,{children:[c.jsx(Xd,{className:"w-4 h-4 mr-2"}),"Extract Recipe"]})})]})]})]})}function mNe(e){if(typeof Proxy>"u")return e;const t=new Map,n=(...r)=>e(...r);return new Proxy(n,{get:(r,i)=>i==="create"?e:(t.has(i)||t.set(i,e(i)),t.get(i))})}function qC(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const CP=e=>Array.isArray(e);function Xee(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function p1(e){return typeof e=="string"||Array.isArray(e)}function _8(e){const t=[{},{}];return e==null||e.values.forEach((n,r)=>{t[0][r]=n.get(),t[1][r]=n.getVelocity()}),t}function fI(e,t,n,r){if(typeof t=="function"){const[i,s]=_8(r);t=t(n!==void 0?n:e.custom,i,s)}if(typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"){const[i,s]=_8(r);t=t(n!==void 0?n:e.custom,i,s)}return t}function KC(e,t,n){const r=e.getProps();return fI(r,t,n!==void 0?n:r.custom,e)}const hI=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],pI=["initial",...hI],Jv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ch=new Set(Jv),yc=e=>e*1e3,vc=e=>e/1e3,gNe={type:"spring",stiffness:500,damping:25,restSpeed:10},yNe=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),vNe={type:"keyframes",duration:.8},xNe={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},bNe=(e,{keyframes:t})=>t.length>2?vNe:ch.has(e)?e.startsWith("scale")?yNe(t[1]):gNe:xNe;function mI(e,t){return e?e[t]||e.default||e:void 0}const wNe={skipAnimations:!1,useManualTiming:!1},SNe=e=>e!==null;function XC(e,{repeat:t,repeatType:n="loop"},r){const i=e.filter(SNe),s=t&&n!=="loop"&&t%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const Yi=e=>e;let AP=Yi;function CNe(e){let t=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let a={delta:0,timestamp:0,isProcessing:!1};function o(d){s.has(d)&&(u.schedule(d),e()),d(a)}const u={schedule:(d,h=!1,m=!1)=>{const b=m&&r?t:n;return h&&s.add(d),b.has(d)||b.add(d),d},cancel:d=>{n.delete(d),s.delete(d)},process:d=>{if(a=d,r){i=!0;return}r=!0,[t,n]=[n,t],n.clear(),t.forEach(o),r=!1,i&&(i=!1,u.process(d))}};return u}const ub=["read","resolveKeyframes","update","preRender","render","postRender"],ANe=40;function Yee(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,a=ub.reduce((_,E)=>(_[E]=CNe(s),_),{}),{read:o,resolveKeyframes:u,update:d,preRender:h,render:m,postRender:y}=a,b=()=>{const _=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(_-i.timestamp,ANe),1),i.timestamp=_,i.isProcessing=!0,o.process(i),u.process(i),d.process(i),h.process(i),m.process(i),y.process(i),i.isProcessing=!1,n&&t&&(r=!1,e(b))},C=()=>{n=!0,r=!0,i.isProcessing||e(b)};return{schedule:ub.reduce((_,E)=>{const N=a[E];return _[E]=(I,O=!1,k=!1)=>(n||C(),N.schedule(I,O,k)),_},{}),cancel:_=>{for(let E=0;E<ub.length;E++)a[ub[E]].cancel(_)},state:i,steps:a}}const{schedule:On,cancel:nd,state:ji,steps:x_}=Yee(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yi,!0),Zee=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,ENe=1e-7,_Ne=12;function TNe(e,t,n,r,i){let s,a,o=0;do a=t+(n-t)/2,s=Zee(a,r,i)-e,s>0?n=a:t=a;while(Math.abs(s)>ENe&&++o<_Ne);return a}function ex(e,t,n,r){if(e===t&&n===r)return Yi;const i=s=>TNe(s,0,1,e,n);return s=>s===0||s===1?s:Zee(i(s),t,r)}const Qee=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,Jee=e=>t=>1-e(1-t),ete=ex(.33,1.53,.69,.99),gI=Jee(ete),tte=Qee(gI),nte=e=>(e*=2)<1?.5*gI(e):.5*(2-Math.pow(2,-10*(e-1))),yI=e=>1-Math.sin(Math.acos(e)),rte=Jee(yI),ite=Qee(yI),ste=e=>/^0[^.\s]+$/u.test(e);function NNe(e){return typeof e=="number"?e===0:e!==null?e==="none"||e==="0"||ste(e):!0}const ate=e=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(e),ote=e=>t=>typeof t=="string"&&t.startsWith(e),lte=ote("--"),PNe=ote("var(--"),vI=e=>PNe(e)?ONe.test(e.split("/*")[0].trim()):!1,ONe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jNe=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kNe(e){const t=jNe.exec(e);if(!t)return[,];const[,n,r,i]=t;return[`--${n??r}`,i]}function cte(e,t,n=1){const[r,i]=kNe(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const a=s.trim();return ate(a)?parseFloat(a):a}return vI(i)?cte(i,t,n+1):i}const Mc=(e,t,n)=>n>t?t:n<e?e:n,jg={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},m1={...jg,transform:e=>Mc(0,1,e)},db={...jg,default:1},tx=e=>({test:t=>typeof t=="string"&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),au=tx("deg"),Sl=tx("%"),kt=tx("px"),INe=tx("vh"),MNe=tx("vw"),T8={...Sl,parse:e=>Sl.parse(e)/100,transform:e=>Sl.transform(e*100)},DNe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),N8=e=>e===jg||e===kt,P8=(e,t)=>parseFloat(e.split(", ")[t]),O8=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return P8(i[1],t);{const s=r.match(/^matrix\((.+)\)$/u);return s?P8(s[1],e):0}},RNe=new Set(["x","y","z"]),FNe=Jv.filter(e=>!RNe.has(e));function LNe(e){const t=[];return FNe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t}const Dm={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:O8(4,13),y:O8(5,14)};Dm.translateX=Dm.x;Dm.translateY=Dm.y;const ute=e=>t=>t.test(e),BNe={test:e=>e==="auto",parse:e=>e},dte=[jg,kt,Sl,au,MNe,INe,BNe],j8=e=>dte.find(ute(e)),Tf=new Set;let EP=!1,_P=!1;function fte(){if(_P){const e=Array.from(Tf).filter(r=>r.needsMeasurement),t=new Set(e.map(r=>r.element)),n=new Map;t.forEach(r=>{const i=LNe(r);i.length&&(n.set(r,i),r.render())}),e.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,a])=>{var o;(o=r.getValue(s))===null||o===void 0||o.set(a)})}),e.forEach(r=>r.measureEndState()),e.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}_P=!1,EP=!1,Tf.forEach(e=>e.complete()),Tf.clear()}function hte(){Tf.forEach(e=>{e.readKeyframes(),e.needsMeasurement&&(_P=!0)})}function $Ne(){hte(),fte()}class xI{constructor(t,n,r,i,s,a=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Tf.add(this),EP||(EP=!0,On.read(hte),On.resolveKeyframes(fte))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:n,element:r,motionValue:i}=this;for(let s=0;s<t.length;s++)if(t[s]===null)if(s===0){const a=i==null?void 0:i.get(),o=t[t.length-1];if(a!==void 0)t[0]=a;else if(r&&n){const u=r.readValue(n,o);u!=null&&(t[0]=u)}t[0]===void 0&&(t[0]=o),i&&a===void 0&&i.set(t[0])}else t[s]=t[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Tf.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Tf.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const hy=e=>Math.round(e*1e5)/1e5,bI=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function UNe(e){return e==null}const zNe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,wI=(e,t)=>n=>!!(typeof n=="string"&&zNe.test(n)&&n.startsWith(e)||t&&!UNe(n)&&Object.prototype.hasOwnProperty.call(n,t)),pte=(e,t,n)=>r=>{if(typeof r!="string")return r;const[i,s,a,o]=r.match(bI);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},VNe=e=>Mc(0,255,e),b_={...jg,transform:e=>Math.round(VNe(e))},Qd={test:wI("rgb","red"),parse:pte("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+b_.transform(e)+", "+b_.transform(t)+", "+b_.transform(n)+", "+hy(m1.transform(r))+")"};function WNe(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const TP={test:wI("#"),parse:WNe,transform:Qd.transform},tp={test:wI("hsl","hue"),parse:pte("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+Sl.transform(hy(t))+", "+Sl.transform(hy(n))+", "+hy(m1.transform(r))+")"},Vi={test:e=>Qd.test(e)||TP.test(e)||tp.test(e),parse:e=>Qd.test(e)?Qd.parse(e):tp.test(e)?tp.parse(e):TP.parse(e),transform:e=>typeof e=="string"?e:e.hasOwnProperty("red")?Qd.transform(e):tp.transform(e)},HNe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function GNe(e){var t,n;return isNaN(e)&&typeof e=="string"&&(((t=e.match(bI))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(HNe))===null||n===void 0?void 0:n.length)||0)>0}const mte="number",gte="color",qNe="var",KNe="var(",k8="${}",XNe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function g1(e){const t=e.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const o=t.replace(XNe,u=>(Vi.test(u)?(r.color.push(s),i.push(gte),n.push(Vi.parse(u))):u.startsWith(KNe)?(r.var.push(s),i.push(qNe),n.push(u)):(r.number.push(s),i.push(mte),n.push(parseFloat(u))),++s,k8)).split(k8);return{values:n,split:o,indexes:r,types:i}}function yte(e){return g1(e).values}function vte(e){const{split:t,types:n}=g1(e),r=t.length;return i=>{let s="";for(let a=0;a<r;a++)if(s+=t[a],i[a]!==void 0){const o=n[a];o===mte?s+=hy(i[a]):o===gte?s+=Vi.transform(i[a]):s+=i[a]}return s}}const YNe=e=>typeof e=="number"?0:e;function ZNe(e){const t=yte(e);return vte(e)(t.map(YNe))}const rd={test:GNe,parse:yte,createTransformer:vte,getAnimatableNone:ZNe},QNe=new Set(["brightness","contrast","saturate","opacity"]);function JNe(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(bI)||[];if(!r)return e;const i=n.replace(r,"");let s=QNe.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const ePe=/\b([a-z-]*)\(.*?\)/gu,NP={...rd,getAnimatableNone:e=>{const t=e.match(ePe);return t?t.map(JNe).join(" "):e}},tPe={borderWidth:kt,borderTopWidth:kt,borderRightWidth:kt,borderBottomWidth:kt,borderLeftWidth:kt,borderRadius:kt,radius:kt,borderTopLeftRadius:kt,borderTopRightRadius:kt,borderBottomRightRadius:kt,borderBottomLeftRadius:kt,width:kt,maxWidth:kt,height:kt,maxHeight:kt,top:kt,right:kt,bottom:kt,left:kt,padding:kt,paddingTop:kt,paddingRight:kt,paddingBottom:kt,paddingLeft:kt,margin:kt,marginTop:kt,marginRight:kt,marginBottom:kt,marginLeft:kt,backgroundPositionX:kt,backgroundPositionY:kt},nPe={rotate:au,rotateX:au,rotateY:au,rotateZ:au,scale:db,scaleX:db,scaleY:db,scaleZ:db,skew:au,skewX:au,skewY:au,distance:kt,translateX:kt,translateY:kt,translateZ:kt,x:kt,y:kt,z:kt,perspective:kt,transformPerspective:kt,opacity:m1,originX:T8,originY:T8,originZ:kt},I8={...jg,transform:Math.round},SI={...tPe,...nPe,zIndex:I8,size:kt,fillOpacity:m1,strokeOpacity:m1,numOctaves:I8},rPe={...SI,color:Vi,backgroundColor:Vi,outlineColor:Vi,fill:Vi,stroke:Vi,borderColor:Vi,borderTopColor:Vi,borderRightColor:Vi,borderBottomColor:Vi,borderLeftColor:Vi,filter:NP,WebkitFilter:NP},CI=e=>rPe[e];function xte(e,t){let n=CI(e);return n!==NP&&(n=rd),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const iPe=new Set(["auto","none","0"]);function sPe(e,t,n){let r=0,i;for(;r<e.length&&!i;){const s=e[r];typeof s=="string"&&!iPe.has(s)&&g1(s).values.length&&(i=e[r]),r++}if(i&&n)for(const s of t)e[s]=xte(n,i)}class bte extends xI{constructor(t,n,r,i,s){super(t,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let u=0;u<t.length;u++){let d=t[u];if(typeof d=="string"&&(d=d.trim(),vI(d))){const h=cte(d,n.current);h!==void 0&&(t[u]=h),u===t.length-1&&(this.finalKeyframe=d)}}if(this.resolveNoneKeyframes(),!DNe.has(r)||t.length!==2)return;const[i,s]=t,a=j8(i),o=j8(s);if(a!==o)if(N8(a)&&N8(o))for(let u=0;u<t.length;u++){const d=t[u];typeof d=="string"&&(t[u]=parseFloat(d))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:n}=this,r=[];for(let i=0;i<t.length;i++)NNe(t[i])&&r.push(i);r.length&&sPe(t,r,n)}measureInitialState(){const{element:t,unresolvedKeyframes:n,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Dm[r](t.measureViewportBox(),window.getComputedStyle(t.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&t.getValue(r,i).jump(i,!1)}measureEndState(){var t;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const a=i.length-1,o=i[a];i[a]=Dm[r](n.measureViewportBox(),window.getComputedStyle(n.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([u,d])=>{n.getValue(u).set(d)}),this.resolveNoneKeyframes()}}function AI(e){return typeof e=="function"}let rw;function aPe(){rw=void 0}const Cl={now:()=>(rw===void 0&&Cl.set(ji.isProcessing||wNe.useManualTiming?ji.timestamp:performance.now()),rw),set:e=>{rw=e,queueMicrotask(aPe)}},M8=(e,t)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(rd.test(e)||e==="0")&&!e.startsWith("url("));function oPe(e){const t=e[0];if(e.length===1)return!0;for(let n=0;n<e.length;n++)if(e[n]!==t)return!0}function lPe(e,t,n,r){const i=e[0];if(i===null)return!1;if(t==="display"||t==="visibility")return!0;const s=e[e.length-1],a=M8(i,t),o=M8(s,t);return!a||!o?!1:oPe(e)||(n==="spring"||AI(n))&&r}const cPe=40;class wte{constructor({autoplay:t=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",...o}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Cl.now(),this.options={autoplay:t,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:a,...o},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>cPe?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&$Ne(),this._resolved}onKeyframesResolved(t,n){this.resolvedAt=Cl.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:a,onComplete:o,onUpdate:u,isGenerator:d}=this.options;if(!d&&!lPe(t,r,i,s))if(a)this.options.duration=0;else{u==null||u(XC(t,this.options,n)),o==null||o(),this.resolveFinishedPromise();return}const h=this.initPlayback(t,n);h!==!1&&(this._resolved={keyframes:t,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(t,n){return this.currentFinishedPromise.then(t,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Rm=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},Ste=(e,t,n=10)=>{let r="";const i=Math.max(Math.round(t/n),2);for(let s=0;s<i;s++)r+=e(Rm(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function Cte(e,t){return t?e*(1e3/t):0}const uPe=5;function Ate(e,t,n){const r=Math.max(t-uPe,0);return Cte(n-e(r),t-r)}const Sr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},w_=.001;function dPe({duration:e=Sr.duration,bounce:t=Sr.bounce,velocity:n=Sr.velocity,mass:r=Sr.mass}){let i,s,a=1-t;a=Mc(Sr.minDamping,Sr.maxDamping,a),e=Mc(Sr.minDuration,Sr.maxDuration,vc(e)),a<1?(i=d=>{const h=d*a,m=h*e,y=h-n,b=PP(d,a),C=Math.exp(-m);return w_-y/b*C},s=d=>{const m=d*a*e,y=m*n+n,b=Math.pow(a,2)*Math.pow(d,2)*e,C=Math.exp(-m),w=PP(Math.pow(d,2),a);return(-i(d)+w_>0?-1:1)*((y-b)*C)/w}):(i=d=>{const h=Math.exp(-d*e),m=(d-n)*e+1;return-w_+h*m},s=d=>{const h=Math.exp(-d*e),m=(n-d)*(e*e);return h*m});const o=5/e,u=hPe(i,s,o);if(e=yc(e),isNaN(u))return{stiffness:Sr.stiffness,damping:Sr.damping,duration:e};{const d=Math.pow(u,2)*r;return{stiffness:d,damping:a*2*Math.sqrt(r*d),duration:e}}}const fPe=12;function hPe(e,t,n){let r=n;for(let i=1;i<fPe;i++)r=r-e(r)/t(r);return r}function PP(e,t){return e*Math.sqrt(1-t*t)}const OP=2e4;function Ete(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<OP;)t+=n,r=e.next(t);return t>=OP?1/0:t}const pPe=["duration","bounce"],mPe=["stiffness","damping","mass"];function D8(e,t){return t.some(n=>e[n]!==void 0)}function gPe(e){let t={velocity:Sr.velocity,stiffness:Sr.stiffness,damping:Sr.damping,mass:Sr.mass,isResolvedFromDuration:!1,...e};if(!D8(e,mPe)&&D8(e,pPe))if(e.visualDuration){const n=e.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*Mc(.05,1,1-e.bounce)*Math.sqrt(i);t={...t,mass:Sr.mass,stiffness:i,damping:s}}else{const n=dPe(e);t={...t,...n,mass:Sr.mass},t.isResolvedFromDuration=!0}return t}function _te(e=Sr.visualDuration,t=Sr.bounce){const n=typeof e!="object"?{visualDuration:e,keyframes:[0,1],bounce:t}:e;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],a=n.keyframes[n.keyframes.length-1],o={done:!1,value:s},{stiffness:u,damping:d,mass:h,duration:m,velocity:y,isResolvedFromDuration:b}=gPe({...n,velocity:-vc(n.velocity||0)}),C=y||0,w=d/(2*Math.sqrt(u*h)),A=a-s,_=vc(Math.sqrt(u/h)),E=Math.abs(A)<5;r||(r=E?Sr.restSpeed.granular:Sr.restSpeed.default),i||(i=E?Sr.restDelta.granular:Sr.restDelta.default);let N;if(w<1){const O=PP(_,w);N=k=>{const M=Math.exp(-w*_*k);return a-M*((C+w*_*A)/O*Math.sin(O*k)+A*Math.cos(O*k))}}else if(w===1)N=O=>a-Math.exp(-_*O)*(A+(C+_*A)*O);else{const O=_*Math.sqrt(w*w-1);N=k=>{const M=Math.exp(-w*_*k),R=Math.min(O*k,300);return a-M*((C+w*_*A)*Math.sinh(R)+O*A*Math.cosh(R))/O}}const I={calculatedDuration:b&&m||null,next:O=>{const k=N(O);if(b)o.done=O>=m;else{let M=0;w<1&&(M=O===0?yc(C):Ate(N,O,k));const R=Math.abs(M)<=r,L=Math.abs(a-k)<=i;o.done=R&&L}return o.value=o.done?a:k,o},toString:()=>{const O=Math.min(Ete(I),OP),k=Ste(M=>I.next(O*M).value,O,30);return O+"ms "+k}};return I}function R8({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:u,restDelta:d=.5,restSpeed:h}){const m=e[0],y={done:!1,value:m},b=R=>o!==void 0&&R<o||u!==void 0&&R>u,C=R=>o===void 0?u:u===void 0||Math.abs(o-R)<Math.abs(u-R)?o:u;let w=n*t;const A=m+w,_=a===void 0?A:a(A);_!==A&&(w=_-m);const E=R=>-w*Math.exp(-R/r),N=R=>_+E(R),I=R=>{const L=E(R),U=N(R);y.done=Math.abs(L)<=d,y.value=y.done?_:U};let O,k;const M=R=>{b(y.value)&&(O=R,k=_te({keyframes:[y.value,C(y.value)],velocity:Ate(N,R,y.value),damping:i,stiffness:s,restDelta:d,restSpeed:h}))};return M(0),{calculatedDuration:null,next:R=>{let L=!1;return!k&&O===void 0&&(L=!0,I(R),M(R)),O!==void 0&&R>=O?k.next(R-O):(!L&&I(R),y)}}}const yPe=ex(.42,0,1,1),vPe=ex(0,0,.58,1),Tte=ex(.42,0,.58,1),xPe=e=>Array.isArray(e)&&typeof e[0]!="number",EI=e=>Array.isArray(e)&&typeof e[0]=="number",F8={linear:Yi,easeIn:yPe,easeInOut:Tte,easeOut:vPe,circIn:yI,circInOut:ite,circOut:rte,backIn:gI,backInOut:tte,backOut:ete,anticipate:nte},L8=e=>{if(EI(e)){AP(e.length===4);const[t,n,r,i]=e;return ex(t,n,r,i)}else if(typeof e=="string")return AP(F8[e]!==void 0),F8[e];return e},bPe=(e,t)=>n=>t(e(n)),Uu=(...e)=>e.reduce(bPe),pr=(e,t,n)=>e+(t-e)*n;function S_(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function wPe({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,a=0;if(!t)i=s=a=n;else{const o=n<.5?n*(1+t):n+t-n*t,u=2*n-o;i=S_(u,o,e+1/3),s=S_(u,o,e),a=S_(u,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}function v2(e,t){return n=>n>0?t:e}const C_=(e,t,n)=>{const r=e*e,i=n*(t*t-r)+r;return i<0?0:Math.sqrt(i)},SPe=[TP,Qd,tp],CPe=e=>SPe.find(t=>t.test(e));function B8(e){const t=CPe(e);if(!t)return!1;let n=t.parse(e);return t===tp&&(n=wPe(n)),n}const $8=(e,t)=>{const n=B8(e),r=B8(t);if(!n||!r)return v2(e,t);const i={...n};return s=>(i.red=C_(n.red,r.red,s),i.green=C_(n.green,r.green,s),i.blue=C_(n.blue,r.blue,s),i.alpha=pr(n.alpha,r.alpha,s),Qd.transform(i))},jP=new Set(["none","hidden"]);function APe(e,t){return jP.has(e)?n=>n<=0?e:t:n=>n>=1?t:e}function EPe(e,t){return n=>pr(e,t,n)}function _I(e){return typeof e=="number"?EPe:typeof e=="string"?vI(e)?v2:Vi.test(e)?$8:NPe:Array.isArray(e)?Nte:typeof e=="object"?Vi.test(e)?$8:_Pe:v2}function Nte(e,t){const n=[...e],r=n.length,i=e.map((s,a)=>_I(s)(s,t[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}}function _Pe(e,t){const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=_I(e[i])(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function TPe(e,t){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<t.values.length;s++){const a=t.types[s],o=e.indexes[a][i[a]],u=(n=e.values[o])!==null&&n!==void 0?n:0;r[s]=u,i[a]++}return r}const NPe=(e,t)=>{const n=rd.createTransformer(t),r=g1(e),i=g1(t);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?jP.has(e)&&!i.values.length||jP.has(t)&&!r.values.length?APe(e,t):Uu(Nte(TPe(r,i),i.values),n):v2(e,t)};function Pte(e,t,n){return typeof e=="number"&&typeof t=="number"&&typeof n=="number"?pr(e,t,n):_I(e)(e,t)}function PPe(e,t,n){const r=[],i=n||Pte,s=e.length-1;for(let a=0;a<s;a++){let o=i(e[a],e[a+1]);if(t){const u=Array.isArray(t)?t[a]||Yi:t;o=Uu(u,o)}r.push(o)}return r}function OPe(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(AP(s===t.length),s===1)return()=>t[0];if(s===2&&e[0]===e[1])return()=>t[1];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const a=PPe(t,r,i),o=a.length,u=d=>{let h=0;if(o>1)for(;h<e.length-2&&!(d<e[h+1]);h++);const m=Rm(e[h],e[h+1],d);return a[h](m)};return n?d=>u(Mc(e[0],e[s-1],d)):u}function jPe(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=Rm(0,t,r);e.push(pr(n,1,i))}}function kPe(e){const t=[0];return jPe(t,e.length-1),t}function IPe(e,t){return e.map(n=>n*t)}function MPe(e,t){return e.map(()=>t||Tte).splice(0,e.length-1)}function x2({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=xPe(r)?r.map(L8):L8(r),s={done:!1,value:t[0]},a=IPe(n&&n.length===t.length?n:kPe(t),e),o=OPe(a,t,{ease:Array.isArray(i)?i:MPe(t,i)});return{calculatedDuration:e,next:u=>(s.value=o(u),s.done=u>=e,s)}}const DPe=e=>{const t=({timestamp:n})=>e(n);return{start:()=>On.update(t,!0),stop:()=>nd(t),now:()=>ji.isProcessing?ji.timestamp:Cl.now()}},RPe={decay:R8,inertia:R8,tween:x2,keyframes:x2,spring:_te},FPe=e=>e/100;class TI extends wte{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:u}=this.options;u&&u()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,a=(i==null?void 0:i.KeyframeResolver)||xI,o=(u,d)=>this.onKeyframesResolved(u,d);this.resolver=new a(s,o,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=this.options,o=AI(n)?n:RPe[n]||x2;let u,d;o!==x2&&typeof t[0]!="number"&&(u=Uu(FPe,Pte(t[0],t[1])),t=[0,100]);const h=o({...this.options,keyframes:t});s==="mirror"&&(d=o({...this.options,keyframes:[...t].reverse(),velocity:-a})),h.calculatedDuration===null&&(h.calculatedDuration=Ete(h));const{calculatedDuration:m}=h,y=m+i,b=y*(r+1)-i;return{generator:h,mirroredGenerator:d,mapPercentToKeyframes:u,calculatedDuration:m,resolvedDuration:y,totalDuration:b}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:a,mapPercentToKeyframes:o,keyframes:u,calculatedDuration:d,totalDuration:h,resolvedDuration:m}=r;if(this.startTime===null)return s.next(0);const{delay:y,repeat:b,repeatType:C,repeatDelay:w,onUpdate:A}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-h/this.speed,this.startTime)),n?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const _=this.currentTime-y*(this.speed>=0?1:-1),E=this.speed>=0?_<0:_>h;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let N=this.currentTime,I=s;if(b){const R=Math.min(this.currentTime,h)/m;let L=Math.floor(R),U=R%1;!U&&R>=1&&(U=1),U===1&&L--,L=Math.min(L,b+1),!!(L%2)&&(C==="reverse"?(U=1-U,w&&(U-=w/m)):C==="mirror"&&(I=a)),N=Mc(0,1,U)*m}const O=E?{done:!1,value:u[0]}:I.next(N);o&&(O.value=o(O.value));let{done:k}=O;!E&&d!==null&&(k=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const M=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&k);return M&&i!==void 0&&(O.value=XC(u,this.options,i)),A&&A(O.value),M&&this.finish(),O}get duration(){const{resolved:t}=this;return t?vc(t.calculatedDuration):0}get time(){return vc(this.currentTime)}set time(t){t=yc(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const n=this.playbackSpeed!==t;this.playbackSpeed=t,n&&(this.time=vc(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=DPe,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=t(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const LPe=new Set(["opacity","clipPath","filter","transform"]);function NI(e){let t;return()=>(t===void 0&&(t=e()),t)}const BPe={linearEasing:void 0};function $Pe(e,t){const n=NI(e);return()=>{var r;return(r=BPe[t])!==null&&r!==void 0?r:n()}}const b2=$Pe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function Ote(e){return!!(typeof e=="function"&&b2()||!e||typeof e=="string"&&(e in kP||b2())||EI(e)||Array.isArray(e)&&e.every(Ote))}const q0=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,kP={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:q0([0,.65,.55,1]),circOut:q0([.55,0,1,.45]),backIn:q0([.31,.01,.66,-.59]),backOut:q0([.33,1.53,.69,.99])};function jte(e,t){if(e)return typeof e=="function"&&b2()?Ste(e,t):EI(e)?q0(e):Array.isArray(e)?e.map(n=>jte(n,t)||kP.easeOut):kP[e]}function UPe(e,t,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeInOut",times:u}={}){const d={[t]:n};u&&(d.offset=u);const h=jte(o,i);return Array.isArray(h)&&(d.easing=h),e.animate(d,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function U8(e,t){e.timeline=t,e.onfinish=null}const zPe=NI(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),w2=10,VPe=2e4;function WPe(e){return AI(e.type)||e.type==="spring"||!Ote(e.ease)}function HPe(e,t){const n=new TI({...t,keyframes:e,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:e[0]};const i=[];let s=0;for(;!r.done&&s<VPe;)r=n.sample(s),i.push(r.value),s+=w2;return{times:void 0,keyframes:i,duration:s-w2,ease:"linear"}}const kte={anticipate:nte,backInOut:tte,circInOut:ite};function GPe(e){return e in kte}class z8 extends wte{constructor(t){super(t);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new bte(s,(a,o)=>this.onKeyframesResolved(a,o),n,r,i),this.resolver.scheduleResolve()}initPlayback(t,n){var r;let{duration:i=300,times:s,ease:a,type:o,motionValue:u,name:d,startTime:h}=this.options;if(!(!((r=u.owner)===null||r===void 0)&&r.current))return!1;if(typeof a=="string"&&b2()&&GPe(a)&&(a=kte[a]),WPe(this.options)){const{onComplete:y,onUpdate:b,motionValue:C,element:w,...A}=this.options,_=HPe(t,A);t=_.keyframes,t.length===1&&(t[1]=t[0]),i=_.duration,s=_.times,a=_.ease,o="keyframes"}const m=UPe(u.owner.current,d,t,{...this.options,duration:i,times:s,ease:a});return m.startTime=h??this.calcStartTime(),this.pendingTimeline?(U8(m,this.pendingTimeline),this.pendingTimeline=void 0):m.onfinish=()=>{const{onComplete:y}=this.options;u.set(XC(t,this.options,n)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:m,duration:i,times:s,type:o,ease:a,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:n}=t;return vc(n)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:n}=t;return vc(n.currentTime||0)}set time(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=yc(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:n}=t;return n.playbackRate}set speed(t){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:n}=t;return n.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:n}=t;return n.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:n}=this;if(!n)return Yi;const{animation:r}=n;U8(r,t)}return Yi}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:n}=t;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:n,keyframes:r,duration:i,type:s,ease:a,times:o}=t;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:d,onUpdate:h,onComplete:m,element:y,...b}=this.options,C=new TI({...b,keyframes:r,duration:i,type:s,ease:a,times:o,isGenerator:!0}),w=yc(this.time);d.setWithVelocity(C.sample(w-w2).value,C.sample(w).value,w2)}const{onStop:u}=this.options;u&&u(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:a,type:o}=t;return zPe()&&r&&LPe.has(r)&&n&&n.owner&&n.owner.current instanceof HTMLElement&&!n.owner.getProps().onUpdate&&!i&&s!=="mirror"&&a!==0&&o!=="inertia"}}const qPe=NI(()=>window.ScrollTimeline!==void 0);class KPe{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,n){return Promise.all(this.animations).then(t).catch(n)}getAll(t){return this.animations[0][t]}setAll(t,n){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=n}attachTimeline(t,n){const r=this.animations.map(i=>qPe()&&i.attachTimeline?i.attachTimeline(t):n(i));return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let n=0;n<this.animations.length;n++)t=Math.max(t,this.animations[n].duration);return t}runAll(t){this.animations.forEach(n=>n[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function XPe({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:u,elapsed:d,...h}){return!!Object.keys(h).length}const PI=(e,t,n,r={},i,s)=>a=>{const o=mI(r,e)||{},u=o.delay||r.delay||0;let{elapsed:d=0}=r;d=d-yc(u);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:t.getVelocity(),...o,delay:-d,onUpdate:y=>{t.set(y),o.onUpdate&&o.onUpdate(y)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:e,motionValue:t,element:s?void 0:i};XPe(o)||(h={...h,...bNe(e,h)}),h.duration&&(h.duration=yc(h.duration)),h.repeatDelay&&(h.repeatDelay=yc(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let m=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(m=!0)),m&&!s&&t.get()!==void 0){const y=XC(h.keyframes,o);if(y!==void 0)return On.update(()=>{h.onUpdate(y),h.onComplete()}),new KPe([])}return!s&&z8.supports(h)?new z8(h):new TI(h)},YPe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),ZPe=e=>CP(e)?e[e.length-1]||0:e;function OI(e,t){e.indexOf(t)===-1&&e.push(t)}function jI(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class kI{constructor(){this.subscriptions=[]}add(t){return OI(this.subscriptions,t),()=>jI(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const V8=30,QPe=e=>!isNaN(parseFloat(e));class JPe{constructor(t,n={}){this.version="11.13.1",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Cl.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=n.owner}setCurrent(t){this.current=t,this.updatedAt=Cl.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=QPe(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new kI);const r=this.events[t].add(n);return t==="change"?()=>{r(),On.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,n=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=Cl.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>V8)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,V8);return Cte(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function y1(e,t){return new JPe(e,t)}function eOe(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,y1(n))}function tOe(e,t){const n=KC(e,t);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const a in s){const o=ZPe(s[a]);eOe(e,a,o)}}const II=e=>e.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),nOe="framerAppearId",Ite="data-"+II(nOe);function Mte(e){return e.props[Ite]}const Ki=e=>!!(e&&e.getVelocity);function rOe(e){return!!(Ki(e)&&e.add)}function IP(e,t){const n=e.getValue("willChange");if(rOe(n))return n.add(t)}function iOe({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Dte(e,t,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:a=e.getDefaultTransition(),transitionEnd:o,...u}=t;r&&(a=r);const d=[],h=i&&e.animationState&&e.animationState.getState()[i];for(const m in u){const y=e.getValue(m,(s=e.latestValues[m])!==null&&s!==void 0?s:null),b=u[m];if(b===void 0||h&&iOe(h,m))continue;const C={delay:n,...mI(a||{},m)};let w=!1;if(window.MotionHandoffAnimation){const _=Mte(e);if(_){const E=window.MotionHandoffAnimation(_,m,On);E!==null&&(C.startTime=E,w=!0)}}IP(e,m),y.start(PI(m,y,b,e.shouldReduceMotion&&ch.has(m)?{type:!1}:C,e,w));const A=y.animation;A&&d.push(A)}return o&&Promise.all(d).then(()=>{On.update(()=>{o&&tOe(e,o)})}),d}function MP(e,t,n={}){var r;const i=KC(e,t,n.type==="exit"?(r=e.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=e.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const a=i?()=>Promise.all(Dte(e,i,n)):()=>Promise.resolve(),o=e.variantChildren&&e.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:y}=s;return sOe(e,t,h+d,m,y,n)}:()=>Promise.resolve(),{when:u}=s;if(u){const[d,h]=u==="beforeChildren"?[a,o]:[o,a];return d().then(()=>h())}else return Promise.all([a(),o(n.delay)])}function sOe(e,t,n=0,r=0,i=1,s){const a=[],o=(e.variantChildren.size-1)*r,u=i===1?(d=0)=>d*r:(d=0)=>o-d*r;return Array.from(e.variantChildren).sort(aOe).forEach((d,h)=>{d.notify("AnimationStart",t),a.push(MP(d,t,{...s,delay:n+u(h)}).then(()=>d.notify("AnimationComplete",t)))}),Promise.all(a)}function aOe(e,t){return e.sortNodePosition(t)}function oOe(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>MP(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=MP(e,t,n);else{const i=typeof t=="function"?KC(e,t,n.custom):t;r=Promise.all(Dte(e,i,n))}return r.then(()=>{e.notify("AnimationComplete",t)})}const lOe=pI.length;function Rte(e){if(!e)return;if(!e.isControllingVariants){const n=e.parent?Rte(e.parent)||{}:{};return e.props.initial!==void 0&&(n.initial=e.props.initial),n}const t={};for(let n=0;n<lOe;n++){const r=pI[n],i=e.props[r];(p1(i)||i===!1)&&(t[r]=i)}return t}const cOe=[...hI].reverse(),uOe=hI.length;function dOe(e){return t=>Promise.all(t.map(({animation:n,options:r})=>oOe(e,n,r)))}function fOe(e){let t=dOe(e),n=W8(),r=!0;const i=u=>(d,h)=>{var m;const y=KC(e,h,u==="exit"?(m=e.presenceContext)===null||m===void 0?void 0:m.custom:void 0);if(y){const{transition:b,transitionEnd:C,...w}=y;d={...d,...w,...C}}return d};function s(u){t=u(e)}function a(u){const{props:d}=e,h=Rte(e.parent)||{},m=[],y=new Set;let b={},C=1/0;for(let A=0;A<uOe;A++){const _=cOe[A],E=n[_],N=d[_]!==void 0?d[_]:h[_],I=p1(N),O=_===u?E.isActive:null;O===!1&&(C=A);let k=N===h[_]&&N!==d[_]&&I;if(k&&r&&e.manuallyAnimateOnMount&&(k=!1),E.protectedKeys={...b},!E.isActive&&O===null||!N&&!E.prevProp||qC(N)||typeof N=="boolean")continue;const M=hOe(E.prevProp,N);let R=M||_===u&&E.isActive&&!k&&I||A>C&&I,L=!1;const U=Array.isArray(N)?N:[N];let X=U.reduce(i(_),{});O===!1&&(X={});const{prevResolvedValues:F={}}=E,V={...F,...X},Z=G=>{R=!0,y.has(G)&&(L=!0,y.delete(G)),E.needsAnimating[G]=!0;const W=e.getValue(G);W&&(W.liveStyle=!1)};for(const G in V){const W=X[G],oe=F[G];if(b.hasOwnProperty(G))continue;let J=!1;CP(W)&&CP(oe)?J=!Xee(W,oe):J=W!==oe,J?W!=null?Z(G):y.add(G):W!==void 0&&y.has(G)?Z(G):E.protectedKeys[G]=!0}E.prevProp=N,E.prevResolvedValues=X,E.isActive&&(b={...b,...X}),r&&e.blockInitialAnimation&&(R=!1),R&&(!(k&&M)||L)&&m.push(...U.map(G=>({animation:G,options:{type:_}})))}if(y.size){const A={};y.forEach(_=>{const E=e.getBaseTarget(_),N=e.getValue(_);N&&(N.liveStyle=!0),A[_]=E??null}),m.push({animation:A})}let w=!!m.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(w=!1),r=!1,w?t(m):Promise.resolve()}function o(u,d){var h;if(n[u].isActive===d)return Promise.resolve();(h=e.variantChildren)===null||h===void 0||h.forEach(y=>{var b;return(b=y.animationState)===null||b===void 0?void 0:b.setActive(u,d)}),n[u].isActive=d;const m=a(u);for(const y in n)n[y].protectedKeys={};return m}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n,reset:()=>{n=W8(),r=!0}}}function hOe(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!Xee(t,e):!1}function Pd(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function W8(){return{animate:Pd(!0),whileInView:Pd(),whileHover:Pd(),whileTap:Pd(),whileDrag:Pd(),whileFocus:Pd(),exit:Pd()}}class gd{constructor(t){this.isMounted=!1,this.node=t}update(){}}class pOe extends gd{constructor(t){super(t),t.animationState||(t.animationState=fOe(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();qC(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let mOe=0;class gOe extends gd{constructor(){super(...arguments),this.id=mOe++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const i=this.node.animationState.setActive("exit",!t);n&&!t&&i.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const yOe={animation:{Feature:pOe},exit:{Feature:gOe}};function vOe(e,t,n){var r;if(e instanceof Element)return[e];if(typeof e=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(e);return s?Array.from(s):[]}return Array.from(e)}const lo={x:!1,y:!1};function Fte(){return lo.x||lo.y}function H8(e){return t=>{t.pointerType==="touch"||Fte()||e(t)}}function xOe(e,t,n={}){const r=new AbortController,i={passive:!0,...n,signal:r.signal},s=H8(a=>{const{target:o}=a,u=t(a);if(!u||!o)return;const d=H8(h=>{u(h),o.removeEventListener("pointerleave",d)});o.addEventListener("pointerleave",d,i)});return vOe(e).forEach(a=>{a.addEventListener("pointerenter",s,i)}),()=>r.abort()}function bOe(e){return e==="x"||e==="y"?lo[e]?null:(lo[e]=!0,()=>{lo[e]=!1}):lo.x||lo.y?null:(lo.x=lo.y=!0,()=>{lo.x=lo.y=!1})}const Lte=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function nx(e){return{point:{x:e.pageX,y:e.pageY}}}const wOe=e=>t=>Lte(t)&&e(t,nx(t));function uc(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}function zu(e,t,n,r){return uc(e,t,wOe(n),r)}const G8=(e,t)=>Math.abs(e-t);function SOe(e,t){const n=G8(e.x,t.x),r=G8(e.y,t.y);return Math.sqrt(n**2+r**2)}class Bte{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const m=E_(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,b=SOe(m.offset,{x:0,y:0})>=3;if(!y&&!b)return;const{point:C}=m,{timestamp:w}=ji;this.history.push({...C,timestamp:w});const{onStart:A,onMove:_}=this.handlers;y||(A&&A(this.lastMoveEvent,m),this.startEvent=this.lastMoveEvent),_&&_(this.lastMoveEvent,m)},this.handlePointerMove=(m,y)=>{this.lastMoveEvent=m,this.lastMoveEventInfo=A_(y,this.transformPagePoint),On.update(this.updatePoint,!0)},this.handlePointerUp=(m,y)=>{this.end();const{onEnd:b,onSessionEnd:C,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const A=E_(m.type==="pointercancel"?this.lastMoveEventInfo:A_(y,this.transformPagePoint),this.history);this.startEvent&&b&&b(m,A),C&&C(m,A)},!Lte(t))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=nx(t),o=A_(a,this.transformPagePoint),{point:u}=o,{timestamp:d}=ji;this.history=[{...u,timestamp:d}];const{onSessionStart:h}=n;h&&h(t,E_(o,this.history)),this.removeListeners=Uu(zu(this.contextWindow,"pointermove",this.handlePointerMove),zu(this.contextWindow,"pointerup",this.handlePointerUp),zu(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),nd(this.updatePoint)}}function A_(e,t){return t?{point:t(e.point)}:e}function q8(e,t){return{x:e.x-t.x,y:e.y-t.y}}function E_({point:e},t){return{point:e,delta:q8(e,$te(t)),offset:q8(e,COe(t)),velocity:AOe(t,.1)}}function COe(e){return e[0]}function $te(e){return e[e.length-1]}function AOe(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=$te(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>yc(t)));)n--;if(!r)return{x:0,y:0};const s=vc(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function np(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}const Ute=1e-4,EOe=1-Ute,_Oe=1+Ute,zte=.01,TOe=0-zte,NOe=0+zte;function wa(e){return e.max-e.min}function POe(e,t,n){return Math.abs(e-t)<=n}function K8(e,t,n,r=.5){e.origin=r,e.originPoint=pr(t.min,t.max,e.origin),e.scale=wa(n)/wa(t),e.translate=pr(n.min,n.max,e.origin)-e.originPoint,(e.scale>=EOe&&e.scale<=_Oe||isNaN(e.scale))&&(e.scale=1),(e.translate>=TOe&&e.translate<=NOe||isNaN(e.translate))&&(e.translate=0)}function py(e,t,n,r){K8(e.x,t.x,n.x,r?r.originX:void 0),K8(e.y,t.y,n.y,r?r.originY:void 0)}function X8(e,t,n){e.min=n.min+t.min,e.max=e.min+wa(t)}function OOe(e,t,n){X8(e.x,t.x,n.x),X8(e.y,t.y,n.y)}function Y8(e,t,n){e.min=t.min-n.min,e.max=e.min+wa(t)}function my(e,t,n){Y8(e.x,t.x,n.x),Y8(e.y,t.y,n.y)}function jOe(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?pr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?pr(n,e,r.max):Math.min(e,n)),e}function Z8(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function kOe(e,{top:t,left:n,bottom:r,right:i}){return{x:Z8(e.x,n,i),y:Z8(e.y,t,r)}}function Q8(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function IOe(e,t){return{x:Q8(e.x,t.x),y:Q8(e.y,t.y)}}function MOe(e,t){let n=.5;const r=wa(e),i=wa(t);return i>r?n=Rm(t.min,t.max-r,e.min):r>i&&(n=Rm(e.min,e.max-i,t.min)),Mc(0,1,n)}function DOe(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const DP=.35;function ROe(e=DP){return e===!1?e=0:e===!0&&(e=DP),{x:J8(e,"left","right"),y:J8(e,"top","bottom")}}function J8(e,t,n){return{min:e6(e,t),max:e6(e,n)}}function e6(e,t){return typeof e=="number"?e:e[t]||0}const t6=()=>({translate:0,scale:1,origin:0,originPoint:0}),rp=()=>({x:t6(),y:t6()}),n6=()=>({min:0,max:0}),jr=()=>({x:n6(),y:n6()});function ja(e){return[e("x"),e("y")]}function Vte({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function FOe({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function LOe(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function __(e){return e===void 0||e===1}function RP({scale:e,scaleX:t,scaleY:n}){return!__(e)||!__(t)||!__(n)}function Ld(e){return RP(e)||Wte(e)||e.z||e.rotate||e.rotateX||e.rotateY||e.skewX||e.skewY}function Wte(e){return r6(e.x)||r6(e.y)}function r6(e){return e&&e!=="0%"}function S2(e,t,n){const r=e-n,i=t*r;return n+i}function i6(e,t,n,r,i){return i!==void 0&&(e=S2(e,i,r)),S2(e,n,r)+t}function FP(e,t=0,n=1,r,i){e.min=i6(e.min,t,n,r,i),e.max=i6(e.max,t,n,r,i)}function Hte(e,{x:t,y:n}){FP(e.x,t.translate,t.scale,t.originPoint),FP(e.y,n.translate,n.scale,n.originPoint)}const s6=.999999999999,a6=1.0000000000001;function BOe(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const{visualElement:u}=s.options;u&&u.props.style&&u.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&sp(e,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(t.x*=a.x.scale,t.y*=a.y.scale,Hte(e,a)),r&&Ld(s.latestValues)&&sp(e,s.latestValues))}t.x<a6&&t.x>s6&&(t.x=1),t.y<a6&&t.y>s6&&(t.y=1)}function ip(e,t){e.min=e.min+t,e.max=e.max+t}function o6(e,t,n,r,i=.5){const s=pr(e.min,e.max,i);FP(e,t,n,s,r)}function sp(e,t){o6(e.x,t.x,t.scaleX,t.scale,t.originX),o6(e.y,t.y,t.scaleY,t.scale,t.originY)}function Gte(e,t){return Vte(LOe(e.getBoundingClientRect(),t))}function $Oe(e,t,n){const r=Gte(e,n),{scroll:i}=t;return i&&(ip(r.x,i.offset.x),ip(r.y,i.offset.y)),r}const qte=({current:e})=>e?e.ownerDocument.defaultView:null,UOe=new WeakMap;class zOe{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=jr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:m}=this.getProps();m?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(nx(h).point)},s=(h,m)=>{const{drag:y,dragPropagation:b,onDragStart:C}=this.getProps();if(y&&!b&&(this.openDragLock&&this.openDragLock(),this.openDragLock=bOe(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ja(A=>{let _=this.getAxisMotionValue(A).get()||0;if(Sl.test(_)){const{projection:E}=this.visualElement;if(E&&E.layout){const N=E.layout.layoutBox[A];N&&(_=wa(N)*(parseFloat(_)/100))}}this.originPoint[A]=_}),C&&On.postRender(()=>C(h,m)),IP(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},a=(h,m)=>{const{dragPropagation:y,dragDirectionLock:b,onDirectionLock:C,onDrag:w}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:A}=m;if(b&&this.currentDirection===null){this.currentDirection=VOe(A),this.currentDirection!==null&&C&&C(this.currentDirection);return}this.updateAxis("x",m.point,A),this.updateAxis("y",m.point,A),this.visualElement.render(),w&&w(h,m)},o=(h,m)=>this.stop(h,m),u=()=>ja(h=>{var m;return this.getAnimationState(h)==="paused"&&((m=this.getAxisMotionValue(h).animation)===null||m===void 0?void 0:m.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new Bte(t,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,contextWindow:qte(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&On.postRender(()=>s(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!fb(t,i,this.currentDirection))return;const s=this.getAxisMotionValue(t);let a=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(a=jOe(a,this.constraints[t],this.elastic[t])),s.set(a)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,s=this.constraints;n&&np(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=kOe(i.layoutBox,n):this.constraints=!1,this.elastic=ROe(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ja(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=DOe(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!np(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=$Oe(r,i.root,this.visualElement.getTransformPagePoint());let a=IOe(i.layout.layoutBox,s);if(n){const o=n(FOe(a));this.hasMutatedConstraints=!!o,o&&(a=Vte(o))}return a}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),u=this.constraints||{},d=ja(h=>{if(!fb(h,n,this.currentDirection))return;let m=u&&u[h]||{};a&&(m={min:0,max:0});const y=i?200:1e6,b=i?40:1e7,C={type:"inertia",velocity:r?t[h]:0,bounceStiffness:y,bounceDamping:b,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(h,C)});return Promise.all(d).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return IP(this.visualElement,t),r.start(PI(t,r,0,n,this.visualElement,!1))}stopAnimation(){ja(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ja(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ja(n=>{const{drag:r}=this.getProps();if(!fb(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(t[n]-pr(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!np(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ja(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const u=o.get();i[a]=MOe({min:u,max:u},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ja(a=>{if(!fb(a,t,null))return;const o=this.getAxisMotionValue(a),{min:u,max:d}=this.constraints[a];o.set(pr(u,d,i[a]))})}addListeners(){if(!this.visualElement.current)return;UOe.set(this.visualElement,this);const t=this.visualElement.current,n=zu(t,"pointerdown",u=>{const{drag:d,dragListener:h=!0}=this.getProps();d&&h&&this.start(u)}),r=()=>{const{dragConstraints:u}=this.getProps();np(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),On.read(r);const a=uc(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:d})=>{this.isDragging&&d&&(ja(h=>{const m=this.getAxisMotionValue(h);m&&(this.originPoint[h]+=u[h].translate,m.set(m.get()+u[h].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=DP,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function fb(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function VOe(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class WOe extends gd{constructor(t){super(t),this.removeGroupControls=Yi,this.removeListeners=Yi,this.controls=new zOe(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yi}unmount(){this.removeGroupControls(),this.removeListeners()}}const l6=e=>(t,n)=>{e&&On.postRender(()=>e(t,n))};class HOe extends gd{constructor(){super(...arguments),this.removePointerDownListener=Yi}onPointerDown(t){this.session=new Bte(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:qte(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:l6(t),onStart:l6(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&On.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=zu(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const MI=T.createContext(null);function GOe(){const e=T.useContext(MI);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=T.useId();T.useEffect(()=>r(i),[]);const s=T.useCallback(()=>n&&n(i),[i,n]);return!t&&n?[!1,s]:[!0]}const Kte=T.createContext({}),Xte=T.createContext({}),iw={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function c6(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const S0={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(kt.test(e))e=parseFloat(e);else return e;const n=c6(e,t.target.x),r=c6(e,t.target.y);return`${n}% ${r}%`}},qOe={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=rd.parse(e);if(i.length>5)return r;const s=rd.createTransformer(e),a=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,u=n.y.scale*t.y;i[0+a]/=o,i[1+a]/=u;const d=pr(o,u,.5);return typeof i[2+a]=="number"&&(i[2+a]/=d),typeof i[3+a]=="number"&&(i[3+a]/=d),s(i)}},C2={};function KOe(e){Object.assign(C2,e)}const{schedule:DI,cancel:Btt}=Yee(queueMicrotask,!1);class XOe extends T.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=t;KOe(YOe),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),iw.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||t.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),t.isPresent!==s&&(s?a.promote():a.relegate()||On.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),DI.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function Yte(e){const[t,n]=GOe(),r=T.useContext(Kte);return c.jsx(XOe,{...e,layoutGroup:r,switchLayoutGroup:T.useContext(Xte),isPresent:t,safeToRemove:n})}const YOe={borderRadius:{...S0,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:S0,borderTopRightRadius:S0,borderBottomLeftRadius:S0,borderBottomRightRadius:S0,boxShadow:qOe},Zte=["TopLeft","TopRight","BottomLeft","BottomRight"],ZOe=Zte.length,u6=e=>typeof e=="string"?parseFloat(e):e,d6=e=>typeof e=="number"||kt.test(e);function QOe(e,t,n,r,i,s){i?(e.opacity=pr(0,n.opacity!==void 0?n.opacity:1,JOe(r)),e.opacityExit=pr(t.opacity!==void 0?t.opacity:1,0,e3e(r))):s&&(e.opacity=pr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<ZOe;a++){const o=`border${Zte[a]}Radius`;let u=f6(t,o),d=f6(n,o);if(u===void 0&&d===void 0)continue;u||(u=0),d||(d=0),u===0||d===0||d6(u)===d6(d)?(e[o]=Math.max(pr(u6(u),u6(d),r),0),(Sl.test(d)||Sl.test(u))&&(e[o]+="%")):e[o]=d}(t.rotate||n.rotate)&&(e.rotate=pr(t.rotate||0,n.rotate||0,r))}function f6(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const JOe=Qte(0,.5,rte),e3e=Qte(.5,.95,Yi);function Qte(e,t,n){return r=>r<e?0:r>t?1:n(Rm(e,t,r))}function h6(e,t){e.min=t.min,e.max=t.max}function Ta(e,t){h6(e.x,t.x),h6(e.y,t.y)}function p6(e,t){e.translate=t.translate,e.scale=t.scale,e.originPoint=t.originPoint,e.origin=t.origin}function m6(e,t,n,r,i){return e-=t,e=S2(e,1/n,r),i!==void 0&&(e=S2(e,1/i,r)),e}function t3e(e,t=0,n=1,r=.5,i,s=e,a=e){if(Sl.test(t)&&(t=parseFloat(t),t=pr(a.min,a.max,t/100)-a.min),typeof t!="number")return;let o=pr(s.min,s.max,r);e===s&&(o-=t),e.min=m6(e.min,t,n,o,i),e.max=m6(e.max,t,n,o,i)}function g6(e,t,[n,r,i],s,a){t3e(e,t[n],t[r],t[i],t.scale,s,a)}const n3e=["x","scaleX","originX"],r3e=["y","scaleY","originY"];function y6(e,t,n,r){g6(e.x,t,n3e,n?n.x:void 0,r?r.x:void 0),g6(e.y,t,r3e,n?n.y:void 0,r?r.y:void 0)}function v6(e){return e.translate===0&&e.scale===1}function Jte(e){return v6(e.x)&&v6(e.y)}function x6(e,t){return e.min===t.min&&e.max===t.max}function i3e(e,t){return x6(e.x,t.x)&&x6(e.y,t.y)}function b6(e,t){return Math.round(e.min)===Math.round(t.min)&&Math.round(e.max)===Math.round(t.max)}function ene(e,t){return b6(e.x,t.x)&&b6(e.y,t.y)}function w6(e){return wa(e.x)/wa(e.y)}function S6(e,t){return e.translate===t.translate&&e.scale===t.scale&&e.originPoint===t.originPoint}class s3e{constructor(){this.members=[]}add(t){OI(this.members,t),t.scheduleRender()}remove(t){if(jI(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function a3e(e,t,n){let r="";const i=e.x.translate/t.x,s=e.y.translate/t.y,a=(n==null?void 0:n.z)||0;if((i||s||a)&&(r=`translate3d(${i}px, ${s}px, ${a}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{transformPerspective:d,rotate:h,rotateX:m,rotateY:y,skewX:b,skewY:C}=n;d&&(r=`perspective(${d}px) ${r}`),h&&(r+=`rotate(${h}deg) `),m&&(r+=`rotateX(${m}deg) `),y&&(r+=`rotateY(${y}deg) `),b&&(r+=`skewX(${b}deg) `),C&&(r+=`skewY(${C}deg) `)}const o=e.x.scale*t.x,u=e.y.scale*t.y;return(o!==1||u!==1)&&(r+=`scale(${o}, ${u})`),r||"none"}const o3e=(e,t)=>e.depth-t.depth;class l3e{constructor(){this.children=[],this.isDirty=!1}add(t){OI(this.children,t),this.isDirty=!0}remove(t){jI(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(o3e),this.isDirty=!1,this.children.forEach(t)}}function sw(e){const t=Ki(e)?e.get():e;return YPe(t)?t.toValue():t}function c3e(e,t){const n=Cl.now(),r=({timestamp:i})=>{const s=i-n;s>=t&&(nd(r),e(s-t))};return On.read(r,!0),()=>nd(r)}function u3e(e){return e instanceof SVGElement&&e.tagName!=="svg"}function d3e(e,t,n){const r=Ki(e)?e:y1(e);return r.start(PI("",r,t,n)),r.animation}const Bd={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},K0=typeof window<"u"&&window.MotionDebug!==void 0,T_=["","X","Y","Z"],f3e={visibility:"hidden"},C6=1e3;let h3e=0;function N_(e,t,n,r){const{latestValues:i}=t;i[e]&&(n[e]=i[e],t.setStaticValue(e,0),r&&(r[e]=0))}function tne(e){if(e.hasCheckedOptimisedAppear=!0,e.root===e)return;const{visualElement:t}=e.options;if(!t)return;const n=Mte(t);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=e.options;window.MotionCancelOptimisedAnimation(n,"transform",On,!(i||s))}const{parent:r}=e;r&&!r.hasCheckedOptimisedAppear&&tne(r)}function nne({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=t==null?void 0:t()){this.id=h3e++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,K0&&(Bd.totalNodes=Bd.resolvedTargetDeltas=Bd.recalculatedProjection=0),this.nodes.forEach(g3e),this.nodes.forEach(w3e),this.nodes.forEach(S3e),this.nodes.forEach(y3e),K0&&window.MotionDebug.record(Bd)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new l3e)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new kI),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const u=this.eventHandlers.get(a);u&&u.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=u3e(a),this.instance=a;const{layoutId:u,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(d||u)&&(this.isLayoutDirty=!0),e){let m;const y=()=>this.root.updateBlockedByResize=!1;e(a,()=>{this.root.updateBlockedByResize=!0,m&&m(),m=c3e(y,250),iw.hasAnimatedSinceResize&&(iw.hasAnimatedSinceResize=!1,this.nodes.forEach(E6))})}u&&this.root.registerSharedNode(u,this),this.options.animate!==!1&&h&&(u||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:y,hasRelativeTargetChanged:b,layout:C})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const w=this.options.transition||h.getDefaultTransition()||T3e,{onLayoutAnimationStart:A,onLayoutAnimationComplete:_}=h.getProps(),E=!this.targetLayout||!ene(this.targetLayout,C)||b,N=!y&&b;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||N||y&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(m,N);const I={...mI(w,"layout"),onPlay:A,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(I.delay=0,I.type=!1),this.startAnimation(I)}else y||E6(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=C})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,nd(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(C3e),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&tne(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const m=this.path[h];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:u}=this.options;if(o===void 0&&!u)return;const d=this.getTransformTemplate();this.prevTransformTemplateValue=d?d(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(A6);return}this.isUpdating||this.nodes.forEach(x3e),this.isUpdating=!1,this.nodes.forEach(b3e),this.nodes.forEach(p3e),this.nodes.forEach(m3e),this.clearAllSnapshots();const o=Cl.now();ji.delta=Mc(0,1e3/60,o-ji.timestamp),ji.timestamp=o,ji.isProcessing=!0,x_.update.process(ji),x_.preRender.process(ji),x_.render.process(ji),ji.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,DI.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(v3e),this.sharedNodes.forEach(A3e)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,On.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){On.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=jr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o){const u=r(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:u,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!Jte(this.projectionDelta),u=this.getTransformTemplate(),d=u?u(this.latestValues,""):void 0,h=d!==this.prevTransformTemplateValue;a&&(o||Ld(this.latestValues)||h)&&(i(this.instance,d),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let u=this.removeElementScroll(o);return a&&(u=this.removeTransform(u)),N3e(u),{animationId:this.root.animationId,measuredBox:o,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){var a;const{visualElement:o}=this.options;if(!o)return jr();const u=o.measureViewportBox();if(!(((a=this.scroll)===null||a===void 0?void 0:a.wasRoot)||this.path.some(P3e))){const{scroll:h}=this.root;h&&(ip(u.x,h.offset.x),ip(u.y,h.offset.y))}return u}removeElementScroll(a){var o;const u=jr();if(Ta(u,a),!((o=this.scroll)===null||o===void 0)&&o.wasRoot)return u;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:y}=h;h!==this.root&&m&&y.layoutScroll&&(m.wasRoot&&Ta(u,a),ip(u.x,m.offset.x),ip(u.y,m.offset.y))}return u}applyTransform(a,o=!1){const u=jr();Ta(u,a);for(let d=0;d<this.path.length;d++){const h=this.path[d];!o&&h.options.layoutScroll&&h.scroll&&h!==h.root&&sp(u,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Ld(h.latestValues)&&sp(u,h.latestValues)}return Ld(this.latestValues)&&sp(u,this.latestValues),u}removeTransform(a){const o=jr();Ta(o,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];if(!d.instance||!Ld(d.latestValues))continue;RP(d.latestValues)&&d.updateSnapshot();const h=jr(),m=d.measurePageBox();Ta(h,m),y6(o,d.latestValues,d.snapshot?d.snapshot.layoutBox:void 0,h)}return Ld(this.latestValues)&&y6(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ji.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const u=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=u.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=u.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=u.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==u;if(!(a||d&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:y}=this.options;if(!(!this.layout||!(m||y))){if(this.resolvedRelativeTargetAt=ji.timestamp,!this.targetDelta&&!this.relativeTarget){const b=this.getClosestProjectingParent();b&&b.layout&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),my(this.relativeTargetOrigin,this.layout.layoutBox,b.layout.layoutBox),Ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=jr(),this.targetWithTransforms=jr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OOe(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ta(this.target,this.layout.layoutBox),Hte(this.target,this.targetDelta)):Ta(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const b=this.getClosestProjectingParent();b&&!!b.resumingFrom==!!this.resumingFrom&&!b.options.layoutScroll&&b.target&&this.animationProgress!==1?(this.relativeParent=b,this.forceRelativeParentToResolveTarget(),this.relativeTarget=jr(),this.relativeTargetOrigin=jr(),my(this.relativeTargetOrigin,this.target,b.target),Ta(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}K0&&Bd.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||RP(this.parent.latestValues)||Wte(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),u=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(d=!1),u&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ji.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;Ta(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,b=this.treeScale.y;BOe(this.layoutCorrected,this.treeScale,this.path,u),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=jr());const{target:C}=o;if(!C){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(p6(this.prevProjectionDelta.x,this.projectionDelta.x),p6(this.prevProjectionDelta.y,this.projectionDelta.y)),py(this.projectionDelta,this.layoutCorrected,C,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==b||!S6(this.projectionDelta.x,this.prevProjectionDelta.x)||!S6(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",C)),K0&&Bd.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)===null||o===void 0||o.scheduleRender(),a){const u=this.getStack();u&&u.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=rp(),this.projectionDelta=rp(),this.projectionDeltaWithTransform=rp()}setAnimationOrigin(a,o=!1){const u=this.snapshot,d=u?u.latestValues:{},h={...this.latestValues},m=rp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const y=jr(),b=u?u.source:void 0,C=this.layout?this.layout.source:void 0,w=b!==C,A=this.getStack(),_=!A||A.members.length<=1,E=!!(w&&!_&&this.options.crossfade===!0&&!this.path.some(_3e));this.animationProgress=0;let N;this.mixTargetDelta=I=>{const O=I/1e3;_6(m.x,a.x,O),_6(m.y,a.y,O),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(my(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),E3e(this.relativeTarget,this.relativeTargetOrigin,y,O),N&&i3e(this.relativeTarget,N)&&(this.isProjectionDirty=!1),N||(N=jr()),Ta(N,this.relativeTarget)),w&&(this.animationValues=h,QOe(h,d,this.latestValues,O,E,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(nd(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=On.update(()=>{iw.hasAnimatedSinceResize=!0,this.currentAnimation=d3e(0,C6,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(C6),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:u,layout:d,latestValues:h}=a;if(!(!o||!u||!d)){if(this!==a&&this.layout&&d&&rne(this.options.animationType,this.layout.layoutBox,d.layoutBox)){u=this.target||jr();const m=wa(this.layout.layoutBox.x);u.x.min=a.target.x.min,u.x.max=u.x.min+m;const y=wa(this.layout.layoutBox.y);u.y.min=a.target.y.min,u.y.max=u.y.min+y}Ta(o,u),sp(o,h),py(this.projectionDeltaWithTransform,this.layoutCorrected,o,h)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new s3e),this.sharedNodes.get(a).add(o);const d=o.options.initialPromotionConfig;o.promote({transition:d?d.transition:void 0,preserveFollowOpacity:d&&d.shouldPreserveFollowOpacity?d.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:u}={}){const d=this.getStack();d&&d.promote(this,u),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:u}=a;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(o=!0),!o)return;const d={};u.z&&N_("z",a,d,this.animationValues);for(let h=0;h<T_.length;h++)N_(`rotate${T_[h]}`,a,d,this.animationValues),N_(`skew${T_[h]}`,a,d,this.animationValues);a.render();for(const h in d)a.setStaticValue(h,d[h]),this.animationValues&&(this.animationValues[h]=d[h]);a.scheduleRender()}getProjectionStyles(a){var o,u;if(!this.instance||this.isSVG)return;if(!this.isVisible)return f3e;const d={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,d.opacity="",d.pointerEvents=sw(a==null?void 0:a.pointerEvents)||"",d.transform=h?h(this.latestValues,""):"none",d;const m=this.getLead();if(!this.projectionDelta||!this.layout||!m.target){const w={};return this.options.layoutId&&(w.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,w.pointerEvents=sw(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!Ld(this.latestValues)&&(w.transform=h?h({},""):"none",this.hasProjected=!1),w}const y=m.animationValues||m.latestValues;this.applyTransformsToTarget(),d.transform=a3e(this.projectionDeltaWithTransform,this.treeScale,y),h&&(d.transform=h(y,d.transform));const{x:b,y:C}=this.projectionDelta;d.transformOrigin=`${b.origin*100}% ${C.origin*100}% 0`,m.animationValues?d.opacity=m===this?(u=(o=y.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&u!==void 0?u:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:d.opacity=m===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const w in C2){if(y[w]===void 0)continue;const{correct:A,applyTo:_}=C2[w],E=d.transform==="none"?y[w]:A(y[w],m);if(_){const N=_.length;for(let I=0;I<N;I++)d[_[I]]=E}else d[w]=E}return this.options.layoutId&&(d.pointerEvents=m===this?sw(a==null?void 0:a.pointerEvents)||"":"none"),d}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(A6),this.root.sharedNodes.clear()}}}function p3e(e){e.updateLayout()}function m3e(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:s}=e.options,a=n.source!==e.layout.source;s==="size"?ja(m=>{const y=a?n.measuredBox[m]:n.layoutBox[m],b=wa(y);y.min=r[m].min,y.max=y.min+b}):rne(s,n.layoutBox,r)&&ja(m=>{const y=a?n.measuredBox[m]:n.layoutBox[m],b=wa(r[m]);y.max=y.min+b,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[m].max=e.relativeTarget[m].min+b)});const o=rp();py(o,r,n.layoutBox);const u=rp();a?py(u,e.applyTransform(i,!0),n.measuredBox):py(u,r,n.layoutBox);const d=!Jte(o);let h=!1;if(!e.resumeFrom){const m=e.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:y,layout:b}=m;if(y&&b){const C=jr();my(C,n.layoutBox,y.layoutBox);const w=jr();my(w,r,b.layoutBox),ene(C,w)||(h=!0),m.options.layoutRoot&&(e.relativeTarget=w,e.relativeTargetOrigin=C,e.relativeParent=m)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:u,layoutDelta:o,hasLayoutChanged:d,hasRelativeTargetChanged:h})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function g3e(e){K0&&Bd.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function y3e(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function v3e(e){e.clearSnapshot()}function A6(e){e.clearMeasurements()}function x3e(e){e.isLayoutDirty=!1}function b3e(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function E6(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function w3e(e){e.resolveTargetDelta()}function S3e(e){e.calcProjection()}function C3e(e){e.resetSkewAndRotation()}function A3e(e){e.removeLeadSnapshot()}function _6(e,t,n){e.translate=pr(t.translate,0,n),e.scale=pr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function T6(e,t,n,r){e.min=pr(t.min,n.min,r),e.max=pr(t.max,n.max,r)}function E3e(e,t,n,r){T6(e.x,t.x,n.x,r),T6(e.y,t.y,n.y,r)}function _3e(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const T3e={duration:.45,ease:[.4,0,.1,1]},N6=e=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(e),P6=N6("applewebkit/")&&!N6("chrome/")?Math.round:Yi;function O6(e){e.min=P6(e.min),e.max=P6(e.max)}function N3e(e){O6(e.x),O6(e.y)}function rne(e,t,n){return e==="position"||e==="preserve-aspect"&&!POe(w6(t),w6(n),.2)}function P3e(e){var t;return e!==e.root&&((t=e.scroll)===null||t===void 0?void 0:t.wasRoot)}const O3e=nne({attachResizeListener:(e,t)=>uc(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),P_={current:void 0},ine=nne({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!P_.current){const e=new O3e({});e.mount(window),e.setOptions({layoutScroll:!0}),P_.current=e}return P_.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),j3e={pan:{Feature:HOe},drag:{Feature:WOe,ProjectionNode:ine,MeasureLayout:Yte}};function j6(e,t,n){const{props:r}=e;e.animationState&&r.whileHover&&e.animationState.setActive("whileHover",n);const i=r[n?"onHoverStart":"onHoverEnd"];i&&On.postRender(()=>i(t,nx(t)))}class k3e extends gd{mount(){const{current:t,props:n}=this.node;t&&(this.unmount=xOe(t,r=>(j6(this.node,r,!0),i=>j6(this.node,i,!1)),{passive:!n.onHoverStart&&!n.onHoverEnd}))}unmount(){}}class I3e extends gd{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Uu(uc(this.node.current,"focus",()=>this.onFocus()),uc(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const sne=(e,t)=>t?e===t?!0:sne(e,t.parentElement):!1;function O_(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,nx(n))}class M3e extends gd{constructor(){super(...arguments),this.removeStartListeners=Yi,this.removeEndListeners=Yi,this.removeAccessibleListeners=Yi,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=zu(window,"pointerup",(o,u)=>{if(!this.checkPressEnd())return;const{onTap:d,onTapCancel:h,globalTapTarget:m}=this.node.getProps(),y=!m&&!sne(this.node.current,o.target)?h:d;y&&On.update(()=>y(o,u))},{passive:!(r.onTap||r.onPointerUp)}),a=zu(window,"pointercancel",(o,u)=>this.cancelPress(o,u),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=Uu(s,a),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||O_("up",(u,d)=>{const{onTap:h}=this.node.getProps();h&&On.postRender(()=>h(u,d))})};this.removeEndListeners(),this.removeEndListeners=uc(this.node.current,"keyup",a),O_("down",(o,u)=>{this.startPress(o,u)})},n=uc(this.node.current,"keydown",t),r=()=>{this.isPressing&&O_("cancel",(s,a)=>this.cancelPress(s,a))},i=uc(this.node.current,"blur",r);this.removeAccessibleListeners=Uu(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&On.postRender(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!Fte()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&On.postRender(()=>r(t,n))}mount(){const t=this.node.getProps(),n=zu(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=uc(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=Uu(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const LP=new WeakMap,j_=new WeakMap,D3e=e=>{const t=LP.get(e.target);t&&t(e)},R3e=e=>{e.forEach(D3e)};function F3e({root:e,...t}){const n=e||document;j_.has(n)||j_.set(n,{});const r=j_.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(R3e,{root:e,...t})),r[i]}function L3e(e,t,n){const r=F3e(t);return LP.set(e,n),r.observe(e),()=>{LP.delete(e),r.unobserve(e)}}const B3e={some:0,all:1};class $3e extends gd{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:B3e[i]},o=u=>{const{isIntersecting:d}=u;if(this.isInView===d||(this.isInView=d,s&&!d&&this.hasEnteredView))return;d&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",d);const{onViewportEnter:h,onViewportLeave:m}=this.node.getProps(),y=d?h:m;y&&y(u)};return L3e(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(U3e(t,n))&&this.startObserver()}unmount(){}}function U3e({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const z3e={inView:{Feature:$3e},tap:{Feature:M3e},focus:{Feature:I3e},hover:{Feature:k3e}},V3e={layout:{ProjectionNode:ine,MeasureLayout:Yte}},ane=T.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),YC=T.createContext({}),RI=typeof window<"u",W3e=RI?T.useLayoutEffect:T.useEffect,one=T.createContext({strict:!1});function H3e(e,t,n,r,i){var s,a;const{visualElement:o}=T.useContext(YC),u=T.useContext(one),d=T.useContext(MI),h=T.useContext(ane).reducedMotion,m=T.useRef();r=r||u.renderer,!m.current&&r&&(m.current=r(e,{visualState:t,parent:o,props:n,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:h}));const y=m.current,b=T.useContext(Xte);y&&!y.projection&&i&&(y.type==="html"||y.type==="svg")&&G3e(m.current,n,i,b);const C=T.useRef(!1);T.useInsertionEffect(()=>{y&&C.current&&y.update(n,d)});const w=n[Ite],A=T.useRef(!!w&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,w))&&((a=window.MotionHasOptimisedAnimation)===null||a===void 0?void 0:a.call(window,w)));return W3e(()=>{y&&(C.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),DI.render(y.render),A.current&&y.animationState&&y.animationState.animateChanges())}),T.useEffect(()=>{y&&(!A.current&&y.animationState&&y.animationState.animateChanges(),A.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)===null||_===void 0||_.call(window,w)}),A.current=!1))}),y}function G3e(e,t,n,r){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:u,layoutRoot:d}=t;e.projection=new n(e.latestValues,t["data-framer-portal-id"]?void 0:lne(e.parent)),e.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&np(o),visualElement:e,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:u,layoutRoot:d})}function lne(e){if(e)return e.options.allowProjection!==!1?e.projection:lne(e.parent)}function q3e(e,t,n){return T.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):np(n)&&(n.current=r))},[t])}function ZC(e){return qC(e.animate)||pI.some(t=>p1(e[t]))}function cne(e){return!!(ZC(e)||e.variants)}function K3e(e,t){if(ZC(e)){const{initial:n,animate:r}=e;return{initial:n===!1||p1(n)?n:void 0,animate:p1(r)?r:void 0}}return e.inherit!==!1?t:{}}function X3e(e){const{initial:t,animate:n}=K3e(e,T.useContext(YC));return T.useMemo(()=>({initial:t,animate:n}),[k6(t),k6(n)])}function k6(e){return Array.isArray(e)?e.join(" "):e}const I6={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Fm={};for(const e in I6)Fm[e]={isEnabled:t=>I6[e].some(n=>!!t[n])};function Y3e(e){for(const t in e)Fm[t]={...Fm[t],...e[t]}}const Z3e=Symbol.for("motionComponentSymbol");function Q3e({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&Y3e(e);function s(o,u){let d;const h={...T.useContext(ane),...o,layoutId:J3e(o)},{isStatic:m}=h,y=X3e(o),b=r(o,m);if(!m&&RI){eje();const C=tje(h);d=C.MeasureLayout,y.visualElement=H3e(i,b,h,t,C.ProjectionNode)}return c.jsxs(YC.Provider,{value:y,children:[d&&y.visualElement?c.jsx(d,{visualElement:y.visualElement,...h}):null,n(i,o,q3e(b,y.visualElement,u),b,m,y.visualElement)]})}const a=T.forwardRef(s);return a[Z3e]=i,a}function J3e({layoutId:e}){const t=T.useContext(Kte).id;return t&&e!==void 0?t+"-"+e:e}function eje(e,t){T.useContext(one).strict}function tje(e){const{drag:t,layout:n}=Fm;if(!t&&!n)return{};const r={...t,...n};return{MeasureLayout:t!=null&&t.isEnabled(e)||n!=null&&n.isEnabled(e)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const nje=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function FI(e){return typeof e!="string"||e.includes("-")?!1:!!(nje.indexOf(e)>-1||/[A-Z]/u.test(e))}function une(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const dne=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function fne(e,t,n,r){une(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(dne.has(i)?i:II(i),t.attrs[i])}function hne(e,{layout:t,layoutId:n}){return ch.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!C2[e]||e==="opacity")}function LI(e,t,n){var r;const{style:i}=e,s={};for(const a in i)(Ki(i[a])||t.style&&Ki(t.style[a])||hne(a,e)||((r=n==null?void 0:n.getValue(a))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[a]=i[a]);return s}function pne(e,t,n){const r=LI(e,t,n);for(const i in e)if(Ki(e[i])||Ki(t[i])){const s=Jv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=e[i]}return r}function rje(e){const t=T.useRef(null);return t.current===null&&(t.current=e()),t.current}function ije({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const a={latestValues:sje(r,i,s,e),renderState:t()};return n&&(a.mount=o=>n(r,o,a)),a}const mne=e=>(t,n)=>{const r=T.useContext(YC),i=T.useContext(MI),s=()=>ije(e,t,r,i);return n?s():rje(s)};function sje(e,t,n,r){const i={},s=r(e,{});for(const y in s)i[y]=sw(s[y]);let{initial:a,animate:o}=e;const u=ZC(e),d=cne(e);t&&d&&!u&&e.inherit!==!1&&(a===void 0&&(a=t.initial),o===void 0&&(o=t.animate));let h=n?n.initial===!1:!1;h=h||a===!1;const m=h?o:a;if(m&&typeof m!="boolean"&&!qC(m)){const y=Array.isArray(m)?m:[m];for(let b=0;b<y.length;b++){const C=fI(e,y[b]);if(C){const{transitionEnd:w,transition:A,..._}=C;for(const E in _){let N=_[E];if(Array.isArray(N)){const I=h?N.length-1:0;N=N[I]}N!==null&&(i[E]=N)}for(const E in w)i[E]=w[E]}}}return i}const BI=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),gne=()=>({...BI(),attrs:{}}),yne=(e,t)=>t&&typeof e=="number"?t.transform(e):e,aje={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},oje=Jv.length;function lje(e,t,n){let r="",i=!0;for(let s=0;s<oje;s++){const a=Jv[s],o=e[a];if(o===void 0)continue;let u=!0;if(typeof o=="number"?u=o===(a.startsWith("scale")?1:0):u=parseFloat(o)===0,!u||n){const d=yne(o,SI[a]);if(!u){i=!1;const h=aje[a]||a;r+=`${h}(${d}) `}n&&(t[a]=d)}}return r=r.trim(),n?r=n(t,i?"":r):i&&(r="none"),r}function $I(e,t,n){const{style:r,vars:i,transformOrigin:s}=e;let a=!1,o=!1;for(const u in t){const d=t[u];if(ch.has(u)){a=!0;continue}else if(lte(u)){i[u]=d;continue}else{const h=yne(d,SI[u]);u.startsWith("origin")?(o=!0,s[u]=h):r[u]=h}}if(t.transform||(a||n?r.transform=lje(t,e.transform,n):r.transform&&(r.transform="none")),o){const{originX:u="50%",originY:d="50%",originZ:h=0}=s;r.transformOrigin=`${u} ${d} ${h}`}}function M6(e,t,n){return typeof e=="string"?e:kt.transform(t+n*e)}function cje(e,t,n){const r=M6(t,e.x,e.width),i=M6(n,e.y,e.height);return`${r} ${i}`}const uje={offset:"stroke-dashoffset",array:"stroke-dasharray"},dje={offset:"strokeDashoffset",array:"strokeDasharray"};function fje(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?uje:dje;e[s.offset]=kt.transform(-r);const a=kt.transform(t),o=kt.transform(n);e[s.array]=`${a} ${o}`}function UI(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:u=0,...d},h,m){if($I(e,d,m),h){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:y,style:b,dimensions:C}=e;y.transform&&(C&&(b.transform=y.transform),delete y.transform),C&&(i!==void 0||s!==void 0||b.transform)&&(b.transformOrigin=cje(C,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(y.x=t),n!==void 0&&(y.y=n),r!==void 0&&(y.scale=r),a!==void 0&&fje(y,a,o,u,!1)}const zI=e=>typeof e=="string"&&e.toLowerCase()==="svg",hje={useVisualState:mne({scrapeMotionValuesFromProps:pne,createRenderState:gne,onMount:(e,t,{renderState:n,latestValues:r})=>{On.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),On.render(()=>{UI(n,r,zI(t.tagName),e.transformTemplate),fne(t,n)})}})},pje={useVisualState:mne({scrapeMotionValuesFromProps:LI,createRenderState:BI})};function vne(e,t,n){for(const r in t)!Ki(t[r])&&!hne(r,n)&&(e[r]=t[r])}function mje({transformTemplate:e},t){return T.useMemo(()=>{const n=BI();return $I(n,t,e),Object.assign({},n.vars,n.style)},[t])}function gje(e,t){const n=e.style||{},r={};return vne(r,n,e),Object.assign(r,mje(e,t)),r}function yje(e,t){const n={},r=gje(e,t);return e.drag&&e.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(n.tabIndex=0),n.style=r,n}const vje=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function A2(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||vje.has(e)}let xne=e=>!A2(e);function xje(e){e&&(xne=t=>t.startsWith("on")?!A2(t):e(t))}try{xje(require("@emotion/is-prop-valid").default)}catch{}function bje(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(xne(i)||n===!0&&A2(i)||!t&&!A2(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function wje(e,t,n,r){const i=T.useMemo(()=>{const s=gne();return UI(s,t,zI(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};vne(s,e.style,e),i.style={...s,...i.style}}return i}function Sje(e=!1){return(n,r,i,{latestValues:s},a)=>{const u=(FI(n)?wje:yje)(r,s,a,n),d=bje(r,typeof n=="string",e),h=n!==T.Fragment?{...d,...u,ref:i}:{},{children:m}=r,y=T.useMemo(()=>Ki(m)?m.get():m,[m]);return T.createElement(n,{...h,children:y})}}function Cje(e,t){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const a={...FI(r)?hje:pje,preloadedFeatures:e,useRender:Sje(i),createVisualElement:t,Component:r};return Q3e(a)}}const BP={current:null},bne={current:!1};function Aje(){if(bne.current=!0,!!RI)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>BP.current=e.matches;e.addListener(t),t()}else BP.current=!1}function Eje(e,t,n){for(const r in t){const i=t[r],s=n[r];if(Ki(i))e.addValue(r,i);else if(Ki(s))e.addValue(r,y1(i,{owner:e}));else if(s!==i)if(e.hasValue(r)){const a=e.getValue(r);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=e.getStaticValue(r);e.addValue(r,y1(a!==void 0?a:i,{owner:e}))}}for(const r in n)t[r]===void 0&&e.removeValue(r);return t}const D6=new WeakMap,_je=[...dte,Vi,rd],Tje=e=>_je.find(ute(e)),R6=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Nje{scrapeMotionValuesFromProps(t,n,r){return{}}constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=xI,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Cl.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,On.render(this.render,!1,!0))};const{latestValues:u,renderState:d}=a;this.latestValues=u,this.baseTarget={...u},this.initialValues=n.initial?{...u}:{},this.renderState=d,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=ZC(n),this.isVariantNode=cne(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:h,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const y in m){const b=m[y];u[y]!==void 0&&Ki(b)&&b.set(u[y],!1)}}mount(t){this.current=t,D6.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),bne.current||Aje(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:BP.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){D6.delete(this.current),this.projection&&this.projection.unmount(),nd(this.notifyUpdate),nd(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const n=this.features[t];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(t,n){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=ch.has(t),i=n.on("change",o=>{this.latestValues[t]=o,this.props.onUpdate&&On.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let a;window.MotionCheckAppearSync&&(a=window.MotionCheckAppearSync(this,t,n)),this.valueSubscriptions.set(t,()=>{i(),s(),a&&a(),n.owner&&n.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Fm){const n=Fm[t];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[t]&&i&&r(this.props)&&(this.features[t]=new i(this)),this.features[t]){const s=this.features[t];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):jr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<R6.length;r++){const i=R6[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=t[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Eje(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){const r=this.values.get(t);n!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,n),this.values.set(t,n),this.latestValues[t]=n.get())}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=y1(n===null?void 0:n,{owner:this}),this.addValue(t,r)),r}readValue(t,n){var r;let i=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return i!=null&&(typeof i=="string"&&(ate(i)||ste(i))?i=parseFloat(i):!Tje(i)&&rd.test(n)&&(i=xte(t,n)),this.setBaseTarget(t,Ki(i)?i.get():i)),Ki(i)?i.get():i}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const a=fI(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);a&&(i=a[t])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!Ki(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new kI),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class wne extends Nje{constructor(){super(...arguments),this.KeyframeResolver=bte}sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Ki(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Pje(e){return window.getComputedStyle(e)}class Oje extends wne{constructor(){super(...arguments),this.type="html",this.renderInstance=une}readValueFromInstance(t,n){if(ch.has(n)){const r=CI(n);return r&&r.default||0}else{const r=Pje(t),i=(lte(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return Gte(t,n)}build(t,n,r){$I(t,n,r.transformTemplate)}scrapeMotionValuesFromProps(t,n,r){return LI(t,n,r)}}class jje extends wne{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=jr}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(ch.has(n)){const r=CI(n);return r&&r.default||0}return n=dne.has(n)?n:II(n),t.getAttribute(n)}scrapeMotionValuesFromProps(t,n,r){return pne(t,n,r)}build(t,n,r){UI(t,n,this.isSVGTag,r.transformTemplate)}renderInstance(t,n,r,i){fne(t,n,r,i)}mount(t){this.isSVGTag=zI(t.tagName),super.mount(t)}}const kje=(e,t)=>FI(e)?new jje(t):new Oje(t,{allowProjection:e!==T.Fragment}),Ije=Cje({...yOe,...z3e,...j3e,...V3e},kje),ap=mNe(Ije),Mje={initial:{opacity:0,y:20},animate:{opacity:1,y:0,transition:{duration:.5,ease:[.4,0,.2,1]}},exit:{opacity:0,y:-20,transition:{duration:.3,ease:[.4,0,.2,1]}}};function QC({children:e,className:t}){return c.jsx(ap.div,{initial:"initial",animate:"animate",exit:"exit",variants:Mje,className:t,children:e})}function Dje(){const[e,t]=T.useState("all");T.useEffect(()=>{St.invalidateQueries({queryKey:["/api/recipes?includeMatching=true"]})},[]);const{data:n,isLoading:r}=un({queryKey:["/api/recipes?includeMatching=true"]}),i=n==null?void 0:n.filter(a=>e==="favorites"?a.isFavorite:!0).sort((a,o)=>a.rating!==o.rating?(o.rating||0)-(a.rating||0):new Date(o.createdAt).getTime()-new Date(a.createdAt).getTime()),s=(n==null?void 0:n.filter(a=>a.isFavorite).length)||0;return c.jsx(QC,{className:"h-full overflow-y-auto bg-muted",children:c.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx(Dw,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"My Cookbook"}),c.jsxs("p",{className:"text-muted-foreground",children:[(i==null?void 0:i.length)||0," recipe",(i==null?void 0:i.length)!==1?"s":"",e==="favorites"&&"  Favorites"]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(pNe,{}),c.jsxs(Re,{variant:e==="all"?"default":"outline",size:"sm",onClick:()=>t("all"),"data-testid":"button-filter-all",children:["All Recipes",n&&n.length>0&&c.jsx(Ot,{variant:"secondary",className:"ml-2 no-default-hover-elevate no-default-active-elevate",children:n.length})]}),c.jsxs(Re,{variant:e==="favorites"?"default":"outline",size:"sm",onClick:()=>t("favorites"),"data-testid":"button-filter-favorites",children:[c.jsx(Af,{className:"w-4 h-4 mr-1"}),"Favorites",s>0&&c.jsx(Ot,{variant:"secondary",className:"ml-2 no-default-hover-elevate no-default-active-elevate",children:s})]})]})]})}),r?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Loading recipes..."})}):!i||i.length===0?c.jsx("div",{className:"py-12",children:e==="favorites"?c.jsxs("div",{className:"flex flex-col items-center justify-center p-8","data-testid":"empty-favorites",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mb-6",children:c.jsx(Af,{className:"w-12 h-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No favorite recipes yet"}),c.jsx("p",{className:"text-muted-foreground text-center max-w-sm",children:"Star your favorite recipes to see them here"})]}):c.jsxs("div",{className:"flex flex-col items-center justify-center p-8","data-testid":"empty-cookbook",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-primary/10 flex items-center justify-center mb-6",children:c.jsx(Dw,{className:"w-12 h-12 text-primary"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No recipes yet"}),c.jsx("p",{className:"text-muted-foreground text-center max-w-sm",children:"Generate recipes from your ingredients to build your cookbook"})]})}):c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:i.map(a=>c.jsx(kee,{id:a.id,title:a.title,prepTime:a.prepTime||void 0,cookTime:a.cookTime||void 0,servings:a.servings||void 0,ingredients:a.ingredients,instructions:a.instructions,usedIngredients:a.usedIngredients,missingIngredients:a.missingIngredients||[],ingredientMatches:a.ingredientMatches,isFavorite:a.isFavorite,rating:a.rating||void 0,showControls:!0},a.id))})]})})}function Rje(){const{toast:e}=or(),{data:t,isLoading:n}=un({queryKey:["/api/nutrition/stats"]}),{data:r,isLoading:i}=un({queryKey:["/api/nutrition/items"]}),{data:s,isLoading:a}=un({queryKey:["/api/nutrition/items/missing"]}),o=Dn({mutationFn:async h=>await Xt("POST",`/api/food-items/${h}/refresh-nutrition`,{}),onSuccess:(h,m)=>{St.invalidateQueries({queryKey:["/api/nutrition/stats"]}),St.invalidateQueries({queryKey:["/api/nutrition/items"]}),St.invalidateQueries({queryKey:["/api/nutrition/items/missing"]}),St.invalidateQueries({queryKey:["/api/food-items"]}),e({title:"Nutrition data refreshed",description:"Successfully updated nutrition information"})},onError:h=>{e({title:"Failed to refresh nutrition",description:h.message||"Could not fetch nutrition data for this item",variant:"destructive"})}}),u=[{name:"Protein",value:(t==null?void 0:t.totalProtein)||0,color:"bg-red-500",icon:vG},{name:"Carbs",value:(t==null?void 0:t.totalCarbs)||0,color:"bg-yellow-500",icon:Tj},{name:"Fat",value:(t==null?void 0:t.totalFat)||0,color:"bg-blue-500",icon:Ffe}],d=((t==null?void 0:t.totalProtein)||0)+((t==null?void 0:t.totalCarbs)||0)+((t==null?void 0:t.totalFat)||0);return c.jsx("div",{className:"h-full overflow-y-auto bg-muted",children:c.jsxs("div",{className:"max-w-6xl mx-auto p-6",children:[c.jsx("div",{className:"mb-6",children:c.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-green-500/10 flex items-center justify-center",children:c.jsx(bm,{className:"w-6 h-6 text-green-600"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Nutrition Dashboard"}),c.jsx("p",{className:"text-muted-foreground",children:"Track nutritional content of your inventory"})]})]})}),n?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Loading nutrition data..."})}):(t==null?void 0:t.itemsWithNutrition)===0?c.jsx(xt,{children:c.jsxs(it,{className:"p-12 text-center",children:[c.jsx(bm,{className:"w-16 h-16 text-muted-foreground mx-auto mb-4"}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No nutritional data yet"}),c.jsx("p",{className:"text-muted-foreground",children:"Add food items from the USDA database to track nutrition"})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[c.jsxs(xt,{"data-testid":"card-total-calories",children:[c.jsx(gt,{className:"pb-3",children:c.jsxs(vt,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(eR,{className:"w-4 h-4 text-orange-500"}),"Total Calories"]})}),c.jsxs(it,{children:[c.jsx("div",{className:"text-2xl font-bold","data-testid":"text-total-calories",children:(t==null?void 0:t.totalCalories)||0}),c.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"kcal in inventory"})]})]}),u.map(h=>c.jsxs(xt,{"data-testid":`card-${h.name.toLowerCase()}`,children:[c.jsx(gt,{className:"pb-3",children:c.jsxs(vt,{className:"text-sm font-medium flex items-center gap-2",children:[c.jsx(h.icon,{className:"w-4 h-4"}),h.name]})}),c.jsxs(it,{children:[c.jsxs("div",{className:"text-2xl font-bold","data-testid":`text-${h.name.toLowerCase()}`,children:[h.value,"g"]}),c.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[d>0?`${Math.round(h.value/d*100)}%`:"0%"," of macros"]})]})]},h.name))]}),c.jsxs(xt,{className:"mb-6",children:[c.jsx(gt,{children:c.jsx(vt,{children:"Macronutrient Distribution"})}),c.jsx(it,{children:c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex items-center w-full h-8 rounded-lg overflow-hidden","data-testid":"macro-stacked-bar",children:u.map((h,m)=>{const y=d>0?h.value/d*100:0;return y>0?c.jsx("div",{className:`h-full ${h.color} flex items-center justify-center transition-all`,style:{width:`${y}%`},"data-testid":`macro-segment-${h.name.toLowerCase()}`,children:y>10&&c.jsxs("span",{className:"text-xs font-medium text-white px-1",children:[Math.round(y),"%"]})},h.name):null})}),c.jsx("div",{className:"flex flex-wrap gap-4 pt-2",children:u.map(h=>{const m=d>0?h.value/d*100:0;return c.jsxs("div",{className:"flex items-center gap-2","data-testid":`macro-legend-${h.name.toLowerCase()}`,children:[c.jsx("div",{className:`w-3 h-3 rounded-full ${h.color}`}),c.jsx("span",{className:"text-sm font-medium",children:h.name}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[h.value,"g (",Math.round(m),"%)"]})]},h.name)})})]})})]}),c.jsxs(xt,{className:"mb-6",children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Items with Nutrition Data"}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[(t==null?void 0:t.itemsWithNutrition)||0," of ",(t==null?void 0:t.totalItems)||0," items have nutritional information"]})]}),c.jsx(it,{children:i?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Loading items..."}):!r||r.length===0?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"No items with nutrition data"}):c.jsx("div",{className:"space-y-3",children:r.map(h=>{var _,E,N,I,O;const m=parseFloat(((_=h.nutrition)==null?void 0:_.servingSize)||"100")||100,y=h.weightInGrams/m,b=(((E=h.nutrition)==null?void 0:E.protein)||0)*y,C=(((N=h.nutrition)==null?void 0:N.carbs)||0)*y,w=(((I=h.nutrition)==null?void 0:I.fat)||0)*y,A=b+C+w;return c.jsxs("div",{className:"p-3 border border-border rounded-lg hover-elevate","data-testid":`nutrition-item-${h.id}`,children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:h.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.quantity," ",h.unit||"","  ",h.locationName]})]}),c.jsxs(Ot,{variant:"secondary",children:[c.jsx(eR,{className:"w-3 h-3 mr-1"}),Math.round((((O=h.nutrition)==null?void 0:O.calories)||0)*y)," kcal"]})]}),A>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsxs("div",{className:"flex items-center w-full h-6 rounded overflow-hidden","data-testid":`item-macro-bar-${h.id}`,children:[b>0&&c.jsx("div",{className:"h-full bg-red-500 flex items-center justify-center",style:{width:`${b/A*100}%`},children:b/A*100>15&&c.jsxs("span",{className:"text-xs font-medium text-white px-1",children:["P: ",Math.round(b*10)/10,"g"]})}),C>0&&c.jsx("div",{className:"h-full bg-yellow-500 flex items-center justify-center",style:{width:`${C/A*100}%`},children:C/A*100>15&&c.jsxs("span",{className:"text-xs font-medium text-white px-1",children:["C: ",Math.round(C*10)/10,"g"]})}),w>0&&c.jsx("div",{className:"h-full bg-blue-500 flex items-center justify-center",style:{width:`${w/A*100}%`},children:w/A*100>15&&c.jsxs("span",{className:"text-xs font-medium text-white px-1",children:["F: ",Math.round(w*10)/10,"g"]})})]}),c.jsxs("div",{className:"flex gap-3 text-xs text-muted-foreground",children:[c.jsxs("span",{children:["P: ",Math.round(b*10)/10,"g"]}),c.jsxs("span",{children:["C: ",Math.round(C*10)/10,"g"]}),c.jsxs("span",{children:["F: ",Math.round(w*10)/10,"g"]})]})]})]},h.id)})})})]}),s&&s.length>0&&c.jsxs(xt,{children:[c.jsxs(gt,{children:[c.jsxs(vt,{className:"flex items-center gap-2",children:[c.jsx(Tc,{className:"w-5 h-5 text-orange-500"}),"Items Missing Nutrition Data"]}),c.jsxs("p",{className:"text-sm text-muted-foreground",children:[s.length," item",s.length!==1?"s":""," need nutrition information"]})]}),c.jsx(it,{children:a?c.jsx("p",{className:"text-muted-foreground text-center py-4",children:"Loading..."}):c.jsxs(c.Fragment,{children:[c.jsxs(jc,{className:"mb-4",children:[c.jsx(Tc,{className:"h-4 w-4"}),c.jsx(kc,{children:'Click "Refresh Nutrition" to automatically fetch nutritional data from the USDA database.'})]}),c.jsx("div",{className:"space-y-3",children:s.map(h=>c.jsxs("div",{className:"p-3 border border-border rounded-lg flex items-center justify-between","data-testid":`missing-nutrition-item-${h.id}`,children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:h.name}),c.jsxs("div",{className:"text-sm text-muted-foreground",children:[h.quantity," ",h.unit||"","  ",h.locationName]})]}),c.jsxs(Re,{size:"sm",variant:"outline",onClick:()=>o.mutate(h.id),disabled:o.isPending,"data-testid":`button-refresh-${h.id}`,children:[c.jsx(AG,{className:`w-4 h-4 mr-2 ${o.isPending?"animate-spin":""}`}),"Refresh Nutrition"]})]},h.id))})]})})]})]})]})})}const F6=["breakfast","lunch","dinner","snack"],L6={breakfast:"Breakfast",lunch:"Lunch",dinner:"Dinner",snack:"Snack"};function Fje(){const{toast:e}=or(),[t,n]=T.useState(()=>typeof window<"u"&&window.innerWidth<768?"day":"week"),[r,i]=T.useState(()=>{const V=new Date;return V.setHours(0,0,0,0),V}),[s,a]=T.useState(()=>{const V=new Date;V.setHours(0,0,0,0);const Z=V.getDay(),H=V.getDate()-Z,q=new Date(V);return q.setDate(H),q.setHours(0,0,0,0),q}),o=T.useMemo(()=>{const V=[];for(let Z=0;Z<7;Z++){const H=new Date(s);H.setDate(s.getDate()+Z),H.setHours(0,0,0,0),V.push(H)}return V},[s]),u=t==="day"?r.toLocaleDateString("en-CA"):o[0].toLocaleDateString("en-CA"),d=t==="day"?r.toLocaleDateString("en-CA"):o[6].toLocaleDateString("en-CA"),{data:h=[],isLoading:m}=un({queryKey:["/api/meal-plans",{startDate:u,endDate:d}],queryFn:async()=>{const V=await fetch(`/api/meal-plans?startDate=${u}&endDate=${d}`);if(!V.ok)throw new Error("Failed to fetch meal plans");return V.json()}}),{data:y=[]}=un({queryKey:["/api/recipes"]}),b=Dn({mutationFn:async V=>await Xt("DELETE",`/api/meal-plans/${V}`,null),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/meal-plans"]}),e({title:"Meal removed",description:"Meal plan removed from calendar"})}}),C=()=>{const V=new Date(s);V.setDate(V.getDate()-7),V.setHours(0,0,0,0),a(V)},w=()=>{const V=new Date(s);V.setDate(V.getDate()+7),V.setHours(0,0,0,0),a(V)},A=()=>{const V=new Date;V.setHours(0,0,0,0),i(V);const Z=V.getDay(),H=V.getDate()-Z,q=new Date(V);q.setDate(H),q.setHours(0,0,0,0),a(q)},_=()=>{const V=new Date(r);V.setDate(V.getDate()-1),V.setHours(0,0,0,0),i(V)},E=()=>{const V=new Date(r);V.setDate(V.getDate()+1),V.setHours(0,0,0,0),i(V)},N=(V,Z)=>{const H=V.toLocaleDateString("en-CA");return h.find(q=>q.date===H&&q.mealType===Z)},I=V=>V?y.find(Z=>Z.id===V.recipeId):null,O=V=>{const Z=new Date,H=V.toDateString()===Z.toDateString(),q=V.toLocaleDateString("en-US",{weekday:"short"}),G=V.getDate();return{dayName:q,monthDay:G,isToday:H}},k=o[0].toLocaleDateString("en-US",{month:"long",year:"numeric"}),M=r.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"});T.useEffect(()=>{const V=()=>{const Z=window.innerWidth<768;Z&&t==="week"?n("day"):!Z&&t==="day"&&n("week")};return window.addEventListener("resize",V),()=>window.removeEventListener("resize",V)},[t]);const R=T.useRef(0),L=T.useRef(0),U=T.useCallback(V=>{R.current=V.touches[0].clientX},[]),X=T.useCallback(V=>{L.current=V.touches[0].clientX},[]),F=T.useCallback(V=>{var G;const H=((G=V.changedTouches[0])==null?void 0:G.clientX)??L.current??R.current,q=R.current-H;Math.abs(q)>50&&(q>0?E():_()),R.current=0,L.current=0},[E,_]);return c.jsx("div",{className:"h-full overflow-y-auto bg-muted",children:c.jsx("div",{className:"max-w-4xl mx-auto p-6",children:c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx(Tfe,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Meal Planner"}),c.jsxs("p",{className:"text-muted-foreground mt-1",children:["Plan your meals ",t==="day"?"for the day":"for the week"]})]})]}),c.jsx("div",{className:"flex items-center gap-2",children:c.jsxs(Re,{variant:"outline",size:"sm",onClick:A,"data-testid":"button-today",children:[c.jsx(ah,{className:"w-4 h-4 mr-2"}),"Today"]})})]}),c.jsxs("div",{className:"flex items-center justify-between gap-4 mb-4",children:[c.jsxs("div",{className:"inline-flex rounded-md border border-border bg-card p-1",children:[c.jsx(Re,{variant:t==="day"?"default":"ghost",size:"sm",onClick:()=>n("day"),"data-testid":"button-view-day",className:"px-4",children:"Day"}),c.jsx(Re,{variant:t==="week"?"default":"ghost",size:"sm",onClick:()=>n("week"),"data-testid":"button-view-week",className:"px-4",children:"Week"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Re,{variant:"outline",size:"icon",onClick:t==="day"?_:C,"data-testid":t==="day"?"button-prev-day":"button-prev-week",children:c.jsx(hC,{className:"w-4 h-4"})}),c.jsx("div",{className:"text-sm font-medium min-w-[150px] text-center","data-testid":"text-date-display",children:t==="day"?M:k}),c.jsx(Re,{variant:"outline",size:"icon",onClick:t==="day"?E:w,"data-testid":t==="day"?"button-next-day":"button-next-week",children:c.jsx(zf,{className:"w-4 h-4"})})]})]}),c.jsx(xt,{className:"flex-1 overflow-hidden",children:c.jsx(it,{className:"p-0 h-full",children:m?c.jsx("div",{className:"flex items-center justify-center h-full p-8",children:c.jsx("div",{className:"text-muted-foreground",children:"Loading meal plans..."})}):t==="day"?c.jsx("div",{className:"p-4 space-y-4",onTouchStart:U,onTouchMove:X,onTouchEnd:F,children:F6.map(V=>{const Z=N(r,V),H=I(Z);return c.jsxs("div",{"data-testid":`day-meal-${V}`,children:[c.jsx("h3",{className:"text-sm font-semibold mb-2 text-muted-foreground",children:L6[V]}),H&&Z?c.jsxs(xt,{className:"hover-elevate cursor-pointer",children:[c.jsx(gt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-start justify-between gap-3",children:[c.jsx(vt,{className:"text-base font-medium",children:H.title}),c.jsx(Re,{variant:"ghost",size:"icon",className:"h-8 w-8 flex-shrink-0",onClick:q=>{q.stopPropagation(),b.mutate(Z.id)},"data-testid":`button-remove-${Z.id}`,children:c.jsx(Mn,{className:"w-4 h-4"})})]})}),c.jsx(it,{className:"pt-0",children:c.jsxs("div",{className:"text-sm text-muted-foreground",children:[Z.servings," ",Z.servings===1?"serving":"servings"]})})]}):c.jsx("button",{className:"w-full p-6 flex items-center justify-center hover-elevate rounded-md border-2 border-dashed border-border/50 hover:border-primary/50 transition-colors",onClick:()=>{e({title:"Recipe scheduling",description:"Schedule recipes from the cookbook page. This feature will be enhanced soon!"})},"data-testid":`button-add-meal-${V}`,children:c.jsx("span",{className:"text-sm text-muted-foreground",children:"+ Add meal"})})]},V)})}):c.jsx("div",{className:"h-full overflow-auto",children:c.jsxs("table",{className:"w-full border-collapse",children:[c.jsx("thead",{className:"bg-muted/30 sticky top-0 z-10",children:c.jsxs("tr",{children:[c.jsx("th",{className:"border-r border-border p-3 text-left w-32",children:c.jsx("span",{className:"text-sm font-semibold",children:"Meal Type"})}),o.map((V,Z)=>{const{dayName:H,monthDay:q,isToday:G}=O(V);return c.jsx("th",{className:"border-r border-border p-3 text-center min-w-[140px]",children:c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-xs text-muted-foreground",children:H}),c.jsx("span",{className:`text-lg font-semibold ${G?"text-primary":""}`,children:q}),G&&c.jsx(Ot,{variant:"default",className:"mt-1 text-xs",children:"Today"})]})},Z)})]})}),c.jsx("tbody",{children:F6.map(V=>c.jsxs("tr",{className:"border-t border-border",children:[c.jsx("td",{className:"border-r border-border p-3 bg-muted/10 font-medium text-sm",children:L6[V]}),o.map((Z,H)=>{const q=N(Z,V),G=I(q);return c.jsx("td",{className:"border-r border-border p-2 align-top h-28","data-testid":`cell-${V}-${H}`,children:G&&q?c.jsx("div",{className:"relative h-full",children:c.jsxs(xt,{className:"h-full hover-elevate cursor-pointer",children:[c.jsx(gt,{className:"p-3 pb-2",children:c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsx(vt,{className:"text-sm font-medium line-clamp-2",children:G.title}),c.jsx(Re,{variant:"ghost",size:"icon",className:"h-6 w-6 flex-shrink-0",onClick:W=>{W.stopPropagation(),b.mutate(q.id)},"data-testid":`button-remove-${q.id}`,children:c.jsx(Mn,{className:"w-3 h-3"})})]})}),c.jsx(it,{className:"p-3 pt-0",children:c.jsxs("div",{className:"text-xs text-muted-foreground",children:[q.servings," ",q.servings===1?"serving":"servings"]})})]})}):c.jsx("button",{className:"h-full w-full flex items-center justify-center hover-elevate rounded-md border-2 border-dashed border-border/50 hover:border-primary/50 transition-colors",onClick:()=>{e({title:"Recipe scheduling",description:"Schedule recipes from the cookbook page. This feature will be enhanced soon!"})},"data-testid":`button-add-meal-${V}-${H}`,children:c.jsx("span",{className:"text-xs text-muted-foreground",children:"+ Add meal"})})},H)})]},V))})]})})})}),c.jsxs("div",{className:"flex items-center justify-between text-sm text-muted-foreground",children:[c.jsxs("div",{"data-testid":"text-meals-planned",children:[h.length," ",h.length===1?"meal":"meals"," ","planned this week"]}),c.jsx(Re,{variant:"outline",onClick:()=>{e({title:"Coming soon",description:"Shopping list feature will be implemented next"})},"data-testid":"button-view-shopping-list",children:"View Shopping List"})]})]})})})}var VI="Checkbox",[Lje,Utt]=Yr(VI),[Bje,$je]=Lje(VI),Sne=T.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:a,disabled:o,value:u="on",onCheckedChange:d,form:h,...m}=e,[y,b]=T.useState(null),C=$t(t,I=>b(I)),w=T.useRef(!1),A=y?h||!!y.closest("form"):!0,[_=!1,E]=Qi({prop:i,defaultProp:s,onChange:d}),N=T.useRef(_);return T.useEffect(()=>{const I=y==null?void 0:y.form;if(I){const O=()=>E(N.current);return I.addEventListener("reset",O),()=>I.removeEventListener("reset",O)}},[y,E]),c.jsxs(Bje,{scope:n,state:_,disabled:o,children:[c.jsx(Je.button,{type:"button",role:"checkbox","aria-checked":Vu(_)?"mixed":_,"aria-required":a,"data-state":Ene(_),"data-disabled":o?"":void 0,disabled:o,value:u,...m,ref:C,onKeyDown:Qe(e.onKeyDown,I=>{I.key==="Enter"&&I.preventDefault()}),onClick:Qe(e.onClick,I=>{E(O=>Vu(O)?!0:!O),A&&(w.current=I.isPropagationStopped(),w.current||I.stopPropagation())})}),A&&c.jsx(Uje,{control:y,bubbles:!w.current,name:r,value:u,checked:_,required:a,disabled:o,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Vu(s)?!1:s})]})});Sne.displayName=VI;var Cne="CheckboxIndicator",Ane=T.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...i}=e,s=$je(Cne,n);return c.jsx(es,{present:r||Vu(s.state)||s.state===!0,children:c.jsx(Je.span,{"data-state":Ene(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:t,style:{pointerEvents:"none",...e.style}})})});Ane.displayName=Cne;var Uje=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:i,...s}=e,a=T.useRef(null),o=zv(n),u=Dv(t);T.useEffect(()=>{const h=a.current,m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(o!==n&&b){const C=new Event("click",{bubbles:r});h.indeterminate=Vu(n),b.call(h,Vu(n)?!1:n),h.dispatchEvent(C)}},[o,n,r]);const d=T.useRef(Vu(n)?!1:n);return c.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??d.current,...s,tabIndex:-1,ref:a,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Vu(e){return e==="indeterminate"}function Ene(e){return Vu(e)?"indeterminate":e?"checked":"unchecked"}var _ne=Sne,zje=Ane;const WI=T.forwardRef(({className:e,...t},n)=>c.jsx(_ne,{ref:n,className:Te("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:c.jsx(zje,{className:Te("flex items-center justify-center text-current"),children:c.jsx(Cj,{className:"h-4 w-4"})})}));WI.displayName=_ne.displayName;function Vje(){const[e,t]=T.useState(ga(new Date,{weekStartsOn:0})),[n,r]=T.useState(_p(new Date,{weekStartsOn:0})),[i,s]=T.useState(new Set),a=T.useMemo(()=>{const w=new Date(e);return w.setHours(0,0,0,0),w.toLocaleDateString("en-CA")},[e]),o=T.useMemo(()=>{const w=new Date(n);return w.setHours(0,0,0,0),w.toLocaleDateString("en-CA")},[n]),{data:u,isLoading:d}=un({queryKey:["/api/meal-plans/shopping-list",{startDate:a,endDate:o}],queryFn:async()=>{const w=await fetch(`/api/meal-plans/shopping-list?startDate=${a}&endDate=${o}`);if(!w.ok)throw new Error("Failed to fetch shopping list");return w.json()}});T.useEffect(()=>{s(new Set)},[a,o]);const h=w=>{s(A=>{const _=new Set(A);return _.has(w)?_.delete(w):_.add(w),_})},m=()=>{const w=new Date;t(ga(w,{weekStartsOn:0})),r(_p(w,{weekStartsOn:0}))},y=()=>{const A=ki(new Date,7);t(ga(A,{weekStartsOn:0})),r(_p(A,{weekStartsOn:0}))},b=(u==null?void 0:u.items.filter(w=>!i.has(w.ingredient)).length)||0,C=(u==null?void 0:u.items.filter(w=>i.has(w.ingredient)).length)||0;return c.jsx("div",{className:"h-full overflow-y-auto bg-muted",children:c.jsxs("div",{className:"max-w-4xl mx-auto p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-4 mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-12 h-12 rounded-full bg-primary/10 flex items-center justify-center",children:c.jsx(Cm,{className:"w-6 h-6 text-primary"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Shopping List"}),c.jsxs("p",{className:"text-muted-foreground",children:[qa(e,"MMM d")," -"," ",qa(n,"MMM d, yyyy")]})]})]}),c.jsxs("div",{className:"flex gap-2 flex-wrap",children:[c.jsx(Re,{variant:"outline",size:"sm",onClick:m,"data-testid":"button-this-week",children:"This Week"}),c.jsx(Re,{variant:"outline",size:"sm",onClick:y,"data-testid":"button-next-week",children:"Next Week"}),c.jsxs(eI,{children:[c.jsx(tI,{asChild:!0,children:c.jsxs(Re,{variant:"outline",size:"sm","data-testid":"button-custom-range",children:[c.jsx(ah,{className:"w-4 h-4 mr-2"}),"Custom Range"]})}),c.jsx(WC,{className:"w-auto p-4",align:"end",children:c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"Start Date"}),c.jsx(f2,{mode:"single",selected:e,onSelect:w=>w&&t(w),"data-testid":"calendar-start-date"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium mb-2",children:"End Date"}),c.jsx(f2,{mode:"single",selected:n,onSelect:w=>w&&r(w),"data-testid":"calendar-end-date"})]})]})})]})]})]}),c.jsxs("div",{className:"flex gap-3 flex-wrap",children:[c.jsxs(Ot,{variant:"secondary","data-testid":"badge-total-items",children:[(u==null?void 0:u.totalItems)||0," items to buy"]}),c.jsxs(Ot,{variant:"secondary","data-testid":"badge-planned-meals",children:[(u==null?void 0:u.plannedMeals)||0," planned meals"]}),C>0&&c.jsxs(Ot,{variant:"secondary","data-testid":"badge-checked",children:[C," checked"]})]})]}),d?c.jsx("div",{className:"text-center py-12",children:c.jsx("p",{className:"text-muted-foreground",children:"Loading shopping list..."})}):!(u!=null&&u.items)||u.items.length===0?c.jsx(xt,{children:c.jsx(it,{className:"py-12",children:c.jsxs("div",{className:"flex flex-col items-center justify-center","data-testid":"empty-shopping-list",children:[c.jsx("div",{className:"w-24 h-24 rounded-full bg-muted flex items-center justify-center mb-6",children:c.jsx(Cm,{className:"w-12 h-12 text-muted-foreground"})}),c.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No items to buy"}),c.jsx("p",{className:"text-muted-foreground text-center max-w-sm",children:(u==null?void 0:u.message)||"Schedule some meals to generate a shopping list"})]})})}):c.jsxs(xt,{children:[c.jsx(gt,{children:c.jsxs(vt,{className:"flex items-center justify-between",children:[c.jsx("span",{children:"Items to Purchase"}),c.jsxs("span",{className:"text-sm font-normal text-muted-foreground",children:[b," remaining"]})]})}),c.jsx(it,{children:c.jsx("div",{className:"space-y-3",children:u.items.map((w,A)=>{const _=i.has(w.ingredient);return c.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-md border hover-elevate transition-colors","data-testid":`item-${A}`,children:[c.jsx(WI,{id:`item-${A}`,checked:_,onCheckedChange:()=>h(w.ingredient),className:"mt-0.5","data-testid":`checkbox-${A}`}),c.jsxs("label",{htmlFor:`item-${A}`,className:"flex-1 cursor-pointer",children:[c.jsx("div",{className:`font-medium ${_?"line-through text-muted-foreground":"text-foreground"}`,children:w.ingredient}),c.jsxs("div",{className:"text-sm text-muted-foreground mt-1",children:["Needed for: ",w.neededFor]}),w.servings>1&&c.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:["(",w.servings," servings total)"]})]})]},A)})})})]})]})})}var Tne="AlertDialog",[Wje,ztt]=Yr(Tne,[Sq]),Vc=Sq(),Nne=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vc(t);return c.jsx(TC,{...r,...n,modal:!0})};Nne.displayName=Tne;var Hje="AlertDialogTrigger",Pne=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return c.jsx(Lq,{...i,...r,ref:t})});Pne.displayName=Hje;var Gje="AlertDialogPortal",One=e=>{const{__scopeAlertDialog:t,...n}=e,r=Vc(t);return c.jsx(NC,{...r,...n})};One.displayName=Gje;var qje="AlertDialogOverlay",jne=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return c.jsx(Sg,{...i,...r,ref:t})});jne.displayName=qje;var Pp="AlertDialogContent",[Kje,Xje]=Wje(Pp),Yje=qH("AlertDialogContent"),kne=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,children:r,...i}=e,s=Vc(n),a=T.useRef(null),o=$t(t,a),u=T.useRef(null);return c.jsx(Gme,{contentName:Pp,titleName:Ine,docsSlug:"alert-dialog",children:c.jsx(Kje,{scope:n,cancelRef:u,children:c.jsxs(Cg,{role:"alertdialog",...s,...i,ref:o,onOpenAutoFocus:Qe(i.onOpenAutoFocus,d=>{var h;d.preventDefault(),(h=u.current)==null||h.focus({preventScroll:!0})}),onPointerDownOutside:d=>d.preventDefault(),onInteractOutside:d=>d.preventDefault(),children:[c.jsx(Yje,{children:r}),c.jsx(Qje,{contentRef:a})]})})})});kne.displayName=Pp;var Ine="AlertDialogTitle",Mne=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return c.jsx(Rv,{...i,...r,ref:t})});Mne.displayName=Ine;var Dne="AlertDialogDescription",Rne=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return c.jsx(Fv,{...i,...r,ref:t})});Rne.displayName=Dne;var Zje="AlertDialogAction",Fne=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,i=Vc(n);return c.jsx(PC,{...i,...r,ref:t})});Fne.displayName=Zje;var Lne="AlertDialogCancel",Bne=T.forwardRef((e,t)=>{const{__scopeAlertDialog:n,...r}=e,{cancelRef:i}=Xje(Lne,n),s=Vc(n),a=$t(t,i);return c.jsx(PC,{...s,...r,ref:a})});Bne.displayName=Lne;var Qje=({contentRef:e})=>{const t=`\`${Pp}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Pp}\` by passing a \`${Dne}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Pp}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return T.useEffect(()=>{var r;document.getElementById((r=e.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(t)},[t,e]),null},Jje=Nne,eke=Pne,tke=One,$ne=jne,Une=kne,zne=Fne,Vne=Bne,Wne=Mne,Hne=Rne;const Gne=Jje,nke=eke,rke=tke,qne=T.forwardRef(({className:e,...t},n)=>c.jsx($ne,{className:Te("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t,ref:n}));qne.displayName=$ne.displayName;const HI=T.forwardRef(({className:e,...t},n)=>c.jsxs(rke,{children:[c.jsx(qne,{}),c.jsx(Une,{ref:n,className:Te("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-border/50 glass-strong p-6 shadow-glass-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg transition-morph",e),...t})]}));HI.displayName=Une.displayName;const GI=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col space-y-2 text-center sm:text-left",e),...t});GI.displayName="AlertDialogHeader";const qI=({className:e,...t})=>c.jsx("div",{className:Te("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});qI.displayName="AlertDialogFooter";const KI=T.forwardRef(({className:e,...t},n)=>c.jsx(Wne,{ref:n,className:Te("text-lg font-semibold",e),...t}));KI.displayName=Wne.displayName;const XI=T.forwardRef(({className:e,...t},n)=>c.jsx(Hne,{ref:n,className:Te("text-sm text-muted-foreground",e),...t}));XI.displayName=Hne.displayName;const YI=T.forwardRef(({className:e,...t},n)=>c.jsx(zne,{ref:n,className:Te(Gy(),e),...t}));YI.displayName=zne.displayName;const ZI=T.forwardRef(({className:e,...t},n)=>c.jsx(Vne,{ref:n,className:Te(Gy({variant:"outline"}),"mt-2 sm:mt-0",e),...t}));ZI.displayName=Vne.displayName;function ike(){const{toast:e}=or(),[t,n]=T.useState("all"),[r,i]=T.useState(""),[s,a]=T.useState("grid"),[o,u]=T.useState(!1),[d,h]=T.useState(!1),[m,y]=T.useState(null),[b,C]=T.useState(""),[w,A]=T.useState(null),{data:_=[],isLoading:E}=un({queryKey:["/api/appliances"]}),{data:N=[]}=un({queryKey:["/api/appliance-categories"]}),I=Dn({mutationFn:async U=>Xt("POST","/api/appliances",U),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/appliances"]}),u(!1),e({title:"Success",description:"Appliance added to your kitchen"})},onError:()=>{e({title:"Error",description:"Failed to add appliance",variant:"destructive"})}}),O=Dn({mutationFn:async({id:U,data:X})=>Xt("PUT",`/api/appliances/${U}`,X),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/appliances"]}),y(null),e({title:"Success",description:"Appliance updated successfully"})},onError:()=>{e({title:"Error",description:"Failed to update appliance",variant:"destructive"})}}),k=Dn({mutationFn:async U=>Xt("DELETE",`/api/appliances/${U}`),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/appliances"]}),e({title:"Success",description:"Appliance removed from your kitchen"}),A(null)},onError:()=>{e({title:"Error",description:"Failed to remove appliance",variant:"destructive"})}}),M=Dn({mutationFn:async U=>Xt("POST","/api/appliances/from-barcode",U),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/appliances"]}),h(!1),C(""),e({title:"Success",description:"Appliance added from barcode"})},onError:U=>{e({title:"Error",description:U.message||"Failed to add appliance from barcode",variant:"destructive"})}}),R=_.filter(U=>{var V;const X=t==="all"||U.categoryId===t,F=U.name.toLowerCase().includes(r.toLowerCase())||((V=U.nickname)==null?void 0:V.toLowerCase().includes(r.toLowerCase()));return X&&F}),L=U=>!U||U.length===0?null:c.jsxs("div",{className:"flex flex-wrap gap-1 mt-2",children:[U.slice(0,3).map(X=>c.jsx(Ot,{variant:"secondary",className:"text-xs",children:X.replace(/_/g," ")},X)),U.length>3&&c.jsxs(Ot,{variant:"outline",className:"text-xs",children:["+",U.length-3," more"]})]});return c.jsxs("div",{className:"container mx-auto p-6",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("div",{children:[c.jsx("h1",{className:"text-3xl font-bold",children:"Kitchen Appliances"}),c.jsx("p",{className:"text-muted-foreground",children:"Manage your kitchen appliances and tools"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(Re,{onClick:()=>h(!0),variant:"outline","data-testid":"button-scan-barcode",children:[c.jsx(rR,{className:"w-4 h-4 mr-2"}),"Scan Barcode"]}),c.jsxs(Re,{onClick:()=>u(!0),"data-testid":"button-add-appliance",children:[c.jsx(Tl,{className:"w-4 h-4 mr-2"}),"Add Manually"]})]})]}),c.jsx(xt,{className:"mb-6",children:c.jsx(it,{className:"pt-6",children:c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsx("div",{className:"flex-1",children:c.jsxs("div",{className:"relative",children:[c.jsx(Sm,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),c.jsx(gn,{placeholder:"Search appliances...",value:r,onChange:U=>i(U.target.value),className:"pl-10","data-testid":"input-search"})]})}),c.jsxs(qr,{value:t,onValueChange:n,children:[c.jsxs(Rr,{className:"w-[200px]","data-testid":"select-category-filter",children:[c.jsx(wG,{className:"w-4 h-4 mr-2"}),c.jsx(Kr,{placeholder:"All Categories"})]}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"all",children:"All Categories"}),N.map(U=>c.jsx(mt,{value:U.id,children:U.name},U.id))]})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Re,{variant:s==="grid"?"default":"outline",size:"icon",onClick:()=>a("grid"),"data-testid":"button-view-grid",children:c.jsx(Vfe,{className:"w-4 h-4"})}),c.jsx(Re,{variant:s==="list"?"default":"outline",size:"icon",onClick:()=>a("list"),"data-testid":"button-view-list",children:c.jsx(qfe,{className:"w-4 h-4"})})]})]})})}),E?c.jsx("div",{className:"flex justify-center items-center h-64",children:c.jsx(Nu,{className:"w-8 h-8 animate-spin text-primary"})}):R.length===0?c.jsx(xt,{children:c.jsxs(it,{className:"text-center py-12",children:[c.jsx(Zfe,{className:"w-16 h-16 mx-auto mb-4 text-muted-foreground"}),c.jsx("h3",{className:"text-lg font-semibold mb-2",children:"No appliances found"}),c.jsx("p",{className:"text-muted-foreground mb-4",children:r||t!=="all"?"Try adjusting your filters":"Add your first appliance to get started"}),c.jsxs(Re,{onClick:()=>h(!0),"data-testid":"button-scan-first",children:[c.jsx(rR,{className:"w-4 h-4 mr-2"}),"Scan Barcode"]})]})}):s==="grid"?c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:R.map(U=>c.jsxs(xt,{className:"hover-elevate","data-testid":`card-appliance-${U.id}`,children:[c.jsx(gt,{children:c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(vt,{className:"text-lg",children:U.nickname||U.name}),U.nickname&&U.nickname!==U.name&&c.jsx(Pn,{children:U.name})]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>y(U),"data-testid":`button-edit-${U.id}`,children:c.jsx(yN,{className:"w-4 h-4"})}),c.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>A(U.id),"data-testid":`button-delete-${U.id}`,children:c.jsx(Fw,{className:"w-4 h-4"})})]})]})}),c.jsxs(it,{children:[U.imageUrl&&c.jsx("img",{src:U.imageUrl,alt:U.name,className:"w-full h-32 object-contain mb-3 rounded"}),c.jsxs("div",{className:"space-y-2",children:[U.customBrand&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Brand: ",U.customBrand]}),U.customCapacity&&c.jsxs("div",{className:"text-sm text-muted-foreground",children:["Capacity: ",U.customCapacity]}),L(U.customCapabilities)]})]})]},U.id))}):c.jsx(xt,{children:c.jsx(it,{className:"p-0",children:c.jsx(h1,{className:"h-[600px]",children:R.map((U,X)=>c.jsxs("div",{children:[c.jsxs("div",{className:"p-4 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-4 flex-1",children:[U.imageUrl&&c.jsx("img",{src:U.imageUrl,alt:U.name,className:"w-16 h-16 object-contain rounded"}),c.jsxs("div",{children:[c.jsx("div",{className:"font-semibold",children:U.nickname||U.name}),U.nickname&&U.nickname!==U.name&&c.jsx("div",{className:"text-sm text-muted-foreground",children:U.name})]})]}),L(U.customCapabilities),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>y(U),children:c.jsx(yN,{className:"w-4 h-4"})}),c.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>A(U.id),children:c.jsx(Fw,{className:"w-4 h-4"})})]})]}),X<R.length-1&&c.jsx(Yu,{})]},U.id))})})}),c.jsx($s,{open:o,onOpenChange:u,children:c.jsxs(vs,{children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Add Appliance Manually"}),c.jsx(Vs,{children:"Add a new appliance to your kitchen inventory"})]}),c.jsxs("form",{onSubmit:U=>{U.preventDefault();const X=new FormData(U.currentTarget);I.mutate({name:X.get("name"),type:X.get("type")||"cooking",nickname:X.get("nickname"),notes:X.get("notes"),categoryId:X.get("categoryId")==="none"?null:X.get("categoryId")})},children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"name",children:"Name"}),c.jsx(gn,{id:"name",name:"name",required:!0,placeholder:"e.g., Ninja Foodi"})]}),c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"nickname",children:"Nickname (optional)"}),c.jsx(gn,{id:"nickname",name:"nickname",placeholder:"e.g., My Air Fryer"})]}),c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"type",children:"Type"}),c.jsxs(qr,{name:"type",defaultValue:"cooking",children:[c.jsx(Rr,{children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"cooking",children:"Cooking"}),c.jsx(mt,{value:"baking",children:"Baking"}),c.jsx(mt,{value:"prep",children:"Food Prep"}),c.jsx(mt,{value:"bakeware",children:"Bakeware"})]})]})]}),c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"notes",children:"Notes (optional)"}),c.jsx(gc,{id:"notes",name:"notes",placeholder:"Any special notes..."})]})]}),c.jsxs(Ap,{className:"mt-4",children:[c.jsx(Re,{type:"button",variant:"outline",onClick:()=>u(!1),children:"Cancel"}),c.jsxs(Re,{type:"submit",disabled:I.isPending,children:[I.isPending&&c.jsx(Nu,{className:"w-4 h-4 mr-2 animate-spin"}),"Add Appliance"]})]})]})]})}),c.jsx($s,{open:d,onOpenChange:h,children:c.jsxs(vs,{children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Scan or Enter Barcode"}),c.jsx(Vs,{children:"Scan a barcode or enter the number manually to add an appliance"})]}),c.jsxs("form",{onSubmit:U=>{U.preventDefault();const X=new FormData(U.currentTarget);M.mutate({barcode:X.get("barcode"),nickname:X.get("nickname"),notes:X.get("notes")})},children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"barcode",children:"Barcode Number"}),c.jsx(gn,{id:"barcode",name:"barcode",required:!0,placeholder:"e.g., 787790842514",value:b,onChange:U=>C(U.target.value),"data-testid":"input-barcode"})]}),c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"scan-nickname",children:"Nickname (optional)"}),c.jsx(gn,{id:"scan-nickname",name:"nickname",placeholder:"Give it a custom name"})]}),c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"scan-notes",children:"Notes (optional)"}),c.jsx(gc,{id:"scan-notes",name:"notes",placeholder:"Any special notes..."})]})]}),c.jsxs(Ap,{className:"mt-4",children:[c.jsx(Re,{type:"button",variant:"outline",onClick:()=>h(!1),children:"Cancel"}),c.jsxs(Re,{type:"submit",disabled:M.isPending||!b,"data-testid":"button-submit-scan",children:[M.isPending&&c.jsx(Nu,{className:"w-4 h-4 mr-2 animate-spin"}),"Add from Barcode"]})]})]})]})}),m&&c.jsx($s,{open:!!m,onOpenChange:()=>y(null),children:c.jsxs(vs,{children:[c.jsx(Us,{children:c.jsx(zs,{children:"Edit Appliance"})}),c.jsxs("form",{onSubmit:U=>{U.preventDefault();const X=new FormData(U.currentTarget);O.mutate({id:m.id,data:{nickname:X.get("edit-nickname"),notes:X.get("edit-notes")}})},children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"edit-nickname",children:"Nickname"}),c.jsx(gn,{id:"edit-nickname",name:"edit-nickname",defaultValue:m.nickname||m.name})]}),c.jsxs("div",{children:[c.jsx(Tt,{htmlFor:"edit-notes",children:"Notes"}),c.jsx(gc,{id:"edit-notes",name:"edit-notes",defaultValue:m.notes||""})]})]}),c.jsxs(Ap,{className:"mt-4",children:[c.jsx(Re,{type:"button",variant:"outline",onClick:()=>y(null),children:"Cancel"}),c.jsxs(Re,{type:"submit",disabled:O.isPending,children:[O.isPending&&c.jsx(Nu,{className:"w-4 h-4 mr-2 animate-spin"}),"Save Changes"]})]})]})]})}),c.jsx(Gne,{open:!!w,onOpenChange:()=>A(null),children:c.jsxs(HI,{children:[c.jsxs(GI,{children:[c.jsx(KI,{children:"Remove Appliance?"}),c.jsx(XI,{children:"This will remove the appliance from your kitchen registry. This action cannot be undone."})]}),c.jsxs(qI,{children:[c.jsx(ZI,{children:"Cancel"}),c.jsx(YI,{onClick:()=>w&&k.mutate(w),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Remove"})]})]})})]})}function ske(){const[e,t]=T.useState("light");T.useEffect(()=>{const r=localStorage.getItem("theme"),i=window.matchMedia("(prefers-color-scheme: dark)").matches,s=r||(i?"dark":"light");t(s),document.documentElement.classList.toggle("dark",s==="dark")},[]);const n=()=>{const r=e==="light"?"dark":"light";t(r),localStorage.setItem("theme",r),document.documentElement.classList.toggle("dark",r==="dark")};return c.jsx(Re,{variant:"ghost",size:"icon",onClick:n,"data-testid":"button-theme-toggle",children:e==="light"?c.jsx(ehe,{className:"w-5 h-5"}):c.jsx(che,{className:"w-5 h-5"})})}const B6=[{name:"Fridge",icon:lc},{name:"Freezer",icon:_j},{name:"Pantry",icon:pC},{name:"Counter",icon:Nc}],ake=["Vegetarian","Vegan","Gluten-Free","Dairy-Free","Keto","Paleo","Low-Carb","Halal","Kosher"],oke=["Peanuts","Tree Nuts","Shellfish","Fish","Eggs","Milk","Soy","Wheat","Sesame"],lke=[{value:"beginner",label:"Beginner - I'm just starting out"},{value:"intermediate",label:"Intermediate - I know my way around"},{value:"advanced",label:"Advanced - I'm quite experienced"}],cke=Gv({storageAreasEnabled:hl(Ms()).min(1,"Please select at least one storage area"),householdSize:Lo().int().min(1).max(20),cookingSkillLevel:$a(["beginner","intermediate","advanced"]),preferredUnits:$a(["metric","imperial"]),dietaryRestrictions:hl(Ms()).optional(),allergens:hl(Ms()).optional(),foodsToAvoid:hl(Ms()).optional(),expirationAlertDays:Lo().int().min(1).max(14)});function uke(){var H;const{user:e}=FC(),{toast:t}=or(),[n,r]=T.useState([]),[i,s]=T.useState(""),[a,o]=T.useState(!1),u=T.useRef(!1),d=T.useRef(new Set),[h,m]=T.useState([]),[y,b]=T.useState([]),[C,w]=T.useState(""),[A,_]=T.useState([]),{data:E}=qj({queryKey:["/api/user/preferences"],cacheKey:"cache:user:preferences"}),{data:N}=oh(),I=jk({resolver:kk(cke),defaultValues:{storageAreasEnabled:[],householdSize:2,cookingSkillLevel:"beginner",preferredUnits:"imperial",dietaryRestrictions:[],allergens:[],foodsToAvoid:[],expirationAlertDays:3}});T.useEffect(()=>{if(E){const q=E.storageAreasEnabled||[],G=E.dietaryRestrictions||[],W=E.allergens||[],oe=E.foodsToAvoid||[];r(q),m(G),b(W),_(oe),I.reset({storageAreasEnabled:q,householdSize:E.householdSize||2,cookingSkillLevel:E.cookingSkillLevel||"beginner",preferredUnits:E.preferredUnits||"imperial",dietaryRestrictions:G,allergens:W,foodsToAvoid:oe,expirationAlertDays:E.expirationAlertDays||3})}},[E]),T.useEffect(()=>{if(N&&n.length>0){const q=N.map(W=>W.name),G=n.filter(W=>q.includes(W));G.length!==n.length&&(r(G),I.setValue("storageAreasEnabled",G))}},[N,n]);const O=Dn({mutationFn:async q=>{const G=await fetch("/api/user/preferences",{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify({...q,hasCompletedOnboarding:!0})});if(!G.ok)throw new Error("Failed to save preferences");return G.json()},onSuccess:()=>{St.invalidateQueries({queryKey:["/api/user/preferences"]}),t({title:"Success",description:"Your preferences have been saved."})},onError:()=>{t({title:"Error",description:"Failed to save preferences. Please try again.",variant:"destructive"})}}),k=Dn({mutationFn:async()=>(await Xt("POST","/api/user/reset",null)).json(),onSuccess:()=>{St.invalidateQueries(),t({title:"Account Reset",description:"All your data has been cleared. Redirecting to onboarding..."}),setTimeout(()=>{window.location.href="/"},1500)},onError:()=>{t({title:"Error",description:"Failed to reset account. Please try again.",variant:"destructive"})}}),M=q=>{const G=n.includes(q)?n.filter(W=>W!==q):[...n,q];r(G),I.setValue("storageAreasEnabled",G)},R=q=>{const G=h.includes(q)?h.filter(W=>W!==q):[...h,q];m(G),I.setValue("dietaryRestrictions",G)},L=q=>{const G=y.includes(q)?y.filter(W=>W!==q):[...y,q];b(G),I.setValue("allergens",G)},U=()=>{if(C.trim()&&!A.includes(C.trim())){const q=[...A,C.trim()];_(q),I.setValue("foodsToAvoid",q),w("")}},X=q=>{const G=A.filter(W=>W!==q);_(G),I.setValue("foodsToAvoid",G)},F=async()=>{var J;if(!i.trim()||!N||u.current)return;const q=i.trim(),G=q.toLowerCase(),W=N.map(Y=>Y.name.toLowerCase()),oe=Array.from(d.current).map(Y=>Y.toLowerCase());if(W.includes(G)||oe.includes(G)){t({title:"Already Exists",description:"This storage area already exists or is being added.",variant:"destructive"});return}u.current=!0,o(!0),d.current.add(q);try{await Xt("POST","/api/storage-locations",{name:q,icon:"package"}),await St.refetchQueries({queryKey:["/api/storage-locations"]}),r(Y=>[...Y,q]),I.setValue("storageAreasEnabled",(I.getValues("storageAreasEnabled")||[]).concat(q)),s(""),t({title:"Success",description:"Custom storage area added."})}catch(Y){const ne=(J=Y==null?void 0:Y.message)!=null&&J.includes("already exists")||(Y==null?void 0:Y.status)===409?"This storage area already exists.":"Failed to add custom storage area.";t({title:"Error",description:ne,variant:"destructive"})}finally{u.current=!1,o(!1),d.current.delete(q)}},V=q=>{O.mutate(q)},Z=()=>{if(!e)return"U";const q=e,G=q.firstName||"",W=q.lastName||"";return G&&W?`${G[0]}${W[0]}`.toUpperCase():G?G[0].toUpperCase():q.email?q.email[0].toUpperCase():"U"};return c.jsx("div",{className:"h-full overflow-auto",children:c.jsxs("div",{className:"container max-w-4xl mx-auto py-8 px-4",children:[c.jsx("h1",{className:"text-3xl font-bold mb-8","data-testid":"text-settings-title",children:"Settings"}),c.jsxs(xt,{className:"mb-6 overflow-hidden","data-testid":"card-profile",children:[c.jsx("div",{className:"bg-gradient-to-r from-primary/10 via-primary/5 to-transparent p-4 border-b border-border",children:c.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[c.jsx(ZD,{className:"w-4 h-4"}),c.jsx("span",{className:"font-medium",children:"Member Profile"})]})}),c.jsx(it,{className:"p-6",children:c.jsxs("div",{className:"flex flex-col md:flex-row gap-6",children:[c.jsx("div",{className:"flex-shrink-0",children:c.jsxs(Lk,{className:"w-32 h-32 border-4 border-border rounded-md",children:[c.jsx(Bk,{src:(e==null?void 0:e.profileImageUrl)||void 0}),c.jsx($k,{className:"text-3xl rounded-md",children:Z()})]})}),c.jsxs("div",{className:"flex-1 space-y-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-bold mb-1","data-testid":"text-profile-name",children:e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:(e==null?void 0:e.email)||"User"}),c.jsx("p",{className:"text-sm text-muted-foreground","data-testid":"text-profile-email",children:e==null?void 0:e.email})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm",children:[c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ZD,{className:"w-4 h-4 mt-0.5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Member ID"}),c.jsx("div",{className:"font-mono text-xs","data-testid":"text-member-id",children:((H=e==null?void 0:e.id)==null?void 0:H.slice(0,8).toUpperCase())||"N/A"})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(ah,{className:"w-4 h-4 mt-0.5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Member Since"}),c.jsx("div",{className:"font-medium","data-testid":"text-member-since",children:e!=null&&e.createdAt?new Date(e.createdAt).toLocaleDateString("en-US",{month:"short",year:"numeric"}):"N/A"})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(Iv,{className:"w-4 h-4 mt-0.5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Household Size"}),c.jsxs("div",{className:"font-medium","data-testid":"text-household-size",children:[(E==null?void 0:E.householdSize)||2," ",((E==null?void 0:E.householdSize)||2)===1?"person":"people"]})]})]}),c.jsxs("div",{className:"flex items-start gap-2",children:[c.jsx(bs,{className:"w-4 h-4 mt-0.5 text-muted-foreground"}),c.jsxs("div",{children:[c.jsx("div",{className:"text-muted-foreground",children:"Cooking Level"}),c.jsx("div",{className:"font-medium capitalize","data-testid":"text-cooking-level",children:(E==null?void 0:E.cookingSkillLevel)||"Beginner"})]})]})]}),c.jsx(Yu,{}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(nhe,{className:"w-4 h-4 text-muted-foreground"}),c.jsx("span",{className:"text-sm font-medium",children:"Appearance"})]}),c.jsxs("div",{className:"flex items-center justify-between gap-4",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Toggle between light and dark theme"}),c.jsx(ske,{})]})]}),c.jsx(Yu,{}),c.jsx("div",{className:"flex gap-2",children:c.jsxs(Re,{variant:"outline",onClick:()=>{ay.clear(),window.location.href="/api/logout"},"data-testid":"button-logout",children:[c.jsx(CG,{className:"w-4 h-4 mr-2"}),"Log Out"]})})]})]})})]}),c.jsxs(xt,{"data-testid":"card-preferences",children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Preferences"}),c.jsx(Pn,{children:"Customize your ChefSpAIce experience"})]}),c.jsx(it,{children:c.jsx(Rk,{...I,children:c.jsxs("form",{onSubmit:I.handleSubmit(V),className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Storage Areas"}),c.jsx(js,{children:"Select the storage areas you have available"}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[B6.map(q=>{const G=q.icon;return c.jsxs(Ot,{variant:n.includes(q.name)?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2 gap-1.5",onClick:()=>M(q.name),"data-testid":`badge-storage-${q.name.toLowerCase()}`,children:[c.jsx(G,{className:"w-3.5 h-3.5"}),q.name,n.includes(q.name)&&c.jsx(Mn,{className:"w-3 h-3 ml-0.5"})]},q.name)}),N==null?void 0:N.filter(q=>!B6.some(G=>G.name===q.name)).map(q=>c.jsxs(Ot,{variant:n.includes(q.name)?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2 gap-1.5",onClick:()=>M(q.name),"data-testid":`badge-storage-${q.name.toLowerCase().replace(/\s+/g,"-")}`,children:[c.jsx(vg,{className:"w-3.5 h-3.5"}),q.name,n.includes(q.name)&&c.jsx(Mn,{className:"w-3 h-3 ml-0.5"})]},q.id))]}),c.jsxs("div",{className:"flex gap-2 pt-2",children:[c.jsx(gn,{type:"text",placeholder:"Add custom storage area (e.g., Wine Cellar, Garage)",value:i,onChange:q=>s(q.target.value),onKeyPress:q=>{q.key==="Enter"&&(q.preventDefault(),F())},"data-testid":"input-custom-storage"}),c.jsx(Re,{type:"button",variant:"outline",onClick:F,disabled:a,"data-testid":"button-add-custom-storage",children:c.jsx(Tl,{className:"w-4 h-4"})})]}),I.formState.errors.storageAreasEnabled&&c.jsx("p",{className:"text-sm text-destructive",children:I.formState.errors.storageAreasEnabled.message})]}),c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[c.jsx(Ua,{control:I.control,name:"householdSize",render:({field:q})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Household Size"}),c.jsx(fa,{children:c.jsx(gn,{type:"number",min:1,max:20,...q,onChange:G=>q.onChange(parseInt(G.target.value)),"data-testid":"input-household-size"})}),c.jsx(js,{children:"Number of people you typically cook for"})]})}),c.jsx(Ua,{control:I.control,name:"cookingSkillLevel",render:({field:q})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Cooking Skill Level"}),c.jsxs(qr,{onValueChange:q.onChange,value:q.value,children:[c.jsx(fa,{children:c.jsx(Rr,{"data-testid":"select-cooking-skill",children:c.jsx(Kr,{placeholder:"Select your skill level"})})}),c.jsx(Fr,{children:lke.map(G=>c.jsx(mt,{value:G.value,"data-testid":`option-skill-${G.value}`,children:G.label},G.value))})]}),c.jsx(js,{children:"Recipe complexity will be tailored to your level"})]})})]}),c.jsx(Ua,{control:I.control,name:"preferredUnits",render:({field:q})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Preferred Measurement Units"}),c.jsxs(qr,{onValueChange:q.onChange,value:q.value,children:[c.jsx(fa,{children:c.jsx(Rr,{"data-testid":"select-units",children:c.jsx(Kr,{placeholder:"Select unit system"})})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"imperial","data-testid":"option-units-imperial",children:"Imperial (cups, oz, F)"}),c.jsx(mt,{value:"metric","data-testid":"option-units-metric",children:"Metric (ml, g, C)"})]})]}),c.jsx(js,{children:"Your preferred units for recipes and measurements"})]})}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Dietary Preferences"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:ake.map(q=>c.jsxs(Ot,{variant:h.includes(q)?"default":"outline",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>R(q),"data-testid":`badge-dietary-${q.toLowerCase()}`,children:[q,h.includes(q)&&c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},q))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Allergens to Avoid"}),c.jsx("div",{className:"flex flex-wrap gap-2",children:oke.map(q=>c.jsxs(Ot,{variant:y.includes(q)?"destructive":"outline",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>L(q),"data-testid":`badge-allergen-${q.toLowerCase()}`,children:[q,y.includes(q)&&c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},q))})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsx(fr,{children:"Foods to Always Avoid"}),c.jsx(js,{children:"Add specific foods or ingredients you want to avoid in recipes"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(gn,{type:"text",placeholder:"e.g., cilantro, mushrooms",value:C,onChange:q=>w(q.target.value),onKeyPress:q=>{q.key==="Enter"&&(q.preventDefault(),U())},"data-testid":"input-food-to-avoid"}),c.jsx(Re,{type:"button",variant:"outline",onClick:U,"data-testid":"button-add-food-to-avoid",children:"Add"})]}),A.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:A.map(q=>c.jsxs(Ot,{variant:"secondary",className:"cursor-pointer hover-elevate active-elevate-2",onClick:()=>X(q),"data-testid":`badge-avoid-${q.toLowerCase().replace(/\s+/g,"-")}`,children:[q,c.jsx(Mn,{className:"w-3 h-3 ml-1"})]},q))})]}),c.jsx(Ua,{control:I.control,name:"expirationAlertDays",render:({field:q})=>c.jsxs(da,{children:[c.jsx(fr,{children:"Expiration Alert Days"}),c.jsx(fa,{children:c.jsx(gn,{type:"number",min:1,max:14,...q,onChange:G=>q.onChange(parseInt(G.target.value)),"data-testid":"input-expiration-days"})}),c.jsx(js,{children:"Get notified when food items will expire within this many days"})]})}),c.jsx(Re,{type:"submit",disabled:O.isPending,"data-testid":"button-save-preferences",children:O.isPending?"Saving...":"Save Preferences"})]})})})]}),c.jsxs(xt,{children:[c.jsxs(gt,{children:[c.jsxs(vt,{className:"flex items-center gap-2",children:[c.jsx(bfe,{className:"w-5 h-5"}),"API Usage Monitoring"]}),c.jsx(Pn,{children:"Track your Barcode Lookup API usage and quota"})]}),c.jsx(it,{children:c.jsx(dke,{})})]}),c.jsxs(xt,{className:"border-destructive/50",children:[c.jsxs(gt,{children:[c.jsxs(vt,{className:"flex items-center gap-2 text-destructive",children:[c.jsx(Vf,{className:"w-5 h-5"}),"Danger Zone"]}),c.jsx(Pn,{children:"Irreversible actions that will permanently delete your data"})]}),c.jsx(it,{className:"space-y-4",children:c.jsxs("div",{className:"p-4 border border-destructive/20 rounded-lg bg-destructive/5",children:[c.jsx("h4",{className:"font-medium mb-2",children:"Reset Account Data"}),c.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"This will permanently delete all your data including food items, recipes, chat history, meal plans, and preferences. You'll be able to start fresh with the onboarding process."}),c.jsxs(Gne,{children:[c.jsx(nke,{asChild:!0,children:c.jsxs(Re,{variant:"destructive",disabled:k.isPending,"data-testid":"button-reset-account",children:[c.jsx(Fw,{className:"w-4 h-4 mr-2"}),k.isPending?"Resetting...":"Reset Account"]})}),c.jsxs(HI,{children:[c.jsxs(GI,{children:[c.jsx(KI,{children:"Are you absolutely sure?"}),c.jsxs(XI,{children:["This action cannot be undone. This will permanently delete:",c.jsxs("ul",{className:"list-disc list-inside mt-2 space-y-1",children:[c.jsx("li",{children:"All your food inventory items"}),c.jsx("li",{children:"All saved recipes"}),c.jsx("li",{children:"All chat conversations"}),c.jsx("li",{children:"All meal plans"}),c.jsx("li",{children:"All custom storage locations"}),c.jsx("li",{children:"All preferences and settings"})]}),c.jsx("p",{className:"mt-3 font-medium",children:"You will be redirected to onboarding to set up your account again."})]})]}),c.jsxs(qI,{children:[c.jsx(ZI,{"data-testid":"button-cancel-reset",children:"Cancel"}),c.jsx(YI,{onClick:()=>k.mutate(),className:"bg-destructive text-destructive-foreground hover:bg-destructive/90","data-testid":"button-confirm-reset",children:"Yes, Reset My Account"})]})]})]})]})})]})]})})}function dke(){or();const{data:e,isLoading:t}=un({queryKey:["/api/barcodelookup/rate-limits"]}),{data:n,isLoading:r}=un({queryKey:["/api/barcodelookup/usage/stats"]}),{data:i,isLoading:s}=un({queryKey:["/api/barcodelookup/usage/logs"]});if(t||r)return c.jsx("div",{className:"text-sm text-muted-foreground",children:"Loading usage data..."});const a=e?(e.allowed_requests-e.remaining_requests)/e.allowed_requests*100:0,o=a>=80;return c.jsxs("div",{className:"space-y-4",children:[o&&c.jsxs("div",{className:"flex items-start gap-2 p-3 bg-destructive/10 border border-destructive/20 rounded-lg",children:[c.jsx(Vf,{className:"w-5 h-5 text-destructive mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium text-destructive",children:"API Quota Warning"}),c.jsxs("p",{className:"text-sm text-destructive/80",children:["You've used ",a.toFixed(0),"% of your monthly API quota. Consider upgrading your plan or reducing usage."]})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Remaining Requests"}),c.jsx("div",{className:"text-2xl font-semibold mt-1",children:(e==null?void 0:e.remaining_requests)||0})]}),c.jsxs("div",{className:"p-4 border border-border rounded-lg",children:[c.jsx("div",{className:"text-sm text-muted-foreground",children:"Monthly Quota"}),c.jsx("div",{className:"text-2xl font-semibold mt-1",children:(e==null?void 0:e.allowed_requests)||0})]})]}),n&&c.jsxs("div",{className:"p-4 border border-border rounded-lg space-y-2",children:[c.jsx("div",{className:"text-sm font-medium",children:"Last 30 Days Statistics"}),c.jsxs("div",{className:"grid grid-cols-3 gap-4 mt-2",children:[c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Total Calls"}),c.jsx("div",{className:"text-lg font-semibold",children:n.totalCalls})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Successful"}),c.jsx("div",{className:"text-lg font-semibold text-green-600 dark:text-green-400",children:n.successfulCalls})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-xs text-muted-foreground",children:"Failed"}),c.jsx("div",{className:"text-lg font-semibold text-destructive",children:n.failedCalls})]})]})]}),i&&i.length>0&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("div",{className:"text-sm font-medium",children:"Recent API Calls"}),c.jsx("div",{className:"border border-border rounded-lg divide-y divide-border max-h-64 overflow-y-auto",children:i.slice(0,10).map(u=>c.jsx("div",{className:"p-3 text-sm",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{variant:u.success?"default":"destructive",className:"text-xs",children:u.endpoint}),c.jsx("span",{className:"text-muted-foreground text-xs",children:u.queryParams})]}),c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(u.timestamp).toLocaleDateString()})]})},u.id))})]})]})}var st;(function(e){e[e.QR_CODE=0]="QR_CODE",e[e.AZTEC=1]="AZTEC",e[e.CODABAR=2]="CODABAR",e[e.CODE_39=3]="CODE_39",e[e.CODE_93=4]="CODE_93",e[e.CODE_128=5]="CODE_128",e[e.DATA_MATRIX=6]="DATA_MATRIX",e[e.MAXICODE=7]="MAXICODE",e[e.ITF=8]="ITF",e[e.EAN_13=9]="EAN_13",e[e.EAN_8=10]="EAN_8",e[e.PDF_417=11]="PDF_417",e[e.RSS_14=12]="RSS_14",e[e.RSS_EXPANDED=13]="RSS_EXPANDED",e[e.UPC_A=14]="UPC_A",e[e.UPC_E=15]="UPC_E",e[e.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(st||(st={}));var $6=new Map([[st.QR_CODE,"QR_CODE"],[st.AZTEC,"AZTEC"],[st.CODABAR,"CODABAR"],[st.CODE_39,"CODE_39"],[st.CODE_93,"CODE_93"],[st.CODE_128,"CODE_128"],[st.DATA_MATRIX,"DATA_MATRIX"],[st.MAXICODE,"MAXICODE"],[st.ITF,"ITF"],[st.EAN_13,"EAN_13"],[st.EAN_8,"EAN_8"],[st.PDF_417,"PDF_417"],[st.RSS_14,"RSS_14"],[st.RSS_EXPANDED,"RSS_EXPANDED"],[st.UPC_A,"UPC_A"],[st.UPC_E,"UPC_E"],[st.UPC_EAN_EXTENSION,"UPC_EAN_EXTENSION"]]),U6;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.URL=1]="URL"})(U6||(U6={}));function fke(e){return Object.values(st).includes(e)}var E2;(function(e){e[e.SCAN_TYPE_CAMERA=0]="SCAN_TYPE_CAMERA",e[e.SCAN_TYPE_FILE=1]="SCAN_TYPE_FILE"})(E2||(E2={}));var hke=function(){function e(){}return e.GITHUB_PROJECT_URL="https://github.com/mebjas/html5-qrcode",e.SCAN_DEFAULT_FPS=2,e.DEFAULT_DISABLE_FLIP=!1,e.DEFAULT_REMEMBER_LAST_CAMERA_USED=!0,e.DEFAULT_SUPPORTED_SCAN_TYPE=[E2.SCAN_TYPE_CAMERA,E2.SCAN_TYPE_FILE],e}(),Kne=function(){function e(t,n){this.format=t,this.formatName=n}return e.prototype.toString=function(){return this.formatName},e.create=function(t){if(!$6.has(t))throw"".concat(t," not in html5QrcodeSupportedFormatsTextMap");return new e(t,$6.get(t))},e}(),z6=function(){function e(){}return e.createFromText=function(t){var n={text:t};return{decodedText:t,result:n}},e.createFromQrcodeResult=function(t){return{decodedText:t.text,result:t}},e}(),$P;(function(e){e[e.UNKWOWN_ERROR=0]="UNKWOWN_ERROR",e[e.IMPLEMENTATION_ERROR=1]="IMPLEMENTATION_ERROR",e[e.NO_CODE_FOUND_ERROR=2]="NO_CODE_FOUND_ERROR"})($P||($P={}));var pke=function(){function e(){}return e.createFrom=function(t){return{errorMessage:t,type:$P.UNKWOWN_ERROR}},e}(),mke=function(){function e(t){this.verbose=t}return e.prototype.log=function(t){this.verbose&&console.log(t)},e.prototype.warn=function(t){this.verbose&&console.warn(t)},e.prototype.logError=function(t,n){(this.verbose||n===!0)&&console.error(t)},e.prototype.logErrors=function(t){if(t.length===0)throw"Logger#logError called without arguments";this.verbose&&console.error(t)},e}();function ql(e){return typeof e>"u"||e===null}var op=function(){function e(){}return e.codeParseError=function(t){return"QR code parse error, error = ".concat(t)},e.errorGettingUserMedia=function(t){return"Error getting userMedia, error = ".concat(t)},e.onlyDeviceSupportedError=function(){return"The device doesn't support navigator.mediaDevices , only supported cameraIdOrConfig in this case is deviceId parameter (string)."},e.cameraStreamingNotSupported=function(){return"Camera streaming not supported by the browser."},e.unableToQuerySupportedDevices=function(){return"Unable to query supported devices, unknown error."},e.insecureContextCameraQueryError=function(){return"Camera access is only supported in secure context like https or localhost."},e.scannerPaused=function(){return"Scanner paused"},e}(),Xne=function(){function e(){}return e.isMediaStreamConstraintsValid=function(t,n){if(typeof t!="object"){var r=typeof t;return n.logError("videoConstraints should be of type object, the "+"object passed is of type ".concat(r,"."),!0),!1}for(var i=["autoGainControl","channelCount","echoCancellation","latency","noiseSuppression","sampleRate","sampleSize","volume"],s=new Set(i),a=Object.keys(t),o=0,u=a;o<u.length;o++){var d=u[o];if(s.has(d))return n.logError("".concat(d," is not supported videoConstaints."),!0),!1}return!0},e}(),UP={exports:{}};(function(e,t){(function(n,r){r(t)})(ic,function(n){function r($){return $==null}var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function($,l){$.__proto__=l}||function($,l){for(var f in l)l.hasOwnProperty(f)&&($[f]=l[f])};function s($,l){i($,l);function f(){this.constructor=$}$.prototype=l===null?Object.create(l):(f.prototype=l.prototype,new f)}function a($,l){var f=Object.setPrototypeOf;f?f($,l):$.__proto__=l}function o($,l){l===void 0&&(l=$.constructor);var f=Error.captureStackTrace;f&&f($,l)}var u=function($){s(l,$);function l(f){var p=this.constructor,g=$.call(this,f)||this;return Object.defineProperty(g,"name",{value:p.name,enumerable:!1}),a(g,p.prototype),o(g),g}return l}(Error);class d extends u{constructor(l=void 0){super(l),this.message=l}getKind(){return this.constructor.kind}}d.kind="Exception";class h extends d{}h.kind="ArgumentException";class m extends d{}m.kind="IllegalArgumentException";class y{constructor(l){if(this.binarizer=l,l===null)throw new m("Binarizer must be non-null.")}getWidth(){return this.binarizer.getWidth()}getHeight(){return this.binarizer.getHeight()}getBlackRow(l,f){return this.binarizer.getBlackRow(l,f)}getBlackMatrix(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix}isCropSupported(){return this.binarizer.getLuminanceSource().isCropSupported()}crop(l,f,p,g){const v=this.binarizer.getLuminanceSource().crop(l,f,p,g);return new y(this.binarizer.createBinarizer(v))}isRotateSupported(){return this.binarizer.getLuminanceSource().isRotateSupported()}rotateCounterClockwise(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new y(this.binarizer.createBinarizer(l))}rotateCounterClockwise45(){const l=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new y(this.binarizer.createBinarizer(l))}toString(){try{return this.getBlackMatrix().toString()}catch{return""}}}class b extends d{static getChecksumInstance(){return new b}}b.kind="ChecksumException";class C{constructor(l){this.source=l}getLuminanceSource(){return this.source}getWidth(){return this.source.getWidth()}getHeight(){return this.source.getHeight()}}class w{static arraycopy(l,f,p,g,v){for(;v--;)p[g++]=l[f++]}static currentTimeMillis(){return Date.now()}}class A extends d{}A.kind="IndexOutOfBoundsException";class _ extends A{constructor(l=void 0,f=void 0){super(f),this.index=l,this.message=f}}_.kind="ArrayIndexOutOfBoundsException";class E{static fill(l,f){for(let p=0,g=l.length;p<g;p++)l[p]=f}static fillWithin(l,f,p,g){E.rangeCheck(l.length,f,p);for(let v=f;v<p;v++)l[v]=g}static rangeCheck(l,f,p){if(f>p)throw new m("fromIndex("+f+") > toIndex("+p+")");if(f<0)throw new _(f);if(p>l)throw new _(p)}static asList(...l){return l}static create(l,f,p){return Array.from({length:l}).map(v=>Array.from({length:f}).fill(p))}static createInt32Array(l,f,p){return Array.from({length:l}).map(v=>Int32Array.from({length:f}).fill(p))}static equals(l,f){if(!l||!f||!l.length||!f.length||l.length!==f.length)return!1;for(let p=0,g=l.length;p<g;p++)if(l[p]!==f[p])return!1;return!0}static hashCode(l){if(l===null)return 0;let f=1;for(const p of l)f=31*f+p;return f}static fillUint8Array(l,f){for(let p=0;p!==l.length;p++)l[p]=f}static copyOf(l,f){return l.slice(0,f)}static copyOfUint8Array(l,f){if(l.length<=f){const p=new Uint8Array(f);return p.set(l),p}return l.slice(0,f)}static copyOfRange(l,f,p){const g=p-f,v=new Int32Array(g);return w.arraycopy(l,f,v,0,g),v}static binarySearch(l,f,p){p===void 0&&(p=E.numberComparator);let g=0,v=l.length-1;for(;g<=v;){const x=v+g>>1,S=p(f,l[x]);if(S>0)g=x+1;else if(S<0)v=x-1;else return x}return-g-1}static numberComparator(l,f){return l-f}}class N{static numberOfTrailingZeros(l){let f;if(l===0)return 32;let p=31;return f=l<<16,f!==0&&(p-=16,l=f),f=l<<8,f!==0&&(p-=8,l=f),f=l<<4,f!==0&&(p-=4,l=f),f=l<<2,f!==0&&(p-=2,l=f),p-(l<<1>>>31)}static numberOfLeadingZeros(l){if(l===0)return 32;let f=1;return l>>>16||(f+=16,l<<=16),l>>>24||(f+=8,l<<=8),l>>>28||(f+=4,l<<=4),l>>>30||(f+=2,l<<=2),f-=l>>>31,f}static toHexString(l){return l.toString(16)}static toBinaryString(l){return String(parseInt(String(l),2))}static bitCount(l){return l=l-(l>>>1&1431655765),l=(l&858993459)+(l>>>2&858993459),l=l+(l>>>4)&252645135,l=l+(l>>>8),l=l+(l>>>16),l&63}static truncDivision(l,f){return Math.trunc(l/f)}static parseInt(l,f=void 0){return parseInt(l,f)}}N.MIN_VALUE_32_BITS=-2147483648,N.MAX_VALUE=Number.MAX_SAFE_INTEGER;class I{constructor(l,f){l===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=l,f==null?this.bits=I.makeArray(l):this.bits=f)}getSize(){return this.size}getSizeInBytes(){return Math.floor((this.size+7)/8)}ensureCapacity(l){if(l>this.bits.length*32){const f=I.makeArray(l);w.arraycopy(this.bits,0,f,0,this.bits.length),this.bits=f}}get(l){return(this.bits[Math.floor(l/32)]&1<<(l&31))!==0}set(l){this.bits[Math.floor(l/32)]|=1<<(l&31)}flip(l){this.bits[Math.floor(l/32)]^=1<<(l&31)}getNextSet(l){const f=this.size;if(l>=f)return f;const p=this.bits;let g=Math.floor(l/32),v=p[g];v&=~((1<<(l&31))-1);const x=p.length;for(;v===0;){if(++g===x)return f;v=p[g]}const S=g*32+N.numberOfTrailingZeros(v);return S>f?f:S}getNextUnset(l){const f=this.size;if(l>=f)return f;const p=this.bits;let g=Math.floor(l/32),v=~p[g];v&=~((1<<(l&31))-1);const x=p.length;for(;v===0;){if(++g===x)return f;v=~p[g]}const S=g*32+N.numberOfTrailingZeros(v);return S>f?f:S}setBulk(l,f){this.bits[Math.floor(l/32)]=f}setRange(l,f){if(f<l||l<0||f>this.size)throw new m;if(f===l)return;f--;const p=Math.floor(l/32),g=Math.floor(f/32),v=this.bits;for(let x=p;x<=g;x++){const S=x>p?0:l&31,j=(2<<(x<g?31:f&31))-(1<<S);v[x]|=j}}clear(){const l=this.bits.length,f=this.bits;for(let p=0;p<l;p++)f[p]=0}isRange(l,f,p){if(f<l||l<0||f>this.size)throw new m;if(f===l)return!0;f--;const g=Math.floor(l/32),v=Math.floor(f/32),x=this.bits;for(let S=g;S<=v;S++){const P=S>g?0:l&31,D=(2<<(S<v?31:f&31))-(1<<P)&4294967295;if((x[S]&D)!==(p?D:0))return!1}return!0}appendBit(l){this.ensureCapacity(this.size+1),l&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++}appendBits(l,f){if(f<0||f>32)throw new m("Num bits must be between 0 and 32");this.ensureCapacity(this.size+f);for(let p=f;p>0;p--)this.appendBit((l>>p-1&1)===1)}appendBitArray(l){const f=l.size;this.ensureCapacity(this.size+f);for(let p=0;p<f;p++)this.appendBit(l.get(p))}xor(l){if(this.size!==l.size)throw new m("Sizes don't match");const f=this.bits;for(let p=0,g=f.length;p<g;p++)f[p]^=l.bits[p]}toBytes(l,f,p,g){for(let v=0;v<g;v++){let x=0;for(let S=0;S<8;S++)this.get(l)&&(x|=1<<7-S),l++;f[p+v]=x}}getBitArray(){return this.bits}reverse(){const l=new Int32Array(this.bits.length),f=Math.floor((this.size-1)/32),p=f+1,g=this.bits;for(let v=0;v<p;v++){let x=g[v];x=x>>1&1431655765|(x&1431655765)<<1,x=x>>2&858993459|(x&858993459)<<2,x=x>>4&252645135|(x&252645135)<<4,x=x>>8&16711935|(x&16711935)<<8,x=x>>16&65535|(x&65535)<<16,l[f-v]=x}if(this.size!==p*32){const v=p*32-this.size;let x=l[0]>>>v;for(let S=1;S<p;S++){const P=l[S];x|=P<<32-v,l[S-1]=x,x=P>>>v}l[p-1]=x}this.bits=l}static makeArray(l){return new Int32Array(Math.floor((l+31)/32))}equals(l){if(!(l instanceof I))return!1;const f=l;return this.size===f.size&&E.equals(this.bits,f.bits)}hashCode(){return 31*this.size+E.hashCode(this.bits)}toString(){let l="";for(let f=0,p=this.size;f<p;f++)f&7||(l+=" "),l+=this.get(f)?"X":".";return l}clone(){return new I(this.size,this.bits.slice())}}var O;(function($){$[$.OTHER=0]="OTHER",$[$.PURE_BARCODE=1]="PURE_BARCODE",$[$.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",$[$.TRY_HARDER=3]="TRY_HARDER",$[$.CHARACTER_SET=4]="CHARACTER_SET",$[$.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",$[$.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",$[$.ASSUME_GS1=7]="ASSUME_GS1",$[$.RETURN_CODABAR_START_END=8]="RETURN_CODABAR_START_END",$[$.NEED_RESULT_POINT_CALLBACK=9]="NEED_RESULT_POINT_CALLBACK",$[$.ALLOWED_EAN_EXTENSIONS=10]="ALLOWED_EAN_EXTENSIONS"})(O||(O={}));var k=O;class M extends d{static getFormatInstance(){return new M}}M.kind="FormatException";var R;(function($){$[$.Cp437=0]="Cp437",$[$.ISO8859_1=1]="ISO8859_1",$[$.ISO8859_2=2]="ISO8859_2",$[$.ISO8859_3=3]="ISO8859_3",$[$.ISO8859_4=4]="ISO8859_4",$[$.ISO8859_5=5]="ISO8859_5",$[$.ISO8859_6=6]="ISO8859_6",$[$.ISO8859_7=7]="ISO8859_7",$[$.ISO8859_8=8]="ISO8859_8",$[$.ISO8859_9=9]="ISO8859_9",$[$.ISO8859_10=10]="ISO8859_10",$[$.ISO8859_11=11]="ISO8859_11",$[$.ISO8859_13=12]="ISO8859_13",$[$.ISO8859_14=13]="ISO8859_14",$[$.ISO8859_15=14]="ISO8859_15",$[$.ISO8859_16=15]="ISO8859_16",$[$.SJIS=16]="SJIS",$[$.Cp1250=17]="Cp1250",$[$.Cp1251=18]="Cp1251",$[$.Cp1252=19]="Cp1252",$[$.Cp1256=20]="Cp1256",$[$.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",$[$.UTF8=22]="UTF8",$[$.ASCII=23]="ASCII",$[$.Big5=24]="Big5",$[$.GB18030=25]="GB18030",$[$.EUC_KR=26]="EUC_KR"})(R||(R={}));class L{constructor(l,f,p,...g){this.valueIdentifier=l,this.name=p,typeof f=="number"?this.values=Int32Array.from([f]):this.values=f,this.otherEncodingNames=g,L.VALUE_IDENTIFIER_TO_ECI.set(l,this),L.NAME_TO_ECI.set(p,this);const v=this.values;for(let x=0,S=v.length;x!==S;x++){const P=v[x];L.VALUES_TO_ECI.set(P,this)}for(const x of g)L.NAME_TO_ECI.set(x,this)}getValueIdentifier(){return this.valueIdentifier}getName(){return this.name}getValue(){return this.values[0]}static getCharacterSetECIByValue(l){if(l<0||l>=900)throw new M("incorect value");const f=L.VALUES_TO_ECI.get(l);if(f===void 0)throw new M("incorect value");return f}static getCharacterSetECIByName(l){const f=L.NAME_TO_ECI.get(l);if(f===void 0)throw new M("incorect value");return f}equals(l){if(!(l instanceof L))return!1;const f=l;return this.getName()===f.getName()}}L.VALUE_IDENTIFIER_TO_ECI=new Map,L.VALUES_TO_ECI=new Map,L.NAME_TO_ECI=new Map,L.Cp437=new L(R.Cp437,Int32Array.from([0,2]),"Cp437"),L.ISO8859_1=new L(R.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),L.ISO8859_2=new L(R.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),L.ISO8859_3=new L(R.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),L.ISO8859_4=new L(R.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),L.ISO8859_5=new L(R.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),L.ISO8859_6=new L(R.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),L.ISO8859_7=new L(R.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),L.ISO8859_8=new L(R.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),L.ISO8859_9=new L(R.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),L.ISO8859_10=new L(R.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),L.ISO8859_11=new L(R.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),L.ISO8859_13=new L(R.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),L.ISO8859_14=new L(R.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),L.ISO8859_15=new L(R.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),L.ISO8859_16=new L(R.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),L.SJIS=new L(R.SJIS,20,"SJIS","Shift_JIS"),L.Cp1250=new L(R.Cp1250,21,"Cp1250","windows-1250"),L.Cp1251=new L(R.Cp1251,22,"Cp1251","windows-1251"),L.Cp1252=new L(R.Cp1252,23,"Cp1252","windows-1252"),L.Cp1256=new L(R.Cp1256,24,"Cp1256","windows-1256"),L.UnicodeBigUnmarked=new L(R.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),L.UTF8=new L(R.UTF8,26,"UTF8","UTF-8"),L.ASCII=new L(R.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),L.Big5=new L(R.Big5,28,"Big5"),L.GB18030=new L(R.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),L.EUC_KR=new L(R.EUC_KR,30,"EUC_KR","EUC-KR");class U extends d{}U.kind="UnsupportedOperationException";class X{static decode(l,f){const p=this.encodingName(f);return this.customDecoder?this.customDecoder(l,p):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(p)?this.decodeFallback(l,p):new TextDecoder(p).decode(l)}static shouldDecodeOnFallback(l){return!X.isBrowser()&&l==="ISO-8859-1"}static encode(l,f){const p=this.encodingName(f);return this.customEncoder?this.customEncoder(l,p):typeof TextEncoder>"u"?this.encodeFallback(l):new TextEncoder().encode(l)}static isBrowser(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"}static encodingName(l){return typeof l=="string"?l:l.getName()}static encodingCharacterSet(l){return l instanceof L?l:L.getCharacterSetECIByName(l)}static decodeFallback(l,f){const p=this.encodingCharacterSet(f);if(X.isDecodeFallbackSupported(p)){let g="";for(let v=0,x=l.length;v<x;v++){let S=l[v].toString(16);S.length<2&&(S="0"+S),g+="%"+S}return decodeURIComponent(g)}if(p.equals(L.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(l.buffer));throw new U(`Encoding ${this.encodingName(f)} not supported by fallback.`)}static isDecodeFallbackSupported(l){return l.equals(L.UTF8)||l.equals(L.ISO8859_1)||l.equals(L.ASCII)}static encodeFallback(l){const p=btoa(unescape(encodeURIComponent(l))).split(""),g=[];for(let v=0;v<p.length;v++)g.push(p[v].charCodeAt(0));return new Uint8Array(g)}}class F{static castAsNonUtf8Char(l,f=null){const p=f?f.getName():this.ISO88591;return X.decode(new Uint8Array([l]),p)}static guessEncoding(l,f){if(f!=null&&f.get(k.CHARACTER_SET)!==void 0)return f.get(k.CHARACTER_SET).toString();const p=l.length;let g=!0,v=!0,x=!0,S=0,P=0,j=0,D=0,z=0,K=0,se=0,ce=0,ue=0,ye=0,Ce=0;const Ge=l.length>3&&l[0]===239&&l[1]===187&&l[2]===191;for(let qe=0;qe<p&&(g||v||x);qe++){const Ue=l[qe]&255;x&&(S>0?Ue&128?S--:x=!1:Ue&128&&(Ue&64?(S++,Ue&32?(S++,Ue&16?(S++,Ue&8?x=!1:D++):j++):P++):x=!1)),g&&(Ue>127&&Ue<160?g=!1:Ue>159&&(Ue<192||Ue===215||Ue===247)&&Ce++),v&&(z>0?Ue<64||Ue===127||Ue>252?v=!1:z--:Ue===128||Ue===160||Ue>239?v=!1:Ue>160&&Ue<224?(K++,ce=0,se++,se>ue&&(ue=se)):Ue>127?(z++,se=0,ce++,ce>ye&&(ye=ce)):(se=0,ce=0))}return x&&S>0&&(x=!1),v&&z>0&&(v=!1),x&&(Ge||P+j+D>0)?F.UTF8:v&&(F.ASSUME_SHIFT_JIS||ue>=3||ye>=3)?F.SHIFT_JIS:g&&v?ue===2&&K===2||Ce*10>=p?F.SHIFT_JIS:F.ISO88591:g?F.ISO88591:v?F.SHIFT_JIS:x?F.UTF8:F.PLATFORM_DEFAULT_ENCODING}static format(l,...f){let p=-1;function g(x,S,P,j,D,z){if(x==="%%")return"%";if(f[++p]===void 0)return;x=j?parseInt(j.substr(1)):void 0;let K=D?parseInt(D.substr(1)):void 0,se;switch(z){case"s":se=f[p];break;case"c":se=f[p][0];break;case"f":se=parseFloat(f[p]).toFixed(x);break;case"p":se=parseFloat(f[p]).toPrecision(x);break;case"e":se=parseFloat(f[p]).toExponential(x);break;case"x":se=parseInt(f[p]).toString(K||16);break;case"d":se=parseFloat(parseInt(f[p],K||10).toPrecision(x)).toFixed(0);break}se=typeof se=="object"?JSON.stringify(se):(+se).toString(K);let ce=parseInt(P),ue=P&&P[0]+""=="0"?"0":" ";for(;se.length<ce;)se=S!==void 0?se+ue:ue+se;return se}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(v,g)}static getBytes(l,f){return X.encode(l,f)}static getCharCode(l,f=0){return l.charCodeAt(f)}static getCharAt(l){return String.fromCharCode(l)}}F.SHIFT_JIS=L.SJIS.getName(),F.GB2312="GB2312",F.ISO88591=L.ISO8859_1.getName(),F.EUC_JP="EUC_JP",F.UTF8=L.UTF8.getName(),F.PLATFORM_DEFAULT_ENCODING=F.UTF8,F.ASSUME_SHIFT_JIS=!1;class V{constructor(l=""){this.value=l}enableDecoding(l){return this.encoding=l,this}append(l){return typeof l=="string"?this.value+=l.toString():this.encoding?this.value+=F.castAsNonUtf8Char(l,this.encoding):this.value+=String.fromCharCode(l),this}appendChars(l,f,p){for(let g=f;f<f+p;g++)this.append(l[g]);return this}length(){return this.value.length}charAt(l){return this.value.charAt(l)}deleteCharAt(l){this.value=this.value.substr(0,l)+this.value.substring(l+1)}setCharAt(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+1)}substring(l,f){return this.value.substring(l,f)}setLengthToZero(){this.value=""}toString(){return this.value}insert(l,f){this.value=this.value.substr(0,l)+f+this.value.substr(l+f.length)}}class Z{constructor(l,f,p,g){if(this.width=l,this.height=f,this.rowSize=p,this.bits=g,f==null&&(f=l),this.height=f,l<1||f<1)throw new m("Both dimensions must be greater than 0");p==null&&(p=Math.floor((l+31)/32)),this.rowSize=p,g==null&&(this.bits=new Int32Array(this.rowSize*this.height))}static parseFromBooleanArray(l){const f=l.length,p=l[0].length,g=new Z(p,f);for(let v=0;v<f;v++){const x=l[v];for(let S=0;S<p;S++)x[S]&&g.set(S,v)}return g}static parseFromString(l,f,p){if(l===null)throw new m("stringRepresentation cannot be null");const g=new Array(l.length);let v=0,x=0,S=-1,P=0,j=0;for(;j<l.length;)if(l.charAt(j)===`
`||l.charAt(j)==="\r"){if(v>x){if(S===-1)S=v-x;else if(v-x!==S)throw new m("row lengths do not match");x=v,P++}j++}else if(l.substring(j,j+f.length)===f)j+=f.length,g[v]=!0,v++;else if(l.substring(j,j+p.length)===p)j+=p.length,g[v]=!1,v++;else throw new m("illegal character encountered: "+l.substring(j));if(v>x){if(S===-1)S=v-x;else if(v-x!==S)throw new m("row lengths do not match");P++}const D=new Z(S,P);for(let z=0;z<v;z++)g[z]&&D.set(Math.floor(z%S),Math.floor(z/S));return D}get(l,f){const p=f*this.rowSize+Math.floor(l/32);return(this.bits[p]>>>(l&31)&1)!==0}set(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]|=1<<(l&31)&4294967295}unset(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]&=~(1<<(l&31)&4294967295)}flip(l,f){const p=f*this.rowSize+Math.floor(l/32);this.bits[p]^=1<<(l&31)&4294967295}xor(l){if(this.width!==l.getWidth()||this.height!==l.getHeight()||this.rowSize!==l.getRowSize())throw new m("input matrix dimensions do not match");const f=new I(Math.floor(this.width/32)+1),p=this.rowSize,g=this.bits;for(let v=0,x=this.height;v<x;v++){const S=v*p,P=l.getRow(v,f).getBitArray();for(let j=0;j<p;j++)g[S+j]^=P[j]}}clear(){const l=this.bits,f=l.length;for(let p=0;p<f;p++)l[p]=0}setRegion(l,f,p,g){if(f<0||l<0)throw new m("Left and top must be nonnegative");if(g<1||p<1)throw new m("Height and width must be at least 1");const v=l+p,x=f+g;if(x>this.height||v>this.width)throw new m("The region must fit inside the matrix");const S=this.rowSize,P=this.bits;for(let j=f;j<x;j++){const D=j*S;for(let z=l;z<v;z++)P[D+Math.floor(z/32)]|=1<<(z&31)&4294967295}}getRow(l,f){f==null||f.getSize()<this.width?f=new I(this.width):f.clear();const p=this.rowSize,g=this.bits,v=l*p;for(let x=0;x<p;x++)f.setBulk(x*32,g[v+x]);return f}setRow(l,f){w.arraycopy(f.getBitArray(),0,this.bits,l*this.rowSize,this.rowSize)}rotate180(){const l=this.getWidth(),f=this.getHeight();let p=new I(l),g=new I(l);for(let v=0,x=Math.floor((f+1)/2);v<x;v++)p=this.getRow(v,p),g=this.getRow(f-1-v,g),p.reverse(),g.reverse(),this.setRow(v,g),this.setRow(f-1-v,p)}getEnclosingRectangle(){const l=this.width,f=this.height,p=this.rowSize,g=this.bits;let v=l,x=f,S=-1,P=-1;for(let j=0;j<f;j++)for(let D=0;D<p;D++){const z=g[j*p+D];if(z!==0){if(j<x&&(x=j),j>P&&(P=j),D*32<v){let K=0;for(;!(z<<31-K&4294967295);)K++;D*32+K<v&&(v=D*32+K)}if(D*32+31>S){let K=31;for(;!(z>>>K);)K--;D*32+K>S&&(S=D*32+K)}}}return S<v||P<x?null:Int32Array.from([v,x,S-v+1,P-x+1])}getTopLeftOnBit(){const l=this.rowSize,f=this.bits;let p=0;for(;p<f.length&&f[p]===0;)p++;if(p===f.length)return null;const g=p/l;let v=p%l*32;const x=f[p];let S=0;for(;!(x<<31-S&4294967295);)S++;return v+=S,Int32Array.from([v,g])}getBottomRightOnBit(){const l=this.rowSize,f=this.bits;let p=f.length-1;for(;p>=0&&f[p]===0;)p--;if(p<0)return null;const g=Math.floor(p/l);let v=Math.floor(p%l)*32;const x=f[p];let S=31;for(;!(x>>>S);)S--;return v+=S,Int32Array.from([v,g])}getWidth(){return this.width}getHeight(){return this.height}getRowSize(){return this.rowSize}equals(l){if(!(l instanceof Z))return!1;const f=l;return this.width===f.width&&this.height===f.height&&this.rowSize===f.rowSize&&E.equals(this.bits,f.bits)}hashCode(){let l=this.width;return l=31*l+this.width,l=31*l+this.height,l=31*l+this.rowSize,l=31*l+E.hashCode(this.bits),l}toString(l="X ",f="  ",p=`
`){return this.buildToString(l,f,p)}buildToString(l,f,p){let g=new V;for(let v=0,x=this.height;v<x;v++){for(let S=0,P=this.width;S<P;S++)g.append(this.get(S,v)?l:f);g.append(p)}return g.toString()}clone(){return new Z(this.width,this.height,this.rowSize,this.bits.slice())}}class H extends d{static getNotFoundInstance(){return new H}}H.kind="NotFoundException";class q extends C{constructor(l){super(l),this.luminances=q.EMPTY,this.buckets=new Int32Array(q.LUMINANCE_BUCKETS)}getBlackRow(l,f){const p=this.getLuminanceSource(),g=p.getWidth();f==null||f.getSize()<g?f=new I(g):f.clear(),this.initArrays(g);const v=p.getRow(l,this.luminances),x=this.buckets;for(let P=0;P<g;P++)x[(v[P]&255)>>q.LUMINANCE_SHIFT]++;const S=q.estimateBlackPoint(x);if(g<3)for(let P=0;P<g;P++)(v[P]&255)<S&&f.set(P);else{let P=v[0]&255,j=v[1]&255;for(let D=1;D<g-1;D++){const z=v[D+1]&255;(j*4-P-z)/2<S&&f.set(D),P=j,j=z}}return f}getBlackMatrix(){const l=this.getLuminanceSource(),f=l.getWidth(),p=l.getHeight(),g=new Z(f,p);this.initArrays(f);const v=this.buckets;for(let P=1;P<5;P++){const j=Math.floor(p*P/5),D=l.getRow(j,this.luminances),z=Math.floor(f*4/5);for(let K=Math.floor(f/5);K<z;K++){const se=D[K]&255;v[se>>q.LUMINANCE_SHIFT]++}}const x=q.estimateBlackPoint(v),S=l.getMatrix();for(let P=0;P<p;P++){const j=P*f;for(let D=0;D<f;D++)(S[j+D]&255)<x&&g.set(D,P)}return g}createBinarizer(l){return new q(l)}initArrays(l){this.luminances.length<l&&(this.luminances=new Uint8ClampedArray(l));const f=this.buckets;for(let p=0;p<q.LUMINANCE_BUCKETS;p++)f[p]=0}static estimateBlackPoint(l){const f=l.length;let p=0,g=0,v=0;for(let D=0;D<f;D++)l[D]>v&&(g=D,v=l[D]),l[D]>p&&(p=l[D]);let x=0,S=0;for(let D=0;D<f;D++){const z=D-g,K=l[D]*z*z;K>S&&(x=D,S=K)}if(g>x){const D=g;g=x,x=D}if(x-g<=f/16)throw new H;let P=x-1,j=-1;for(let D=x-1;D>g;D--){const z=D-g,K=z*z*(x-D)*(p-l[D]);K>j&&(P=D,j=K)}return P<<q.LUMINANCE_SHIFT}}q.LUMINANCE_BITS=5,q.LUMINANCE_SHIFT=8-q.LUMINANCE_BITS,q.LUMINANCE_BUCKETS=1<<q.LUMINANCE_BITS,q.EMPTY=Uint8ClampedArray.from([0]);class G extends q{constructor(l){super(l),this.matrix=null}getBlackMatrix(){if(this.matrix!==null)return this.matrix;const l=this.getLuminanceSource(),f=l.getWidth(),p=l.getHeight();if(f>=G.MINIMUM_DIMENSION&&p>=G.MINIMUM_DIMENSION){const g=l.getMatrix();let v=f>>G.BLOCK_SIZE_POWER;f&G.BLOCK_SIZE_MASK&&v++;let x=p>>G.BLOCK_SIZE_POWER;p&G.BLOCK_SIZE_MASK&&x++;const S=G.calculateBlackPoints(g,v,x,f,p),P=new Z(f,p);G.calculateThresholdForBlock(g,v,x,f,p,S,P),this.matrix=P}else this.matrix=super.getBlackMatrix();return this.matrix}createBinarizer(l){return new G(l)}static calculateThresholdForBlock(l,f,p,g,v,x,S){const P=v-G.BLOCK_SIZE,j=g-G.BLOCK_SIZE;for(let D=0;D<p;D++){let z=D<<G.BLOCK_SIZE_POWER;z>P&&(z=P);const K=G.cap(D,2,p-3);for(let se=0;se<f;se++){let ce=se<<G.BLOCK_SIZE_POWER;ce>j&&(ce=j);const ue=G.cap(se,2,f-3);let ye=0;for(let Ge=-2;Ge<=2;Ge++){const qe=x[K+Ge];ye+=qe[ue-2]+qe[ue-1]+qe[ue]+qe[ue+1]+qe[ue+2]}const Ce=ye/25;G.thresholdBlock(l,ce,z,Ce,g,S)}}}static cap(l,f,p){return l<f?f:l>p?p:l}static thresholdBlock(l,f,p,g,v,x){for(let S=0,P=p*v+f;S<G.BLOCK_SIZE;S++,P+=v)for(let j=0;j<G.BLOCK_SIZE;j++)(l[P+j]&255)<=g&&x.set(f+j,p+S)}static calculateBlackPoints(l,f,p,g,v){const x=v-G.BLOCK_SIZE,S=g-G.BLOCK_SIZE,P=new Array(p);for(let j=0;j<p;j++){P[j]=new Int32Array(f);let D=j<<G.BLOCK_SIZE_POWER;D>x&&(D=x);for(let z=0;z<f;z++){let K=z<<G.BLOCK_SIZE_POWER;K>S&&(K=S);let se=0,ce=255,ue=0;for(let Ce=0,Ge=D*g+K;Ce<G.BLOCK_SIZE;Ce++,Ge+=g){for(let qe=0;qe<G.BLOCK_SIZE;qe++){const Ue=l[Ge+qe]&255;se+=Ue,Ue<ce&&(ce=Ue),Ue>ue&&(ue=Ue)}if(ue-ce>G.MIN_DYNAMIC_RANGE)for(Ce++,Ge+=g;Ce<G.BLOCK_SIZE;Ce++,Ge+=g)for(let qe=0;qe<G.BLOCK_SIZE;qe++)se+=l[Ge+qe]&255}let ye=se>>G.BLOCK_SIZE_POWER*2;if(ue-ce<=G.MIN_DYNAMIC_RANGE&&(ye=ce/2,j>0&&z>0)){const Ce=(P[j-1][z]+2*P[j][z-1]+P[j-1][z-1])/4;ce<Ce&&(ye=Ce)}P[j][z]=ye}}return P}}G.BLOCK_SIZE_POWER=3,G.BLOCK_SIZE=1<<G.BLOCK_SIZE_POWER,G.BLOCK_SIZE_MASK=G.BLOCK_SIZE-1,G.MINIMUM_DIMENSION=G.BLOCK_SIZE*5,G.MIN_DYNAMIC_RANGE=24;class W{constructor(l,f){this.width=l,this.height=f}getWidth(){return this.width}getHeight(){return this.height}isCropSupported(){return!1}crop(l,f,p,g){throw new U("This luminance source does not support cropping.")}isRotateSupported(){return!1}rotateCounterClockwise(){throw new U("This luminance source does not support rotation by 90 degrees.")}rotateCounterClockwise45(){throw new U("This luminance source does not support rotation by 45 degrees.")}toString(){const l=new Uint8ClampedArray(this.width);let f=new V;for(let p=0;p<this.height;p++){const g=this.getRow(p,l);for(let v=0;v<this.width;v++){const x=g[v]&255;let S;x<64?S="#":x<128?S="+":x<192?S=".":S=" ",f.append(S)}f.append(`
`)}return f.toString()}}class oe extends W{constructor(l){super(l.getWidth(),l.getHeight()),this.delegate=l}getRow(l,f){const p=this.delegate.getRow(l,f),g=this.getWidth();for(let v=0;v<g;v++)p[v]=255-(p[v]&255);return p}getMatrix(){const l=this.delegate.getMatrix(),f=this.getWidth()*this.getHeight(),p=new Uint8ClampedArray(f);for(let g=0;g<f;g++)p[g]=255-(l[g]&255);return p}isCropSupported(){return this.delegate.isCropSupported()}crop(l,f,p,g){return new oe(this.delegate.crop(l,f,p,g))}isRotateSupported(){return this.delegate.isRotateSupported()}invert(){return this.delegate}rotateCounterClockwise(){return new oe(this.delegate.rotateCounterClockwise())}rotateCounterClockwise45(){return new oe(this.delegate.rotateCounterClockwise45())}}class J extends W{constructor(l){super(l.width,l.height),this.canvas=l,this.tempCanvasElement=null,this.buffer=J.makeBufferFromCanvasImageData(l)}static makeBufferFromCanvasImageData(l){const f=l.getContext("2d").getImageData(0,0,l.width,l.height);return J.toGrayscaleBuffer(f.data,l.width,l.height)}static toGrayscaleBuffer(l,f,p){const g=new Uint8ClampedArray(f*p);for(let v=0,x=0,S=l.length;v<S;v+=4,x++){let P;if(l[v+3]===0)P=255;else{const D=l[v],z=l[v+1],K=l[v+2];P=306*D+601*z+117*K+512>>10}g[x]=P}return g}getRow(l,f){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const p=this.getWidth(),g=l*p;return f===null?f=this.buffer.slice(g,g+p):(f.length<p&&(f=new Uint8ClampedArray(p)),f.set(this.buffer.slice(g,g+p))),f}getMatrix(){return this.buffer}isCropSupported(){return!0}crop(l,f,p,g){return super.crop(l,f,p,g),this}isRotateSupported(){return!0}rotateCounterClockwise(){return this.rotate(-90),this}rotateCounterClockwise45(){return this.rotate(-45),this}getTempCanvasElement(){if(this.tempCanvasElement===null){const l=this.canvas.ownerDocument.createElement("canvas");l.width=this.canvas.width,l.height=this.canvas.height,this.tempCanvasElement=l}return this.tempCanvasElement}rotate(l){const f=this.getTempCanvasElement(),p=f.getContext("2d"),g=l*J.DEGREE_TO_RADIANS,v=this.canvas.width,x=this.canvas.height,S=Math.ceil(Math.abs(Math.cos(g))*v+Math.abs(Math.sin(g))*x),P=Math.ceil(Math.abs(Math.sin(g))*v+Math.abs(Math.cos(g))*x);return f.width=S,f.height=P,p.translate(S/2,P/2),p.rotate(g),p.drawImage(this.canvas,v/-2,x/-2),this.buffer=J.makeBufferFromCanvasImageData(f),this}invert(){return new oe(this)}}J.DEGREE_TO_RADIANS=Math.PI/180;class Y{constructor(l,f,p){this.deviceId=l,this.label=f,this.kind="videoinput",this.groupId=p||void 0}toJSON(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}}}var ne=(globalThis||ic||self||window||void 0)&&(globalThis||ic||self||window||void 0).__awaiter||function($,l,f,p){function g(v){return v instanceof f?v:new f(function(x){x(v)})}return new(f||(f=Promise))(function(v,x){function S(D){try{j(p.next(D))}catch(z){x(z)}}function P(D){try{j(p.throw(D))}catch(z){x(z)}}function j(D){D.done?v(D.value):g(D.value).then(S,P)}j((p=p.apply($,l||[])).next())})};class pe{constructor(l,f=500,p){this.reader=l,this.timeBetweenScansMillis=f,this._hints=p,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}get hasNavigator(){return typeof navigator<"u"}get isMediaDevicesSuported(){return this.hasNavigator&&!!navigator.mediaDevices}get canEnumerateDevices(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)}get timeBetweenDecodingAttempts(){return this._timeBetweenDecodingAttempts}set timeBetweenDecodingAttempts(l){this._timeBetweenDecodingAttempts=l<0?0:l}set hints(l){this._hints=l||null}get hints(){return this._hints}listVideoInputDevices(){return ne(this,void 0,void 0,function*(){if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");const l=yield navigator.mediaDevices.enumerateDevices(),f=[];for(const p of l){const g=p.kind==="video"?"videoinput":p.kind;if(g!=="videoinput")continue;const v=p.deviceId||p.id,x=p.label||`Video device ${f.length+1}`,S=p.groupId,P={deviceId:v,label:x,kind:g,groupId:S};f.push(P)}return f})}getVideoInputDevices(){return ne(this,void 0,void 0,function*(){return(yield this.listVideoInputDevices()).map(f=>new Y(f.deviceId,f.label))})}findDeviceById(l){return ne(this,void 0,void 0,function*(){const f=yield this.listVideoInputDevices();return f?f.find(p=>p.deviceId===l):null})}decodeFromInputVideoDevice(l,f){return ne(this,void 0,void 0,function*(){return yield this.decodeOnceFromVideoDevice(l,f)})}decodeOnceFromVideoDevice(l,f){return ne(this,void 0,void 0,function*(){this.reset();let p;l?p={deviceId:{exact:l}}:p={facingMode:"environment"};const g={video:p};return yield this.decodeOnceFromConstraints(g,f)})}decodeOnceFromConstraints(l,f){return ne(this,void 0,void 0,function*(){const p=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeOnceFromStream(p,f)})}decodeOnceFromStream(l,f){return ne(this,void 0,void 0,function*(){this.reset();const p=yield this.attachStreamToVideo(l,f);return yield this.decodeOnce(p)})}decodeFromInputVideoDeviceContinuously(l,f,p){return ne(this,void 0,void 0,function*(){return yield this.decodeFromVideoDevice(l,f,p)})}decodeFromVideoDevice(l,f,p){return ne(this,void 0,void 0,function*(){let g;l?g={deviceId:{exact:l}}:g={facingMode:"environment"};const v={video:g};return yield this.decodeFromConstraints(v,f,p)})}decodeFromConstraints(l,f,p){return ne(this,void 0,void 0,function*(){const g=yield navigator.mediaDevices.getUserMedia(l);return yield this.decodeFromStream(g,f,p)})}decodeFromStream(l,f,p){return ne(this,void 0,void 0,function*(){this.reset();const g=yield this.attachStreamToVideo(l,f);return yield this.decodeContinuously(g,p)})}stopAsyncDecode(){this._stopAsyncDecode=!0}stopContinuousDecode(){this._stopContinuousDecode=!0}attachStreamToVideo(l,f){return ne(this,void 0,void 0,function*(){const p=this.prepareVideoElement(f);return this.addVideoSource(p,l),this.videoElement=p,this.stream=l,yield this.playVideoOnLoadAsync(p),p})}playVideoOnLoadAsync(l){return new Promise((f,p)=>this.playVideoOnLoad(l,()=>f()))}playVideoOnLoad(l,f){this.videoEndedListener=()=>this.stopStreams(),this.videoCanPlayListener=()=>this.tryPlayVideo(l),l.addEventListener("ended",this.videoEndedListener),l.addEventListener("canplay",this.videoCanPlayListener),l.addEventListener("playing",f),this.tryPlayVideo(l)}isVideoPlaying(l){return l.currentTime>0&&!l.paused&&!l.ended&&l.readyState>2}tryPlayVideo(l){return ne(this,void 0,void 0,function*(){if(this.isVideoPlaying(l)){console.warn("Trying to play video that is already playing.");return}try{yield l.play()}catch{console.warn("It was not possible to play the video.")}})}getMediaElement(l,f){const p=document.getElementById(l);if(!p)throw new h(`element with id '${l}' not found`);if(p.nodeName.toLowerCase()!==f.toLowerCase())throw new h(`element with id '${l}' must be an ${f} element`);return p}decodeFromImage(l,f){if(!l&&!f)throw new h("either imageElement with a src set or an url must be provided");return f&&!l?this.decodeFromImageUrl(f):this.decodeFromImageElement(l)}decodeFromVideo(l,f){if(!l&&!f)throw new h("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrl(f):this.decodeFromVideoElement(l)}decodeFromVideoContinuously(l,f,p){if(l===void 0&&f===void 0)throw new h("Either an element with a src set or an URL must be provided");return f&&!l?this.decodeFromVideoUrlContinuously(f,p):this.decodeFromVideoElementContinuously(l,p)}decodeFromImageElement(l){if(!l)throw new h("An image element must be provided.");this.reset();const f=this.prepareImageElement(l);this.imageElement=f;let p;return this.isImageLoaded(f)?p=this.decodeOnce(f,!1,!0):p=this._decodeOnLoadImage(f),p}decodeFromVideoElement(l){const f=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideo(f)}decodeFromVideoElementContinuously(l,f){const p=this._decodeFromVideoElementSetup(l);return this._decodeOnLoadVideoContinuously(p,f)}_decodeFromVideoElementSetup(l){if(!l)throw new h("A video element must be provided.");this.reset();const f=this.prepareVideoElement(l);return this.videoElement=f,f}decodeFromImageUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const f=this.prepareImageElement();this.imageElement=f;const p=this._decodeOnLoadImage(f);return f.src=l,p}decodeFromVideoUrl(l){if(!l)throw new h("An URL must be provided.");this.reset();const f=this.prepareVideoElement(),p=this.decodeFromVideoElement(f);return f.src=l,p}decodeFromVideoUrlContinuously(l,f){if(!l)throw new h("An URL must be provided.");this.reset();const p=this.prepareVideoElement(),g=this.decodeFromVideoElementContinuously(p,f);return p.src=l,g}_decodeOnLoadImage(l){return new Promise((f,p)=>{this.imageLoadedListener=()=>this.decodeOnce(l,!1,!0).then(f,p),l.addEventListener("load",this.imageLoadedListener)})}_decodeOnLoadVideo(l){return ne(this,void 0,void 0,function*(){return yield this.playVideoOnLoadAsync(l),yield this.decodeOnce(l)})}_decodeOnLoadVideoContinuously(l,f){return ne(this,void 0,void 0,function*(){yield this.playVideoOnLoadAsync(l),this.decodeContinuously(l,f)})}isImageLoaded(l){return!(!l.complete||l.naturalWidth===0)}prepareImageElement(l){let f;return typeof l>"u"&&(f=document.createElement("img"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"img")),l instanceof HTMLImageElement&&(f=l),f}prepareVideoElement(l){let f;return!l&&typeof document<"u"&&(f=document.createElement("video"),f.width=200,f.height=200),typeof l=="string"&&(f=this.getMediaElement(l,"video")),l instanceof HTMLVideoElement&&(f=l),f.setAttribute("autoplay","true"),f.setAttribute("muted","true"),f.setAttribute("playsinline","true"),f}decodeOnce(l,f=!0,p=!0){this._stopAsyncDecode=!1;const g=(v,x)=>{if(this._stopAsyncDecode){x(new H("Video stream has ended before any code could be detected.")),this._stopAsyncDecode=void 0;return}try{const S=this.decode(l);v(S)}catch(S){const P=f&&S instanceof H,D=(S instanceof b||S instanceof M)&&p;if(P||D)return setTimeout(g,this._timeBetweenDecodingAttempts,v,x);x(S)}};return new Promise((v,x)=>g(v,x))}decodeContinuously(l,f){this._stopContinuousDecode=!1;const p=()=>{if(this._stopContinuousDecode){this._stopContinuousDecode=void 0;return}try{const g=this.decode(l);f(g,null),setTimeout(p,this.timeBetweenScansMillis)}catch(g){f(null,g);const v=g instanceof b||g instanceof M,x=g instanceof H;(v||x)&&setTimeout(p,this._timeBetweenDecodingAttempts)}};p()}decode(l){const f=this.createBinaryBitmap(l);return this.decodeBitmap(f)}_isHTMLVideoElement(l){return l.videoWidth!==0}drawFrameOnCanvas(l,f,p){f||(f={sx:0,sy:0,sWidth:l.videoWidth,sHeight:l.videoHeight,dx:0,dy:0,dWidth:l.videoWidth,dHeight:l.videoHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}drawImageOnCanvas(l,f,p=this.captureCanvasContext){f||(f={sx:0,sy:0,sWidth:l.naturalWidth,sHeight:l.naturalHeight,dx:0,dy:0,dWidth:l.naturalWidth,dHeight:l.naturalHeight}),p||(p=this.captureCanvasContext),p.drawImage(l,f.sx,f.sy,f.sWidth,f.sHeight,f.dx,f.dy,f.dWidth,f.dHeight)}createBinaryBitmap(l){this.getCaptureCanvasContext(l),this._isHTMLVideoElement(l)?this.drawFrameOnCanvas(l):this.drawImageOnCanvas(l);const f=this.getCaptureCanvas(l),p=new J(f),g=new G(p);return new y(g)}getCaptureCanvasContext(l){if(!this.captureCanvasContext){const p=this.getCaptureCanvas(l).getContext("2d");this.captureCanvasContext=p}return this.captureCanvasContext}getCaptureCanvas(l){if(!this.captureCanvas){const f=this.createCaptureCanvas(l);this.captureCanvas=f}return this.captureCanvas}decodeBitmap(l){return this.reader.decode(l,this._hints)}createCaptureCanvas(l){if(typeof document>"u")return this._destroyCaptureCanvas(),null;const f=document.createElement("canvas");let p,g;return typeof l<"u"&&(l instanceof HTMLVideoElement?(p=l.videoWidth,g=l.videoHeight):l instanceof HTMLImageElement&&(p=l.naturalWidth||l.width,g=l.naturalHeight||l.height)),f.style.width=p+"px",f.style.height=g+"px",f.width=p,f.height=g,f}stopStreams(){this.stream&&(this.stream.getVideoTracks().forEach(l=>l.stop()),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()}reset(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()}_destroyVideoElement(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)}_destroyImageElement(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)}_destroyCaptureCanvas(){this.captureCanvasContext=void 0,this.captureCanvas=void 0}addVideoSource(l,f){try{l.srcObject=f}catch{l.src=URL.createObjectURL(f)}}cleanVideoSource(l){try{l.srcObject=null}catch{l.src=""}this.videoElement.removeAttribute("src")}}class he{constructor(l,f,p=f==null?0:8*f.length,g,v,x=w.currentTimeMillis()){this.text=l,this.rawBytes=f,this.numBits=p,this.resultPoints=g,this.format=v,this.timestamp=x,this.text=l,this.rawBytes=f,p==null?this.numBits=f==null?0:8*f.length:this.numBits=p,this.resultPoints=g,this.format=v,this.resultMetadata=null,x==null?this.timestamp=w.currentTimeMillis():this.timestamp=x}getText(){return this.text}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}getResultPoints(){return this.resultPoints}getBarcodeFormat(){return this.format}getResultMetadata(){return this.resultMetadata}putMetadata(l,f){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(l,f)}putAllMetadata(l){l!==null&&(this.resultMetadata===null?this.resultMetadata=l:this.resultMetadata=new Map(l))}addResultPoints(l){const f=this.resultPoints;if(f===null)this.resultPoints=l;else if(l!==null&&l.length>0){const p=new Array(f.length+l.length);w.arraycopy(f,0,p,0,f.length),w.arraycopy(l,0,p,f.length,l.length),this.resultPoints=p}}getTimestamp(){return this.timestamp}toString(){return this.text}}var we;(function($){$[$.AZTEC=0]="AZTEC",$[$.CODABAR=1]="CODABAR",$[$.CODE_39=2]="CODE_39",$[$.CODE_93=3]="CODE_93",$[$.CODE_128=4]="CODE_128",$[$.DATA_MATRIX=5]="DATA_MATRIX",$[$.EAN_8=6]="EAN_8",$[$.EAN_13=7]="EAN_13",$[$.ITF=8]="ITF",$[$.MAXICODE=9]="MAXICODE",$[$.PDF_417=10]="PDF_417",$[$.QR_CODE=11]="QR_CODE",$[$.RSS_14=12]="RSS_14",$[$.RSS_EXPANDED=13]="RSS_EXPANDED",$[$.UPC_A=14]="UPC_A",$[$.UPC_E=15]="UPC_E",$[$.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(we||(we={}));var me=we,be;(function($){$[$.OTHER=0]="OTHER",$[$.ORIENTATION=1]="ORIENTATION",$[$.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",$[$.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",$[$.ISSUE_NUMBER=4]="ISSUE_NUMBER",$[$.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",$[$.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",$[$.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",$[$.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",$[$.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",$[$.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(be||(be={}));var Ne=be;class xe{constructor(l,f,p,g,v=-1,x=-1){this.rawBytes=l,this.text=f,this.byteSegments=p,this.ecLevel=g,this.structuredAppendSequenceNumber=v,this.structuredAppendParity=x,this.numBits=l==null?0:8*l.length}getRawBytes(){return this.rawBytes}getNumBits(){return this.numBits}setNumBits(l){this.numBits=l}getText(){return this.text}getByteSegments(){return this.byteSegments}getECLevel(){return this.ecLevel}getErrorsCorrected(){return this.errorsCorrected}setErrorsCorrected(l){this.errorsCorrected=l}getErasures(){return this.erasures}setErasures(l){this.erasures=l}getOther(){return this.other}setOther(l){this.other=l}hasStructuredAppend(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0}getStructuredAppendParity(){return this.structuredAppendParity}getStructuredAppendSequenceNumber(){return this.structuredAppendSequenceNumber}}class Oe{exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}static addOrSubtract(l,f){return l^f}}class je{constructor(l,f){if(f.length===0)throw new m;this.field=l;const p=f.length;if(p>1&&f[0]===0){let g=1;for(;g<p&&f[g]===0;)g++;g===p?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(p-g),w.arraycopy(f,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);const f=this.coefficients;let p;if(l===1){p=0;for(let x=0,S=f.length;x!==S;x++){const P=f[x];p=Oe.addOrSubtract(p,P)}return p}p=f[0];const g=f.length,v=this.field;for(let x=1;x<g;x++)p=Oe.addOrSubtract(v.multiply(l,p),f[x]);return p}addOrSubtract(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,p=l.coefficients;if(f.length>p.length){const x=f;f=p,p=x}let g=new Int32Array(p.length);const v=p.length-f.length;w.arraycopy(p,0,g,0,v);for(let x=v;x<p.length;x++)g[x]=Oe.addOrSubtract(f[x-v],p[x]);return new je(this.field,g)}multiply(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(this.isZero()||l.isZero())return this.field.getZero();const f=this.coefficients,p=f.length,g=l.coefficients,v=g.length,x=new Int32Array(p+v-1),S=this.field;for(let P=0;P<p;P++){const j=f[P];for(let D=0;D<v;D++)x[P+D]=Oe.addOrSubtract(x[P+D],S.multiply(j,g[D]))}return new je(S,x)}multiplyScalar(l){if(l===0)return this.field.getZero();if(l===1)return this;const f=this.coefficients.length,p=this.field,g=new Int32Array(f),v=this.coefficients;for(let x=0;x<f;x++)g[x]=p.multiply(v[x],l);return new je(p,g)}multiplyByMonomial(l,f){if(l<0)throw new m;if(f===0)return this.field.getZero();const p=this.coefficients,g=p.length,v=new Int32Array(g+l),x=this.field;for(let S=0;S<g;S++)v[S]=x.multiply(p[S],f);return new je(x,v)}divide(l){if(!this.field.equals(l.field))throw new m("GenericGFPolys do not have same GenericGF field");if(l.isZero())throw new m("Divide by 0");const f=this.field;let p=f.getZero(),g=this;const v=l.getCoefficient(l.getDegree()),x=f.inverse(v);for(;g.getDegree()>=l.getDegree()&&!g.isZero();){const S=g.getDegree()-l.getDegree(),P=f.multiply(g.getCoefficient(g.getDegree()),x),j=l.multiplyByMonomial(S,P),D=f.buildMonomial(S,P);p=p.addOrSubtract(D),g=g.addOrSubtract(j)}return[p,g]}toString(){let l="";for(let f=this.getDegree();f>=0;f--){let p=this.getCoefficient(f);if(p!==0){if(p<0?(l+=" - ",p=-p):l.length>0&&(l+=" + "),f===0||p!==1){const g=this.field.log(p);g===0?l+="1":g===1?l+="a":(l+="a^",l+=g)}f!==0&&(f===1?l+="x":(l+="x^",l+=f))}}return l}}class ve extends d{}ve.kind="ArithmeticException";class ze extends Oe{constructor(l,f,p){super(),this.primitive=l,this.size=f,this.generatorBase=p;const g=new Int32Array(f);let v=1;for(let S=0;S<f;S++)g[S]=v,v*=2,v>=f&&(v^=l,v&=f-1);this.expTable=g;const x=new Int32Array(f);for(let S=0;S<f-1;S++)x[g[S]]=S;this.logTable=x,this.zero=new je(this,Int32Array.from([0])),this.one=new je(this,Int32Array.from([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new m;if(f===0)return this.zero;const p=new Int32Array(l+1);return p[0]=f,new je(this,p)}inverse(l){if(l===0)throw new ve;return this.expTable[this.size-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.size-1)]}getSize(){return this.size}getGeneratorBase(){return this.generatorBase}toString(){return"GF(0x"+N.toHexString(this.primitive)+","+this.size+")"}equals(l){return l===this}}ze.AZTEC_DATA_12=new ze(4201,4096,1),ze.AZTEC_DATA_10=new ze(1033,1024,1),ze.AZTEC_DATA_6=new ze(67,64,1),ze.AZTEC_PARAM=new ze(19,16,1),ze.QR_CODE_FIELD_256=new ze(285,256,0),ze.DATA_MATRIX_FIELD_256=new ze(301,256,1),ze.AZTEC_DATA_8=ze.DATA_MATRIX_FIELD_256,ze.MAXICODE_FIELD_64=ze.AZTEC_DATA_6;class Be extends d{}Be.kind="ReedSolomonException";class dt extends d{}dt.kind="IllegalStateException";class Ct{constructor(l){this.field=l}decode(l,f){const p=this.field,g=new je(p,l),v=new Int32Array(f);let x=!0;for(let se=0;se<f;se++){const ce=g.evaluateAt(p.exp(se+p.getGeneratorBase()));v[v.length-1-se]=ce,ce!==0&&(x=!1)}if(x)return;const S=new je(p,v),P=this.runEuclideanAlgorithm(p.buildMonomial(f,1),S,f),j=P[0],D=P[1],z=this.findErrorLocations(j),K=this.findErrorMagnitudes(D,z);for(let se=0;se<z.length;se++){const ce=l.length-1-p.log(z[se]);if(ce<0)throw new Be("Bad error location");l[ce]=ze.addOrSubtract(l[ce],K[se])}}runEuclideanAlgorithm(l,f,p){if(l.getDegree()<f.getDegree()){const se=l;l=f,f=se}const g=this.field;let v=l,x=f,S=g.getZero(),P=g.getOne();for(;x.getDegree()>=(p/2|0);){let se=v,ce=S;if(v=x,S=P,v.isZero())throw new Be("r_{i-1} was zero");x=se;let ue=g.getZero();const ye=v.getCoefficient(v.getDegree()),Ce=g.inverse(ye);for(;x.getDegree()>=v.getDegree()&&!x.isZero();){const Ge=x.getDegree()-v.getDegree(),qe=g.multiply(x.getCoefficient(x.getDegree()),Ce);ue=ue.addOrSubtract(g.buildMonomial(Ge,qe)),x=x.addOrSubtract(v.multiplyByMonomial(Ge,qe))}if(P=ue.multiply(S).addOrSubtract(ce),x.getDegree()>=v.getDegree())throw new dt("Division algorithm failed to reduce polynomial?")}const j=P.getCoefficient(0);if(j===0)throw new Be("sigmaTilde(0) was zero");const D=g.inverse(j),z=P.multiplyScalar(D),K=x.multiplyScalar(D);return[z,K]}findErrorLocations(l){const f=l.getDegree();if(f===1)return Int32Array.from([l.getCoefficient(1)]);const p=new Int32Array(f);let g=0;const v=this.field;for(let x=1;x<v.getSize()&&g<f;x++)l.evaluateAt(x)===0&&(p[g]=v.inverse(x),g++);if(g!==f)throw new Be("Error locator degree does not match number of roots");return p}findErrorMagnitudes(l,f){const p=f.length,g=new Int32Array(p),v=this.field;for(let x=0;x<p;x++){const S=v.inverse(f[x]);let P=1;for(let j=0;j<p;j++)if(x!==j){const D=v.multiply(f[j],S),z=D&1?D&-2:D|1;P=v.multiply(P,z)}g[x]=v.multiply(l.evaluateAt(S),v.inverse(P)),v.getGeneratorBase()!==0&&(g[x]=v.multiply(g[x],S))}return g}}var yt;(function($){$[$.UPPER=0]="UPPER",$[$.LOWER=1]="LOWER",$[$.MIXED=2]="MIXED",$[$.DIGIT=3]="DIGIT",$[$.PUNCT=4]="PUNCT",$[$.BINARY=5]="BINARY"})(yt||(yt={}));class At{decode(l){this.ddata=l;let f=l.getBits(),p=this.extractBits(f),g=this.correctBits(p),v=At.convertBoolArrayToByteArray(g),x=At.getEncodedData(g),S=new xe(v,x,null,null);return S.setNumBits(g.length),S}static highLevelDecode(l){return this.getEncodedData(l)}static getEncodedData(l){let f=l.length,p=yt.UPPER,g=yt.UPPER,v="",x=0;for(;x<f;)if(g===yt.BINARY){if(f-x<5)break;let S=At.readCode(l,x,5);if(x+=5,S===0){if(f-x<11)break;S=At.readCode(l,x,11)+31,x+=11}for(let P=0;P<S;P++){if(f-x<8){x=f;break}const j=At.readCode(l,x,8);v+=F.castAsNonUtf8Char(j),x+=8}g=p}else{let S=g===yt.DIGIT?4:5;if(f-x<S)break;let P=At.readCode(l,x,S);x+=S;let j=At.getCharacter(g,P);j.startsWith("CTRL_")?(p=g,g=At.getTable(j.charAt(5)),j.charAt(6)==="L"&&(p=g)):(v+=j,g=p)}return v}static getTable(l){switch(l){case"L":return yt.LOWER;case"P":return yt.PUNCT;case"M":return yt.MIXED;case"D":return yt.DIGIT;case"B":return yt.BINARY;case"U":default:return yt.UPPER}}static getCharacter(l,f){switch(l){case yt.UPPER:return At.UPPER_TABLE[f];case yt.LOWER:return At.LOWER_TABLE[f];case yt.MIXED:return At.MIXED_TABLE[f];case yt.PUNCT:return At.PUNCT_TABLE[f];case yt.DIGIT:return At.DIGIT_TABLE[f];default:throw new dt("Bad table")}}correctBits(l){let f,p;this.ddata.getNbLayers()<=2?(p=6,f=ze.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(p=8,f=ze.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(p=10,f=ze.AZTEC_DATA_10):(p=12,f=ze.AZTEC_DATA_12);let g=this.ddata.getNbDatablocks(),v=l.length/p;if(v<g)throw new M;let x=l.length%p,S=new Int32Array(v);for(let K=0;K<v;K++,x+=p)S[K]=At.readCode(l,x,p);try{new Ct(f).decode(S,v-g)}catch(K){throw new M(K)}let P=(1<<p)-1,j=0;for(let K=0;K<g;K++){let se=S[K];if(se===0||se===P)throw new M;(se===1||se===P-1)&&j++}let D=new Array(g*p-j),z=0;for(let K=0;K<g;K++){let se=S[K];if(se===1||se===P-1)D.fill(se>1,z,z+p-1),z+=p-1;else for(let ce=p-1;ce>=0;--ce)D[z++]=(se&1<<ce)!==0}return D}extractBits(l){let f=this.ddata.isCompact(),p=this.ddata.getNbLayers(),g=(f?11:14)+p*4,v=new Int32Array(g),x=new Array(this.totalBitsInLayer(p,f));if(f)for(let S=0;S<v.length;S++)v[S]=S;else{let S=g+1+2*N.truncDivision(N.truncDivision(g,2)-1,15),P=g/2,j=N.truncDivision(S,2);for(let D=0;D<P;D++){let z=D+N.truncDivision(D,15);v[P-D-1]=j-z-1,v[P+D]=j+z+1}}for(let S=0,P=0;S<p;S++){let j=(p-S)*4+(f?9:12),D=S*2,z=g-1-D;for(let K=0;K<j;K++){let se=K*2;for(let ce=0;ce<2;ce++)x[P+se+ce]=l.get(v[D+ce],v[D+K]),x[P+2*j+se+ce]=l.get(v[D+K],v[z-ce]),x[P+4*j+se+ce]=l.get(v[z-ce],v[z-K]),x[P+6*j+se+ce]=l.get(v[z-K],v[D+ce])}P+=j*8}return x}static readCode(l,f,p){let g=0;for(let v=f;v<f+p;v++)g<<=1,l[v]&&(g|=1);return g}static readByte(l,f){let p=l.length-f;return p>=8?At.readCode(l,f,8):At.readCode(l,f,p)<<8-p}static convertBoolArrayToByteArray(l){let f=new Uint8Array((l.length+7)/8);for(let p=0;p<f.length;p++)f[p]=At.readByte(l,8*p);return f}totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}At.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],At.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],At.MIXED_TABLE=["CTRL_PS"," ","\\1","\\2","\\3","\\4","\\5","\\6","\\7","\b","	",`
`,"\\13","\f","\r","\\33","\\34","\\35","\\36","\\37","@","\\","^","_","`","|","~","\\177","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],At.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],At.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"];class ct{constructor(){}static round(l){return l===NaN?0:l<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:l>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:l+(l<0?-.5:.5)|0}static distance(l,f,p,g){const v=l-p,x=f-g;return Math.sqrt(v*v+x*x)}static sum(l){let f=0;for(let p=0,g=l.length;p!==g;p++){const v=l[p];f+=v}return f}}class xn{static floatToIntBits(l){return l}}xn.MAX_VALUE=Number.MAX_SAFE_INTEGER;class Ze{constructor(l,f){this.x=l,this.y=f}getX(){return this.x}getY(){return this.y}equals(l){if(l instanceof Ze){const f=l;return this.x===f.x&&this.y===f.y}return!1}hashCode(){return 31*xn.floatToIntBits(this.x)+xn.floatToIntBits(this.y)}toString(){return"("+this.x+","+this.y+")"}static orderBestPatterns(l){const f=this.distance(l[0],l[1]),p=this.distance(l[1],l[2]),g=this.distance(l[0],l[2]);let v,x,S;if(p>=f&&p>=g?(x=l[0],v=l[1],S=l[2]):g>=p&&g>=f?(x=l[1],v=l[0],S=l[2]):(x=l[2],v=l[0],S=l[1]),this.crossProductZ(v,x,S)<0){const P=v;v=S,S=P}l[0]=v,l[1]=x,l[2]=S}static distance(l,f){return ct.distance(l.x,l.y,f.x,f.y)}static crossProductZ(l,f,p){const g=f.x,v=f.y;return(p.x-g)*(l.y-v)-(p.y-v)*(l.x-g)}}class ae{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class le extends ae{constructor(l,f,p,g,v){super(l,f),this.compact=p,this.nbDatablocks=g,this.nbLayers=v}getNbLayers(){return this.nbLayers}getNbDatablocks(){return this.nbDatablocks}isCompact(){return this.compact}}class ee{constructor(l,f,p,g){this.image=l,this.height=l.getHeight(),this.width=l.getWidth(),f==null&&(f=ee.INIT_SIZE),p==null&&(p=l.getWidth()/2|0),g==null&&(g=l.getHeight()/2|0);const v=f/2|0;if(this.leftInit=p-v,this.rightInit=p+v,this.upInit=g-v,this.downInit=g+v,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new H}detect(){let l=this.leftInit,f=this.rightInit,p=this.upInit,g=this.downInit,v=!1,x=!0,S=!1,P=!1,j=!1,D=!1,z=!1;const K=this.width,se=this.height;for(;x;){x=!1;let ce=!0;for(;(ce||!P)&&f<K;)ce=this.containsBlackPoint(p,g,f,!1),ce?(f++,x=!0,P=!0):P||f++;if(f>=K){v=!0;break}let ue=!0;for(;(ue||!j)&&g<se;)ue=this.containsBlackPoint(l,f,g,!0),ue?(g++,x=!0,j=!0):j||g++;if(g>=se){v=!0;break}let ye=!0;for(;(ye||!D)&&l>=0;)ye=this.containsBlackPoint(p,g,l,!1),ye?(l--,x=!0,D=!0):D||l--;if(l<0){v=!0;break}let Ce=!0;for(;(Ce||!z)&&p>=0;)Ce=this.containsBlackPoint(l,f,p,!0),Ce?(p--,x=!0,z=!0):z||p--;if(p<0){v=!0;break}x&&(S=!0)}if(!v&&S){const ce=f-l;let ue=null;for(let qe=1;ue===null&&qe<ce;qe++)ue=this.getBlackPointOnSegment(l,g-qe,l+qe,g);if(ue==null)throw new H;let ye=null;for(let qe=1;ye===null&&qe<ce;qe++)ye=this.getBlackPointOnSegment(l,p+qe,l+qe,p);if(ye==null)throw new H;let Ce=null;for(let qe=1;Ce===null&&qe<ce;qe++)Ce=this.getBlackPointOnSegment(f,p+qe,f-qe,p);if(Ce==null)throw new H;let Ge=null;for(let qe=1;Ge===null&&qe<ce;qe++)Ge=this.getBlackPointOnSegment(f,g-qe,f-qe,g);if(Ge==null)throw new H;return this.centerEdges(Ge,ue,Ce,ye)}else throw new H}getBlackPointOnSegment(l,f,p,g){const v=ct.round(ct.distance(l,f,p,g)),x=(p-l)/v,S=(g-f)/v,P=this.image;for(let j=0;j<v;j++){const D=ct.round(l+j*x),z=ct.round(f+j*S);if(P.get(D,z))return new Ze(D,z)}return null}centerEdges(l,f,p,g){const v=l.getX(),x=l.getY(),S=f.getX(),P=f.getY(),j=p.getX(),D=p.getY(),z=g.getX(),K=g.getY(),se=ee.CORR;return v<this.width/2?[new Ze(z-se,K+se),new Ze(S+se,P+se),new Ze(j-se,D-se),new Ze(v+se,x-se)]:[new Ze(z+se,K+se),new Ze(S+se,P-se),new Ze(j-se,D+se),new Ze(v-se,x-se)]}containsBlackPoint(l,f,p,g){const v=this.image;if(g){for(let x=l;x<=f;x++)if(v.get(x,p))return!0}else for(let x=l;x<=f;x++)if(v.get(p,x))return!0;return!1}}ee.INIT_SIZE=10,ee.CORR=1;class Ee{static checkAndNudgePoints(l,f){const p=l.getWidth(),g=l.getHeight();let v=!0;for(let x=0;x<f.length&&v;x+=2){const S=Math.floor(f[x]),P=Math.floor(f[x+1]);if(S<-1||S>p||P<-1||P>g)throw new H;v=!1,S===-1?(f[x]=0,v=!0):S===p&&(f[x]=p-1,v=!0),P===-1?(f[x+1]=0,v=!0):P===g&&(f[x+1]=g-1,v=!0)}v=!0;for(let x=f.length-2;x>=0&&v;x-=2){const S=Math.floor(f[x]),P=Math.floor(f[x+1]);if(S<-1||S>p||P<-1||P>g)throw new H;v=!1,S===-1?(f[x]=0,v=!0):S===p&&(f[x]=p-1,v=!0),P===-1?(f[x+1]=0,v=!0):P===g&&(f[x+1]=g-1,v=!0)}}}class Pe{constructor(l,f,p,g,v,x,S,P,j){this.a11=l,this.a21=f,this.a31=p,this.a12=g,this.a22=v,this.a32=x,this.a13=S,this.a23=P,this.a33=j}static quadrilateralToQuadrilateral(l,f,p,g,v,x,S,P,j,D,z,K,se,ce,ue,ye){const Ce=Pe.quadrilateralToSquare(l,f,p,g,v,x,S,P);return Pe.squareToQuadrilateral(j,D,z,K,se,ce,ue,ye).times(Ce)}transformPoints(l){const f=l.length,p=this.a11,g=this.a12,v=this.a13,x=this.a21,S=this.a22,P=this.a23,j=this.a31,D=this.a32,z=this.a33;for(let K=0;K<f;K+=2){const se=l[K],ce=l[K+1],ue=v*se+P*ce+z;l[K]=(p*se+x*ce+j)/ue,l[K+1]=(g*se+S*ce+D)/ue}}transformPointsWithValues(l,f){const p=this.a11,g=this.a12,v=this.a13,x=this.a21,S=this.a22,P=this.a23,j=this.a31,D=this.a32,z=this.a33,K=l.length;for(let se=0;se<K;se++){const ce=l[se],ue=f[se],ye=v*ce+P*ue+z;l[se]=(p*ce+x*ue+j)/ye,f[se]=(g*ce+S*ue+D)/ye}}static squareToQuadrilateral(l,f,p,g,v,x,S,P){const j=l-p+v-S,D=f-g+x-P;if(j===0&&D===0)return new Pe(p-l,v-p,l,g-f,x-g,f,0,0,1);{const z=p-v,K=S-v,se=g-x,ce=P-x,ue=z*ce-K*se,ye=(j*ce-K*D)/ue,Ce=(z*D-j*se)/ue;return new Pe(p-l+ye*p,S-l+Ce*S,l,g-f+ye*g,P-f+Ce*P,f,ye,Ce,1)}}static quadrilateralToSquare(l,f,p,g,v,x,S,P){return Pe.squareToQuadrilateral(l,f,p,g,v,x,S,P).buildAdjoint()}buildAdjoint(){return new Pe(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)}times(l){return new Pe(this.a11*l.a11+this.a21*l.a12+this.a31*l.a13,this.a11*l.a21+this.a21*l.a22+this.a31*l.a23,this.a11*l.a31+this.a21*l.a32+this.a31*l.a33,this.a12*l.a11+this.a22*l.a12+this.a32*l.a13,this.a12*l.a21+this.a22*l.a22+this.a32*l.a23,this.a12*l.a31+this.a22*l.a32+this.a32*l.a33,this.a13*l.a11+this.a23*l.a12+this.a33*l.a13,this.a13*l.a21+this.a23*l.a22+this.a33*l.a23,this.a13*l.a31+this.a23*l.a32+this.a33*l.a33)}}class Ie extends Ee{sampleGrid(l,f,p,g,v,x,S,P,j,D,z,K,se,ce,ue,ye,Ce,Ge,qe){const Ue=Pe.quadrilateralToQuadrilateral(g,v,x,S,P,j,D,z,K,se,ce,ue,ye,Ce,Ge,qe);return this.sampleGridWithTransform(l,f,p,Ue)}sampleGridWithTransform(l,f,p,g){if(f<=0||p<=0)throw new H;const v=new Z(f,p),x=new Float32Array(2*f);for(let S=0;S<p;S++){const P=x.length,j=S+.5;for(let D=0;D<P;D+=2)x[D]=D/2+.5,x[D+1]=j;g.transformPoints(x),Ee.checkAndNudgePoints(l,x);try{for(let D=0;D<P;D+=2)l.get(Math.floor(x[D]),Math.floor(x[D+1]))&&v.set(D/2,S)}catch{throw new H}}return v}}class de{static setGridSampler(l){de.gridSampler=l}static getInstance(){return de.gridSampler}}de.gridSampler=new Ie;class Ye{constructor(l,f){this.x=l,this.y=f}toResultPoint(){return new Ze(this.getX(),this.getY())}getX(){return this.x}getY(){return this.y}}class ut{constructor(l){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=l}detect(){return this.detectMirror(!1)}detectMirror(l){let f=this.getMatrixCenter(),p=this.getBullsEyeCorners(f);if(l){let x=p[0];p[0]=p[2],p[2]=x}this.extractParameters(p);let g=this.sampleGrid(this.image,p[this.shift%4],p[(this.shift+1)%4],p[(this.shift+2)%4],p[(this.shift+3)%4]),v=this.getMatrixCornerPoints(p);return new le(g,v,this.compact,this.nbDataBlocks,this.nbLayers)}extractParameters(l){if(!this.isValidPoint(l[0])||!this.isValidPoint(l[1])||!this.isValidPoint(l[2])||!this.isValidPoint(l[3]))throw new H;let f=2*this.nbCenterLayers,p=new Int32Array([this.sampleLine(l[0],l[1],f),this.sampleLine(l[1],l[2],f),this.sampleLine(l[2],l[3],f),this.sampleLine(l[3],l[0],f)]);this.shift=this.getRotation(p,f);let g=0;for(let x=0;x<4;x++){let S=p[(this.shift+x)%4];this.compact?(g<<=7,g+=S>>1&127):(g<<=10,g+=(S>>2&992)+(S>>1&31))}let v=this.getCorrectedParameterData(g,this.compact);this.compact?(this.nbLayers=(v>>6)+1,this.nbDataBlocks=(v&63)+1):(this.nbLayers=(v>>11)+1,this.nbDataBlocks=(v&2047)+1)}getRotation(l,f){let p=0;l.forEach((g,v,x)=>{let S=(g>>f-2<<1)+(g&1);p=(p<<3)+S}),p=((p&1)<<11)+(p>>1);for(let g=0;g<4;g++)if(N.bitCount(p^this.EXPECTED_CORNER_BITS[g])<=2)return g;throw new H}getCorrectedParameterData(l,f){let p,g;f?(p=7,g=2):(p=10,g=4);let v=p-g,x=new Int32Array(p);for(let P=p-1;P>=0;--P)x[P]=l&15,l>>=4;try{new Ct(ze.AZTEC_PARAM).decode(x,v)}catch{throw new H}let S=0;for(let P=0;P<g;P++)S=(S<<4)+x[P];return S}getBullsEyeCorners(l){let f=l,p=l,g=l,v=l,x=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){let z=this.getFirstDifferent(f,x,1,-1),K=this.getFirstDifferent(p,x,1,1),se=this.getFirstDifferent(g,x,-1,1),ce=this.getFirstDifferent(v,x,-1,-1);if(this.nbCenterLayers>2){let ue=this.distancePoint(ce,z)*this.nbCenterLayers/(this.distancePoint(v,f)*(this.nbCenterLayers+2));if(ue<.75||ue>1.25||!this.isWhiteOrBlackRectangle(z,K,se,ce))break}f=z,p=K,g=se,v=ce,x=!x}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new H;this.compact=this.nbCenterLayers===5;let S=new Ze(f.getX()+.5,f.getY()-.5),P=new Ze(p.getX()+.5,p.getY()+.5),j=new Ze(g.getX()-.5,g.getY()+.5),D=new Ze(v.getX()-.5,v.getY()-.5);return this.expandSquare([S,P,j,D],2*this.nbCenterLayers-3,2*this.nbCenterLayers)}getMatrixCenter(){let l,f,p,g;try{let S=new ee(this.image).detect();l=S[0],f=S[1],p=S[2],g=S[3]}catch{let P=this.image.getWidth()/2,j=this.image.getHeight()/2;l=this.getFirstDifferent(new Ye(P+7,j-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new Ye(P+7,j+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Ye(P-7,j+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Ye(P-7,j-7),!1,-1,-1).toResultPoint()}let v=ct.round((l.getX()+g.getX()+f.getX()+p.getX())/4),x=ct.round((l.getY()+g.getY()+f.getY()+p.getY())/4);try{let S=new ee(this.image,15,v,x).detect();l=S[0],f=S[1],p=S[2],g=S[3]}catch{l=this.getFirstDifferent(new Ye(v+7,x-7),!1,1,-1).toResultPoint(),f=this.getFirstDifferent(new Ye(v+7,x+7),!1,1,1).toResultPoint(),p=this.getFirstDifferent(new Ye(v-7,x+7),!1,-1,1).toResultPoint(),g=this.getFirstDifferent(new Ye(v-7,x-7),!1,-1,-1).toResultPoint()}return v=ct.round((l.getX()+g.getX()+f.getX()+p.getX())/4),x=ct.round((l.getY()+g.getY()+f.getY()+p.getY())/4),new Ye(v,x)}getMatrixCornerPoints(l){return this.expandSquare(l,2*this.nbCenterLayers,this.getDimension())}sampleGrid(l,f,p,g,v){let x=de.getInstance(),S=this.getDimension(),P=S/2-this.nbCenterLayers,j=S/2+this.nbCenterLayers;return x.sampleGrid(l,S,S,P,P,j,P,j,j,P,j,f.getX(),f.getY(),p.getX(),p.getY(),g.getX(),g.getY(),v.getX(),v.getY())}sampleLine(l,f,p){let g=0,v=this.distanceResultPoint(l,f),x=v/p,S=l.getX(),P=l.getY(),j=x*(f.getX()-l.getX())/v,D=x*(f.getY()-l.getY())/v;for(let z=0;z<p;z++)this.image.get(ct.round(S+z*j),ct.round(P+z*D))&&(g|=1<<p-z-1);return g}isWhiteOrBlackRectangle(l,f,p,g){let v=3;l=new Ye(l.getX()-v,l.getY()+v),f=new Ye(f.getX()-v,f.getY()-v),p=new Ye(p.getX()+v,p.getY()-v),g=new Ye(g.getX()+v,g.getY()+v);let x=this.getColor(g,l);if(x===0)return!1;let S=this.getColor(l,f);return S!==x||(S=this.getColor(f,p),S!==x)?!1:(S=this.getColor(p,g),S===x)}getColor(l,f){let p=this.distancePoint(l,f),g=(f.getX()-l.getX())/p,v=(f.getY()-l.getY())/p,x=0,S=l.getX(),P=l.getY(),j=this.image.get(l.getX(),l.getY()),D=Math.ceil(p);for(let K=0;K<D;K++)S+=g,P+=v,this.image.get(ct.round(S),ct.round(P))!==j&&x++;let z=x/p;return z>.1&&z<.9?0:z<=.1===j?1:-1}getFirstDifferent(l,f,p,g){let v=l.getX()+p,x=l.getY()+g;for(;this.isValid(v,x)&&this.image.get(v,x)===f;)v+=p,x+=g;for(v-=p,x-=g;this.isValid(v,x)&&this.image.get(v,x)===f;)v+=p;for(v-=p;this.isValid(v,x)&&this.image.get(v,x)===f;)x+=g;return x-=g,new Ye(v,x)}expandSquare(l,f,p){let g=p/(2*f),v=l[0].getX()-l[2].getX(),x=l[0].getY()-l[2].getY(),S=(l[0].getX()+l[2].getX())/2,P=(l[0].getY()+l[2].getY())/2,j=new Ze(S+g*v,P+g*x),D=new Ze(S-g*v,P-g*x);v=l[1].getX()-l[3].getX(),x=l[1].getY()-l[3].getY(),S=(l[1].getX()+l[3].getX())/2,P=(l[1].getY()+l[3].getY())/2;let z=new Ze(S+g*v,P+g*x),K=new Ze(S-g*v,P-g*x);return[j,z,D,K]}isValid(l,f){return l>=0&&l<this.image.getWidth()&&f>0&&f<this.image.getHeight()}isValidPoint(l){let f=ct.round(l.getX()),p=ct.round(l.getY());return this.isValid(f,p)}distancePoint(l,f){return ct.distance(l.getX(),l.getY(),f.getX(),f.getY())}distanceResultPoint(l,f){return ct.distance(l.getX(),l.getY(),f.getX(),f.getY())}getDimension(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(N.truncDivision(this.nbLayers-4,8)+1)+15}}class Ft{decode(l,f=null){let p=null,g=new ut(l.getBlackMatrix()),v=null,x=null;try{let D=g.detectMirror(!1);v=D.getPoints(),this.reportFoundResultPoints(f,v),x=new At().decode(D)}catch(D){p=D}if(x==null)try{let D=g.detectMirror(!0);v=D.getPoints(),this.reportFoundResultPoints(f,v),x=new At().decode(D)}catch(D){throw p??D}let S=new he(x.getText(),x.getRawBytes(),x.getNumBits(),v,me.AZTEC,w.currentTimeMillis()),P=x.getByteSegments();P!=null&&S.putMetadata(Ne.BYTE_SEGMENTS,P);let j=x.getECLevel();return j!=null&&S.putMetadata(Ne.ERROR_CORRECTION_LEVEL,j),S}reportFoundResultPoints(l,f){if(l!=null){let p=l.get(k.NEED_RESULT_POINT_CALLBACK);p!=null&&f.forEach((g,v,x)=>{p.foundPossibleResultPoint(g)})}}reset(){}}class As extends pe{constructor(l=500){super(new Ft,l)}}class Vt{decode(l,f){try{return this.doDecode(l,f)}catch{if(f&&f.get(k.TRY_HARDER)===!0&&l.isRotateSupported()){const v=l.rotateCounterClockwise(),x=this.doDecode(v,f),S=x.getResultMetadata();let P=270;S!==null&&S.get(Ne.ORIENTATION)===!0&&(P=P+S.get(Ne.ORIENTATION)%360),x.putMetadata(Ne.ORIENTATION,P);const j=x.getResultPoints();if(j!==null){const D=v.getHeight();for(let z=0;z<j.length;z++)j[z]=new Ze(D-j[z].getY()-1,j[z].getX())}return x}else throw new H}}reset(){}doDecode(l,f){const p=l.getWidth(),g=l.getHeight();let v=new I(p);const x=f&&f.get(k.TRY_HARDER)===!0,S=Math.max(1,g>>(x?8:5));let P;x?P=g:P=15;const j=Math.trunc(g/2);for(let D=0;D<P;D++){const z=Math.trunc((D+1)/2),K=(D&1)===0,se=j+S*(K?z:-z);if(se<0||se>=g)break;try{v=l.getBlackRow(se,v)}catch{continue}for(let ce=0;ce<2;ce++){if(ce===1&&(v.reverse(),f&&f.get(k.NEED_RESULT_POINT_CALLBACK)===!0)){const ue=new Map;f.forEach((ye,Ce)=>ue.set(Ce,ye)),ue.delete(k.NEED_RESULT_POINT_CALLBACK),f=ue}try{const ue=this.decodeRow(se,v,f);if(ce===1){ue.putMetadata(Ne.ORIENTATION,180);const ye=ue.getResultPoints();ye!==null&&(ye[0]=new Ze(p-ye[0].getX()-1,ye[0].getY()),ye[1]=new Ze(p-ye[1].getX()-1,ye[1].getY()))}return ue}catch{}}}throw new H}static recordPattern(l,f,p){const g=p.length;for(let j=0;j<g;j++)p[j]=0;const v=l.getSize();if(f>=v)throw new H;let x=!l.get(f),S=0,P=f;for(;P<v;){if(l.get(P)!==x)p[S]++;else{if(++S===g)break;p[S]=1,x=!x}P++}if(!(S===g||S===g-1&&P===v))throw new H}static recordPatternInReverse(l,f,p){let g=p.length,v=l.get(f);for(;f>0&&g>=0;)l.get(--f)!==v&&(g--,v=!v);if(g>=0)throw new H;Vt.recordPattern(l,f+1,p)}static patternMatchVariance(l,f,p){const g=l.length;let v=0,x=0;for(let j=0;j<g;j++)v+=l[j],x+=f[j];if(v<x)return Number.POSITIVE_INFINITY;const S=v/x;p*=S;let P=0;for(let j=0;j<g;j++){const D=l[j],z=f[j]*S,K=D>z?D-z:z-D;if(K>p)return Number.POSITIVE_INFINITY;P+=K}return P/v}}class Ke extends Vt{static findStartPattern(l){const f=l.getSize(),p=l.getNextSet(0);let g=0,v=Int32Array.from([0,0,0,0,0,0]),x=p,S=!1;const P=6;for(let j=p;j<f;j++)if(l.get(j)!==S)v[g]++;else{if(g===P-1){let D=Ke.MAX_AVG_VARIANCE,z=-1;for(let K=Ke.CODE_START_A;K<=Ke.CODE_START_C;K++){const se=Vt.patternMatchVariance(v,Ke.CODE_PATTERNS[K],Ke.MAX_INDIVIDUAL_VARIANCE);se<D&&(D=se,z=K)}if(z>=0&&l.isRange(Math.max(0,x-(j-x)/2),x,!1))return Int32Array.from([x,j,z]);x+=v[0]+v[1],v=v.slice(2,v.length-1),v[g-1]=0,v[g]=0,g--}else g++;v[g]=1,S=!S}throw new H}static decodeCode(l,f,p){Vt.recordPattern(l,p,f);let g=Ke.MAX_AVG_VARIANCE,v=-1;for(let x=0;x<Ke.CODE_PATTERNS.length;x++){const S=Ke.CODE_PATTERNS[x],P=this.patternMatchVariance(f,S,Ke.MAX_INDIVIDUAL_VARIANCE);P<g&&(g=P,v=x)}if(v>=0)return v;throw new H}decodeRow(l,f,p){const g=p&&p.get(k.ASSUME_GS1)===!0,v=Ke.findStartPattern(f),x=v[2];let S=0;const P=new Uint8Array(20);P[S++]=x;let j;switch(x){case Ke.CODE_START_A:j=Ke.CODE_CODE_A;break;case Ke.CODE_START_B:j=Ke.CODE_CODE_B;break;case Ke.CODE_START_C:j=Ke.CODE_CODE_C;break;default:throw new M}let D=!1,z=!1,K="",se=v[0],ce=v[1];const ue=Int32Array.from([0,0,0,0,0,0]);let ye=0,Ce=0,Ge=x,qe=0,Ue=!0,an=!1,Wt=!1;for(;!D;){const bh=z;switch(z=!1,ye=Ce,Ce=Ke.decodeCode(f,ue,ce),P[S++]=Ce,Ce!==Ke.CODE_STOP&&(Ue=!0),Ce!==Ke.CODE_STOP&&(qe++,Ge+=qe*Ce),se=ce,ce+=ue.reduce((loe,coe)=>loe+coe,0),Ce){case Ke.CODE_START_A:case Ke.CODE_START_B:case Ke.CODE_START_C:throw new M}switch(j){case Ke.CODE_CODE_A:if(Ce<64)Wt===an?K+=String.fromCharCode(32+Ce):K+=String.fromCharCode(32+Ce+128),Wt=!1;else if(Ce<96)Wt===an?K+=String.fromCharCode(Ce-64):K+=String.fromCharCode(Ce+64),Wt=!1;else switch(Ce!==Ke.CODE_STOP&&(Ue=!1),Ce){case Ke.CODE_FNC_1:g&&(K.length===0?K+="]C1":K+="");break;case Ke.CODE_FNC_2:case Ke.CODE_FNC_3:break;case Ke.CODE_FNC_4_A:!an&&Wt?(an=!0,Wt=!1):an&&Wt?(an=!1,Wt=!1):Wt=!0;break;case Ke.CODE_SHIFT:z=!0,j=Ke.CODE_CODE_B;break;case Ke.CODE_CODE_B:j=Ke.CODE_CODE_B;break;case Ke.CODE_CODE_C:j=Ke.CODE_CODE_C;break;case Ke.CODE_STOP:D=!0;break}break;case Ke.CODE_CODE_B:if(Ce<96)Wt===an?K+=String.fromCharCode(32+Ce):K+=String.fromCharCode(32+Ce+128),Wt=!1;else switch(Ce!==Ke.CODE_STOP&&(Ue=!1),Ce){case Ke.CODE_FNC_1:g&&(K.length===0?K+="]C1":K+="");break;case Ke.CODE_FNC_2:case Ke.CODE_FNC_3:break;case Ke.CODE_FNC_4_B:!an&&Wt?(an=!0,Wt=!1):an&&Wt?(an=!1,Wt=!1):Wt=!0;break;case Ke.CODE_SHIFT:z=!0,j=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_A:j=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_C:j=Ke.CODE_CODE_C;break;case Ke.CODE_STOP:D=!0;break}break;case Ke.CODE_CODE_C:if(Ce<100)Ce<10&&(K+="0"),K+=Ce;else switch(Ce!==Ke.CODE_STOP&&(Ue=!1),Ce){case Ke.CODE_FNC_1:g&&(K.length===0?K+="]C1":K+="");break;case Ke.CODE_CODE_A:j=Ke.CODE_CODE_A;break;case Ke.CODE_CODE_B:j=Ke.CODE_CODE_B;break;case Ke.CODE_STOP:D=!0;break}break}bh&&(j=j===Ke.CODE_CODE_A?Ke.CODE_CODE_B:Ke.CODE_CODE_A)}const Ts=ce-se;if(ce=f.getNextUnset(ce),!f.isRange(ce,Math.min(f.getSize(),ce+(ce-se)/2),!1))throw new H;if(Ge-=qe*ye,Ge%103!==ye)throw new b;const io=K.length;if(io===0)throw new H;io>0&&Ue&&(j===Ke.CODE_CODE_C?K=K.substring(0,io-2):K=K.substring(0,io-1));const Ns=(v[1]+v[0])/2,In=se+Ts/2,_i=P.length,Qs=new Uint8Array(_i);for(let bh=0;bh<_i;bh++)Qs[bh]=P[bh];const xh=[new Ze(Ns,l),new Ze(In,l)];return new he(K,Qs,0,xh,me.CODE_128,new Date().getTime())}}Ke.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],Ke.MAX_AVG_VARIANCE=.25,Ke.MAX_INDIVIDUAL_VARIANCE=.7,Ke.CODE_SHIFT=98,Ke.CODE_CODE_C=99,Ke.CODE_CODE_B=100,Ke.CODE_CODE_A=101,Ke.CODE_FNC_1=102,Ke.CODE_FNC_2=97,Ke.CODE_FNC_3=96,Ke.CODE_FNC_4_A=101,Ke.CODE_FNC_4_B=100,Ke.CODE_START_A=103,Ke.CODE_START_B=104,Ke.CODE_START_C=105,Ke.CODE_STOP=106;class Ln extends Vt{constructor(l=!1,f=!1){super(),this.usingCheckDigit=l,this.extendedMode=f,this.decodeRowResult="",this.counters=new Int32Array(9)}decodeRow(l,f,p){let g=this.counters;g.fill(0),this.decodeRowResult="";let v=Ln.findAsteriskPattern(f,g),x=f.getNextSet(v[1]),S=f.getSize(),P,j;do{Ln.recordPattern(f,x,g);let ue=Ln.toNarrowWidePattern(g);if(ue<0)throw new H;P=Ln.patternToChar(ue),this.decodeRowResult+=P,j=x;for(let ye of g)x+=ye;x=f.getNextSet(x)}while(P!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);let D=0;for(let ue of g)D+=ue;let z=x-j-D;if(x!==S&&z*2<D)throw new H;if(this.usingCheckDigit){let ue=this.decodeRowResult.length-1,ye=0;for(let Ce=0;Ce<ue;Ce++)ye+=Ln.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(Ce));if(this.decodeRowResult.charAt(ue)!==Ln.ALPHABET_STRING.charAt(ye%43))throw new b;this.decodeRowResult=this.decodeRowResult.substring(0,ue)}if(this.decodeRowResult.length===0)throw new H;let K;this.extendedMode?K=Ln.decodeExtended(this.decodeRowResult):K=this.decodeRowResult;let se=(v[1]+v[0])/2,ce=j+D/2;return new he(K,null,0,[new Ze(se,l),new Ze(ce,l)],me.CODE_39,new Date().getTime())}static findAsteriskPattern(l,f){let p=l.getSize(),g=l.getNextSet(0),v=0,x=g,S=!1,P=f.length;for(let j=g;j<p;j++)if(l.get(j)!==S)f[v]++;else{if(v===P-1){if(this.toNarrowWidePattern(f)===Ln.ASTERISK_ENCODING&&l.isRange(Math.max(0,x-Math.floor((j-x)/2)),x,!1))return[x,j];x+=f[0]+f[1],f.copyWithin(0,2,2+v-1),f[v-1]=0,f[v]=0,v--}else v++;f[v]=1,S=!S}throw new H}static toNarrowWidePattern(l){let f=l.length,p=0,g;do{let v=2147483647;for(let P of l)P<v&&P>p&&(v=P);p=v,g=0;let x=0,S=0;for(let P=0;P<f;P++){let j=l[P];j>p&&(S|=1<<f-1-P,g++,x+=j)}if(g===3){for(let P=0;P<f&&g>0;P++){let j=l[P];if(j>p&&(g--,j*2>=x))return-1}return S}}while(g>3);return-1}static patternToChar(l){for(let f=0;f<Ln.CHARACTER_ENCODINGS.length;f++)if(Ln.CHARACTER_ENCODINGS[f]===l)return Ln.ALPHABET_STRING.charAt(f);if(l===Ln.ASTERISK_ENCODING)return"*";throw new H}static decodeExtended(l){let f=l.length,p="";for(let g=0;g<f;g++){let v=l.charAt(g);if(v==="+"||v==="$"||v==="%"||v==="/"){let x=l.charAt(g+1),S="\0";switch(v){case"+":if(x>="A"&&x<="Z")S=String.fromCharCode(x.charCodeAt(0)+32);else throw new M;break;case"$":if(x>="A"&&x<="Z")S=String.fromCharCode(x.charCodeAt(0)-64);else throw new M;break;case"%":if(x>="A"&&x<="E")S=String.fromCharCode(x.charCodeAt(0)-38);else if(x>="F"&&x<="J")S=String.fromCharCode(x.charCodeAt(0)-11);else if(x>="K"&&x<="O")S=String.fromCharCode(x.charCodeAt(0)+16);else if(x>="P"&&x<="T")S=String.fromCharCode(x.charCodeAt(0)+43);else if(x==="U")S="\0";else if(x==="V")S="@";else if(x==="W")S="`";else if(x==="X"||x==="Y"||x==="Z")S="";else throw new M;break;case"/":if(x>="A"&&x<="O")S=String.fromCharCode(x.charCodeAt(0)-32);else if(x==="Z")S=":";else throw new M;break}p+=S,g++}else p+=v}return p}}Ln.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",Ln.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],Ln.ASTERISK_ENCODING=148;class rn extends Vt{constructor(){super(...arguments),this.narrowLineWidth=-1}decodeRow(l,f,p){let g=this.decodeStart(f),v=this.decodeEnd(f),x=new V;rn.decodeMiddle(f,g[1],v[0],x);let S=x.toString(),P=null;p!=null&&(P=p.get(k.ALLOWED_LENGTHS)),P==null&&(P=rn.DEFAULT_ALLOWED_LENGTHS);let j=S.length,D=!1,z=0;for(let ce of P){if(j===ce){D=!0;break}ce>z&&(z=ce)}if(!D&&j>z&&(D=!0),!D)throw new M;const K=[new Ze(g[1],l),new Ze(v[0],l)];return new he(S,null,0,K,me.ITF,new Date().getTime())}static decodeMiddle(l,f,p,g){let v=new Int32Array(10),x=new Int32Array(5),S=new Int32Array(5);for(v.fill(0),x.fill(0),S.fill(0);f<p;){Vt.recordPattern(l,f,v);for(let j=0;j<5;j++){let D=2*j;x[j]=v[D],S[j]=v[D+1]}let P=rn.decodeDigit(x);g.append(P.toString()),P=this.decodeDigit(S),g.append(P.toString()),v.forEach(function(j){f+=j})}}decodeStart(l){let f=rn.skipWhiteSpace(l),p=rn.findGuardPattern(l,f,rn.START_PATTERN);return this.narrowLineWidth=(p[1]-p[0])/4,this.validateQuietZone(l,p[0]),p}validateQuietZone(l,f){let p=this.narrowLineWidth*10;p=p<f?p:f;for(let g=f-1;p>0&&g>=0&&!l.get(g);g--)p--;if(p!==0)throw new H}static skipWhiteSpace(l){const f=l.getSize(),p=l.getNextSet(0);if(p===f)throw new H;return p}decodeEnd(l){l.reverse();try{let f=rn.skipWhiteSpace(l),p;try{p=rn.findGuardPattern(l,f,rn.END_PATTERN_REVERSED[0])}catch(v){v instanceof H&&(p=rn.findGuardPattern(l,f,rn.END_PATTERN_REVERSED[1]))}this.validateQuietZone(l,p[0]);let g=p[0];return p[0]=l.getSize()-p[1],p[1]=l.getSize()-g,p}finally{l.reverse()}}static findGuardPattern(l,f,p){let g=p.length,v=new Int32Array(g),x=l.getSize(),S=!1,P=0,j=f;v.fill(0);for(let D=f;D<x;D++)if(l.get(D)!==S)v[P]++;else{if(P===g-1){if(Vt.patternMatchVariance(v,p,rn.MAX_INDIVIDUAL_VARIANCE)<rn.MAX_AVG_VARIANCE)return[j,D];j+=v[0]+v[1],w.arraycopy(v,2,v,0,P-1),v[P-1]=0,v[P]=0,P--}else P++;v[P]=1,S=!S}throw new H}static decodeDigit(l){let f=rn.MAX_AVG_VARIANCE,p=-1,g=rn.PATTERNS.length;for(let v=0;v<g;v++){let x=rn.PATTERNS[v],S=Vt.patternMatchVariance(l,x,rn.MAX_INDIVIDUAL_VARIANCE);S<f?(f=S,p=v):S===f&&(p=-1)}if(p>=0)return p%10;throw new H}}rn.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],rn.MAX_AVG_VARIANCE=.38,rn.MAX_INDIVIDUAL_VARIANCE=.5,rn.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],rn.START_PATTERN=Int32Array.from([1,1,1,1]),rn.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])];class Bn extends Vt{constructor(){super(...arguments),this.decodeRowStringBuffer=""}static findStartGuardPattern(l){let f=!1,p,g=0,v=Int32Array.from([0,0,0]);for(;!f;){v=Int32Array.from([0,0,0]),p=Bn.findGuardPattern(l,g,!1,this.START_END_PATTERN,v);let x=p[0];g=p[1];let S=x-(g-x);S>=0&&(f=l.isRange(S,x,!1))}return p}static checkChecksum(l){return Bn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let p=parseInt(l.charAt(f-1),10);return Bn.getStandardUPCEANChecksum(l.substring(0,f-1))===p}static getStandardUPCEANChecksum(l){let f=l.length,p=0;for(let g=f-1;g>=0;g-=2){let v=l.charAt(g).charCodeAt(0)-48;if(v<0||v>9)throw new M;p+=v}p*=3;for(let g=f-2;g>=0;g-=2){let v=l.charAt(g).charCodeAt(0)-48;if(v<0||v>9)throw new M;p+=v}return(1e3-p)%10}static decodeEnd(l,f){return Bn.findGuardPattern(l,f,!1,Bn.START_END_PATTERN,new Int32Array(Bn.START_END_PATTERN.length).fill(0))}static findGuardPatternWithoutCounters(l,f,p,g){return this.findGuardPattern(l,f,p,g,new Int32Array(g.length))}static findGuardPattern(l,f,p,g,v){let x=l.getSize();f=p?l.getNextUnset(f):l.getNextSet(f);let S=0,P=f,j=g.length,D=p;for(let z=f;z<x;z++)if(l.get(z)!==D)v[S]++;else{if(S===j-1){if(Vt.patternMatchVariance(v,g,Bn.MAX_INDIVIDUAL_VARIANCE)<Bn.MAX_AVG_VARIANCE)return Int32Array.from([P,z]);P+=v[0]+v[1];let K=v.slice(2,v.length-1);for(let se=0;se<S-1;se++)v[se]=K[se];v[S-1]=0,v[S]=0,S--}else S++;v[S]=1,D=!D}throw new H}static decodeDigit(l,f,p,g){this.recordPattern(l,p,f);let v=this.MAX_AVG_VARIANCE,x=-1,S=g.length;for(let P=0;P<S;P++){let j=g[P],D=Vt.patternMatchVariance(f,j,Bn.MAX_INDIVIDUAL_VARIANCE);D<v&&(v=D,x=P)}if(x>=0)return x;throw new H}}Bn.MAX_AVG_VARIANCE=.48,Bn.MAX_INDIVIDUAL_VARIANCE=.7,Bn.START_END_PATTERN=Int32Array.from([1,1,1]),Bn.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),Bn.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Bn.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])];class Wo{constructor(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,p){let g=this.decodeRowStringBuffer,v=this.decodeMiddle(f,p,g),x=g.toString(),S=Wo.parseExtensionString(x),P=[new Ze((p[0]+p[1])/2,l),new Ze(v,l)],j=new he(x,null,0,P,me.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&j.putAllMetadata(S),j}decodeMiddle(l,f,p){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),x=f[1],S=0;for(let j=0;j<5&&x<v;j++){let D=Bn.decodeDigit(l,g,x,Bn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+D%10);for(let z of g)x+=z;D>=10&&(S|=1<<4-j),j!==4&&(x=l.getNextSet(x),x=l.getNextUnset(x))}if(p.length!==5)throw new H;let P=this.determineCheckDigit(S);if(Wo.extensionChecksum(p.toString())!==P)throw new H;return x}static extensionChecksum(l){let f=l.length,p=0;for(let g=f-2;g>=0;g-=2)p+=l.charAt(g).charCodeAt(0)-48;p*=3;for(let g=f-1;g>=0;g-=2)p+=l.charAt(g).charCodeAt(0)-48;return p*=3,p%10}determineCheckDigit(l){for(let f=0;f<10;f++)if(l===this.CHECK_DIGIT_ENCODINGS[f])return f;throw new H}static parseExtensionString(l){if(l.length!==5)return null;let f=Wo.parseExtension5String(l);return f==null?null:new Map([[Ne.SUGGESTED_PRICE,f]])}static parseExtension5String(l){let f;switch(l.charAt(0)){case"0":f="";break;case"5":f="$";break;case"9":switch(l){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}f="";break;default:f="";break}let p=parseInt(l.substring(1)),g=(p/100).toString(),v=p%100,x=v<10?"0"+v:v.toString();return f+g+"."+x}}class Vg{constructor(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}decodeRow(l,f,p){let g=this.decodeRowStringBuffer,v=this.decodeMiddle(f,p,g),x=g.toString(),S=Vg.parseExtensionString(x),P=[new Ze((p[0]+p[1])/2,l),new Ze(v,l)],j=new he(x,null,0,P,me.UPC_EAN_EXTENSION,new Date().getTime());return S!=null&&j.putAllMetadata(S),j}decodeMiddle(l,f,p){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),x=f[1],S=0;for(let P=0;P<2&&x<v;P++){let j=Bn.decodeDigit(l,g,x,Bn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+j%10);for(let D of g)x+=D;j>=10&&(S|=1<<1-P),P!==1&&(x=l.getNextSet(x),x=l.getNextUnset(x))}if(p.length!==2)throw new H;if(parseInt(p.toString())%4!==S)throw new H;return x}static parseExtensionString(l){return l.length!==2?null:new Map([[Ne.ISSUE_NUMBER,parseInt(l)]])}}class hx{static decodeRow(l,f,p){let g=Bn.findGuardPattern(f,p,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{return new Wo().decodeRow(l,f,g)}catch{return new Vg().decodeRow(l,f,g)}}}hx.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]);class sn extends Bn{constructor(){super(),this.decodeRowStringBuffer="",sn.L_AND_G_PATTERNS=sn.L_PATTERNS.map(l=>Int32Array.from(l));for(let l=10;l<20;l++){let f=sn.L_PATTERNS[l-10],p=new Int32Array(f.length);for(let g=0;g<f.length;g++)p[g]=f[f.length-g-1];sn.L_AND_G_PATTERNS[l]=p}}decodeRow(l,f,p){let g=sn.findStartGuardPattern(f),v=p==null?null:p.get(k.NEED_RESULT_POINT_CALLBACK);if(v!=null){const Ue=new Ze((g[0]+g[1])/2,l);v.foundPossibleResultPoint(Ue)}let x=this.decodeMiddle(f,g,this.decodeRowStringBuffer),S=x.rowOffset,P=x.resultString;if(v!=null){const Ue=new Ze(S,l);v.foundPossibleResultPoint(Ue)}let j=this.decodeEnd(f,S);if(v!=null){const Ue=new Ze((j[0]+j[1])/2,l);v.foundPossibleResultPoint(Ue)}let D=j[1],z=D+(D-j[0]);if(z>=f.getSize()||!f.isRange(D,z,!1))throw new H;let K=P.toString();if(K.length<8)throw new M;if(!sn.checkChecksum(K))throw new b;let se=(g[1]+g[0])/2,ce=(j[1]+j[0])/2,ue=this.getBarcodeFormat(),ye=[new Ze(se,l),new Ze(ce,l)],Ce=new he(K,null,0,ye,ue,new Date().getTime()),Ge=0;try{let Ue=hx.decodeRow(l,f,j[1]);Ce.putMetadata(Ne.UPC_EAN_EXTENSION,Ue.getText()),Ce.putAllMetadata(Ue.getResultMetadata()),Ce.addResultPoints(Ue.getResultPoints()),Ge=Ue.getText().length}catch{}let qe=p==null?null:p.get(k.ALLOWED_EAN_EXTENSIONS);if(qe!=null){let Ue=!1;for(let an in qe)if(Ge.toString()===an){Ue=!0;break}if(!Ue)throw new H}return Ce}decodeEnd(l,f){return sn.findGuardPattern(l,f,!1,sn.START_END_PATTERN,new Int32Array(sn.START_END_PATTERN.length).fill(0))}static checkChecksum(l){return sn.checkStandardUPCEANChecksum(l)}static checkStandardUPCEANChecksum(l){let f=l.length;if(f===0)return!1;let p=parseInt(l.charAt(f-1),10);return sn.getStandardUPCEANChecksum(l.substring(0,f-1))===p}static getStandardUPCEANChecksum(l){let f=l.length,p=0;for(let g=f-1;g>=0;g-=2){let v=l.charAt(g).charCodeAt(0)-48;if(v<0||v>9)throw new M;p+=v}p*=3;for(let g=f-2;g>=0;g-=2){let v=l.charAt(g).charCodeAt(0)-48;if(v<0||v>9)throw new M;p+=v}return(1e3-p)%10}}class lr extends sn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){let g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),x=f[1],S=0;for(let j=0;j<6&&x<v;j++){let D=sn.decodeDigit(l,g,x,sn.L_AND_G_PATTERNS);p+=String.fromCharCode(48+D%10);for(let z of g)x+=z;D>=10&&(S|=1<<5-j)}p=lr.determineFirstDigit(p,S),x=sn.findGuardPattern(l,x,!0,sn.MIDDLE_PATTERN,new Int32Array(sn.MIDDLE_PATTERN.length).fill(0))[1];for(let j=0;j<6&&x<v;j++){let D=sn.decodeDigit(l,g,x,sn.L_PATTERNS);p+=String.fromCharCode(48+D);for(let z of g)x+=z}return{rowOffset:x,resultString:p}}getBarcodeFormat(){return me.EAN_13}static determineFirstDigit(l,f){for(let p=0;p<10;p++)if(f===this.FIRST_DIGIT_ENCODINGS[p])return l=String.fromCharCode(48+p)+l,l;throw new H}}lr.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26];class Gc extends sn{constructor(){super(),this.decodeMiddleCounters=Int32Array.from([0,0,0,0])}decodeMiddle(l,f,p){const g=this.decodeMiddleCounters;g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),x=f[1];for(let P=0;P<4&&x<v;P++){let j=sn.decodeDigit(l,g,x,sn.L_PATTERNS);p+=String.fromCharCode(48+j);for(let D of g)x+=D}x=sn.findGuardPattern(l,x,!0,sn.MIDDLE_PATTERN,new Int32Array(sn.MIDDLE_PATTERN.length).fill(0))[1];for(let P=0;P<4&&x<v;P++){let j=sn.decodeDigit(l,g,x,sn.L_PATTERNS);p+=String.fromCharCode(48+j);for(let D of g)x+=D}return{rowOffset:x,resultString:p}}getBarcodeFormat(){return me.EAN_8}}class ph extends sn{constructor(){super(...arguments),this.ean13Reader=new lr}getBarcodeFormat(){return me.UPC_A}decode(l,f){return this.maybeReturnResult(this.ean13Reader.decode(l))}decodeRow(l,f,p){return this.maybeReturnResult(this.ean13Reader.decodeRow(l,f,p))}decodeMiddle(l,f,p){return this.ean13Reader.decodeMiddle(l,f,p)}maybeReturnResult(l){let f=l.getText();if(f.charAt(0)==="0"){let p=new he(f.substring(1),null,null,l.getResultPoints(),me.UPC_A);return l.getResultMetadata()!=null&&p.putAllMetadata(l.getResultMetadata()),p}else throw new H}reset(){this.ean13Reader.reset()}}class Xs extends sn{constructor(){super(),this.decodeMiddleCounters=new Int32Array(4)}decodeMiddle(l,f,p){const g=this.decodeMiddleCounters.map(j=>j);g[0]=0,g[1]=0,g[2]=0,g[3]=0;const v=l.getSize();let x=f[1],S=0;for(let j=0;j<6&&x<v;j++){const D=Xs.decodeDigit(l,g,x,Xs.L_AND_G_PATTERNS);p+=String.fromCharCode(48+D%10);for(let z of g)x+=z;D>=10&&(S|=1<<5-j)}let P=Xs.determineNumSysAndCheckDigit(p,S);return{rowOffset:x,resultString:P}}decodeEnd(l,f){return Xs.findGuardPatternWithoutCounters(l,f,!0,Xs.MIDDLE_END_PATTERN)}checkChecksum(l){return sn.checkChecksum(Xs.convertUPCEtoUPCA(l))}static determineNumSysAndCheckDigit(l,f){for(let p=0;p<=1;p++)for(let g=0;g<10;g++)if(f===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[p][g]){let v=String.fromCharCode(48+p),x=String.fromCharCode(48+g);return v+l+x}throw H.getNotFoundInstance()}getBarcodeFormat(){return me.UPC_E}static convertUPCEtoUPCA(l){const f=l.slice(1,7).split("").map(v=>v.charCodeAt(0)),p=new V;p.append(l.charAt(0));let g=f[5];switch(g){case 0:case 1:case 2:p.appendChars(f,0,2),p.append(g),p.append("0000"),p.appendChars(f,2,3);break;case 3:p.appendChars(f,0,3),p.append("00000"),p.appendChars(f,3,2);break;case 4:p.appendChars(f,0,4),p.append("00000"),p.append(f[4]);break;default:p.appendChars(f,0,5),p.append("0000"),p.append(g);break}return l.length>=8&&p.append(l.charAt(7)),p.toString()}}Xs.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),Xs.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,26])];class Wg extends Vt{constructor(l){super();let f=l==null?null:l.get(k.POSSIBLE_FORMATS),p=[];r(f)?(p.push(new lr),p.push(new ph),p.push(new Gc),p.push(new Xs)):(f.indexOf(me.EAN_13)>-1&&p.push(new lr),f.indexOf(me.UPC_A)>-1&&p.push(new ph),f.indexOf(me.EAN_8)>-1&&p.push(new Gc),f.indexOf(me.UPC_E)>-1&&p.push(new Xs)),this.readers=p}decodeRow(l,f,p){for(let g of this.readers)try{const v=g.decodeRow(l,f,p),x=v.getBarcodeFormat()===me.EAN_13&&v.getText().charAt(0)==="0",S=p==null?null:p.get(k.POSSIBLE_FORMATS),P=S==null||S.includes(me.UPC_A);if(x&&P){const j=v.getRawBytes(),D=new he(v.getText().substring(1),j,j?j.length:null,v.getResultPoints(),me.UPC_A);return D.putAllMetadata(v.getResultMetadata()),D}return v}catch{}throw new H}reset(){for(let l of this.readers)l.reset()}}class ui extends Vt{constructor(){super(),this.decodeFinderCounters=new Int32Array(4),this.dataCharacterCounters=new Int32Array(8),this.oddRoundingErrors=new Array(4),this.evenRoundingErrors=new Array(4),this.oddCounts=new Array(this.dataCharacterCounters.length/2),this.evenCounts=new Array(this.dataCharacterCounters.length/2)}getDecodeFinderCounters(){return this.decodeFinderCounters}getDataCharacterCounters(){return this.dataCharacterCounters}getOddRoundingErrors(){return this.oddRoundingErrors}getEvenRoundingErrors(){return this.evenRoundingErrors}getOddCounts(){return this.oddCounts}getEvenCounts(){return this.evenCounts}parseFinderValue(l,f){for(let p=0;p<f.length;p++)if(Vt.patternMatchVariance(l,f[p],ui.MAX_INDIVIDUAL_VARIANCE)<ui.MAX_AVG_VARIANCE)return p;throw new H}static count(l){return ct.sum(new Int32Array(l))}static increment(l,f){let p=0,g=f[0];for(let v=1;v<l.length;v++)f[v]>g&&(g=f[v],p=v);l[p]++}static decrement(l,f){let p=0,g=f[0];for(let v=1;v<l.length;v++)f[v]<g&&(g=f[v],p=v);l[p]--}static isFinderPattern(l){let f=l[0]+l[1],p=f+l[2]+l[3],g=f/p;if(g>=ui.MIN_FINDER_PATTERN_RATIO&&g<=ui.MAX_FINDER_PATTERN_RATIO){let v=Number.MAX_SAFE_INTEGER,x=Number.MIN_SAFE_INTEGER;for(let S of l)S>x&&(x=S),S<v&&(v=S);return x<10*v}return!1}}ui.MAX_AVG_VARIANCE=.2,ui.MAX_INDIVIDUAL_VARIANCE=.45,ui.MIN_FINDER_PATTERN_RATIO=9.5/12,ui.MAX_FINDER_PATTERN_RATIO=12.5/14;class qc{constructor(l,f){this.value=l,this.checksumPortion=f}getValue(){return this.value}getChecksumPortion(){return this.checksumPortion}toString(){return this.value+"("+this.checksumPortion+")"}equals(l){if(!(l instanceof qc))return!1;const f=l;return this.value===f.value&&this.checksumPortion===f.checksumPortion}hashCode(){return this.value^this.checksumPortion}}class $r{constructor(l,f,p,g,v){this.value=l,this.startEnd=f,this.value=l,this.startEnd=f,this.resultPoints=new Array,this.resultPoints.push(new Ze(p,v)),this.resultPoints.push(new Ze(g,v))}getValue(){return this.value}getStartEnd(){return this.startEnd}getResultPoints(){return this.resultPoints}equals(l){if(!(l instanceof $r))return!1;const f=l;return this.value===f.value}hashCode(){return this.value}}class Es{constructor(){}static getRSSvalue(l,f,p){let g=0;for(let P of l)g+=P;let v=0,x=0,S=l.length;for(let P=0;P<S-1;P++){let j;for(j=1,x|=1<<P;j<l[P];j++,x&=~(1<<P)){let D=Es.combins(g-j-1,S-P-2);if(p&&x===0&&g-j-(S-P-1)>=S-P-1&&(D-=Es.combins(g-j-(S-P),S-P-2)),S-P-1>1){let z=0;for(let K=g-j-(S-P-2);K>f;K--)z+=Es.combins(g-j-K-1,S-P-3);D-=z*(S-1-P)}else g-j>f&&D--;v+=D}g-=j}return v}static combins(l,f){let p,g;l-f>f?(g=f,p=l-f):(g=l-f,p=f);let v=1,x=1;for(let S=l;S>p;S--)v*=S,x<=g&&(v/=x,x++);for(;x<=g;)v/=x,x++;return v}}class Hg{static buildBitArray(l){let f=l.length*2-1;l[l.length-1].getRightChar()==null&&(f-=1);let p=12*f,g=new I(p),v=0,S=l[0].getRightChar().getValue();for(let P=11;P>=0;--P)S&1<<P&&g.set(v),v++;for(let P=1;P<l.length;++P){let j=l[P],D=j.getLeftChar().getValue();for(let z=11;z>=0;--z)D&1<<z&&g.set(v),v++;if(j.getRightChar()!=null){let z=j.getRightChar().getValue();for(let K=11;K>=0;--K)z&1<<K&&g.set(v),v++}}return g}}class Qa{constructor(l,f){f?this.decodedInformation=null:(this.finished=l,this.decodedInformation=f)}getDecodedInformation(){return this.decodedInformation}isFinished(){return this.finished}}class Gg{constructor(l){this.newPosition=l}getNewPosition(){return this.newPosition}}class Ri extends Gg{constructor(l,f){super(l),this.value=f}getValue(){return this.value}isFNC1(){return this.value===Ri.FNC1}}Ri.FNC1="$";class Fl extends Gg{constructor(l,f,p){super(l),p?(this.remaining=!0,this.remainingValue=this.remainingValue):(this.remaining=!1,this.remainingValue=0),this.newString=f}getNewString(){return this.newString}isRemaining(){return this.remaining}getRemainingValue(){return this.remainingValue}}class ts extends Gg{constructor(l,f,p){if(super(l),f<0||f>10||p<0||p>10)throw new M;this.firstDigit=f,this.secondDigit=p}getFirstDigit(){return this.firstDigit}getSecondDigit(){return this.secondDigit}getValue(){return this.firstDigit*10+this.secondDigit}isFirstDigitFNC1(){return this.firstDigit===ts.FNC1}isSecondDigitFNC1(){return this.secondDigit===ts.FNC1}isAnyFNC1(){return this.firstDigit===ts.FNC1||this.secondDigit===ts.FNC1}}ts.FNC1=10;class nt{constructor(){}static parseFieldsInGeneralPurpose(l){if(!l)return null;if(l.length<2)throw new H;let f=l.substring(0,2);for(let v of nt.TWO_DIGIT_DATA_LENGTH)if(v[0]===f)return v[1]===nt.VARIABLE_LENGTH?nt.processVariableAI(2,v[2],l):nt.processFixedAI(2,v[1],l);if(l.length<3)throw new H;let p=l.substring(0,3);for(let v of nt.THREE_DIGIT_DATA_LENGTH)if(v[0]===p)return v[1]===nt.VARIABLE_LENGTH?nt.processVariableAI(3,v[2],l):nt.processFixedAI(3,v[1],l);for(let v of nt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH)if(v[0]===p)return v[1]===nt.VARIABLE_LENGTH?nt.processVariableAI(4,v[2],l):nt.processFixedAI(4,v[1],l);if(l.length<4)throw new H;let g=l.substring(0,4);for(let v of nt.FOUR_DIGIT_DATA_LENGTH)if(v[0]===g)return v[1]===nt.VARIABLE_LENGTH?nt.processVariableAI(4,v[2],l):nt.processFixedAI(4,v[1],l);throw new H}static processFixedAI(l,f,p){if(p.length<l)throw new H;let g=p.substring(0,l);if(p.length<l+f)throw new H;let v=p.substring(l,l+f),x=p.substring(l+f),S="("+g+")"+v,P=nt.parseFieldsInGeneralPurpose(x);return P==null?S:S+P}static processVariableAI(l,f,p){let g=p.substring(0,l),v;p.length<l+f?v=p.length:v=l+f;let x=p.substring(l,v),S=p.substring(v),P="("+g+")"+x,j=nt.parseFieldsInGeneralPurpose(S);return j==null?P:P+j}}nt.VARIABLE_LENGTH=[],nt.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",nt.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",nt.VARIABLE_LENGTH,20],["22",nt.VARIABLE_LENGTH,29],["30",nt.VARIABLE_LENGTH,8],["37",nt.VARIABLE_LENGTH,8],["90",nt.VARIABLE_LENGTH,30],["91",nt.VARIABLE_LENGTH,30],["92",nt.VARIABLE_LENGTH,30],["93",nt.VARIABLE_LENGTH,30],["94",nt.VARIABLE_LENGTH,30],["95",nt.VARIABLE_LENGTH,30],["96",nt.VARIABLE_LENGTH,30],["97",nt.VARIABLE_LENGTH,3],["98",nt.VARIABLE_LENGTH,30],["99",nt.VARIABLE_LENGTH,30]],nt.THREE_DIGIT_DATA_LENGTH=[["240",nt.VARIABLE_LENGTH,30],["241",nt.VARIABLE_LENGTH,30],["242",nt.VARIABLE_LENGTH,6],["250",nt.VARIABLE_LENGTH,30],["251",nt.VARIABLE_LENGTH,30],["253",nt.VARIABLE_LENGTH,17],["254",nt.VARIABLE_LENGTH,20],["400",nt.VARIABLE_LENGTH,30],["401",nt.VARIABLE_LENGTH,30],["402",17],["403",nt.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",nt.VARIABLE_LENGTH,20],["421",nt.VARIABLE_LENGTH,15],["422",3],["423",nt.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],nt.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",nt.VARIABLE_LENGTH,15],["391",nt.VARIABLE_LENGTH,18],["392",nt.VARIABLE_LENGTH,15],["393",nt.VARIABLE_LENGTH,18],["703",nt.VARIABLE_LENGTH,30]],nt.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",nt.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",nt.VARIABLE_LENGTH,20],["8003",nt.VARIABLE_LENGTH,30],["8004",nt.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",nt.VARIABLE_LENGTH,30],["8008",nt.VARIABLE_LENGTH,12],["8018",18],["8020",nt.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",nt.VARIABLE_LENGTH,70],["8200",nt.VARIABLE_LENGTH,70]];class Ll{constructor(l){this.buffer=new V,this.information=l}decodeAllCodes(l,f){let p=f,g=null;do{let v=this.decodeGeneralPurposeField(p,g),x=nt.parseFieldsInGeneralPurpose(v.getNewString());if(x!=null&&l.append(x),v.isRemaining()?g=""+v.getRemainingValue():g=null,p===v.getNewPosition())break;p=v.getNewPosition()}while(!0);return l.toString()}isStillNumeric(l){if(l+7>this.information.getSize())return l+4<=this.information.getSize();for(let f=l;f<l+3;++f)if(this.information.get(f))return!0;return this.information.get(l+3)}decodeNumeric(l){if(l+7>this.information.getSize()){let v=this.extractNumericValueFromBitArray(l,4);return v===0?new ts(this.information.getSize(),ts.FNC1,ts.FNC1):new ts(this.information.getSize(),v-1,ts.FNC1)}let f=this.extractNumericValueFromBitArray(l,7),p=(f-8)/11,g=(f-8)%11;return new ts(l+7,p,g)}extractNumericValueFromBitArray(l,f){return Ll.extractNumericValueFromBitArray(this.information,l,f)}static extractNumericValueFromBitArray(l,f,p){let g=0;for(let v=0;v<p;++v)l.get(f+v)&&(g|=1<<p-v-1);return g}decodeGeneralPurposeField(l,f){this.buffer.setLengthToZero(),f!=null&&this.buffer.append(f),this.current.setPosition(l);let p=this.parseBlocks();return p!=null&&p.isRemaining()?new Fl(this.current.getPosition(),this.buffer.toString(),p.getRemainingValue()):new Fl(this.current.getPosition(),this.buffer.toString())}parseBlocks(){let l,f;do{let p=this.current.getPosition();if(this.current.isAlpha()?(f=this.parseAlphaBlock(),l=f.isFinished()):this.current.isIsoIec646()?(f=this.parseIsoIec646Block(),l=f.isFinished()):(f=this.parseNumericBlock(),l=f.isFinished()),!(p!==this.current.getPosition())&&!l)break}while(!l);return f.getDecodedInformation()}parseNumericBlock(){for(;this.isStillNumeric(this.current.getPosition());){let l=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFirstDigitFNC1()){let f;return l.isSecondDigitFNC1()?f=new Fl(this.current.getPosition(),this.buffer.toString()):f=new Fl(this.current.getPosition(),this.buffer.toString(),l.getSecondDigit()),new Qa(!0,f)}if(this.buffer.append(l.getFirstDigit()),l.isSecondDigitFNC1()){let f=new Fl(this.current.getPosition(),this.buffer.toString());return new Qa(!0,f)}this.buffer.append(l.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new Qa(!1)}parseIsoIec646Block(){for(;this.isStillIsoIec646(this.current.getPosition());){let l=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Fl(this.current.getPosition(),this.buffer.toString());return new Qa(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new Qa(!1)}parseAlphaBlock(){for(;this.isStillAlpha(this.current.getPosition());){let l=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(l.getNewPosition()),l.isFNC1()){let f=new Fl(this.current.getPosition(),this.buffer.toString());return new Qa(!0,f)}this.buffer.append(l.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new Qa(!1)}isStillIsoIec646(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+7>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<116)return!0;if(l+8>this.information.getSize())return!1;let g=this.extractNumericValueFromBitArray(l,8);return g>=232&&g<253}decodeIsoIec646(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new Ri(l+5,Ri.FNC1);if(f>=5&&f<15)return new Ri(l+5,"0"+(f-5));let p=this.extractNumericValueFromBitArray(l,7);if(p>=64&&p<90)return new Ri(l+7,""+(p+1));if(p>=90&&p<116)return new Ri(l+7,""+(p+7));let g=this.extractNumericValueFromBitArray(l,8),v;switch(g){case 232:v="!";break;case 233:v='"';break;case 234:v="%";break;case 235:v="&";break;case 236:v="'";break;case 237:v="(";break;case 238:v=")";break;case 239:v="*";break;case 240:v="+";break;case 241:v=",";break;case 242:v="-";break;case 243:v=".";break;case 244:v="/";break;case 245:v=":";break;case 246:v=";";break;case 247:v="<";break;case 248:v="=";break;case 249:v=">";break;case 250:v="?";break;case 251:v="_";break;case 252:v=" ";break;default:throw new M}return new Ri(l+8,v)}isStillAlpha(l){if(l+5>this.information.getSize())return!1;let f=this.extractNumericValueFromBitArray(l,5);if(f>=5&&f<16)return!0;if(l+6>this.information.getSize())return!1;let p=this.extractNumericValueFromBitArray(l,6);return p>=16&&p<63}decodeAlphanumeric(l){let f=this.extractNumericValueFromBitArray(l,5);if(f===15)return new Ri(l+5,Ri.FNC1);if(f>=5&&f<15)return new Ri(l+5,"0"+(f-5));let p=this.extractNumericValueFromBitArray(l,6);if(p>=32&&p<58)return new Ri(l+6,""+(p+33));let g;switch(p){case 58:g="*";break;case 59:g=",";break;case 60:g="-";break;case 61:g=".";break;case 62:g="/";break;default:throw new dt("Decoding invalid alphanumeric value: "+p)}return new Ri(l+6,g)}isAlphaTo646ToAlphaLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<5&&f+l<this.information.getSize();++f)if(f===2){if(!this.information.get(l+2))return!1}else if(this.information.get(l+f))return!1;return!0}isAlphaOr646ToNumericLatch(l){if(l+3>this.information.getSize())return!1;for(let f=l;f<l+3;++f)if(this.information.get(f))return!1;return!0}isNumericToAlphaNumericLatch(l){if(l+1>this.information.getSize())return!1;for(let f=0;f<4&&f+l<this.information.getSize();++f)if(this.information.get(l+f))return!1;return!0}}class vr{constructor(l){this.information=l,this.generalDecoder=new Ll(l)}getInformation(){return this.information}getGeneralDecoder(){return this.generalDecoder}}class Si extends vr{constructor(l){super(l)}encodeCompressedGtin(l,f){l.append("(01)");let p=l.length();l.append("9"),this.encodeCompressedGtinWithoutAI(l,f,p)}encodeCompressedGtinWithoutAI(l,f,p){for(let g=0;g<4;++g){let v=this.getGeneralDecoder().extractNumericValueFromBitArray(f+10*g,10);v/100===0&&l.append("0"),v/10===0&&l.append("0"),l.append(v)}Si.appendCheckDigit(l,p)}static appendCheckDigit(l,f){let p=0;for(let g=0;g<13;g++){let v=l.charAt(g+f).charCodeAt(0)-48;p+=g&1?v:3*v}p=10-p%10,p===10&&(p=0),l.append(p)}}Si.GTIN_SIZE=40;class rr extends Si{constructor(l){super(l)}parseInformation(){let l=new V;l.append("(01)");let f=l.length(),p=this.getGeneralDecoder().extractNumericValueFromBitArray(rr.HEADER_SIZE,4);return l.append(p),this.encodeCompressedGtinWithoutAI(l,rr.HEADER_SIZE+4,f),this.getGeneralDecoder().decodeAllCodes(l,rr.HEADER_SIZE+44)}}rr.HEADER_SIZE=4;class bd extends vr{constructor(l){super(l)}parseInformation(){let l=new V;return this.getGeneralDecoder().decodeAllCodes(l,bd.HEADER_SIZE)}}bd.HEADER_SIZE=5;class $n extends Si{constructor(l){super(l)}encodeCompressedWeight(l,f,p){let g=this.getGeneralDecoder().extractNumericValueFromBitArray(f,p);this.addWeightCode(l,g);let v=this.checkWeight(g),x=1e5;for(let S=0;S<5;++S)v/x===0&&l.append("0"),x/=10;l.append(v)}}class Fi extends $n{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()!=Fi.HEADER_SIZE+$n.GTIN_SIZE+Fi.WEIGHT_SIZE)throw new H;let l=new V;return this.encodeCompressedGtin(l,Fi.HEADER_SIZE),this.encodeCompressedWeight(l,Fi.HEADER_SIZE+$n.GTIN_SIZE,Fi.WEIGHT_SIZE),l.toString()}}Fi.HEADER_SIZE=5,Fi.WEIGHT_SIZE=15;class qg extends Fi{constructor(l){super(l)}addWeightCode(l,f){l.append("(3103)")}checkWeight(l){return l}}class px extends Fi{constructor(l){super(l)}addWeightCode(l,f){f<1e4?l.append("(3202)"):l.append("(3203)")}checkWeight(l){return l<1e4?l:l-1e4}}class _s extends Si{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<_s.HEADER_SIZE+Si.GTIN_SIZE)throw new H;let l=new V;this.encodeCompressedGtin(l,_s.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(_s.HEADER_SIZE+Si.GTIN_SIZE,_s.LAST_DIGIT_SIZE);l.append("(392"),l.append(f),l.append(")");let p=this.getGeneralDecoder().decodeGeneralPurposeField(_s.HEADER_SIZE+Si.GTIN_SIZE+_s.LAST_DIGIT_SIZE,null);return l.append(p.getNewString()),l.toString()}}_s.HEADER_SIZE=8,_s.LAST_DIGIT_SIZE=2;class di extends Si{constructor(l){super(l)}parseInformation(){if(this.getInformation().getSize()<di.HEADER_SIZE+Si.GTIN_SIZE)throw new H;let l=new V;this.encodeCompressedGtin(l,di.HEADER_SIZE);let f=this.getGeneralDecoder().extractNumericValueFromBitArray(di.HEADER_SIZE+Si.GTIN_SIZE,di.LAST_DIGIT_SIZE);l.append("(393"),l.append(f),l.append(")");let p=this.getGeneralDecoder().extractNumericValueFromBitArray(di.HEADER_SIZE+Si.GTIN_SIZE+di.LAST_DIGIT_SIZE,di.FIRST_THREE_DIGITS_SIZE);p/100==0&&l.append("0"),p/10==0&&l.append("0"),l.append(p);let g=this.getGeneralDecoder().decodeGeneralPurposeField(di.HEADER_SIZE+Si.GTIN_SIZE+di.LAST_DIGIT_SIZE+di.FIRST_THREE_DIGITS_SIZE,null);return l.append(g.getNewString()),l.toString()}}di.HEADER_SIZE=8,di.LAST_DIGIT_SIZE=2,di.FIRST_THREE_DIGITS_SIZE=10;class jn extends $n{constructor(l,f,p){super(l),this.dateCode=p,this.firstAIdigits=f}parseInformation(){if(this.getInformation().getSize()!=jn.HEADER_SIZE+jn.GTIN_SIZE+jn.WEIGHT_SIZE+jn.DATE_SIZE)throw new H;let l=new V;return this.encodeCompressedGtin(l,jn.HEADER_SIZE),this.encodeCompressedWeight(l,jn.HEADER_SIZE+jn.GTIN_SIZE,jn.WEIGHT_SIZE),this.encodeCompressedDate(l,jn.HEADER_SIZE+jn.GTIN_SIZE+jn.WEIGHT_SIZE),l.toString()}encodeCompressedDate(l,f){let p=this.getGeneralDecoder().extractNumericValueFromBitArray(f,jn.DATE_SIZE);if(p==38400)return;l.append("("),l.append(this.dateCode),l.append(")");let g=p%32;p/=32;let v=p%12+1;p/=12;let x=p;x/10==0&&l.append("0"),l.append(x),v/10==0&&l.append("0"),l.append(v),g/10==0&&l.append("0"),l.append(g)}addWeightCode(l,f){l.append("("),l.append(this.firstAIdigits),l.append(f/1e5),l.append(")")}checkWeight(l){return l%1e5}}jn.HEADER_SIZE=8,jn.WEIGHT_SIZE=20,jn.DATE_SIZE=16;function Bl($){try{if($.get(1))return new rr($);if(!$.get(2))return new bd($);switch(Ll.extractNumericValueFromBitArray($,1,4)){case 4:return new qg($);case 5:return new px($)}switch(Ll.extractNumericValueFromBitArray($,1,5)){case 12:return new _s($);case 13:return new di($)}switch(Ll.extractNumericValueFromBitArray($,1,7)){case 56:return new jn($,"310","11");case 57:return new jn($,"320","11");case 58:return new jn($,"310","13");case 59:return new jn($,"320","13");case 60:return new jn($,"310","15");case 61:return new jn($,"320","15");case 62:return new jn($,"310","17");case 63:return new jn($,"320","17")}}catch(l){throw console.log(l),new dt("unknown decoder: "+$)}}class Ys{constructor(l,f,p,g){this.leftchar=l,this.rightchar=f,this.finderpattern=p,this.maybeLast=g}mayBeLast(){return this.maybeLast}getLeftChar(){return this.leftchar}getRightChar(){return this.rightchar}getFinderPattern(){return this.finderpattern}mustBeLast(){return this.rightchar==null}toString(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"}static equals(l,f){return l instanceof Ys?Ys.equalsOrNull(l.leftchar,f.leftchar)&&Ys.equalsOrNull(l.rightchar,f.rightchar)&&Ys.equalsOrNull(l.finderpattern,f.finderpattern):!1}static equalsOrNull(l,f){return l===null?f===null:Ys.equals(l,f)}hashCode(){return this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue()}}class Ja{constructor(l,f,p){this.pairs=l,this.rowNumber=f,this.wasReversed=p}getPairs(){return this.pairs}getRowNumber(){return this.rowNumber}isReversed(){return this.wasReversed}isEquivalent(l){return this.checkEqualitity(this,l)}toString(){return"{ "+this.pairs+" }"}equals(l,f){return l instanceof Ja?this.checkEqualitity(l,f)&&l.wasReversed===f.wasReversed:!1}checkEqualitity(l,f){if(!l||!f)return;let p;return l.forEach((g,v)=>{f.forEach(x=>{g.getLeftChar().getValue()===x.getLeftChar().getValue()&&g.getRightChar().getValue()===x.getRightChar().getValue()&&g.getFinderPatter().getValue()===x.getFinderPatter().getValue()&&(p=!0)})}),p}}class De extends ui{constructor(l){super(...arguments),this.pairs=new Array(De.MAX_PAIRS),this.rows=new Array,this.startEnd=[2],this.verbose=l===!0}decodeRow(l,f,p){this.pairs.length=0,this.startFromEven=!1;try{return De.constructResult(this.decodeRow2pairs(l,f))}catch(g){this.verbose&&console.log(g)}return this.pairs.length=0,this.startFromEven=!0,De.constructResult(this.decodeRow2pairs(l,f))}reset(){this.pairs.length=0,this.rows.length=0}decodeRow2pairs(l,f){let p=!1;for(;!p;)try{this.pairs.push(this.retrieveNextPair(f,this.pairs,l))}catch(v){if(v instanceof H){if(!this.pairs.length)throw new H;p=!0}}if(this.checkChecksum())return this.pairs;let g;if(this.rows.length?g=!0:g=!1,this.storeRow(l,!1),g){let v=this.checkRowsBoolean(!1);if(v!=null||(v=this.checkRowsBoolean(!0),v!=null))return v}throw new H}checkRowsBoolean(l){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,l&&(this.rows=this.rows.reverse());let f=null;try{f=this.checkRows(new Array,0)}catch(p){this.verbose&&console.log(p)}return l&&(this.rows=this.rows.reverse()),f}checkRows(l,f){for(let p=f;p<this.rows.length;p++){let g=this.rows[p];this.pairs.length=0;for(let x of l)this.pairs.push(x.getPairs());if(this.pairs.push(g.getPairs()),!De.isValidSequence(this.pairs))continue;if(this.checkChecksum())return this.pairs;let v=new Array(l);v.push(g);try{return this.checkRows(v,p+1)}catch(x){this.verbose&&console.log(x)}}throw new H}static isValidSequence(l){for(let f of De.FINDER_PATTERN_SEQUENCES){if(l.length>f.length)continue;let p=!0;for(let g=0;g<l.length;g++)if(l[g].getFinderPattern().getValue()!=f[g]){p=!1;break}if(p)return!0}return!1}storeRow(l,f){let p=0,g=!1,v=!1;for(;p<this.rows.length;){let x=this.rows[p];if(x.getRowNumber()>l){v=x.isEquivalent(this.pairs);break}g=x.isEquivalent(this.pairs),p++}v||g||De.isPartialRow(this.pairs,this.rows)||(this.rows.push(p,new Ja(this.pairs,l,f)),this.removePartialRows(this.pairs,this.rows))}removePartialRows(l,f){for(let p of f)if(p.getPairs().length!==l.length){for(let g of p.getPairs())for(let v of l)if(Ys.equals(g,v))break}}static isPartialRow(l,f){for(let p of f){let g=!0;for(let v of l){let x=!1;for(let S of p.getPairs())if(v.equals(S)){x=!0;break}if(!x){g=!1;break}}if(g)return!0}return!1}getRows(){return this.rows}static constructResult(l){let f=Hg.buildBitArray(l),g=Bl(f).parseInformation(),v=l[0].getFinderPattern().getResultPoints(),x=l[l.length-1].getFinderPattern().getResultPoints(),S=[v[0],v[1],x[0],x[1]];return new he(g,null,null,S,me.RSS_EXPANDED,null)}checkChecksum(){let l=this.pairs.get(0),f=l.getLeftChar(),p=l.getRightChar();if(p==null)return!1;let g=p.getChecksumPortion(),v=2;for(let S=1;S<this.pairs.size();++S){let P=this.pairs.get(S);g+=P.getLeftChar().getChecksumPortion(),v++;let j=P.getRightChar();j!=null&&(g+=j.getChecksumPortion(),v++)}return g%=211,211*(v-4)+g==f.getValue()}static getNextSecondBar(l,f){let p;return l.get(f)?(p=l.getNextUnset(f),p=l.getNextSet(p)):(p=l.getNextSet(f),p=l.getNextUnset(p)),p}retrieveNextPair(l,f,p){let g=f.length%2==0;this.startFromEven&&(g=!g);let v,x=!0,S=-1;do this.findNextPair(l,f,S),v=this.parseFoundFinderPattern(l,p,g),v==null?S=De.getNextSecondBar(l,this.startEnd[0]):x=!1;while(x);let P=this.decodeDataCharacter(l,v,g,!0);if(!this.isEmptyPair(f)&&f[f.length-1].mustBeLast())throw new H;let j;try{j=this.decodeDataCharacter(l,v,g,!1)}catch(D){j=null,this.verbose&&console.log(D)}return new Ys(P,j,v,!0)}isEmptyPair(l){return l.length===0}findNextPair(l,f,p){let g=this.getDecodeFinderCounters();g[0]=0,g[1]=0,g[2]=0,g[3]=0;let v=l.getSize(),x;p>=0?x=p:this.isEmptyPair(f)?x=0:x=f[f.length-1].getFinderPattern().getStartEnd()[1];let S=f.length%2!=0;this.startFromEven&&(S=!S);let P=!1;for(;x<v&&(P=!l.get(x),!!P);)x++;let j=0,D=x;for(let z=x;z<v;z++)if(l.get(z)!=P)g[j]++;else{if(j==3){if(S&&De.reverseCounters(g),De.isFinderPattern(g)){this.startEnd[0]=D,this.startEnd[1]=z;return}S&&De.reverseCounters(g),D+=g[0]+g[1],g[0]=g[2],g[1]=g[3],g[2]=0,g[3]=0,j--}else j++;g[j]=1,P=!P}throw new H}static reverseCounters(l){let f=l.length;for(let p=0;p<f/2;++p){let g=l[p];l[p]=l[f-p-1],l[f-p-1]=g}}parseFoundFinderPattern(l,f,p){let g,v,x;if(p){let j=this.startEnd[0]-1;for(;j>=0&&!l.get(j);)j--;j++,g=this.startEnd[0]-j,v=j,x=this.startEnd[1]}else v=this.startEnd[0],x=l.getNextUnset(this.startEnd[1]+1),g=x-this.startEnd[1];let S=this.getDecodeFinderCounters();w.arraycopy(S,0,S,1,S.length-1),S[0]=g;let P;try{P=this.parseFinderValue(S,De.FINDER_PATTERNS)}catch{return null}return new $r(P,[v,x],v,x,f)}decodeDataCharacter(l,f,p,g){let v=this.getDataCharacterCounters();for(let In=0;In<v.length;In++)v[In]=0;if(g)De.recordPatternInReverse(l,f.getStartEnd()[0],v);else{De.recordPattern(l,f.getStartEnd()[1],v);for(let In=0,_i=v.length-1;In<_i;In++,_i--){let Qs=v[In];v[In]=v[_i],v[_i]=Qs}}let x=17,S=ct.sum(new Int32Array(v))/x,P=(f.getStartEnd()[1]-f.getStartEnd()[0])/15;if(Math.abs(S-P)/P>.3)throw new H;let j=this.getOddCounts(),D=this.getEvenCounts(),z=this.getOddRoundingErrors(),K=this.getEvenRoundingErrors();for(let In=0;In<v.length;In++){let _i=1*v[In]/S,Qs=_i+.5;if(Qs<1){if(_i<.3)throw new H;Qs=1}else if(Qs>8){if(_i>8.7)throw new H;Qs=8}let xh=In/2;In&1?(D[xh]=Qs,K[xh]=_i-Qs):(j[xh]=Qs,z[xh]=_i-Qs)}this.adjustOddEvenCounts(x);let se=4*f.getValue()+(p?0:2)+(g?0:1)-1,ce=0,ue=0;for(let In=j.length-1;In>=0;In--){if(De.isNotA1left(f,p,g)){let _i=De.WEIGHTS[se][2*In];ue+=j[In]*_i}ce+=j[In]}let ye=0;for(let In=D.length-1;In>=0;In--)if(De.isNotA1left(f,p,g)){let _i=De.WEIGHTS[se][2*In+1];ye+=D[In]*_i}let Ce=ue+ye;if(ce&1||ce>13||ce<4)throw new H;let Ge=(13-ce)/2,qe=De.SYMBOL_WIDEST[Ge],Ue=9-qe,an=Es.getRSSvalue(j,qe,!0),Wt=Es.getRSSvalue(D,Ue,!1),Ts=De.EVEN_TOTAL_SUBSET[Ge],io=De.GSUM[Ge],Ns=an*Ts+Wt+io;return new qc(Ns,Ce)}static isNotA1left(l,f,p){return!(l.getValue()==0&&f&&p)}adjustOddEvenCounts(l){let f=ct.sum(new Int32Array(this.getOddCounts())),p=ct.sum(new Int32Array(this.getEvenCounts())),g=!1,v=!1;f>13?v=!0:f<4&&(g=!0);let x=!1,S=!1;p>13?S=!0:p<4&&(x=!0);let P=f+p-l,j=(f&1)==1,D=(p&1)==0;if(P==1)if(j){if(D)throw new H;v=!0}else{if(!D)throw new H;S=!0}else if(P==-1)if(j){if(D)throw new H;g=!0}else{if(!D)throw new H;x=!0}else if(P==0){if(j){if(!D)throw new H;f<p?(g=!0,S=!0):(v=!0,x=!0)}else if(D)throw new H}else throw new H;if(g){if(v)throw new H;De.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(v&&De.decrement(this.getOddCounts(),this.getOddRoundingErrors()),x){if(S)throw new H;De.increment(this.getEvenCounts(),this.getOddRoundingErrors())}S&&De.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}De.SYMBOL_WIDEST=[7,5,4,3,1],De.EVEN_TOTAL_SUBSET=[4,20,52,104,204],De.GSUM=[0,348,1388,2948,3988],De.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],De.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],De.FINDER_PAT_A=0,De.FINDER_PAT_B=1,De.FINDER_PAT_C=2,De.FINDER_PAT_D=3,De.FINDER_PAT_E=4,De.FINDER_PAT_F=5,De.FINDER_PATTERN_SEQUENCES=[[De.FINDER_PAT_A,De.FINDER_PAT_A],[De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B],[De.FINDER_PAT_A,De.FINDER_PAT_C,De.FINDER_PAT_B,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_C],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_E,De.FINDER_PAT_B,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F],[De.FINDER_PAT_A,De.FINDER_PAT_A,De.FINDER_PAT_B,De.FINDER_PAT_B,De.FINDER_PAT_C,De.FINDER_PAT_D,De.FINDER_PAT_D,De.FINDER_PAT_E,De.FINDER_PAT_E,De.FINDER_PAT_F,De.FINDER_PAT_F]],De.MAX_PAIRS=11;class Kg extends qc{constructor(l,f,p){super(l,f),this.count=0,this.finderPattern=p}getFinderPattern(){return this.finderPattern}getCount(){return this.count}incrementCount(){this.count++}}class An extends ui{constructor(){super(...arguments),this.possibleLeftPairs=[],this.possibleRightPairs=[]}decodeRow(l,f,p){const g=this.decodePair(f,!1,l,p);An.addOrTally(this.possibleLeftPairs,g),f.reverse();let v=this.decodePair(f,!0,l,p);An.addOrTally(this.possibleRightPairs,v),f.reverse();for(let x of this.possibleLeftPairs)if(x.getCount()>1){for(let S of this.possibleRightPairs)if(S.getCount()>1&&An.checkChecksum(x,S))return An.constructResult(x,S)}throw new H}static addOrTally(l,f){if(f==null)return;let p=!1;for(let g of l)if(g.getValue()===f.getValue()){g.incrementCount(),p=!0;break}p||l.push(f)}reset(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0}static constructResult(l,f){let p=4537077*l.getValue()+f.getValue(),g=new String(p).toString(),v=new V;for(let j=13-g.length;j>0;j--)v.append("0");v.append(g);let x=0;for(let j=0;j<13;j++){let D=v.charAt(j).charCodeAt(0)-48;x+=j&1?D:3*D}x=10-x%10,x===10&&(x=0),v.append(x.toString());let S=l.getFinderPattern().getResultPoints(),P=f.getFinderPattern().getResultPoints();return new he(v.toString(),null,0,[S[0],S[1],P[0],P[1]],me.RSS_14,new Date().getTime())}static checkChecksum(l,f){let p=(l.getChecksumPortion()+16*f.getChecksumPortion())%79,g=9*l.getFinderPattern().getValue()+f.getFinderPattern().getValue();return g>72&&g--,g>8&&g--,p===g}decodePair(l,f,p,g){try{let v=this.findFinderPattern(l,f),x=this.parseFoundFinderPattern(l,p,f,v),S=g==null?null:g.get(k.NEED_RESULT_POINT_CALLBACK);if(S!=null){let D=(v[0]+v[1])/2;f&&(D=l.getSize()-1-D),S.foundPossibleResultPoint(new Ze(D,p))}let P=this.decodeDataCharacter(l,x,!0),j=this.decodeDataCharacter(l,x,!1);return new Kg(1597*P.getValue()+j.getValue(),P.getChecksumPortion()+4*j.getChecksumPortion(),x)}catch{return null}}decodeDataCharacter(l,f,p){let g=this.getDataCharacterCounters();for(let ye=0;ye<g.length;ye++)g[ye]=0;if(p)Vt.recordPatternInReverse(l,f.getStartEnd()[0],g);else{Vt.recordPattern(l,f.getStartEnd()[1]+1,g);for(let ye=0,Ce=g.length-1;ye<Ce;ye++,Ce--){let Ge=g[ye];g[ye]=g[Ce],g[Ce]=Ge}}let v=p?16:15,x=ct.sum(new Int32Array(g))/v,S=this.getOddCounts(),P=this.getEvenCounts(),j=this.getOddRoundingErrors(),D=this.getEvenRoundingErrors();for(let ye=0;ye<g.length;ye++){let Ce=g[ye]/x,Ge=Math.floor(Ce+.5);Ge<1?Ge=1:Ge>8&&(Ge=8);let qe=Math.floor(ye/2);ye&1?(P[qe]=Ge,D[qe]=Ce-Ge):(S[qe]=Ge,j[qe]=Ce-Ge)}this.adjustOddEvenCounts(p,v);let z=0,K=0;for(let ye=S.length-1;ye>=0;ye--)K*=9,K+=S[ye],z+=S[ye];let se=0,ce=0;for(let ye=P.length-1;ye>=0;ye--)se*=9,se+=P[ye],ce+=P[ye];let ue=K+3*se;if(p){if(z&1||z>12||z<4)throw new H;let ye=(12-z)/2,Ce=An.OUTSIDE_ODD_WIDEST[ye],Ge=9-Ce,qe=Es.getRSSvalue(S,Ce,!1),Ue=Es.getRSSvalue(P,Ge,!0),an=An.OUTSIDE_EVEN_TOTAL_SUBSET[ye],Wt=An.OUTSIDE_GSUM[ye];return new qc(qe*an+Ue+Wt,ue)}else{if(ce&1||ce>10||ce<4)throw new H;let ye=(10-ce)/2,Ce=An.INSIDE_ODD_WIDEST[ye],Ge=9-Ce,qe=Es.getRSSvalue(S,Ce,!0),Ue=Es.getRSSvalue(P,Ge,!1),an=An.INSIDE_ODD_TOTAL_SUBSET[ye],Wt=An.INSIDE_GSUM[ye];return new qc(Ue*an+qe+Wt,ue)}}findFinderPattern(l,f){let p=this.getDecodeFinderCounters();p[0]=0,p[1]=0,p[2]=0,p[3]=0;let g=l.getSize(),v=!1,x=0;for(;x<g&&(v=!l.get(x),f!==v);)x++;let S=0,P=x;for(let j=x;j<g;j++)if(l.get(j)!==v)p[S]++;else{if(S===3){if(ui.isFinderPattern(p))return[P,j];P+=p[0]+p[1],p[0]=p[2],p[1]=p[3],p[2]=0,p[3]=0,S--}else S++;p[S]=1,v=!v}throw new H}parseFoundFinderPattern(l,f,p,g){let v=l.get(g[0]),x=g[0]-1;for(;x>=0&&v!==l.get(x);)x--;x++;const S=g[0]-x,P=this.getDecodeFinderCounters(),j=new Int32Array(P.length);w.arraycopy(P,0,j,1,P.length-1),j[0]=S;const D=this.parseFinderValue(j,An.FINDER_PATTERNS);let z=x,K=g[1];return p&&(z=l.getSize()-1-z,K=l.getSize()-1-K),new $r(D,[x,g[1]],z,K,f)}adjustOddEvenCounts(l,f){let p=ct.sum(new Int32Array(this.getOddCounts())),g=ct.sum(new Int32Array(this.getEvenCounts())),v=!1,x=!1,S=!1,P=!1;l?(p>12?x=!0:p<4&&(v=!0),g>12?P=!0:g<4&&(S=!0)):(p>11?x=!0:p<5&&(v=!0),g>10?P=!0:g<4&&(S=!0));let j=p+g-f,D=(p&1)===(l?1:0),z=(g&1)===1;if(j===1)if(D){if(z)throw new H;x=!0}else{if(!z)throw new H;P=!0}else if(j===-1)if(D){if(z)throw new H;v=!0}else{if(!z)throw new H;S=!0}else if(j===0){if(D){if(!z)throw new H;p<g?(v=!0,P=!0):(x=!0,S=!0)}else if(z)throw new H}else throw new H;if(v){if(x)throw new H;ui.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(x&&ui.decrement(this.getOddCounts(),this.getOddRoundingErrors()),S){if(P)throw new H;ui.increment(this.getEvenCounts(),this.getOddRoundingErrors())}P&&ui.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())}}An.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],An.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],An.OUTSIDE_GSUM=[0,161,961,2015,2715],An.INSIDE_GSUM=[0,336,1036,1516],An.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],An.INSIDE_ODD_WIDEST=[2,4,6,8],An.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])];class eo extends Vt{constructor(l,f){super(),this.readers=[],this.verbose=f===!0;const p=l?l.get(k.POSSIBLE_FORMATS):null,g=l&&l.get(k.ASSUME_CODE_39_CHECK_DIGIT)!==void 0;p?((p.includes(me.EAN_13)||p.includes(me.UPC_A)||p.includes(me.EAN_8)||p.includes(me.UPC_E))&&this.readers.push(new Wg(l)),p.includes(me.CODE_39)&&this.readers.push(new Ln(g)),p.includes(me.CODE_128)&&this.readers.push(new Ke),p.includes(me.ITF)&&this.readers.push(new rn),p.includes(me.RSS_14)&&this.readers.push(new An),p.includes(me.RSS_EXPANDED)&&this.readers.push(new De(this.verbose))):(this.readers.push(new Wg(l)),this.readers.push(new Ln),this.readers.push(new Wg(l)),this.readers.push(new Ke),this.readers.push(new rn),this.readers.push(new An),this.readers.push(new De(this.verbose)))}decodeRow(l,f,p){for(let g=0;g<this.readers.length;g++)try{return this.readers[g].decodeRow(l,f,p)}catch{}throw new H}reset(){this.readers.forEach(l=>l.reset())}}class mh extends pe{constructor(l=500,f){super(new eo(f),l,f)}}class fn{constructor(l,f,p){this.ecCodewords=l,this.ecBlocks=[f],p&&this.ecBlocks.push(p)}getECCodewords(){return this.ecCodewords}getECBlocks(){return this.ecBlocks}}class ln{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class tn{constructor(l,f,p,g,v,x){this.versionNumber=l,this.symbolSizeRows=f,this.symbolSizeColumns=p,this.dataRegionSizeRows=g,this.dataRegionSizeColumns=v,this.ecBlocks=x;let S=0;const P=x.getECCodewords(),j=x.getECBlocks();for(let D of j)S+=D.getCount()*(D.getDataCodewords()+P);this.totalCodewords=S}getVersionNumber(){return this.versionNumber}getSymbolSizeRows(){return this.symbolSizeRows}getSymbolSizeColumns(){return this.symbolSizeColumns}getDataRegionSizeRows(){return this.dataRegionSizeRows}getDataRegionSizeColumns(){return this.dataRegionSizeColumns}getTotalCodewords(){return this.totalCodewords}getECBlocks(){return this.ecBlocks}static getVersionForDimensions(l,f){if(l&1||f&1)throw new M;for(let p of tn.VERSIONS)if(p.symbolSizeRows===l&&p.symbolSizeColumns===f)return p;throw new M}toString(){return""+this.versionNumber}static buildVersions(){return[new tn(1,10,10,8,8,new fn(5,new ln(1,3))),new tn(2,12,12,10,10,new fn(7,new ln(1,5))),new tn(3,14,14,12,12,new fn(10,new ln(1,8))),new tn(4,16,16,14,14,new fn(12,new ln(1,12))),new tn(5,18,18,16,16,new fn(14,new ln(1,18))),new tn(6,20,20,18,18,new fn(18,new ln(1,22))),new tn(7,22,22,20,20,new fn(20,new ln(1,30))),new tn(8,24,24,22,22,new fn(24,new ln(1,36))),new tn(9,26,26,24,24,new fn(28,new ln(1,44))),new tn(10,32,32,14,14,new fn(36,new ln(1,62))),new tn(11,36,36,16,16,new fn(42,new ln(1,86))),new tn(12,40,40,18,18,new fn(48,new ln(1,114))),new tn(13,44,44,20,20,new fn(56,new ln(1,144))),new tn(14,48,48,22,22,new fn(68,new ln(1,174))),new tn(15,52,52,24,24,new fn(42,new ln(2,102))),new tn(16,64,64,14,14,new fn(56,new ln(2,140))),new tn(17,72,72,16,16,new fn(36,new ln(4,92))),new tn(18,80,80,18,18,new fn(48,new ln(4,114))),new tn(19,88,88,20,20,new fn(56,new ln(4,144))),new tn(20,96,96,22,22,new fn(68,new ln(4,174))),new tn(21,104,104,24,24,new fn(56,new ln(6,136))),new tn(22,120,120,18,18,new fn(68,new ln(6,175))),new tn(23,132,132,20,20,new fn(62,new ln(8,163))),new tn(24,144,144,22,22,new fn(62,new ln(8,156),new ln(2,155))),new tn(25,8,18,6,16,new fn(7,new ln(1,5))),new tn(26,8,32,6,14,new fn(11,new ln(1,10))),new tn(27,12,26,10,24,new fn(14,new ln(1,16))),new tn(28,12,36,10,16,new fn(18,new ln(1,22))),new tn(29,16,36,14,16,new fn(24,new ln(1,32))),new tn(30,16,48,14,22,new fn(28,new ln(1,49)))]}}tn.VERSIONS=tn.buildVersions();class wd{constructor(l){const f=l.getHeight();if(f<8||f>144||f&1)throw new M;this.version=wd.readVersion(l),this.mappingBitMatrix=this.extractDataRegion(l),this.readMappingMatrix=new Z(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}getVersion(){return this.version}static readVersion(l){const f=l.getHeight(),p=l.getWidth();return tn.getVersionForDimensions(f,p)}readCodewords(){const l=new Int8Array(this.version.getTotalCodewords());let f=0,p=4,g=0;const v=this.mappingBitMatrix.getHeight(),x=this.mappingBitMatrix.getWidth();let S=!1,P=!1,j=!1,D=!1;do if(p===v&&g===0&&!S)l[f++]=this.readCorner1(v,x)&255,p-=2,g+=2,S=!0;else if(p===v-2&&g===0&&x&3&&!P)l[f++]=this.readCorner2(v,x)&255,p-=2,g+=2,P=!0;else if(p===v+4&&g===2&&!(x&7)&&!j)l[f++]=this.readCorner3(v,x)&255,p-=2,g+=2,j=!0;else if(p===v-2&&g===0&&(x&7)===4&&!D)l[f++]=this.readCorner4(v,x)&255,p-=2,g+=2,D=!0;else{do p<v&&g>=0&&!this.readMappingMatrix.get(g,p)&&(l[f++]=this.readUtah(p,g,v,x)&255),p-=2,g+=2;while(p>=0&&g<x);p+=1,g+=3;do p>=0&&g<x&&!this.readMappingMatrix.get(g,p)&&(l[f++]=this.readUtah(p,g,v,x)&255),p+=2,g-=2;while(p<v&&g>=0);p+=3,g+=1}while(p<v||g<x);if(f!==this.version.getTotalCodewords())throw new M;return l}readModule(l,f,p,g){return l<0&&(l+=p,f+=4-(p+4&7)),f<0&&(f+=g,l+=4-(g+4&7)),this.readMappingMatrix.set(f,l),this.mappingBitMatrix.get(f,l)}readUtah(l,f,p,g){let v=0;return this.readModule(l-2,f-2,p,g)&&(v|=1),v<<=1,this.readModule(l-2,f-1,p,g)&&(v|=1),v<<=1,this.readModule(l-1,f-2,p,g)&&(v|=1),v<<=1,this.readModule(l-1,f-1,p,g)&&(v|=1),v<<=1,this.readModule(l-1,f,p,g)&&(v|=1),v<<=1,this.readModule(l,f-2,p,g)&&(v|=1),v<<=1,this.readModule(l,f-1,p,g)&&(v|=1),v<<=1,this.readModule(l,f,p,g)&&(v|=1),v}readCorner1(l,f){let p=0;return this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,1,l,f)&&(p|=1),p<<=1,this.readModule(l-1,2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(2,f-1,l,f)&&(p|=1),p<<=1,this.readModule(3,f-1,l,f)&&(p|=1),p}readCorner2(l,f){let p=0;return this.readModule(l-3,0,l,f)&&(p|=1),p<<=1,this.readModule(l-2,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(0,f-4,l,f)&&(p|=1),p<<=1,this.readModule(0,f-3,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p}readCorner3(l,f){let p=0;return this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(0,f-3,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-3,l,f)&&(p|=1),p<<=1,this.readModule(1,f-2,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p}readCorner4(l,f){let p=0;return this.readModule(l-3,0,l,f)&&(p|=1),p<<=1,this.readModule(l-2,0,l,f)&&(p|=1),p<<=1,this.readModule(l-1,0,l,f)&&(p|=1),p<<=1,this.readModule(0,f-2,l,f)&&(p|=1),p<<=1,this.readModule(0,f-1,l,f)&&(p|=1),p<<=1,this.readModule(1,f-1,l,f)&&(p|=1),p<<=1,this.readModule(2,f-1,l,f)&&(p|=1),p<<=1,this.readModule(3,f-1,l,f)&&(p|=1),p}extractDataRegion(l){const f=this.version.getSymbolSizeRows(),p=this.version.getSymbolSizeColumns();if(l.getHeight()!==f)throw new m("Dimension of bitMatrix must match the version size");const g=this.version.getDataRegionSizeRows(),v=this.version.getDataRegionSizeColumns(),x=f/g|0,S=p/v|0,P=x*g,j=S*v,D=new Z(j,P);for(let z=0;z<x;++z){const K=z*g;for(let se=0;se<S;++se){const ce=se*v;for(let ue=0;ue<g;++ue){const ye=z*(g+2)+1+ue,Ce=K+ue;for(let Ge=0;Ge<v;++Ge){const qe=se*(v+2)+1+Ge;if(l.get(qe,ye)){const Ue=ce+Ge;D.set(Ue,Ce)}}}}}return D}}class $l{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f){const p=f.getECBlocks();let g=0;const v=p.getECBlocks();for(let ue of v)g+=ue.getCount();const x=new Array(g);let S=0;for(let ue of v)for(let ye=0;ye<ue.getCount();ye++){const Ce=ue.getDataCodewords(),Ge=p.getECCodewords()+Ce;x[S++]=new $l(Ce,new Uint8Array(Ge))}const j=x[0].codewords.length-p.getECCodewords(),D=j-1;let z=0;for(let ue=0;ue<D;ue++)for(let ye=0;ye<S;ye++)x[ye].codewords[ue]=l[z++];const K=f.getVersionNumber()===24,se=K?8:S;for(let ue=0;ue<se;ue++)x[ue].codewords[j-1]=l[z++];const ce=x[0].codewords.length;for(let ue=j;ue<ce;ue++)for(let ye=0;ye<S;ye++){const Ce=K?(ye+8)%S:ye,Ge=K&&Ce>7?ue-1:ue;x[Ce].codewords[Ge]=l[z++]}if(z!==l.length)throw new m;return x}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}class Ho{constructor(l){this.bytes=l,this.byteOffset=0,this.bitOffset=0}getBitOffset(){return this.bitOffset}getByteOffset(){return this.byteOffset}readBits(l){if(l<1||l>32||l>this.available())throw new m(""+l);let f=0,p=this.bitOffset,g=this.byteOffset;const v=this.bytes;if(p>0){const x=8-p,S=l<x?l:x,P=x-S,j=255>>8-S<<P;f=(v[g]&j)>>P,l-=S,p+=S,p===8&&(p=0,g++)}if(l>0){for(;l>=8;)f=f<<8|v[g]&255,g++,l-=8;if(l>0){const x=8-l,S=255>>x<<x;f=f<<l|(v[g]&S)>>x,p+=l}}return this.bitOffset=p,this.byteOffset=g,f}available(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset}}var Un;(function($){$[$.PAD_ENCODE=0]="PAD_ENCODE",$[$.ASCII_ENCODE=1]="ASCII_ENCODE",$[$.C40_ENCODE=2]="C40_ENCODE",$[$.TEXT_ENCODE=3]="TEXT_ENCODE",$[$.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",$[$.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",$[$.BASE256_ENCODE=6]="BASE256_ENCODE"})(Un||(Un={}));class to{static decode(l){const f=new Ho(l),p=new V,g=new V,v=new Array;let x=Un.ASCII_ENCODE;do if(x===Un.ASCII_ENCODE)x=this.decodeAsciiSegment(f,p,g);else{switch(x){case Un.C40_ENCODE:this.decodeC40Segment(f,p);break;case Un.TEXT_ENCODE:this.decodeTextSegment(f,p);break;case Un.ANSIX12_ENCODE:this.decodeAnsiX12Segment(f,p);break;case Un.EDIFACT_ENCODE:this.decodeEdifactSegment(f,p);break;case Un.BASE256_ENCODE:this.decodeBase256Segment(f,p,v);break;default:throw new M}x=Un.ASCII_ENCODE}while(x!==Un.PAD_ENCODE&&f.available()>0);return g.length()>0&&p.append(g.toString()),new xe(l,p.toString(),v.length===0?null:v,null)}static decodeAsciiSegment(l,f,p){let g=!1;do{let v=l.readBits(8);if(v===0)throw new M;if(v<=128)return g&&(v+=128),f.append(String.fromCharCode(v-1)),Un.ASCII_ENCODE;if(v===129)return Un.PAD_ENCODE;if(v<=229){const x=v-130;x<10&&f.append("0"),f.append(""+x)}else switch(v){case 230:return Un.C40_ENCODE;case 231:return Un.BASE256_ENCODE;case 232:f.append("");break;case 233:case 234:break;case 235:g=!0;break;case 236:f.append("[)>05"),p.insert(0,"");break;case 237:f.append("[)>06"),p.insert(0,"");break;case 238:return Un.ANSIX12_ENCODE;case 239:return Un.TEXT_ENCODE;case 240:return Un.EDIFACT_ENCODE;case 241:break;default:if(v!==254||l.available()!==0)throw new M;break}}while(l.available()>0);return Un.ASCII_ENCODE}static decodeC40Segment(l,f){let p=!1;const g=[];let v=0;do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),g);for(let S=0;S<3;S++){const P=g[S];switch(v){case 0:if(P<3)v=P+1;else if(P<this.C40_BASIC_SET_CHARS.length){const j=this.C40_BASIC_SET_CHARS[P];p?(f.append(String.fromCharCode(j.charCodeAt(0)+128)),p=!1):f.append(j)}else throw new M;break;case 1:p?(f.append(String.fromCharCode(P+128)),p=!1):f.append(String.fromCharCode(P)),v=0;break;case 2:if(P<this.C40_SHIFT2_SET_CHARS.length){const j=this.C40_SHIFT2_SET_CHARS[P];p?(f.append(String.fromCharCode(j.charCodeAt(0)+128)),p=!1):f.append(j)}else switch(P){case 27:f.append("");break;case 30:p=!0;break;default:throw new M}v=0;break;case 3:p?(f.append(String.fromCharCode(P+224)),p=!1):f.append(String.fromCharCode(P+96)),v=0;break;default:throw new M}}}while(l.available()>0)}static decodeTextSegment(l,f){let p=!1,g=[],v=0;do{if(l.available()===8)return;const x=l.readBits(8);if(x===254)return;this.parseTwoBytes(x,l.readBits(8),g);for(let S=0;S<3;S++){const P=g[S];switch(v){case 0:if(P<3)v=P+1;else if(P<this.TEXT_BASIC_SET_CHARS.length){const j=this.TEXT_BASIC_SET_CHARS[P];p?(f.append(String.fromCharCode(j.charCodeAt(0)+128)),p=!1):f.append(j)}else throw new M;break;case 1:p?(f.append(String.fromCharCode(P+128)),p=!1):f.append(String.fromCharCode(P)),v=0;break;case 2:if(P<this.TEXT_SHIFT2_SET_CHARS.length){const j=this.TEXT_SHIFT2_SET_CHARS[P];p?(f.append(String.fromCharCode(j.charCodeAt(0)+128)),p=!1):f.append(j)}else switch(P){case 27:f.append("");break;case 30:p=!0;break;default:throw new M}v=0;break;case 3:if(P<this.TEXT_SHIFT3_SET_CHARS.length){const j=this.TEXT_SHIFT3_SET_CHARS[P];p?(f.append(String.fromCharCode(j.charCodeAt(0)+128)),p=!1):f.append(j),v=0}else throw new M;break;default:throw new M}}}while(l.available()>0)}static decodeAnsiX12Segment(l,f){const p=[];do{if(l.available()===8)return;const g=l.readBits(8);if(g===254)return;this.parseTwoBytes(g,l.readBits(8),p);for(let v=0;v<3;v++){const x=p[v];switch(x){case 0:f.append("\r");break;case 1:f.append("*");break;case 2:f.append(">");break;case 3:f.append(" ");break;default:if(x<14)f.append(String.fromCharCode(x+44));else if(x<40)f.append(String.fromCharCode(x+51));else throw new M;break}}}while(l.available()>0)}static parseTwoBytes(l,f,p){let g=(l<<8)+f-1,v=Math.floor(g/1600);p[0]=v,g-=v*1600,v=Math.floor(g/40),p[1]=v,p[2]=g-v*40}static decodeEdifactSegment(l,f){do{if(l.available()<=16)return;for(let p=0;p<4;p++){let g=l.readBits(6);if(g===31){const v=8-l.getBitOffset();v!==8&&l.readBits(v);return}g&32||(g|=64),f.append(String.fromCharCode(g))}}while(l.available()>0)}static decodeBase256Segment(l,f,p){let g=1+l.getByteOffset();const v=this.unrandomize255State(l.readBits(8),g++);let x;if(v===0?x=l.available()/8|0:v<250?x=v:x=250*(v-249)+this.unrandomize255State(l.readBits(8),g++),x<0)throw new M;const S=new Uint8Array(x);for(let P=0;P<x;P++){if(l.available()<8)throw new M;S[P]=this.unrandomize255State(l.readBits(8),g++)}p.push(S);try{f.append(X.decode(S,F.ISO88591))}catch(P){throw new dt("Platform does not support required encoding: "+P.message)}}static unrandomize255State(l,f){const p=149*f%255+1,g=l-p;return g>=0?g:g+256}}to.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],to.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],to.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],to.TEXT_SHIFT2_SET_CHARS=to.C40_SHIFT2_SET_CHARS,to.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""];class mx{constructor(){this.rsDecoder=new Ct(ze.DATA_MATRIX_FIELD_256)}decode(l){const f=new wd(l),p=f.getVersion(),g=f.readCodewords(),v=$l.getDataBlocks(g,p);let x=0;for(let j of v)x+=j.getNumDataCodewords();const S=new Uint8Array(x),P=v.length;for(let j=0;j<P;j++){const D=v[j],z=D.getCodewords(),K=D.getNumDataCodewords();this.correctErrors(z,K);for(let se=0;se<K;se++)S[se*P+j]=z[se]}return to.decode(S)}correctErrors(l,f){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-f)}catch{throw new b}for(let g=0;g<f;g++)l[g]=p[g]}}class ir{constructor(l){this.image=l,this.rectangleDetector=new ee(this.image)}detect(){const l=this.rectangleDetector.detect();let f=this.detectSolid1(l);if(f=this.detectSolid2(f),f[3]=this.correctTopRight(f),!f[3])throw new H;f=this.shiftToModuleCenter(f);const p=f[0],g=f[1],v=f[2],x=f[3];let S=this.transitionsBetween(p,x)+1,P=this.transitionsBetween(v,x)+1;(S&1)===1&&(S+=1),(P&1)===1&&(P+=1),4*S<7*P&&4*P<7*S&&(S=P=Math.max(S,P));let j=ir.sampleGrid(this.image,p,g,v,x,S,P);return new ae(j,[p,g,v,x])}static shiftPoint(l,f,p){let g=(f.getX()-l.getX())/(p+1),v=(f.getY()-l.getY())/(p+1);return new Ze(l.getX()+g,l.getY()+v)}static moveAway(l,f,p){let g=l.getX(),v=l.getY();return g<f?g-=1:g+=1,v<p?v-=1:v+=1,new Ze(g,v)}detectSolid1(l){let f=l[0],p=l[1],g=l[3],v=l[2],x=this.transitionsBetween(f,p),S=this.transitionsBetween(p,g),P=this.transitionsBetween(g,v),j=this.transitionsBetween(v,f),D=x,z=[v,f,p,g];return D>S&&(D=S,z[0]=f,z[1]=p,z[2]=g,z[3]=v),D>P&&(D=P,z[0]=p,z[1]=g,z[2]=v,z[3]=f),D>j&&(z[0]=g,z[1]=v,z[2]=f,z[3]=p),z}detectSolid2(l){let f=l[0],p=l[1],g=l[2],v=l[3],x=this.transitionsBetween(f,v),S=ir.shiftPoint(p,g,(x+1)*4),P=ir.shiftPoint(g,p,(x+1)*4),j=this.transitionsBetween(S,f),D=this.transitionsBetween(P,v);return j<D?(l[0]=f,l[1]=p,l[2]=g,l[3]=v):(l[0]=p,l[1]=g,l[2]=v,l[3]=f),l}correctTopRight(l){let f=l[0],p=l[1],g=l[2],v=l[3],x=this.transitionsBetween(f,v),S=this.transitionsBetween(p,v),P=ir.shiftPoint(f,p,(S+1)*4),j=ir.shiftPoint(g,p,(x+1)*4);x=this.transitionsBetween(P,v),S=this.transitionsBetween(j,v);let D=new Ze(v.getX()+(g.getX()-p.getX())/(x+1),v.getY()+(g.getY()-p.getY())/(x+1)),z=new Ze(v.getX()+(f.getX()-p.getX())/(S+1),v.getY()+(f.getY()-p.getY())/(S+1));if(!this.isValid(D))return this.isValid(z)?z:null;if(!this.isValid(z))return D;let K=this.transitionsBetween(P,D)+this.transitionsBetween(j,D),se=this.transitionsBetween(P,z)+this.transitionsBetween(j,z);return K>se?D:z}shiftToModuleCenter(l){let f=l[0],p=l[1],g=l[2],v=l[3],x=this.transitionsBetween(f,v)+1,S=this.transitionsBetween(g,v)+1,P=ir.shiftPoint(f,p,S*4),j=ir.shiftPoint(g,p,x*4);x=this.transitionsBetween(P,v)+1,S=this.transitionsBetween(j,v)+1,(x&1)===1&&(x+=1),(S&1)===1&&(S+=1);let D=(f.getX()+p.getX()+g.getX()+v.getX())/4,z=(f.getY()+p.getY()+g.getY()+v.getY())/4;f=ir.moveAway(f,D,z),p=ir.moveAway(p,D,z),g=ir.moveAway(g,D,z),v=ir.moveAway(v,D,z);let K,se;return P=ir.shiftPoint(f,p,S*4),P=ir.shiftPoint(P,v,x*4),K=ir.shiftPoint(p,f,S*4),K=ir.shiftPoint(K,g,x*4),j=ir.shiftPoint(g,v,S*4),j=ir.shiftPoint(j,p,x*4),se=ir.shiftPoint(v,g,S*4),se=ir.shiftPoint(se,f,x*4),[P,K,j,se]}isValid(l){return l.getX()>=0&&l.getX()<this.image.getWidth()&&l.getY()>0&&l.getY()<this.image.getHeight()}static sampleGrid(l,f,p,g,v,x,S){return de.getInstance().sampleGrid(l,x,S,.5,.5,x-.5,.5,x-.5,S-.5,.5,S-.5,f.getX(),f.getY(),v.getX(),v.getY(),g.getX(),g.getY(),p.getX(),p.getY())}transitionsBetween(l,f){let p=Math.trunc(l.getX()),g=Math.trunc(l.getY()),v=Math.trunc(f.getX()),x=Math.trunc(f.getY()),S=Math.abs(x-g)>Math.abs(v-p);if(S){let ue=p;p=g,g=ue,ue=v,v=x,x=ue}let P=Math.abs(v-p),j=Math.abs(x-g),D=-P/2,z=g<x?1:-1,K=p<v?1:-1,se=0,ce=this.image.get(S?g:p,S?p:g);for(let ue=p,ye=g;ue!==v;ue+=K){let Ce=this.image.get(S?ye:ue,S?ue:ye);if(Ce!==ce&&(se++,ce=Ce),D+=j,D>0){if(ye===x)break;ye+=z,D-=P}}return se}}class Ea{constructor(){this.decoder=new mx}decode(l,f=null){let p,g;if(f!=null&&f.has(k.PURE_BARCODE)){const j=Ea.extractPureBits(l.getBlackMatrix());p=this.decoder.decode(j),g=Ea.NO_POINTS}else{const j=new ir(l.getBlackMatrix()).detect();p=this.decoder.decode(j.getBits()),g=j.getPoints()}const v=p.getRawBytes(),x=new he(p.getText(),v,8*v.length,g,me.DATA_MATRIX,w.currentTimeMillis()),S=p.getByteSegments();S!=null&&x.putMetadata(Ne.BYTE_SEGMENTS,S);const P=p.getECLevel();return P!=null&&x.putMetadata(Ne.ERROR_CORRECTION_LEVEL,P),x}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(f==null||p==null)throw new H;const g=this.moduleSize(f,l);let v=f[1];const x=p[1];let S=f[0];const j=(p[0]-S+1)/g,D=(x-v+1)/g;if(j<=0||D<=0)throw new H;const z=g/2;v+=z,S+=z;const K=new Z(j,D);for(let se=0;se<D;se++){const ce=v+se*g;for(let ue=0;ue<j;ue++)l.get(S+ue*g,ce)&&K.set(ue,se)}return K}static moduleSize(l,f){const p=f.getWidth();let g=l[0];const v=l[1];for(;g<p&&f.get(g,v);)g++;if(g===p)throw new H;const x=g-l[0];if(x===0)throw new H;return x}}Ea.NO_POINTS=[];class gx extends pe{constructor(l=500){super(new Ea,l)}}var no;(function($){$[$.L=0]="L",$[$.M=1]="M",$[$.Q=2]="Q",$[$.H=3]="H"})(no||(no={}));class bn{constructor(l,f,p){this.value=l,this.stringValue=f,this.bits=p,bn.FOR_BITS.set(p,this),bn.FOR_VALUE.set(l,this)}getValue(){return this.value}getBits(){return this.bits}static fromString(l){switch(l){case"L":return bn.L;case"M":return bn.M;case"Q":return bn.Q;case"H":return bn.H;default:throw new h(l+"not available")}}toString(){return this.stringValue}equals(l){if(!(l instanceof bn))return!1;const f=l;return this.value===f.value}static forBits(l){if(l<0||l>=bn.FOR_BITS.size)throw new m;return bn.FOR_BITS.get(l)}}bn.FOR_BITS=new Map,bn.FOR_VALUE=new Map,bn.L=new bn(no.L,"L",1),bn.M=new bn(no.M,"M",0),bn.Q=new bn(no.Q,"Q",3),bn.H=new bn(no.H,"H",2);class zn{constructor(l){this.errorCorrectionLevel=bn.forBits(l>>3&3),this.dataMask=l&7}static numBitsDiffering(l,f){return N.bitCount(l^f)}static decodeFormatInformation(l,f){const p=zn.doDecodeFormatInformation(l,f);return p!==null?p:zn.doDecodeFormatInformation(l^zn.FORMAT_INFO_MASK_QR,f^zn.FORMAT_INFO_MASK_QR)}static doDecodeFormatInformation(l,f){let p=Number.MAX_SAFE_INTEGER,g=0;for(const v of zn.FORMAT_INFO_DECODE_LOOKUP){const x=v[0];if(x===l||x===f)return new zn(v[1]);let S=zn.numBitsDiffering(l,x);S<p&&(g=v[1],p=S),l!==f&&(S=zn.numBitsDiffering(f,x),S<p&&(g=v[1],p=S))}return p<=3?new zn(g):null}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getDataMask(){return this.dataMask}hashCode(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask}equals(l){if(!(l instanceof zn))return!1;const f=l;return this.errorCorrectionLevel===f.errorCorrectionLevel&&this.dataMask===f.dataMask}}zn.FORMAT_INFO_MASK_QR=21522,zn.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])];class ge{constructor(l,...f){this.ecCodewordsPerBlock=l,this.ecBlocks=f}getECCodewordsPerBlock(){return this.ecCodewordsPerBlock}getNumBlocks(){let l=0;const f=this.ecBlocks;for(const p of f)l+=p.getCount();return l}getTotalECCodewords(){return this.ecCodewordsPerBlock*this.getNumBlocks()}getECBlocks(){return this.ecBlocks}}class re{constructor(l,f){this.count=l,this.dataCodewords=f}getCount(){return this.count}getDataCodewords(){return this.dataCodewords}}class ht{constructor(l,f,...p){this.versionNumber=l,this.alignmentPatternCenters=f,this.ecBlocks=p;let g=0;const v=p[0].getECCodewordsPerBlock(),x=p[0].getECBlocks();for(const S of x)g+=S.getCount()*(S.getDataCodewords()+v);this.totalCodewords=g}getVersionNumber(){return this.versionNumber}getAlignmentPatternCenters(){return this.alignmentPatternCenters}getTotalCodewords(){return this.totalCodewords}getDimensionForVersion(){return 17+4*this.versionNumber}getECBlocksForLevel(l){return this.ecBlocks[l.getValue()]}static getProvisionalVersionForDimension(l){if(l%4!==1)throw new M;try{return this.getVersionForNumber((l-17)/4)}catch{throw new M}}static getVersionForNumber(l){if(l<1||l>40)throw new m;return ht.VERSIONS[l-1]}static decodeVersionInformation(l){let f=Number.MAX_SAFE_INTEGER,p=0;for(let g=0;g<ht.VERSION_DECODE_INFO.length;g++){const v=ht.VERSION_DECODE_INFO[g];if(v===l)return ht.getVersionForNumber(g+7);const x=zn.numBitsDiffering(l,v);x<f&&(p=g+7,f=x)}return f<=3?ht.getVersionForNumber(p):null}buildFunctionPattern(){const l=this.getDimensionForVersion(),f=new Z(l);f.setRegion(0,0,9,9),f.setRegion(l-8,0,8,9),f.setRegion(0,l-8,9,8);const p=this.alignmentPatternCenters.length;for(let g=0;g<p;g++){const v=this.alignmentPatternCenters[g]-2;for(let x=0;x<p;x++)g===0&&(x===0||x===p-1)||g===p-1&&x===0||f.setRegion(this.alignmentPatternCenters[x]-2,v,5,5)}return f.setRegion(6,9,1,l-17),f.setRegion(9,6,l-17,1),this.versionNumber>6&&(f.setRegion(l-11,0,3,6),f.setRegion(0,l-11,6,3)),f}toString(){return""+this.versionNumber}}ht.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),ht.VERSIONS=[new ht(1,new Int32Array(0),new ge(7,new re(1,19)),new ge(10,new re(1,16)),new ge(13,new re(1,13)),new ge(17,new re(1,9))),new ht(2,Int32Array.from([6,18]),new ge(10,new re(1,34)),new ge(16,new re(1,28)),new ge(22,new re(1,22)),new ge(28,new re(1,16))),new ht(3,Int32Array.from([6,22]),new ge(15,new re(1,55)),new ge(26,new re(1,44)),new ge(18,new re(2,17)),new ge(22,new re(2,13))),new ht(4,Int32Array.from([6,26]),new ge(20,new re(1,80)),new ge(18,new re(2,32)),new ge(26,new re(2,24)),new ge(16,new re(4,9))),new ht(5,Int32Array.from([6,30]),new ge(26,new re(1,108)),new ge(24,new re(2,43)),new ge(18,new re(2,15),new re(2,16)),new ge(22,new re(2,11),new re(2,12))),new ht(6,Int32Array.from([6,34]),new ge(18,new re(2,68)),new ge(16,new re(4,27)),new ge(24,new re(4,19)),new ge(28,new re(4,15))),new ht(7,Int32Array.from([6,22,38]),new ge(20,new re(2,78)),new ge(18,new re(4,31)),new ge(18,new re(2,14),new re(4,15)),new ge(26,new re(4,13),new re(1,14))),new ht(8,Int32Array.from([6,24,42]),new ge(24,new re(2,97)),new ge(22,new re(2,38),new re(2,39)),new ge(22,new re(4,18),new re(2,19)),new ge(26,new re(4,14),new re(2,15))),new ht(9,Int32Array.from([6,26,46]),new ge(30,new re(2,116)),new ge(22,new re(3,36),new re(2,37)),new ge(20,new re(4,16),new re(4,17)),new ge(24,new re(4,12),new re(4,13))),new ht(10,Int32Array.from([6,28,50]),new ge(18,new re(2,68),new re(2,69)),new ge(26,new re(4,43),new re(1,44)),new ge(24,new re(6,19),new re(2,20)),new ge(28,new re(6,15),new re(2,16))),new ht(11,Int32Array.from([6,30,54]),new ge(20,new re(4,81)),new ge(30,new re(1,50),new re(4,51)),new ge(28,new re(4,22),new re(4,23)),new ge(24,new re(3,12),new re(8,13))),new ht(12,Int32Array.from([6,32,58]),new ge(24,new re(2,92),new re(2,93)),new ge(22,new re(6,36),new re(2,37)),new ge(26,new re(4,20),new re(6,21)),new ge(28,new re(7,14),new re(4,15))),new ht(13,Int32Array.from([6,34,62]),new ge(26,new re(4,107)),new ge(22,new re(8,37),new re(1,38)),new ge(24,new re(8,20),new re(4,21)),new ge(22,new re(12,11),new re(4,12))),new ht(14,Int32Array.from([6,26,46,66]),new ge(30,new re(3,115),new re(1,116)),new ge(24,new re(4,40),new re(5,41)),new ge(20,new re(11,16),new re(5,17)),new ge(24,new re(11,12),new re(5,13))),new ht(15,Int32Array.from([6,26,48,70]),new ge(22,new re(5,87),new re(1,88)),new ge(24,new re(5,41),new re(5,42)),new ge(30,new re(5,24),new re(7,25)),new ge(24,new re(11,12),new re(7,13))),new ht(16,Int32Array.from([6,26,50,74]),new ge(24,new re(5,98),new re(1,99)),new ge(28,new re(7,45),new re(3,46)),new ge(24,new re(15,19),new re(2,20)),new ge(30,new re(3,15),new re(13,16))),new ht(17,Int32Array.from([6,30,54,78]),new ge(28,new re(1,107),new re(5,108)),new ge(28,new re(10,46),new re(1,47)),new ge(28,new re(1,22),new re(15,23)),new ge(28,new re(2,14),new re(17,15))),new ht(18,Int32Array.from([6,30,56,82]),new ge(30,new re(5,120),new re(1,121)),new ge(26,new re(9,43),new re(4,44)),new ge(28,new re(17,22),new re(1,23)),new ge(28,new re(2,14),new re(19,15))),new ht(19,Int32Array.from([6,30,58,86]),new ge(28,new re(3,113),new re(4,114)),new ge(26,new re(3,44),new re(11,45)),new ge(26,new re(17,21),new re(4,22)),new ge(26,new re(9,13),new re(16,14))),new ht(20,Int32Array.from([6,34,62,90]),new ge(28,new re(3,107),new re(5,108)),new ge(26,new re(3,41),new re(13,42)),new ge(30,new re(15,24),new re(5,25)),new ge(28,new re(15,15),new re(10,16))),new ht(21,Int32Array.from([6,28,50,72,94]),new ge(28,new re(4,116),new re(4,117)),new ge(26,new re(17,42)),new ge(28,new re(17,22),new re(6,23)),new ge(30,new re(19,16),new re(6,17))),new ht(22,Int32Array.from([6,26,50,74,98]),new ge(28,new re(2,111),new re(7,112)),new ge(28,new re(17,46)),new ge(30,new re(7,24),new re(16,25)),new ge(24,new re(34,13))),new ht(23,Int32Array.from([6,30,54,78,102]),new ge(30,new re(4,121),new re(5,122)),new ge(28,new re(4,47),new re(14,48)),new ge(30,new re(11,24),new re(14,25)),new ge(30,new re(16,15),new re(14,16))),new ht(24,Int32Array.from([6,28,54,80,106]),new ge(30,new re(6,117),new re(4,118)),new ge(28,new re(6,45),new re(14,46)),new ge(30,new re(11,24),new re(16,25)),new ge(30,new re(30,16),new re(2,17))),new ht(25,Int32Array.from([6,32,58,84,110]),new ge(26,new re(8,106),new re(4,107)),new ge(28,new re(8,47),new re(13,48)),new ge(30,new re(7,24),new re(22,25)),new ge(30,new re(22,15),new re(13,16))),new ht(26,Int32Array.from([6,30,58,86,114]),new ge(28,new re(10,114),new re(2,115)),new ge(28,new re(19,46),new re(4,47)),new ge(28,new re(28,22),new re(6,23)),new ge(30,new re(33,16),new re(4,17))),new ht(27,Int32Array.from([6,34,62,90,118]),new ge(30,new re(8,122),new re(4,123)),new ge(28,new re(22,45),new re(3,46)),new ge(30,new re(8,23),new re(26,24)),new ge(30,new re(12,15),new re(28,16))),new ht(28,Int32Array.from([6,26,50,74,98,122]),new ge(30,new re(3,117),new re(10,118)),new ge(28,new re(3,45),new re(23,46)),new ge(30,new re(4,24),new re(31,25)),new ge(30,new re(11,15),new re(31,16))),new ht(29,Int32Array.from([6,30,54,78,102,126]),new ge(30,new re(7,116),new re(7,117)),new ge(28,new re(21,45),new re(7,46)),new ge(30,new re(1,23),new re(37,24)),new ge(30,new re(19,15),new re(26,16))),new ht(30,Int32Array.from([6,26,52,78,104,130]),new ge(30,new re(5,115),new re(10,116)),new ge(28,new re(19,47),new re(10,48)),new ge(30,new re(15,24),new re(25,25)),new ge(30,new re(23,15),new re(25,16))),new ht(31,Int32Array.from([6,30,56,82,108,134]),new ge(30,new re(13,115),new re(3,116)),new ge(28,new re(2,46),new re(29,47)),new ge(30,new re(42,24),new re(1,25)),new ge(30,new re(23,15),new re(28,16))),new ht(32,Int32Array.from([6,34,60,86,112,138]),new ge(30,new re(17,115)),new ge(28,new re(10,46),new re(23,47)),new ge(30,new re(10,24),new re(35,25)),new ge(30,new re(19,15),new re(35,16))),new ht(33,Int32Array.from([6,30,58,86,114,142]),new ge(30,new re(17,115),new re(1,116)),new ge(28,new re(14,46),new re(21,47)),new ge(30,new re(29,24),new re(19,25)),new ge(30,new re(11,15),new re(46,16))),new ht(34,Int32Array.from([6,34,62,90,118,146]),new ge(30,new re(13,115),new re(6,116)),new ge(28,new re(14,46),new re(23,47)),new ge(30,new re(44,24),new re(7,25)),new ge(30,new re(59,16),new re(1,17))),new ht(35,Int32Array.from([6,30,54,78,102,126,150]),new ge(30,new re(12,121),new re(7,122)),new ge(28,new re(12,47),new re(26,48)),new ge(30,new re(39,24),new re(14,25)),new ge(30,new re(22,15),new re(41,16))),new ht(36,Int32Array.from([6,24,50,76,102,128,154]),new ge(30,new re(6,121),new re(14,122)),new ge(28,new re(6,47),new re(34,48)),new ge(30,new re(46,24),new re(10,25)),new ge(30,new re(2,15),new re(64,16))),new ht(37,Int32Array.from([6,28,54,80,106,132,158]),new ge(30,new re(17,122),new re(4,123)),new ge(28,new re(29,46),new re(14,47)),new ge(30,new re(49,24),new re(10,25)),new ge(30,new re(24,15),new re(46,16))),new ht(38,Int32Array.from([6,32,58,84,110,136,162]),new ge(30,new re(4,122),new re(18,123)),new ge(28,new re(13,46),new re(32,47)),new ge(30,new re(48,24),new re(14,25)),new ge(30,new re(42,15),new re(32,16))),new ht(39,Int32Array.from([6,26,54,82,110,138,166]),new ge(30,new re(20,117),new re(4,118)),new ge(28,new re(40,47),new re(7,48)),new ge(30,new re(43,24),new re(22,25)),new ge(30,new re(10,15),new re(67,16))),new ht(40,Int32Array.from([6,30,58,86,114,142,170]),new ge(30,new re(19,118),new re(6,119)),new ge(28,new re(18,47),new re(31,48)),new ge(30,new re(34,24),new re(34,25)),new ge(30,new re(20,15),new re(61,16)))];var Ur;(function($){$[$.DATA_MASK_000=0]="DATA_MASK_000",$[$.DATA_MASK_001=1]="DATA_MASK_001",$[$.DATA_MASK_010=2]="DATA_MASK_010",$[$.DATA_MASK_011=3]="DATA_MASK_011",$[$.DATA_MASK_100=4]="DATA_MASK_100",$[$.DATA_MASK_101=5]="DATA_MASK_101",$[$.DATA_MASK_110=6]="DATA_MASK_110",$[$.DATA_MASK_111=7]="DATA_MASK_111"})(Ur||(Ur={}));class Ci{constructor(l,f){this.value=l,this.isMasked=f}unmaskBitMatrix(l,f){for(let p=0;p<f;p++)for(let g=0;g<f;g++)this.isMasked(p,g)&&l.flip(g,p)}}Ci.values=new Map([[Ur.DATA_MASK_000,new Ci(Ur.DATA_MASK_000,($,l)=>($+l&1)===0)],[Ur.DATA_MASK_001,new Ci(Ur.DATA_MASK_001,($,l)=>($&1)===0)],[Ur.DATA_MASK_010,new Ci(Ur.DATA_MASK_010,($,l)=>l%3===0)],[Ur.DATA_MASK_011,new Ci(Ur.DATA_MASK_011,($,l)=>($+l)%3===0)],[Ur.DATA_MASK_100,new Ci(Ur.DATA_MASK_100,($,l)=>(Math.floor($/2)+Math.floor(l/3)&1)===0)],[Ur.DATA_MASK_101,new Ci(Ur.DATA_MASK_101,($,l)=>$*l%6===0)],[Ur.DATA_MASK_110,new Ci(Ur.DATA_MASK_110,($,l)=>$*l%6<3)],[Ur.DATA_MASK_111,new Ci(Ur.DATA_MASK_111,($,l)=>($+l+$*l%3&1)===0)]]);class gh{constructor(l){const f=l.getHeight();if(f<21||(f&3)!==1)throw new M;this.bitMatrix=l}readFormatInformation(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;let l=0;for(let v=0;v<6;v++)l=this.copyBit(v,8,l);l=this.copyBit(7,8,l),l=this.copyBit(8,8,l),l=this.copyBit(8,7,l);for(let v=5;v>=0;v--)l=this.copyBit(8,v,l);const f=this.bitMatrix.getHeight();let p=0;const g=f-7;for(let v=f-1;v>=g;v--)p=this.copyBit(8,v,p);for(let v=f-8;v<f;v++)p=this.copyBit(v,8,p);if(this.parsedFormatInfo=zn.decodeFormatInformation(l,p),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new M}readVersion(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;const l=this.bitMatrix.getHeight(),f=Math.floor((l-17)/4);if(f<=6)return ht.getVersionForNumber(f);let p=0;const g=l-11;for(let x=5;x>=0;x--)for(let S=l-9;S>=g;S--)p=this.copyBit(S,x,p);let v=ht.decodeVersionInformation(p);if(v!==null&&v.getDimensionForVersion()===l)return this.parsedVersion=v,v;p=0;for(let x=5;x>=0;x--)for(let S=l-9;S>=g;S--)p=this.copyBit(x,S,p);if(v=ht.decodeVersionInformation(p),v!==null&&v.getDimensionForVersion()===l)return this.parsedVersion=v,v;throw new M}copyBit(l,f,p){return(this.isMirror?this.bitMatrix.get(f,l):this.bitMatrix.get(l,f))?p<<1|1:p<<1}readCodewords(){const l=this.readFormatInformation(),f=this.readVersion(),p=Ci.values.get(l.getDataMask()),g=this.bitMatrix.getHeight();p.unmaskBitMatrix(this.bitMatrix,g);const v=f.buildFunctionPattern();let x=!0;const S=new Uint8Array(f.getTotalCodewords());let P=0,j=0,D=0;for(let z=g-1;z>0;z-=2){z===6&&z--;for(let K=0;K<g;K++){const se=x?g-1-K:K;for(let ce=0;ce<2;ce++)v.get(z-ce,se)||(D++,j<<=1,this.bitMatrix.get(z-ce,se)&&(j|=1),D===8&&(S[P++]=j,D=0,j=0))}x=!x}if(P!==f.getTotalCodewords())throw new M;return S}remask(){if(this.parsedFormatInfo===null)return;const l=Ci.values[this.parsedFormatInfo.getDataMask()],f=this.bitMatrix.getHeight();l.unmaskBitMatrix(this.bitMatrix,f)}setMirror(l){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=l}mirror(){const l=this.bitMatrix;for(let f=0,p=l.getWidth();f<p;f++)for(let g=f+1,v=l.getHeight();g<v;g++)l.get(f,g)!==l.get(g,f)&&(l.flip(g,f),l.flip(f,g))}}class Xg{constructor(l,f){this.numDataCodewords=l,this.codewords=f}static getDataBlocks(l,f,p){if(l.length!==f.getTotalCodewords())throw new m;const g=f.getECBlocksForLevel(p);let v=0;const x=g.getECBlocks();for(const ce of x)v+=ce.getCount();const S=new Array(v);let P=0;for(const ce of x)for(let ue=0;ue<ce.getCount();ue++){const ye=ce.getDataCodewords(),Ce=g.getECCodewordsPerBlock()+ye;S[P++]=new Xg(ye,new Uint8Array(Ce))}const j=S[0].codewords.length;let D=S.length-1;for(;D>=0&&S[D].codewords.length!==j;)D--;D++;const z=j-g.getECCodewordsPerBlock();let K=0;for(let ce=0;ce<z;ce++)for(let ue=0;ue<P;ue++)S[ue].codewords[ce]=l[K++];for(let ce=D;ce<P;ce++)S[ce].codewords[z]=l[K++];const se=S[0].codewords.length;for(let ce=z;ce<se;ce++)for(let ue=0;ue<P;ue++){const ye=ue<D?ce:ce+1;S[ue].codewords[ye]=l[K++]}return S}getNumDataCodewords(){return this.numDataCodewords}getCodewords(){return this.codewords}}var fi;(function($){$[$.TERMINATOR=0]="TERMINATOR",$[$.NUMERIC=1]="NUMERIC",$[$.ALPHANUMERIC=2]="ALPHANUMERIC",$[$.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",$[$.BYTE=4]="BYTE",$[$.ECI=5]="ECI",$[$.KANJI=6]="KANJI",$[$.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",$[$.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",$[$.HANZI=9]="HANZI"})(fi||(fi={}));class Et{constructor(l,f,p,g){this.value=l,this.stringValue=f,this.characterCountBitsForVersions=p,this.bits=g,Et.FOR_BITS.set(g,this),Et.FOR_VALUE.set(l,this)}static forBits(l){const f=Et.FOR_BITS.get(l);if(f===void 0)throw new m;return f}getCharacterCountBits(l){const f=l.getVersionNumber();let p;return f<=9?p=0:f<=26?p=1:p=2,this.characterCountBitsForVersions[p]}getValue(){return this.value}getBits(){return this.bits}equals(l){if(!(l instanceof Et))return!1;const f=l;return this.value===f.value}toString(){return this.stringValue}}Et.FOR_BITS=new Map,Et.FOR_VALUE=new Map,Et.TERMINATOR=new Et(fi.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),Et.NUMERIC=new Et(fi.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),Et.ALPHANUMERIC=new Et(fi.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),Et.STRUCTURED_APPEND=new Et(fi.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),Et.BYTE=new Et(fi.BYTE,"BYTE",Int32Array.from([8,16,16]),4),Et.ECI=new Et(fi.ECI,"ECI",Int32Array.from([0,0,0]),7),Et.KANJI=new Et(fi.KANJI,"KANJI",Int32Array.from([8,10,12]),8),Et.FNC1_FIRST_POSITION=new Et(fi.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),Et.FNC1_SECOND_POSITION=new Et(fi.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),Et.HANZI=new Et(fi.HANZI,"HANZI",Int32Array.from([8,10,12]),13);class Xn{static decode(l,f,p,g){const v=new Ho(l);let x=new V;const S=new Array;let P=-1,j=-1;try{let D=null,z=!1,K;do{if(v.available()<4)K=Et.TERMINATOR;else{const se=v.readBits(4);K=Et.forBits(se)}switch(K){case Et.TERMINATOR:break;case Et.FNC1_FIRST_POSITION:case Et.FNC1_SECOND_POSITION:z=!0;break;case Et.STRUCTURED_APPEND:if(v.available()<16)throw new M;P=v.readBits(8),j=v.readBits(8);break;case Et.ECI:const se=Xn.parseECIValue(v);if(D=L.getCharacterSetECIByValue(se),D===null)throw new M;break;case Et.HANZI:const ce=v.readBits(4),ue=v.readBits(K.getCharacterCountBits(f));ce===Xn.GB2312_SUBSET&&Xn.decodeHanziSegment(v,x,ue);break;default:const ye=v.readBits(K.getCharacterCountBits(f));switch(K){case Et.NUMERIC:Xn.decodeNumericSegment(v,x,ye);break;case Et.ALPHANUMERIC:Xn.decodeAlphanumericSegment(v,x,ye,z);break;case Et.BYTE:Xn.decodeByteSegment(v,x,ye,D,S,g);break;case Et.KANJI:Xn.decodeKanjiSegment(v,x,ye);break;default:throw new M}break}}while(K!==Et.TERMINATOR)}catch{throw new M}return new xe(l,x.toString(),S.length===0?null:S,p===null?null:p.toString(),P,j)}static decodeHanziSegment(l,f,p){if(p*13>l.available())throw new M;const g=new Uint8Array(2*p);let v=0;for(;p>0;){const x=l.readBits(13);let S=x/96<<8&4294967295|x%96;S<959?S+=41377:S+=42657,g[v]=S>>8&255,g[v+1]=S&255,v+=2,p--}try{f.append(X.decode(g,F.GB2312))}catch(x){throw new M(x)}}static decodeKanjiSegment(l,f,p){if(p*13>l.available())throw new M;const g=new Uint8Array(2*p);let v=0;for(;p>0;){const x=l.readBits(13);let S=x/192<<8&4294967295|x%192;S<7936?S+=33088:S+=49472,g[v]=S>>8,g[v+1]=S,v+=2,p--}try{f.append(X.decode(g,F.SHIFT_JIS))}catch(x){throw new M(x)}}static decodeByteSegment(l,f,p,g,v,x){if(8*p>l.available())throw new M;const S=new Uint8Array(p);for(let j=0;j<p;j++)S[j]=l.readBits(8);let P;g===null?P=F.guessEncoding(S,x):P=g.getName();try{f.append(X.decode(S,P))}catch(j){throw new M(j)}v.push(S)}static toAlphaNumericChar(l){if(l>=Xn.ALPHANUMERIC_CHARS.length)throw new M;return Xn.ALPHANUMERIC_CHARS[l]}static decodeAlphanumericSegment(l,f,p,g){const v=f.length();for(;p>1;){if(l.available()<11)throw new M;const x=l.readBits(11);f.append(Xn.toAlphaNumericChar(Math.floor(x/45))),f.append(Xn.toAlphaNumericChar(x%45)),p-=2}if(p===1){if(l.available()<6)throw new M;f.append(Xn.toAlphaNumericChar(l.readBits(6)))}if(g)for(let x=v;x<f.length();x++)f.charAt(x)==="%"&&(x<f.length()-1&&f.charAt(x+1)==="%"?f.deleteCharAt(x+1):f.setCharAt(x,""))}static decodeNumericSegment(l,f,p){for(;p>=3;){if(l.available()<10)throw new M;const g=l.readBits(10);if(g>=1e3)throw new M;f.append(Xn.toAlphaNumericChar(Math.floor(g/100))),f.append(Xn.toAlphaNumericChar(Math.floor(g/10)%10)),f.append(Xn.toAlphaNumericChar(g%10)),p-=3}if(p===2){if(l.available()<7)throw new M;const g=l.readBits(7);if(g>=100)throw new M;f.append(Xn.toAlphaNumericChar(Math.floor(g/10))),f.append(Xn.toAlphaNumericChar(g%10))}else if(p===1){if(l.available()<4)throw new M;const g=l.readBits(4);if(g>=10)throw new M;f.append(Xn.toAlphaNumericChar(g))}}static parseECIValue(l){const f=l.readBits(8);if(!(f&128))return f&127;if((f&192)===128){const p=l.readBits(8);return(f&63)<<8&4294967295|p}if((f&224)===192){const p=l.readBits(16);return(f&31)<<16&4294967295|p}throw new M}}Xn.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",Xn.GB2312_SUBSET=1;class Tr{constructor(l){this.mirrored=l}isMirrored(){return this.mirrored}applyMirroredCorrection(l){if(!this.mirrored||l===null||l.length<3)return;const f=l[0];l[0]=l[2],l[2]=f}}class Kc{constructor(){this.rsDecoder=new Ct(ze.QR_CODE_FIELD_256)}decodeBooleanArray(l,f){return this.decodeBitMatrix(Z.parseFromBooleanArray(l),f)}decodeBitMatrix(l,f){const p=new gh(l);let g=null;try{return this.decodeBitMatrixParser(p,f)}catch(v){g=v}try{p.remask(),p.setMirror(!0),p.readVersion(),p.readFormatInformation(),p.mirror();const v=this.decodeBitMatrixParser(p,f);return v.setOther(new Tr(!0)),v}catch(v){throw g!==null?g:v}}decodeBitMatrixParser(l,f){const p=l.readVersion(),g=l.readFormatInformation().getErrorCorrectionLevel(),v=l.readCodewords(),x=Xg.getDataBlocks(v,p,g);let S=0;for(const D of x)S+=D.getNumDataCodewords();const P=new Uint8Array(S);let j=0;for(const D of x){const z=D.getCodewords(),K=D.getNumDataCodewords();this.correctErrors(z,K);for(let se=0;se<K;se++)P[j++]=z[se]}return Xn.decode(P,p,g,f)}correctErrors(l,f){const p=new Int32Array(l);try{this.rsDecoder.decode(p,l.length-f)}catch{throw new b}for(let g=0;g<f;g++)l[g]=p[g]}}class Yg extends Ze{constructor(l,f,p){super(l,f),this.estimatedModuleSize=p}aboutEquals(l,f,p){if(Math.abs(f-this.getY())<=l&&Math.abs(p-this.getX())<=l){const g=Math.abs(l-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(l,f,p){const g=(this.getX()+f)/2,v=(this.getY()+l)/2,x=(this.estimatedModuleSize+p)/2;return new Yg(g,v,x)}}class Sd{constructor(l,f,p,g,v,x,S){this.image=l,this.startX=f,this.startY=p,this.width=g,this.height=v,this.moduleSize=x,this.resultPointCallback=S,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}find(){const l=this.startX,f=this.height,p=this.width,g=l+p,v=this.startY+f/2,x=new Int32Array(3),S=this.image;for(let P=0;P<f;P++){const j=v+(P&1?-Math.floor((P+1)/2):Math.floor((P+1)/2));x[0]=0,x[1]=0,x[2]=0;let D=l;for(;D<g&&!S.get(D,j);)D++;let z=0;for(;D<g;){if(S.get(D,j))if(z===1)x[1]++;else if(z===2){if(this.foundPatternCross(x)){const K=this.handlePossibleCenter(x,j,D);if(K!==null)return K}x[0]=x[2],x[1]=1,x[2]=0,z=1}else x[++z]++;else z===1&&z++,x[z]++;D++}if(this.foundPatternCross(x)){const K=this.handlePossibleCenter(x,j,g);if(K!==null)return K}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new H}static centerFromEnd(l,f){return f-l[2]-l[1]/2}foundPatternCross(l){const f=this.moduleSize,p=f/2;for(let g=0;g<3;g++)if(Math.abs(f-l[g])>=p)return!1;return!0}crossCheckVertical(l,f,p,g){const v=this.image,x=v.getHeight(),S=this.crossCheckStateCount;S[0]=0,S[1]=0,S[2]=0;let P=l;for(;P>=0&&v.get(f,P)&&S[1]<=p;)S[1]++,P--;if(P<0||S[1]>p)return NaN;for(;P>=0&&!v.get(f,P)&&S[0]<=p;)S[0]++,P--;if(S[0]>p)return NaN;for(P=l+1;P<x&&v.get(f,P)&&S[1]<=p;)S[1]++,P++;if(P===x||S[1]>p)return NaN;for(;P<x&&!v.get(f,P)&&S[2]<=p;)S[2]++,P++;if(S[2]>p)return NaN;const j=S[0]+S[1]+S[2];return 5*Math.abs(j-g)>=2*g?NaN:this.foundPatternCross(S)?Sd.centerFromEnd(S,P):NaN}handlePossibleCenter(l,f,p){const g=l[0]+l[1]+l[2],v=Sd.centerFromEnd(l,p),x=this.crossCheckVertical(f,v,2*l[1],g);if(!isNaN(x)){const S=(l[0]+l[1]+l[2])/3;for(const j of this.possibleCenters)if(j.aboutEquals(S,x,v))return j.combineEstimate(x,v,S);const P=new Yg(v,x,S);this.possibleCenters.push(P),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(P)}return null}}class Cd extends Ze{constructor(l,f,p,g){super(l,f),this.estimatedModuleSize=p,this.count=g,g===void 0&&(this.count=1)}getEstimatedModuleSize(){return this.estimatedModuleSize}getCount(){return this.count}aboutEquals(l,f,p){if(Math.abs(f-this.getY())<=l&&Math.abs(p-this.getX())<=l){const g=Math.abs(l-this.estimatedModuleSize);return g<=1||g<=this.estimatedModuleSize}return!1}combineEstimate(l,f,p){const g=this.count+1,v=(this.count*this.getX()+f)/g,x=(this.count*this.getY()+l)/g,S=(this.count*this.estimatedModuleSize+p)/g;return new Cd(v,x,S,g)}}class yx{constructor(l){this.bottomLeft=l[0],this.topLeft=l[1],this.topRight=l[2]}getBottomLeft(){return this.bottomLeft}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}}class Nr{constructor(l,f){this.image=l,this.resultPointCallback=f,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=f}getImage(){return this.image}getPossibleCenters(){return this.possibleCenters}find(l){const f=l!=null&&l.get(k.TRY_HARDER)!==void 0,p=l!=null&&l.get(k.PURE_BARCODE)!==void 0,g=this.image,v=g.getHeight(),x=g.getWidth();let S=Math.floor(3*v/(4*Nr.MAX_MODULES));(S<Nr.MIN_SKIP||f)&&(S=Nr.MIN_SKIP);let P=!1;const j=new Int32Array(5);for(let z=S-1;z<v&&!P;z+=S){j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0;let K=0;for(let se=0;se<x;se++)if(g.get(se,z))(K&1)===1&&K++,j[K]++;else if(K&1)j[K]++;else if(K===4)if(Nr.foundPatternCross(j)){if(this.handlePossibleCenter(j,z,se,p)===!0)if(S=2,this.hasSkipped===!0)P=this.haveMultiplyConfirmedCenters();else{const ue=this.findRowSkip();ue>j[2]&&(z+=ue-j[2]-S,se=x-1)}else{j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,K=3;continue}K=0,j[0]=0,j[1]=0,j[2]=0,j[3]=0,j[4]=0}else j[0]=j[2],j[1]=j[3],j[2]=j[4],j[3]=1,j[4]=0,K=3;else j[++K]++;Nr.foundPatternCross(j)&&this.handlePossibleCenter(j,z,x,p)===!0&&(S=j[0],this.hasSkipped&&(P=this.haveMultiplyConfirmedCenters()))}const D=this.selectBestPatterns();return Ze.orderBestPatterns(D),new yx(D)}static centerFromEnd(l,f){return f-l[4]-l[3]-l[2]/2}static foundPatternCross(l){let f=0;for(let v=0;v<5;v++){const x=l[v];if(x===0)return!1;f+=x}if(f<7)return!1;const p=f/7,g=p/2;return Math.abs(p-l[0])<g&&Math.abs(p-l[1])<g&&Math.abs(3*p-l[2])<3*g&&Math.abs(p-l[3])<g&&Math.abs(p-l[4])<g}getCrossCheckStateCount(){const l=this.crossCheckStateCount;return l[0]=0,l[1]=0,l[2]=0,l[3]=0,l[4]=0,l}crossCheckDiagonal(l,f,p,g){const v=this.getCrossCheckStateCount();let x=0;const S=this.image;for(;l>=x&&f>=x&&S.get(f-x,l-x);)v[2]++,x++;if(l<x||f<x)return!1;for(;l>=x&&f>=x&&!S.get(f-x,l-x)&&v[1]<=p;)v[1]++,x++;if(l<x||f<x||v[1]>p)return!1;for(;l>=x&&f>=x&&S.get(f-x,l-x)&&v[0]<=p;)v[0]++,x++;if(v[0]>p)return!1;const P=S.getHeight(),j=S.getWidth();for(x=1;l+x<P&&f+x<j&&S.get(f+x,l+x);)v[2]++,x++;if(l+x>=P||f+x>=j)return!1;for(;l+x<P&&f+x<j&&!S.get(f+x,l+x)&&v[3]<p;)v[3]++,x++;if(l+x>=P||f+x>=j||v[3]>=p)return!1;for(;l+x<P&&f+x<j&&S.get(f+x,l+x)&&v[4]<p;)v[4]++,x++;if(v[4]>=p)return!1;const D=v[0]+v[1]+v[2]+v[3]+v[4];return Math.abs(D-g)<2*g&&Nr.foundPatternCross(v)}crossCheckVertical(l,f,p,g){const v=this.image,x=v.getHeight(),S=this.getCrossCheckStateCount();let P=l;for(;P>=0&&v.get(f,P);)S[2]++,P--;if(P<0)return NaN;for(;P>=0&&!v.get(f,P)&&S[1]<=p;)S[1]++,P--;if(P<0||S[1]>p)return NaN;for(;P>=0&&v.get(f,P)&&S[0]<=p;)S[0]++,P--;if(S[0]>p)return NaN;for(P=l+1;P<x&&v.get(f,P);)S[2]++,P++;if(P===x)return NaN;for(;P<x&&!v.get(f,P)&&S[3]<p;)S[3]++,P++;if(P===x||S[3]>=p)return NaN;for(;P<x&&v.get(f,P)&&S[4]<p;)S[4]++,P++;if(S[4]>=p)return NaN;const j=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(j-g)>=2*g?NaN:Nr.foundPatternCross(S)?Nr.centerFromEnd(S,P):NaN}crossCheckHorizontal(l,f,p,g){const v=this.image,x=v.getWidth(),S=this.getCrossCheckStateCount();let P=l;for(;P>=0&&v.get(P,f);)S[2]++,P--;if(P<0)return NaN;for(;P>=0&&!v.get(P,f)&&S[1]<=p;)S[1]++,P--;if(P<0||S[1]>p)return NaN;for(;P>=0&&v.get(P,f)&&S[0]<=p;)S[0]++,P--;if(S[0]>p)return NaN;for(P=l+1;P<x&&v.get(P,f);)S[2]++,P++;if(P===x)return NaN;for(;P<x&&!v.get(P,f)&&S[3]<p;)S[3]++,P++;if(P===x||S[3]>=p)return NaN;for(;P<x&&v.get(P,f)&&S[4]<p;)S[4]++,P++;if(S[4]>=p)return NaN;const j=S[0]+S[1]+S[2]+S[3]+S[4];return 5*Math.abs(j-g)>=g?NaN:Nr.foundPatternCross(S)?Nr.centerFromEnd(S,P):NaN}handlePossibleCenter(l,f,p,g){const v=l[0]+l[1]+l[2]+l[3]+l[4];let x=Nr.centerFromEnd(l,p),S=this.crossCheckVertical(f,Math.floor(x),l[2],v);if(!isNaN(S)&&(x=this.crossCheckHorizontal(Math.floor(x),Math.floor(S),l[2],v),!isNaN(x)&&(!g||this.crossCheckDiagonal(Math.floor(S),Math.floor(x),l[2],v)))){const P=v/7;let j=!1;const D=this.possibleCenters;for(let z=0,K=D.length;z<K;z++){const se=D[z];if(se.aboutEquals(P,S,x)){D[z]=se.combineEstimate(S,x,P),j=!0;break}}if(!j){const z=new Cd(x,S,P);D.push(z),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(z)}return!0}return!1}findRowSkip(){if(this.possibleCenters.length<=1)return 0;let f=null;for(const p of this.possibleCenters)if(p.getCount()>=Nr.CENTER_QUORUM)if(f==null)f=p;else return this.hasSkipped=!0,Math.floor((Math.abs(f.getX()-p.getX())-Math.abs(f.getY()-p.getY()))/2);return 0}haveMultiplyConfirmedCenters(){let l=0,f=0;const p=this.possibleCenters.length;for(const x of this.possibleCenters)x.getCount()>=Nr.CENTER_QUORUM&&(l++,f+=x.getEstimatedModuleSize());if(l<3)return!1;const g=f/p;let v=0;for(const x of this.possibleCenters)v+=Math.abs(x.getEstimatedModuleSize()-g);return v<=.05*f}selectBestPatterns(){const l=this.possibleCenters.length;if(l<3)throw new H;const f=this.possibleCenters;let p;if(l>3){let g=0,v=0;for(const P of this.possibleCenters){const j=P.getEstimatedModuleSize();g+=j,v+=j*j}p=g/l;let x=Math.sqrt(v/l-p*p);f.sort((P,j)=>{const D=Math.abs(j.getEstimatedModuleSize()-p),z=Math.abs(P.getEstimatedModuleSize()-p);return D<z?-1:D>z?1:0});const S=Math.max(.2*p,x);for(let P=0;P<f.length&&f.length>3;P++){const j=f[P];Math.abs(j.getEstimatedModuleSize()-p)>S&&(f.splice(P,1),P--)}}if(f.length>3){let g=0;for(const v of f)g+=v.getEstimatedModuleSize();p=g/f.length,f.sort((v,x)=>{if(x.getCount()===v.getCount()){const S=Math.abs(x.getEstimatedModuleSize()-p),P=Math.abs(v.getEstimatedModuleSize()-p);return S<P?1:S>P?-1:0}else return x.getCount()-v.getCount()}),f.splice(3)}return[f[0],f[1],f[2]]}}Nr.CENTER_QUORUM=2,Nr.MIN_SKIP=3,Nr.MAX_MODULES=57;class Ad{constructor(l){this.image=l}getImage(){return this.image}getResultPointCallback(){return this.resultPointCallback}detect(l){this.resultPointCallback=l==null?null:l.get(k.NEED_RESULT_POINT_CALLBACK);const p=new Nr(this.image,this.resultPointCallback).find(l);return this.processFinderPatternInfo(p)}processFinderPatternInfo(l){const f=l.getTopLeft(),p=l.getTopRight(),g=l.getBottomLeft(),v=this.calculateModuleSize(f,p,g);if(v<1)throw new H("No pattern found in proccess finder.");const x=Ad.computeDimension(f,p,g,v),S=ht.getProvisionalVersionForDimension(x),P=S.getDimensionForVersion()-7;let j=null;if(S.getAlignmentPatternCenters().length>0){const se=p.getX()-f.getX()+g.getX(),ce=p.getY()-f.getY()+g.getY(),ue=1-3/P,ye=Math.floor(f.getX()+ue*(se-f.getX())),Ce=Math.floor(f.getY()+ue*(ce-f.getY()));for(let Ge=4;Ge<=16;Ge<<=1)try{j=this.findAlignmentInRegion(v,ye,Ce,Ge);break}catch(qe){if(!(qe instanceof H))throw qe}}const D=Ad.createTransform(f,p,g,j,x),z=Ad.sampleGrid(this.image,D,x);let K;return j===null?K=[g,f,p]:K=[g,f,p,j],new ae(z,K)}static createTransform(l,f,p,g,v){const x=v-3.5;let S,P,j,D;return g!==null?(S=g.getX(),P=g.getY(),j=x-3,D=j):(S=f.getX()-l.getX()+p.getX(),P=f.getY()-l.getY()+p.getY(),j=x,D=x),Pe.quadrilateralToQuadrilateral(3.5,3.5,x,3.5,j,D,3.5,x,l.getX(),l.getY(),f.getX(),f.getY(),S,P,p.getX(),p.getY())}static sampleGrid(l,f,p){return de.getInstance().sampleGridWithTransform(l,p,p,f)}static computeDimension(l,f,p,g){const v=ct.round(Ze.distance(l,f)/g),x=ct.round(Ze.distance(l,p)/g);let S=Math.floor((v+x)/2)+7;switch(S&3){case 0:S++;break;case 2:S--;break;case 3:throw new H("Dimensions could be not found.")}return S}calculateModuleSize(l,f,p){return(this.calculateModuleSizeOneWay(l,f)+this.calculateModuleSizeOneWay(l,p))/2}calculateModuleSizeOneWay(l,f){const p=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(l.getX()),Math.floor(l.getY()),Math.floor(f.getX()),Math.floor(f.getY())),g=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(f.getX()),Math.floor(f.getY()),Math.floor(l.getX()),Math.floor(l.getY()));return isNaN(p)?g/7:isNaN(g)?p/7:(p+g)/14}sizeOfBlackWhiteBlackRunBothWays(l,f,p,g){let v=this.sizeOfBlackWhiteBlackRun(l,f,p,g),x=1,S=l-(p-l);S<0?(x=l/(l-S),S=0):S>=this.image.getWidth()&&(x=(this.image.getWidth()-1-l)/(S-l),S=this.image.getWidth()-1);let P=Math.floor(f-(g-f)*x);return x=1,P<0?(x=f/(f-P),P=0):P>=this.image.getHeight()&&(x=(this.image.getHeight()-1-f)/(P-f),P=this.image.getHeight()-1),S=Math.floor(l+(S-l)*x),v+=this.sizeOfBlackWhiteBlackRun(l,f,S,P),v-1}sizeOfBlackWhiteBlackRun(l,f,p,g){const v=Math.abs(g-f)>Math.abs(p-l);if(v){let se=l;l=f,f=se,se=p,p=g,g=se}const x=Math.abs(p-l),S=Math.abs(g-f);let P=-x/2;const j=l<p?1:-1,D=f<g?1:-1;let z=0;const K=p+j;for(let se=l,ce=f;se!==K;se+=j){const ue=v?ce:se,ye=v?se:ce;if(z===1===this.image.get(ue,ye)){if(z===2)return ct.distance(se,ce,l,f);z++}if(P+=S,P>0){if(ce===g)break;ce+=D,P-=x}}return z===2?ct.distance(p+j,g,l,f):NaN}findAlignmentInRegion(l,f,p,g){const v=Math.floor(g*l),x=Math.max(0,f-v),S=Math.min(this.image.getWidth()-1,f+v);if(S-x<l*3)throw new H("Alignment top exceeds estimated module size.");const P=Math.max(0,p-v),j=Math.min(this.image.getHeight()-1,p+v);if(j-P<l*3)throw new H("Alignment bottom exceeds estimated module size.");return new Sd(this.image,x,P,S-x,j-P,l,this.resultPointCallback).find()}}class Qr{constructor(){this.decoder=new Kc}getDecoder(){return this.decoder}decode(l,f){let p,g;if(f!=null&&f.get(k.PURE_BARCODE)!==void 0){const P=Qr.extractPureBits(l.getBlackMatrix());p=this.decoder.decodeBitMatrix(P,f),g=Qr.NO_POINTS}else{const P=new Ad(l.getBlackMatrix()).detect(f);p=this.decoder.decodeBitMatrix(P.getBits(),f),g=P.getPoints()}p.getOther()instanceof Tr&&p.getOther().applyMirroredCorrection(g);const v=new he(p.getText(),p.getRawBytes(),void 0,g,me.QR_CODE,void 0),x=p.getByteSegments();x!==null&&v.putMetadata(Ne.BYTE_SEGMENTS,x);const S=p.getECLevel();return S!==null&&v.putMetadata(Ne.ERROR_CORRECTION_LEVEL,S),p.hasStructuredAppend()&&(v.putMetadata(Ne.STRUCTURED_APPEND_SEQUENCE,p.getStructuredAppendSequenceNumber()),v.putMetadata(Ne.STRUCTURED_APPEND_PARITY,p.getStructuredAppendParity())),v}reset(){}static extractPureBits(l){const f=l.getTopLeftOnBit(),p=l.getBottomRightOnBit();if(f===null||p===null)throw new H;const g=this.moduleSize(f,l);let v=f[1],x=p[1],S=f[0],P=p[0];if(S>=P||v>=x)throw new H;if(x-v!==P-S&&(P=S+(x-v),P>=l.getWidth()))throw new H;const j=Math.round((P-S+1)/g),D=Math.round((x-v+1)/g);if(j<=0||D<=0)throw new H;if(D!==j)throw new H;const z=Math.floor(g/2);v+=z,S+=z;const K=S+Math.floor((j-1)*g)-P;if(K>0){if(K>z)throw new H;S-=K}const se=v+Math.floor((D-1)*g)-x;if(se>0){if(se>z)throw new H;v-=se}const ce=new Z(j,D);for(let ue=0;ue<D;ue++){const ye=v+Math.floor(ue*g);for(let Ce=0;Ce<j;Ce++)l.get(S+Math.floor(Ce*g),ye)&&ce.set(Ce,ue)}return ce}static moduleSize(l,f){const p=f.getHeight(),g=f.getWidth();let v=l[0],x=l[1],S=!0,P=0;for(;v<g&&x<p;){if(S!==f.get(v,x)){if(++P===5)break;S=!S}v++,x++}if(v===g||x===p)throw new H;return(v-l[0])/7}}Qr.NO_POINTS=new Array;class bt{PDF417Common(){}static getBitCountSum(l){return ct.sum(l)}static toIntArray(l){if(l==null||!l.length)return bt.EMPTY_INT_ARRAY;const f=new Int32Array(l.length);let p=0;for(const g of l)f[p++]=g;return f}static getCodeword(l){const f=E.binarySearch(bt.SYMBOL_TABLE,l&262143);return f<0?-1:(bt.CODEWORD_TABLE[f]-1)%bt.NUMBER_OF_CODEWORDS}}bt.NUMBER_OF_CODEWORDS=929,bt.MAX_CODEWORDS_IN_BARCODE=bt.NUMBER_OF_CODEWORDS-1,bt.MIN_ROWS_IN_BARCODE=3,bt.MAX_ROWS_IN_BARCODE=90,bt.MODULES_IN_CODEWORD=17,bt.MODULES_IN_STOP_PATTERN=18,bt.BARS_IN_MODULE=8,bt.EMPTY_INT_ARRAY=new Int32Array([]),bt.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),bt.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]);class vx{constructor(l,f){this.bits=l,this.points=f}getBits(){return this.bits}getPoints(){return this.points}}class Ut{static detectMultiple(l,f,p){let g=l.getBlackMatrix(),v=Ut.detect(p,g);return v.length||(g=g.clone(),g.rotate180(),v=Ut.detect(p,g)),new vx(g,v)}static detect(l,f){const p=new Array;let g=0,v=0,x=!1;for(;g<f.getHeight();){const S=Ut.findVertices(f,g,v);if(S[0]==null&&S[3]==null){if(!x)break;x=!1,v=0;for(const P of p)P[1]!=null&&(g=Math.trunc(Math.max(g,P[1].getY()))),P[3]!=null&&(g=Math.max(g,Math.trunc(P[3].getY())));g+=Ut.ROW_STEP;continue}if(x=!0,p.push(S),!l)break;S[2]!=null?(v=Math.trunc(S[2].getX()),g=Math.trunc(S[2].getY())):(v=Math.trunc(S[4].getX()),g=Math.trunc(S[4].getY()))}return p}static findVertices(l,f,p){const g=l.getHeight(),v=l.getWidth(),x=new Array(8);return Ut.copyToResult(x,Ut.findRowsWithPattern(l,g,v,f,p,Ut.START_PATTERN),Ut.INDEXES_START_PATTERN),x[4]!=null&&(p=Math.trunc(x[4].getX()),f=Math.trunc(x[4].getY())),Ut.copyToResult(x,Ut.findRowsWithPattern(l,g,v,f,p,Ut.STOP_PATTERN),Ut.INDEXES_STOP_PATTERN),x}static copyToResult(l,f,p){for(let g=0;g<p.length;g++)l[p[g]]=f[g]}static findRowsWithPattern(l,f,p,g,v,x){const S=new Array(4);let P=!1;const j=new Int32Array(x.length);for(;g<f;g+=Ut.ROW_STEP){let z=Ut.findGuardPattern(l,v,g,p,!1,x,j);if(z!=null){for(;g>0;){const K=Ut.findGuardPattern(l,v,--g,p,!1,x,j);if(K!=null)z=K;else{g++;break}}S[0]=new Ze(z[0],g),S[1]=new Ze(z[1],g),P=!0;break}}let D=g+1;if(P){let z=0,K=Int32Array.from([Math.trunc(S[0].getX()),Math.trunc(S[1].getX())]);for(;D<f;D++){const se=Ut.findGuardPattern(l,K[0],D,p,!1,x,j);if(se!=null&&Math.abs(K[0]-se[0])<Ut.MAX_PATTERN_DRIFT&&Math.abs(K[1]-se[1])<Ut.MAX_PATTERN_DRIFT)K=se,z=0;else{if(z>Ut.SKIPPED_ROW_COUNT_MAX)break;z++}}D-=z+1,S[2]=new Ze(K[0],D),S[3]=new Ze(K[1],D)}return D-g<Ut.BARCODE_MIN_HEIGHT&&E.fill(S,null),S}static findGuardPattern(l,f,p,g,v,x,S){E.fillWithin(S,0,S.length,0);let P=f,j=0;for(;l.get(P,p)&&P>0&&j++<Ut.MAX_PIXEL_DRIFT;)P--;let D=P,z=0,K=x.length;for(let se=v;D<g;D++)if(l.get(D,p)!==se)S[z]++;else{if(z===K-1){if(Ut.patternMatchVariance(S,x,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE)return new Int32Array([P,D]);P+=S[0]+S[1],w.arraycopy(S,2,S,0,z-1),S[z-1]=0,S[z]=0,z--}else z++;S[z]=1,se=!se}return z===K-1&&Ut.patternMatchVariance(S,x,Ut.MAX_INDIVIDUAL_VARIANCE)<Ut.MAX_AVG_VARIANCE?new Int32Array([P,D-1]):null}static patternMatchVariance(l,f,p){let g=l.length,v=0,x=0;for(let j=0;j<g;j++)v+=l[j],x+=f[j];if(v<x)return 1/0;let S=v/x;p*=S;let P=0;for(let j=0;j<g;j++){let D=l[j],z=f[j]*S,K=D>z?D-z:z-D;if(K>p)return 1/0;P+=K}return P/v}}Ut.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),Ut.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),Ut.MAX_AVG_VARIANCE=.42,Ut.MAX_INDIVIDUAL_VARIANCE=.8,Ut.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),Ut.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),Ut.MAX_PIXEL_DRIFT=3,Ut.MAX_PATTERN_DRIFT=5,Ut.SKIPPED_ROW_COUNT_MAX=25,Ut.ROW_STEP=5,Ut.BARCODE_MIN_HEIGHT=10;class Pr{constructor(l,f){if(f.length===0)throw new m;this.field=l;let p=f.length;if(p>1&&f[0]===0){let g=1;for(;g<p&&f[g]===0;)g++;g===p?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(p-g),w.arraycopy(f,g,this.coefficients,0,this.coefficients.length))}else this.coefficients=f}getCoefficients(){return this.coefficients}getDegree(){return this.coefficients.length-1}isZero(){return this.coefficients[0]===0}getCoefficient(l){return this.coefficients[this.coefficients.length-1-l]}evaluateAt(l){if(l===0)return this.getCoefficient(0);if(l===1){let g=0;for(let v of this.coefficients)g=this.field.add(g,v);return g}let f=this.coefficients[0],p=this.coefficients.length;for(let g=1;g<p;g++)f=this.field.add(this.field.multiply(l,f),this.coefficients[g]);return f}add(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero())return l;if(l.isZero())return this;let f=this.coefficients,p=l.coefficients;if(f.length>p.length){let x=f;f=p,p=x}let g=new Int32Array(p.length),v=p.length-f.length;w.arraycopy(p,0,g,0,v);for(let x=v;x<p.length;x++)g[x]=this.field.add(f[x-v],p[x]);return new Pr(this.field,g)}subtract(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");return l.isZero()?this:this.add(l.negative())}multiply(l){return l instanceof Pr?this.multiplyOther(l):this.multiplyScalar(l)}multiplyOther(l){if(!this.field.equals(l.field))throw new m("ModulusPolys do not have same ModulusGF field");if(this.isZero()||l.isZero())return new Pr(this.field,new Int32Array([0]));let f=this.coefficients,p=f.length,g=l.coefficients,v=g.length,x=new Int32Array(p+v-1);for(let S=0;S<p;S++){let P=f[S];for(let j=0;j<v;j++)x[S+j]=this.field.add(x[S+j],this.field.multiply(P,g[j]))}return new Pr(this.field,x)}negative(){let l=this.coefficients.length,f=new Int32Array(l);for(let p=0;p<l;p++)f[p]=this.field.subtract(0,this.coefficients[p]);return new Pr(this.field,f)}multiplyScalar(l){if(l===0)return new Pr(this.field,new Int32Array([0]));if(l===1)return this;let f=this.coefficients.length,p=new Int32Array(f);for(let g=0;g<f;g++)p[g]=this.field.multiply(this.coefficients[g],l);return new Pr(this.field,p)}multiplyByMonomial(l,f){if(l<0)throw new m;if(f===0)return new Pr(this.field,new Int32Array([0]));let p=this.coefficients.length,g=new Int32Array(p+l);for(let v=0;v<p;v++)g[v]=this.field.multiply(this.coefficients[v],f);return new Pr(this.field,g)}toString(){let l=new V;for(let f=this.getDegree();f>=0;f--){let p=this.getCoefficient(f);p!==0&&(p<0?(l.append(" - "),p=-p):l.length()>0&&l.append(" + "),(f===0||p!==1)&&l.append(p),f!==0&&(f===1?l.append("x"):(l.append("x^"),l.append(f))))}return l.toString()}}class xx{add(l,f){return(l+f)%this.modulus}subtract(l,f){return(this.modulus+l-f)%this.modulus}exp(l){return this.expTable[l]}log(l){if(l===0)throw new m;return this.logTable[l]}inverse(l){if(l===0)throw new ve;return this.expTable[this.modulus-this.logTable[l]-1]}multiply(l,f){return l===0||f===0?0:this.expTable[(this.logTable[l]+this.logTable[f])%(this.modulus-1)]}getSize(){return this.modulus}equals(l){return l===this}}class Zs extends xx{constructor(l,f){super(),this.modulus=l,this.expTable=new Int32Array(l),this.logTable=new Int32Array(l);let p=1;for(let g=0;g<l;g++)this.expTable[g]=p,p=p*f%l;for(let g=0;g<l-1;g++)this.logTable[this.expTable[g]]=g;this.zero=new Pr(this,new Int32Array([0])),this.one=new Pr(this,new Int32Array([1]))}getZero(){return this.zero}getOne(){return this.one}buildMonomial(l,f){if(l<0)throw new m;if(f===0)return this.zero;let p=new Int32Array(l+1);return p[0]=f,new Pr(this,p)}}Zs.PDF417_GF=new Zs(bt.NUMBER_OF_CODEWORDS,3);class Zg{constructor(){this.field=Zs.PDF417_GF}decode(l,f,p){let g=new Pr(this.field,l),v=new Int32Array(f),x=!1;for(let ce=f;ce>0;ce--){let ue=g.evaluateAt(this.field.exp(ce));v[f-ce]=ue,ue!==0&&(x=!0)}if(!x)return 0;let S=this.field.getOne();if(p!=null)for(const ce of p){let ue=this.field.exp(l.length-1-ce),ye=new Pr(this.field,new Int32Array([this.field.subtract(0,ue),1]));S=S.multiply(ye)}let P=new Pr(this.field,v),j=this.runEuclideanAlgorithm(this.field.buildMonomial(f,1),P,f),D=j[0],z=j[1],K=this.findErrorLocations(D),se=this.findErrorMagnitudes(z,D,K);for(let ce=0;ce<K.length;ce++){let ue=l.length-1-this.field.log(K[ce]);if(ue<0)throw b.getChecksumInstance();l[ue]=this.field.subtract(l[ue],se[ce])}return K.length}runEuclideanAlgorithm(l,f,p){if(l.getDegree()<f.getDegree()){let K=l;l=f,f=K}let g=l,v=f,x=this.field.getZero(),S=this.field.getOne();for(;v.getDegree()>=Math.round(p/2);){let K=g,se=x;if(g=v,x=S,g.isZero())throw b.getChecksumInstance();v=K;let ce=this.field.getZero(),ue=g.getCoefficient(g.getDegree()),ye=this.field.inverse(ue);for(;v.getDegree()>=g.getDegree()&&!v.isZero();){let Ce=v.getDegree()-g.getDegree(),Ge=this.field.multiply(v.getCoefficient(v.getDegree()),ye);ce=ce.add(this.field.buildMonomial(Ce,Ge)),v=v.subtract(g.multiplyByMonomial(Ce,Ge))}S=ce.multiply(x).subtract(se).negative()}let P=S.getCoefficient(0);if(P===0)throw b.getChecksumInstance();let j=this.field.inverse(P),D=S.multiply(j),z=v.multiply(j);return[D,z]}findErrorLocations(l){let f=l.getDegree(),p=new Int32Array(f),g=0;for(let v=1;v<this.field.getSize()&&g<f;v++)l.evaluateAt(v)===0&&(p[g]=this.field.inverse(v),g++);if(g!==f)throw b.getChecksumInstance();return p}findErrorMagnitudes(l,f,p){let g=f.getDegree(),v=new Int32Array(g);for(let j=1;j<=g;j++)v[g-j]=this.field.multiply(j,f.getCoefficient(j));let x=new Pr(this.field,v),S=p.length,P=new Int32Array(S);for(let j=0;j<S;j++){let D=this.field.inverse(p[j]),z=this.field.subtract(0,l.evaluateAt(D)),K=this.field.inverse(x.evaluateAt(D));P[j]=this.field.multiply(z,K)}return P}}class Go{constructor(l,f,p,g,v){l instanceof Go?this.constructor_2(l):this.constructor_1(l,f,p,g,v)}constructor_1(l,f,p,g,v){const x=f==null||p==null,S=g==null||v==null;if(x&&S)throw new H;x?(f=new Ze(0,g.getY()),p=new Ze(0,v.getY())):S&&(g=new Ze(l.getWidth()-1,f.getY()),v=new Ze(l.getWidth()-1,p.getY())),this.image=l,this.topLeft=f,this.bottomLeft=p,this.topRight=g,this.bottomRight=v,this.minX=Math.trunc(Math.min(f.getX(),p.getX())),this.maxX=Math.trunc(Math.max(g.getX(),v.getX())),this.minY=Math.trunc(Math.min(f.getY(),g.getY())),this.maxY=Math.trunc(Math.max(p.getY(),v.getY()))}constructor_2(l){this.image=l.image,this.topLeft=l.getTopLeft(),this.bottomLeft=l.getBottomLeft(),this.topRight=l.getTopRight(),this.bottomRight=l.getBottomRight(),this.minX=l.getMinX(),this.maxX=l.getMaxX(),this.minY=l.getMinY(),this.maxY=l.getMaxY()}static merge(l,f){return l==null?f:f==null?l:new Go(l.image,l.topLeft,l.bottomLeft,f.topRight,f.bottomRight)}addMissingRows(l,f,p){let g=this.topLeft,v=this.bottomLeft,x=this.topRight,S=this.bottomRight;if(l>0){let P=p?this.topLeft:this.topRight,j=Math.trunc(P.getY()-l);j<0&&(j=0);let D=new Ze(P.getX(),j);p?g=D:x=D}if(f>0){let P=p?this.bottomLeft:this.bottomRight,j=Math.trunc(P.getY()+f);j>=this.image.getHeight()&&(j=this.image.getHeight()-1);let D=new Ze(P.getX(),j);p?v=D:S=D}return new Go(this.image,g,v,x,S)}getMinX(){return this.minX}getMaxX(){return this.maxX}getMinY(){return this.minY}getMaxY(){return this.maxY}getTopLeft(){return this.topLeft}getTopRight(){return this.topRight}getBottomLeft(){return this.bottomLeft}getBottomRight(){return this.bottomRight}}class bx{constructor(l,f,p,g){this.columnCount=l,this.errorCorrectionLevel=g,this.rowCountUpperPart=f,this.rowCountLowerPart=p,this.rowCount=f+p}getColumnCount(){return this.columnCount}getErrorCorrectionLevel(){return this.errorCorrectionLevel}getRowCount(){return this.rowCount}getRowCountUpperPart(){return this.rowCountUpperPart}getRowCountLowerPart(){return this.rowCountLowerPart}}class Xc{constructor(){this.buffer=""}static form(l,f){let p=-1;function g(x,S,P,j,D,z){if(x==="%%")return"%";if(f[++p]===void 0)return;x=j?parseInt(j.substr(1)):void 0;let K=D?parseInt(D.substr(1)):void 0,se;switch(z){case"s":se=f[p];break;case"c":se=f[p][0];break;case"f":se=parseFloat(f[p]).toFixed(x);break;case"p":se=parseFloat(f[p]).toPrecision(x);break;case"e":se=parseFloat(f[p]).toExponential(x);break;case"x":se=parseInt(f[p]).toString(K||16);break;case"d":se=parseFloat(parseInt(f[p],K||10).toPrecision(x)).toFixed(0);break}se=typeof se=="object"?JSON.stringify(se):(+se).toString(K);let ce=parseInt(P),ue=P&&P[0]+""=="0"?"0":" ";for(;se.length<ce;)se=S!==void 0?se+ue:ue+se;return se}let v=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return l.replace(v,g)}format(l,...f){this.buffer+=Xc.form(l,f)}toString(){return this.buffer}}class Ed{constructor(l){this.boundingBox=new Go(l),this.codewords=new Array(l.getMaxY()-l.getMinY()+1)}getCodewordNearby(l){let f=this.getCodeword(l);if(f!=null)return f;for(let p=1;p<Ed.MAX_NEARBY_DISTANCE;p++){let g=this.imageRowToCodewordIndex(l)-p;if(g>=0&&(f=this.codewords[g],f!=null)||(g=this.imageRowToCodewordIndex(l)+p,g<this.codewords.length&&(f=this.codewords[g],f!=null)))return f}return null}imageRowToCodewordIndex(l){return l-this.boundingBox.getMinY()}setCodeword(l,f){this.codewords[this.imageRowToCodewordIndex(l)]=f}getCodeword(l){return this.codewords[this.imageRowToCodewordIndex(l)]}getBoundingBox(){return this.boundingBox}getCodewords(){return this.codewords}toString(){const l=new Xc;let f=0;for(const p of this.codewords){if(p==null){l.format("%3d:    |   %n",f++);continue}l.format("%3d: %3d|%3d%n",f++,p.getRowNumber(),p.getValue())}return l.toString()}}Ed.MAX_NEARBY_DISTANCE=5;class ft{constructor(){this.values=new Map}setValue(l){l=Math.trunc(l);let f=this.values.get(l);f==null&&(f=0),f++,this.values.set(l,f)}getValue(){let l=-1,f=new Array;for(const[p,g]of this.values.entries()){const v={getKey:()=>p,getValue:()=>g};v.getValue()>l?(l=v.getValue(),f=[],f.push(v.getKey())):v.getValue()===l&&f.push(v.getKey())}return bt.toIntArray(f)}getConfidence(l){return this.values.get(l)}}class fe extends Ed{constructor(l,f){super(l),this._isLeft=f}setRowNumbers(){for(let l of this.getCodewords())l!=null&&l.setRowNumberAsRowIndicatorColumn()}adjustCompleteIndicatorColumnRowNumbers(l){let f=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(f,l);let p=this.getBoundingBox(),g=this._isLeft?p.getTopLeft():p.getTopRight(),v=this._isLeft?p.getBottomLeft():p.getBottomRight(),x=this.imageRowToCodewordIndex(Math.trunc(g.getY())),S=this.imageRowToCodewordIndex(Math.trunc(v.getY())),P=-1,j=1,D=0;for(let z=x;z<S;z++){if(f[z]==null)continue;let K=f[z],se=K.getRowNumber()-P;if(se===0)D++;else if(se===1)j=Math.max(j,D),D=1,P=K.getRowNumber();else if(se<0||K.getRowNumber()>=l.getRowCount()||se>z)f[z]=null;else{let ce;j>2?ce=(j-2)*se:ce=se;let ue=ce>=z;for(let ye=1;ye<=ce&&!ue;ye++)ue=f[z-ye]!=null;ue?f[z]=null:(P=K.getRowNumber(),D=1)}}}getRowHeights(){let l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);let f=new Int32Array(l.getRowCount());for(let p of this.getCodewords())if(p!=null){let g=p.getRowNumber();if(g>=f.length)continue;f[g]++}return f}adjustIncompleteIndicatorColumnRowNumbers(l){let f=this.getBoundingBox(),p=this._isLeft?f.getTopLeft():f.getTopRight(),g=this._isLeft?f.getBottomLeft():f.getBottomRight(),v=this.imageRowToCodewordIndex(Math.trunc(p.getY())),x=this.imageRowToCodewordIndex(Math.trunc(g.getY())),S=this.getCodewords(),P=-1;for(let j=v;j<x;j++){if(S[j]==null)continue;let D=S[j];D.setRowNumberAsRowIndicatorColumn();let z=D.getRowNumber()-P;z===0||(z===1?P=D.getRowNumber():D.getRowNumber()>=l.getRowCount()?S[j]=null:P=D.getRowNumber())}}getBarcodeMetadata(){let l=this.getCodewords(),f=new ft,p=new ft,g=new ft,v=new ft;for(let S of l){if(S==null)continue;S.setRowNumberAsRowIndicatorColumn();let P=S.getValue()%30,j=S.getRowNumber();switch(this._isLeft||(j+=2),j%3){case 0:p.setValue(P*3+1);break;case 1:v.setValue(P/3),g.setValue(P%3);break;case 2:f.setValue(P+1);break}}if(f.getValue().length===0||p.getValue().length===0||g.getValue().length===0||v.getValue().length===0||f.getValue()[0]<1||p.getValue()[0]+g.getValue()[0]<bt.MIN_ROWS_IN_BARCODE||p.getValue()[0]+g.getValue()[0]>bt.MAX_ROWS_IN_BARCODE)return null;let x=new bx(f.getValue()[0],p.getValue()[0],g.getValue()[0],v.getValue()[0]);return this.removeIncorrectCodewords(l,x),x}removeIncorrectCodewords(l,f){for(let p=0;p<l.length;p++){let g=l[p];if(l[p]==null)continue;let v=g.getValue()%30,x=g.getRowNumber();if(x>f.getRowCount()){l[p]=null;continue}switch(this._isLeft||(x+=2),x%3){case 0:v*3+1!==f.getRowCountUpperPart()&&(l[p]=null);break;case 1:(Math.trunc(v/3)!==f.getErrorCorrectionLevel()||v%3!==f.getRowCountLowerPart())&&(l[p]=null);break;case 2:v+1!==f.getColumnCount()&&(l[p]=null);break}}}isLeft(){return this._isLeft}toString(){return"IsLeft: "+this._isLeft+`
`+super.toString()}}class Ve{constructor(l,f){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=l,this.barcodeColumnCount=l.getColumnCount(),this.boundingBox=f,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}getDetectionResultColumns(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);let l=bt.MAX_CODEWORDS_IN_BARCODE,f;do f=l,l=this.adjustRowNumbersAndGetCount();while(l>0&&l<f);return this.detectionResultColumns}adjustIndicatorColumnRowNumbers(l){l!=null&&l.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)}adjustRowNumbersAndGetCount(){let l=this.adjustRowNumbersByRow();if(l===0)return 0;for(let f=1;f<this.barcodeColumnCount+1;f++){let p=this.detectionResultColumns[f].getCodewords();for(let g=0;g<p.length;g++)p[g]!=null&&(p[g].hasValidRowNumber()||this.adjustRowNumbers(f,g,p))}return l}adjustRowNumbersByRow(){return this.adjustRowNumbersFromBothRI(),this.adjustRowNumbersFromLRI()+this.adjustRowNumbersFromRRI()}adjustRowNumbersFromBothRI(){if(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)return;let l=this.detectionResultColumns[0].getCodewords(),f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<l.length;p++)if(l[p]!=null&&f[p]!=null&&l[p].getRowNumber()===f[p].getRowNumber())for(let g=1;g<=this.barcodeColumnCount;g++){let v=this.detectionResultColumns[g].getCodewords()[p];v!=null&&(v.setRowNumber(l[p].getRowNumber()),v.hasValidRowNumber()||(this.detectionResultColumns[g].getCodewords()[p]=null))}}adjustRowNumbersFromRRI(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;let l=0,f=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords();for(let p=0;p<f.length;p++){if(f[p]==null)continue;let g=f[p].getRowNumber(),v=0;for(let x=this.barcodeColumnCount+1;x>0&&v<this.ADJUST_ROW_NUMBER_SKIP;x--){let S=this.detectionResultColumns[x].getCodewords()[p];S!=null&&(v=Ve.adjustRowNumberIfValid(g,v,S),S.hasValidRowNumber()||l++)}}return l}adjustRowNumbersFromLRI(){if(this.detectionResultColumns[0]==null)return 0;let l=0,f=this.detectionResultColumns[0].getCodewords();for(let p=0;p<f.length;p++){if(f[p]==null)continue;let g=f[p].getRowNumber(),v=0;for(let x=1;x<this.barcodeColumnCount+1&&v<this.ADJUST_ROW_NUMBER_SKIP;x++){let S=this.detectionResultColumns[x].getCodewords()[p];S!=null&&(v=Ve.adjustRowNumberIfValid(g,v,S),S.hasValidRowNumber()||l++)}}return l}static adjustRowNumberIfValid(l,f,p){return p==null||p.hasValidRowNumber()||(p.isValidRowNumber(l)?(p.setRowNumber(l),f=0):++f),f}adjustRowNumbers(l,f,p){if(!this.detectionResultColumns[l-1])return;let g=p[f],v=this.detectionResultColumns[l-1].getCodewords(),x=v;this.detectionResultColumns[l+1]!=null&&(x=this.detectionResultColumns[l+1].getCodewords());let S=new Array(14);S[2]=v[f],S[3]=x[f],f>0&&(S[0]=p[f-1],S[4]=v[f-1],S[5]=x[f-1]),f>1&&(S[8]=p[f-2],S[10]=v[f-2],S[11]=x[f-2]),f<p.length-1&&(S[1]=p[f+1],S[6]=v[f+1],S[7]=x[f+1]),f<p.length-2&&(S[9]=p[f+2],S[12]=v[f+2],S[13]=x[f+2]);for(let P of S)if(Ve.adjustRowNumber(g,P))return}static adjustRowNumber(l,f){return f==null?!1:f.hasValidRowNumber()&&f.getBucket()===l.getBucket()?(l.setRowNumber(f.getRowNumber()),!0):!1}getBarcodeColumnCount(){return this.barcodeColumnCount}getBarcodeRowCount(){return this.barcodeMetadata.getRowCount()}getBarcodeECLevel(){return this.barcodeMetadata.getErrorCorrectionLevel()}setBoundingBox(l){this.boundingBox=l}getBoundingBox(){return this.boundingBox}setDetectionResultColumn(l,f){this.detectionResultColumns[l]=f}getDetectionResultColumn(l){return this.detectionResultColumns[l]}toString(){let l=this.detectionResultColumns[0];l==null&&(l=this.detectionResultColumns[this.barcodeColumnCount+1]);let f=new Xc;for(let p=0;p<l.getCodewords().length;p++){f.format("CW %3d:",p);for(let g=0;g<this.barcodeColumnCount+2;g++){if(this.detectionResultColumns[g]==null){f.format("    |   ");continue}let v=this.detectionResultColumns[g].getCodewords()[p];if(v==null){f.format("    |   ");continue}f.format(" %3d|%3d",v.getRowNumber(),v.getValue())}f.format("%n")}return f.toString()}}class at{constructor(l,f,p,g){this.rowNumber=at.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(l),this.endX=Math.trunc(f),this.bucket=Math.trunc(p),this.value=Math.trunc(g)}hasValidRowNumber(){return this.isValidRowNumber(this.rowNumber)}isValidRowNumber(l){return l!==at.BARCODE_ROW_UNKNOWN&&this.bucket===l%3*3}setRowNumberAsRowIndicatorColumn(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))}getWidth(){return this.endX-this.startX}getStartX(){return this.startX}getEndX(){return this.endX}getBucket(){return this.bucket}getValue(){return this.value}getRowNumber(){return this.rowNumber}setRowNumber(l){this.rowNumber=l}toString(){return this.rowNumber+"|"+this.value}}at.BARCODE_ROW_UNKNOWN=-1;class Zt{static initialize(){for(let l=0;l<bt.SYMBOL_TABLE.length;l++){let f=bt.SYMBOL_TABLE[l],p=f&1;for(let g=0;g<bt.BARS_IN_MODULE;g++){let v=0;for(;(f&1)===p;)v+=1,f>>=1;p=f&1,Zt.RATIOS_TABLE[l]||(Zt.RATIOS_TABLE[l]=new Array(bt.BARS_IN_MODULE)),Zt.RATIOS_TABLE[l][bt.BARS_IN_MODULE-g-1]=Math.fround(v/bt.MODULES_IN_CODEWORD)}}this.bSymbolTableReady=!0}static getDecodedValue(l){let f=Zt.getDecodedCodewordValue(Zt.sampleBitCounts(l));return f!==-1?f:Zt.getClosestDecodedValue(l)}static sampleBitCounts(l){let f=ct.sum(l),p=new Int32Array(bt.BARS_IN_MODULE),g=0,v=0;for(let x=0;x<bt.MODULES_IN_CODEWORD;x++){let S=f/(2*bt.MODULES_IN_CODEWORD)+x*f/bt.MODULES_IN_CODEWORD;v+l[g]<=S&&(v+=l[g],g++),p[g]++}return p}static getDecodedCodewordValue(l){let f=Zt.getBitValue(l);return bt.getCodeword(f)===-1?-1:f}static getBitValue(l){let f=0;for(let p=0;p<l.length;p++)for(let g=0;g<l[p];g++)f=f<<1|(p%2===0?1:0);return Math.trunc(f)}static getClosestDecodedValue(l){let f=ct.sum(l),p=new Array(bt.BARS_IN_MODULE);if(f>1)for(let x=0;x<p.length;x++)p[x]=Math.fround(l[x]/f);let g=xn.MAX_VALUE,v=-1;this.bSymbolTableReady||Zt.initialize();for(let x=0;x<Zt.RATIOS_TABLE.length;x++){let S=0,P=Zt.RATIOS_TABLE[x];for(let j=0;j<bt.BARS_IN_MODULE;j++){let D=Math.fround(P[j]-p[j]);if(S+=Math.fround(D*D),S>=g)break}S<g&&(g=S,v=bt.SYMBOL_TABLE[x])}return v}}Zt.bSymbolTableReady=!1,Zt.RATIOS_TABLE=new Array(bt.SYMBOL_TABLE.length).map($=>new Array(bt.BARS_IN_MODULE));class Jr{constructor(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}getSegmentIndex(){return this.segmentIndex}setSegmentIndex(l){this.segmentIndex=l}getFileId(){return this.fileId}setFileId(l){this.fileId=l}getOptionalData(){return this.optionalData}setOptionalData(l){this.optionalData=l}isLastSegment(){return this.lastSegment}setLastSegment(l){this.lastSegment=l}getSegmentCount(){return this.segmentCount}setSegmentCount(l){this.segmentCount=l}getSender(){return this.sender||null}setSender(l){this.sender=l}getAddressee(){return this.addressee||null}setAddressee(l){this.addressee=l}getFileName(){return this.fileName}setFileName(l){this.fileName=l}getFileSize(){return this.fileSize}setFileSize(l){this.fileSize=l}getChecksum(){return this.checksum}setChecksum(l){this.checksum=l}getTimestamp(){return this.timestamp}setTimestamp(l){this.timestamp=l}}class cr{static parseLong(l,f=void 0){return parseInt(l,f)}}class Ai extends d{}Ai.kind="NullPointerException";class ro{writeBytes(l){this.writeBytesOffset(l,0,l.length)}writeBytesOffset(l,f,p){if(l==null)throw new Ai;if(f<0||f>l.length||p<0||f+p>l.length||f+p<0)throw new A;if(p===0)return;for(let g=0;g<p;g++)this.write(l[f+g])}flush(){}close(){}}class Yc extends d{}class Qg extends ro{constructor(l=32){if(super(),this.count=0,l<0)throw new m("Negative initial size: "+l);this.buf=new Uint8Array(l)}ensureCapacity(l){l-this.buf.length>0&&this.grow(l)}grow(l){let p=this.buf.length<<1;if(p-l<0&&(p=l),p<0){if(l<0)throw new Yc;p=N.MAX_VALUE}this.buf=E.copyOfUint8Array(this.buf,p)}write(l){this.ensureCapacity(this.count+1),this.buf[this.count]=l,this.count+=1}writeBytesOffset(l,f,p){if(f<0||f>l.length||p<0||f+p-l.length>0)throw new A;this.ensureCapacity(this.count+p),w.arraycopy(l,f,this.buf,this.count,p),this.count+=p}writeTo(l){l.writeBytesOffset(this.buf,0,this.count)}reset(){this.count=0}toByteArray(){return E.copyOfUint8Array(this.buf,this.count)}size(){return this.count}toString(l){return l?typeof l=="string"?this.toString_string(l):this.toString_number(l):this.toString_void()}toString_void(){return new String(this.buf).toString()}toString_string(l){return new String(this.buf).toString()}toString_number(l){return new String(this.buf).toString()}close(){}}var Bt;(function($){$[$.ALPHA=0]="ALPHA",$[$.LOWER=1]="LOWER",$[$.MIXED=2]="MIXED",$[$.PUNCT=3]="PUNCT",$[$.ALPHA_SHIFT=4]="ALPHA_SHIFT",$[$.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(Bt||(Bt={}));function Jg(){if(typeof window<"u")return window.BigInt||null;if(typeof ic<"u")return ic.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}let _d;function Zc($){if(typeof _d>"u"&&(_d=Jg()),_d===null)throw new Error("BigInt is not supported!");return _d($)}function Yae(){let $=[];$[0]=Zc(1);let l=Zc(900);$[1]=l;for(let f=2;f<16;f++)$[f]=$[f-1]*l;return $}class Se{static decode(l,f){let p=new V(""),g=L.ISO8859_1;p.enableDecoding(g);let v=1,x=l[v++],S=new Jr;for(;v<l[0];){switch(x){case Se.TEXT_COMPACTION_MODE_LATCH:v=Se.textCompaction(l,v,p);break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:v=Se.byteCompaction(x,l,g,v,p);break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:p.append(l[v++]);break;case Se.NUMERIC_COMPACTION_MODE_LATCH:v=Se.numericCompaction(l,v,p);break;case Se.ECI_CHARSET:L.getCharacterSetECIByValue(l[v++]);break;case Se.ECI_GENERAL_PURPOSE:v+=2;break;case Se.ECI_USER_DEFINED:v++;break;case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:v=Se.decodeMacroBlock(l,v,S);break;case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:throw new M;default:v--,v=Se.textCompaction(l,v,p);break}if(v<l.length)x=l[v++];else throw M.getFormatInstance()}if(p.length()===0)throw M.getFormatInstance();let P=new xe(null,p.toString(),null,f);return P.setOther(S),P}static decodeMacroBlock(l,f,p){if(f+Se.NUMBER_OF_SEQUENCE_CODEWORDS>l[0])throw M.getFormatInstance();let g=new Int32Array(Se.NUMBER_OF_SEQUENCE_CODEWORDS);for(let S=0;S<Se.NUMBER_OF_SEQUENCE_CODEWORDS;S++,f++)g[S]=l[f];p.setSegmentIndex(N.parseInt(Se.decodeBase900toBase10(g,Se.NUMBER_OF_SEQUENCE_CODEWORDS)));let v=new V;f=Se.textCompaction(l,f,v),p.setFileId(v.toString());let x=-1;for(l[f]===Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(x=f+1);f<l[0];)switch(l[f]){case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(f++,l[f]){case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:let S=new V;f=Se.textCompaction(l,f+1,S),p.setFileName(S.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER:let P=new V;f=Se.textCompaction(l,f+1,P),p.setSender(P.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:let j=new V;f=Se.textCompaction(l,f+1,j),p.setAddressee(j.toString());break;case Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:let D=new V;f=Se.numericCompaction(l,f+1,D),p.setSegmentCount(N.parseInt(D.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:let z=new V;f=Se.numericCompaction(l,f+1,z),p.setTimestamp(cr.parseLong(z.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:let K=new V;f=Se.numericCompaction(l,f+1,K),p.setChecksum(N.parseInt(K.toString()));break;case Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:let se=new V;f=Se.numericCompaction(l,f+1,se),p.setFileSize(cr.parseLong(se.toString()));break;default:throw M.getFormatInstance()}break;case Se.MACRO_PDF417_TERMINATOR:f++,p.setLastSegment(!0);break;default:throw M.getFormatInstance()}if(x!==-1){let S=f-x;p.isLastSegment()&&S--,p.setOptionalData(E.copyOfRange(l,x,x+S))}return f}static textCompaction(l,f,p){let g=new Int32Array((l[0]-f)*2),v=new Int32Array((l[0]-f)*2),x=0,S=!1;for(;f<l[0]&&!S;){let P=l[f++];if(P<Se.TEXT_COMPACTION_MODE_LATCH)g[x]=P/30,g[x+1]=P%30,x+=2;else switch(P){case Se.TEXT_COMPACTION_MODE_LATCH:g[x++]=Se.TEXT_COMPACTION_MODE_LATCH;break;case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:f--,S=!0;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g[x]=Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,P=l[f++],v[x]=P,x++;break}}return Se.decodeTextCompaction(g,v,x,p),f}static decodeTextCompaction(l,f,p,g){let v=Bt.ALPHA,x=Bt.ALPHA,S=0;for(;S<p;){let P=l[S],j="";switch(v){case Bt.ALPHA:if(P<26)j=String.fromCharCode(65+P);else switch(P){case 26:j=" ";break;case Se.LL:v=Bt.LOWER;break;case Se.ML:v=Bt.MIXED;break;case Se.PS:x=v,v=Bt.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(f[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=Bt.ALPHA;break}break;case Bt.LOWER:if(P<26)j=String.fromCharCode(97+P);else switch(P){case 26:j=" ";break;case Se.AS:x=v,v=Bt.ALPHA_SHIFT;break;case Se.ML:v=Bt.MIXED;break;case Se.PS:x=v,v=Bt.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(f[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=Bt.ALPHA;break}break;case Bt.MIXED:if(P<Se.PL)j=Se.MIXED_CHARS[P];else switch(P){case Se.PL:v=Bt.PUNCT;break;case 26:j=" ";break;case Se.LL:v=Bt.LOWER;break;case Se.AL:v=Bt.ALPHA;break;case Se.PS:x=v,v=Bt.PUNCT_SHIFT;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(f[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=Bt.ALPHA;break}break;case Bt.PUNCT:if(P<Se.PAL)j=Se.PUNCT_CHARS[P];else switch(P){case Se.PAL:v=Bt.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(f[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=Bt.ALPHA;break}break;case Bt.ALPHA_SHIFT:if(v=x,P<26)j=String.fromCharCode(65+P);else switch(P){case 26:j=" ";break;case Se.TEXT_COMPACTION_MODE_LATCH:v=Bt.ALPHA;break}break;case Bt.PUNCT_SHIFT:if(v=x,P<Se.PAL)j=Se.PUNCT_CHARS[P];else switch(P){case Se.PAL:v=Bt.ALPHA;break;case Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:g.append(f[S]);break;case Se.TEXT_COMPACTION_MODE_LATCH:v=Bt.ALPHA;break}break}j!==""&&g.append(j),S++}}static byteCompaction(l,f,p,g,v){let x=new Qg,S=0,P=0,j=!1;switch(l){case Se.BYTE_COMPACTION_MODE_LATCH:let D=new Int32Array(6),z=f[g++];for(;g<f[0]&&!j;)switch(D[S++]=z,P=900*P+z,z=f[g++],z){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:g--,j=!0;break;default:if(S%5===0&&S>0){for(let K=0;K<6;++K)x.write(Number(Zc(P)>>Zc(8*(5-K))));P=0,S=0}break}g===f[0]&&z<Se.TEXT_COMPACTION_MODE_LATCH&&(D[S++]=z);for(let K=0;K<S;K++)x.write(D[K]);break;case Se.BYTE_COMPACTION_MODE_LATCH_6:for(;g<f[0]&&!j;){let K=f[g++];if(K<Se.TEXT_COMPACTION_MODE_LATCH)S++,P=900*P+K;else switch(K){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.NUMERIC_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:g--,j=!0;break}if(S%5===0&&S>0){for(let se=0;se<6;++se)x.write(Number(Zc(P)>>Zc(8*(5-se))));P=0,S=0}}break}return v.append(X.decode(x.toByteArray(),p)),g}static numericCompaction(l,f,p){let g=0,v=!1,x=new Int32Array(Se.MAX_NUMERIC_CODEWORDS);for(;f<l[0]&&!v;){let S=l[f++];if(f===l[0]&&(v=!0),S<Se.TEXT_COMPACTION_MODE_LATCH)x[g]=S,g++;else switch(S){case Se.TEXT_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH:case Se.BYTE_COMPACTION_MODE_LATCH_6:case Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case Se.MACRO_PDF417_TERMINATOR:f--,v=!0;break}(g%Se.MAX_NUMERIC_CODEWORDS===0||S===Se.NUMERIC_COMPACTION_MODE_LATCH||v)&&g>0&&(p.append(Se.decodeBase900toBase10(x,g)),g=0)}return f}static decodeBase900toBase10(l,f){let p=Zc(0);for(let v=0;v<f;v++)p+=Se.EXP900[f-v-1]*Zc(l[v]);let g=p.toString();if(g.charAt(0)!=="1")throw new M;return g.substring(1)}}Se.TEXT_COMPACTION_MODE_LATCH=900,Se.BYTE_COMPACTION_MODE_LATCH=901,Se.NUMERIC_COMPACTION_MODE_LATCH=902,Se.BYTE_COMPACTION_MODE_LATCH_6=924,Se.ECI_USER_DEFINED=925,Se.ECI_GENERAL_PURPOSE=926,Se.ECI_CHARSET=927,Se.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,Se.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,Se.MACRO_PDF417_TERMINATOR=922,Se.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,Se.MAX_NUMERIC_CODEWORDS=15,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,Se.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,Se.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,Se.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,Se.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,Se.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,Se.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,Se.PL=25,Se.LL=27,Se.AS=27,Se.ML=28,Se.AL=28,Se.PS=29,Se.PAL=29,Se.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,Se.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",Se.EXP900=Jg()?Yae():[],Se.NUMBER_OF_SEQUENCE_CODEWORDS=2;class Qt{constructor(){}static decode(l,f,p,g,v,x,S){let P=new Go(l,f,p,g,v),j=null,D=null,z;for(let ce=!0;;ce=!1){if(f!=null&&(j=Qt.getRowIndicatorColumn(l,P,f,!0,x,S)),g!=null&&(D=Qt.getRowIndicatorColumn(l,P,g,!1,x,S)),z=Qt.merge(j,D),z==null)throw H.getNotFoundInstance();let ue=z.getBoundingBox();if(ce&&ue!=null&&(ue.getMinY()<P.getMinY()||ue.getMaxY()>P.getMaxY()))P=ue;else break}z.setBoundingBox(P);let K=z.getBarcodeColumnCount()+1;z.setDetectionResultColumn(0,j),z.setDetectionResultColumn(K,D);let se=j!=null;for(let ce=1;ce<=K;ce++){let ue=se?ce:K-ce;if(z.getDetectionResultColumn(ue)!==void 0)continue;let ye;ue===0||ue===K?ye=new fe(P,ue===0):ye=new Ed(P),z.setDetectionResultColumn(ue,ye);let Ce=-1,Ge=Ce;for(let qe=P.getMinY();qe<=P.getMaxY();qe++){if(Ce=Qt.getStartColumn(z,ue,qe,se),Ce<0||Ce>P.getMaxX()){if(Ge===-1)continue;Ce=Ge}let Ue=Qt.detectCodeword(l,P.getMinX(),P.getMaxX(),se,Ce,qe,x,S);Ue!=null&&(ye.setCodeword(qe,Ue),Ge=Ce,x=Math.min(x,Ue.getWidth()),S=Math.max(S,Ue.getWidth()))}}return Qt.createDecoderResult(z)}static merge(l,f){if(l==null&&f==null)return null;let p=Qt.getBarcodeMetadata(l,f);if(p==null)return null;let g=Go.merge(Qt.adjustBoundingBox(l),Qt.adjustBoundingBox(f));return new Ve(p,g)}static adjustBoundingBox(l){if(l==null)return null;let f=l.getRowHeights();if(f==null)return null;let p=Qt.getMax(f),g=0;for(let S of f)if(g+=p-S,S>0)break;let v=l.getCodewords();for(let S=0;g>0&&v[S]==null;S++)g--;let x=0;for(let S=f.length-1;S>=0&&(x+=p-f[S],!(f[S]>0));S--);for(let S=v.length-1;x>0&&v[S]==null;S--)x--;return l.getBoundingBox().addMissingRows(g,x,l.isLeft())}static getMax(l){let f=-1;for(let p of l)f=Math.max(f,p);return f}static getBarcodeMetadata(l,f){let p;if(l==null||(p=l.getBarcodeMetadata())==null)return f==null?null:f.getBarcodeMetadata();let g;return f==null||(g=f.getBarcodeMetadata())==null?p:p.getColumnCount()!==g.getColumnCount()&&p.getErrorCorrectionLevel()!==g.getErrorCorrectionLevel()&&p.getRowCount()!==g.getRowCount()?null:p}static getRowIndicatorColumn(l,f,p,g,v,x){let S=new fe(f,g);for(let P=0;P<2;P++){let j=P===0?1:-1,D=Math.trunc(Math.trunc(p.getX()));for(let z=Math.trunc(Math.trunc(p.getY()));z<=f.getMaxY()&&z>=f.getMinY();z+=j){let K=Qt.detectCodeword(l,0,l.getWidth(),g,D,z,v,x);K!=null&&(S.setCodeword(z,K),g?D=K.getStartX():D=K.getEndX())}}return S}static adjustCodewordCount(l,f){let p=f[0][1],g=p.getValue(),v=l.getBarcodeColumnCount()*l.getBarcodeRowCount()-Qt.getNumberOfECCodeWords(l.getBarcodeECLevel());if(g.length===0){if(v<1||v>bt.MAX_CODEWORDS_IN_BARCODE)throw H.getNotFoundInstance();p.setValue(v)}else g[0]!==v&&p.setValue(v)}static createDecoderResult(l){let f=Qt.createBarcodeMatrix(l);Qt.adjustCodewordCount(l,f);let p=new Array,g=new Int32Array(l.getBarcodeRowCount()*l.getBarcodeColumnCount()),v=[],x=new Array;for(let P=0;P<l.getBarcodeRowCount();P++)for(let j=0;j<l.getBarcodeColumnCount();j++){let D=f[P][j+1].getValue(),z=P*l.getBarcodeColumnCount()+j;D.length===0?p.push(z):D.length===1?g[z]=D[0]:(x.push(z),v.push(D))}let S=new Array(v.length);for(let P=0;P<S.length;P++)S[P]=v[P];return Qt.createDecoderResultFromAmbiguousValues(l.getBarcodeECLevel(),g,bt.toIntArray(p),bt.toIntArray(x),S)}static createDecoderResultFromAmbiguousValues(l,f,p,g,v){let x=new Int32Array(g.length),S=100;for(;S-- >0;){for(let P=0;P<x.length;P++)f[g[P]]=v[P][x[P]];try{return Qt.decodeCodewords(f,l,p)}catch(P){if(!(P instanceof b))throw P}if(x.length===0)throw b.getChecksumInstance();for(let P=0;P<x.length;P++)if(x[P]<v[P].length-1){x[P]++;break}else if(x[P]=0,P===x.length-1)throw b.getChecksumInstance()}throw b.getChecksumInstance()}static createBarcodeMatrix(l){let f=Array.from({length:l.getBarcodeRowCount()},()=>new Array(l.getBarcodeColumnCount()+2));for(let g=0;g<f.length;g++)for(let v=0;v<f[g].length;v++)f[g][v]=new ft;let p=0;for(let g of l.getDetectionResultColumns()){if(g!=null){for(let v of g.getCodewords())if(v!=null){let x=v.getRowNumber();if(x>=0){if(x>=f.length)continue;f[x][p].setValue(v.getValue())}}}p++}return f}static isValidBarcodeColumn(l,f){return f>=0&&f<=l.getBarcodeColumnCount()+1}static getStartColumn(l,f,p,g){let v=g?1:-1,x=null;if(Qt.isValidBarcodeColumn(l,f-v)&&(x=l.getDetectionResultColumn(f-v).getCodeword(p)),x!=null)return g?x.getEndX():x.getStartX();if(x=l.getDetectionResultColumn(f).getCodewordNearby(p),x!=null)return g?x.getStartX():x.getEndX();if(Qt.isValidBarcodeColumn(l,f-v)&&(x=l.getDetectionResultColumn(f-v).getCodewordNearby(p)),x!=null)return g?x.getEndX():x.getStartX();let S=0;for(;Qt.isValidBarcodeColumn(l,f-v);){f-=v;for(let P of l.getDetectionResultColumn(f).getCodewords())if(P!=null)return(g?P.getEndX():P.getStartX())+v*S*(P.getEndX()-P.getStartX());S++}return g?l.getBoundingBox().getMinX():l.getBoundingBox().getMaxX()}static detectCodeword(l,f,p,g,v,x,S,P){v=Qt.adjustCodewordStartColumn(l,f,p,g,v,x);let j=Qt.getModuleBitCount(l,f,p,g,v,x);if(j==null)return null;let D,z=ct.sum(j);if(g)D=v+z;else{for(let ce=0;ce<j.length/2;ce++){let ue=j[ce];j[ce]=j[j.length-1-ce],j[j.length-1-ce]=ue}D=v,v=D-z}if(!Qt.checkCodewordSkew(z,S,P))return null;let K=Zt.getDecodedValue(j),se=bt.getCodeword(K);return se===-1?null:new at(v,D,Qt.getCodewordBucketNumber(K),se)}static getModuleBitCount(l,f,p,g,v,x){let S=v,P=new Int32Array(8),j=0,D=g?1:-1,z=g;for(;(g?S<p:S>=f)&&j<P.length;)l.get(S,x)===z?(P[j]++,S+=D):(j++,z=!z);return j===P.length||S===(g?p:f)&&j===P.length-1?P:null}static getNumberOfECCodeWords(l){return 2<<l}static adjustCodewordStartColumn(l,f,p,g,v,x){let S=v,P=g?-1:1;for(let j=0;j<2;j++){for(;(g?S>=f:S<p)&&g===l.get(S,x);){if(Math.abs(v-S)>Qt.CODEWORD_SKEW_SIZE)return v;S+=P}P=-P,g=!g}return S}static checkCodewordSkew(l,f,p){return f-Qt.CODEWORD_SKEW_SIZE<=l&&l<=p+Qt.CODEWORD_SKEW_SIZE}static decodeCodewords(l,f,p){if(l.length===0)throw M.getFormatInstance();let g=1<<f+1,v=Qt.correctErrors(l,p,g);Qt.verifyCodewordCount(l,g);let x=Se.decode(l,""+f);return x.setErrorsCorrected(v),x.setErasures(p.length),x}static correctErrors(l,f,p){if(f!=null&&f.length>p/2+Qt.MAX_ERRORS||p<0||p>Qt.MAX_EC_CODEWORDS)throw b.getChecksumInstance();return Qt.errorCorrection.decode(l,p,f)}static verifyCodewordCount(l,f){if(l.length<4)throw M.getFormatInstance();let p=l[0];if(p>l.length)throw M.getFormatInstance();if(p===0)if(f<l.length)l[0]=l.length-f;else throw M.getFormatInstance()}static getBitCountForCodeword(l){let f=new Int32Array(8),p=0,g=f.length-1;for(;!((l&1)!==p&&(p=l&1,g--,g<0));)f[g]++,l>>=1;return f}static getCodewordBucketNumber(l){return l instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(l):this.getCodewordBucketNumber_number(l)}static getCodewordBucketNumber_number(l){return Qt.getCodewordBucketNumber(Qt.getBitCountForCodeword(l))}static getCodewordBucketNumber_Int32Array(l){return(l[0]-l[2]+l[4]-l[6]+9)%9}static toString(l){let f=new Xc;for(let p=0;p<l.length;p++){f.format("Row %2d: ",p);for(let g=0;g<l[p].length;g++){let v=l[p][g];v.getValue().length===0?f.format("        ",null):f.format("%4d(%2d)",v.getValue()[0],v.getConfidence(v.getValue()[0]))}f.format("%n")}return f.toString()}}Qt.CODEWORD_SKEW_SIZE=2,Qt.MAX_ERRORS=3,Qt.MAX_EC_CODEWORDS=512,Qt.errorCorrection=new Zg;class Ei{decode(l,f=null){let p=Ei.decode(l,f,!1);if(p==null||p.length===0||p[0]==null)throw H.getNotFoundInstance();return p[0]}decodeMultiple(l,f=null){try{return Ei.decode(l,f,!0)}catch(p){throw p instanceof M||p instanceof b?H.getNotFoundInstance():p}}static decode(l,f,p){const g=new Array,v=Ut.detectMultiple(l,f,p);for(const x of v.getPoints()){const S=Qt.decode(v.getBits(),x[4],x[5],x[6],x[7],Ei.getMinCodewordWidth(x),Ei.getMaxCodewordWidth(x)),P=new he(S.getText(),S.getRawBytes(),void 0,x,me.PDF_417);P.putMetadata(Ne.ERROR_CORRECTION_LEVEL,S.getECLevel());const j=S.getOther();j!=null&&P.putMetadata(Ne.PDF417_EXTRA_METADATA,j),g.push(P)}return g.map(x=>x)}static getMaxWidth(l,f){return l==null||f==null?0:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMinWidth(l,f){return l==null||f==null?N.MAX_VALUE:Math.trunc(Math.abs(l.getX()-f.getX()))}static getMaxCodewordWidth(l){return Math.floor(Math.max(Math.max(Ei.getMaxWidth(l[0],l[4]),Ei.getMaxWidth(l[6],l[2])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN),Math.max(Ei.getMaxWidth(l[1],l[5]),Ei.getMaxWidth(l[7],l[3])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN)))}static getMinCodewordWidth(l){return Math.floor(Math.min(Math.min(Ei.getMinWidth(l[0],l[4]),Ei.getMinWidth(l[6],l[2])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN),Math.min(Ei.getMinWidth(l[1],l[5]),Ei.getMinWidth(l[7],l[3])*bt.MODULES_IN_CODEWORD/bt.MODULES_IN_STOP_PATTERN)))}reset(){}}class wx extends d{}wx.kind="ReaderException";class lM{constructor(l,f){this.verbose=l===!0,f&&this.setHints(f)}decode(l,f){return f&&this.setHints(f),this.decodeInternal(l)}decodeWithState(l){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(l)}setHints(l){this.hints=l;const f=!r(l)&&l.get(k.TRY_HARDER)===!0,p=r(l)?null:l.get(k.POSSIBLE_FORMATS),g=new Array;if(!r(p)){const v=p.some(x=>x===me.UPC_A||x===me.UPC_E||x===me.EAN_13||x===me.EAN_8||x===me.CODABAR||x===me.CODE_39||x===me.CODE_93||x===me.CODE_128||x===me.ITF||x===me.RSS_14||x===me.RSS_EXPANDED);v&&!f&&g.push(new eo(l,this.verbose)),p.includes(me.QR_CODE)&&g.push(new Qr),p.includes(me.DATA_MATRIX)&&g.push(new Ea),p.includes(me.AZTEC)&&g.push(new Ft),p.includes(me.PDF_417)&&g.push(new Ei),v&&f&&g.push(new eo(l,this.verbose))}g.length===0&&(f||g.push(new eo(l,this.verbose)),g.push(new Qr),g.push(new Ea),g.push(new Ft),g.push(new Ei),f&&g.push(new eo(l,this.verbose))),this.readers=g}reset(){if(this.readers!==null)for(const l of this.readers)l.reset()}decodeInternal(l){if(this.readers===null)throw new wx("No readers where selected, nothing can be read.");for(const f of this.readers)try{return f.decode(l,this.hints)}catch(p){if(p instanceof wx)continue}throw new H("No MultiFormat Readers were able to detect the code.")}}class Zae extends pe{constructor(l=null,f=500){const p=new lM;p.setHints(l),super(p,f)}decodeBitmap(l){return this.reader.decodeWithState(l)}}class Qae extends pe{constructor(l=500){super(new Ei,l)}}class Jae extends pe{constructor(l=500){super(new Qr,l)}}var GA;(function($){$[$.ERROR_CORRECTION=0]="ERROR_CORRECTION",$[$.CHARACTER_SET=1]="CHARACTER_SET",$[$.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",$[$.MIN_SIZE=3]="MIN_SIZE",$[$.MAX_SIZE=4]="MAX_SIZE",$[$.MARGIN=5]="MARGIN",$[$.PDF417_COMPACT=6]="PDF417_COMPACT",$[$.PDF417_COMPACTION=7]="PDF417_COMPACTION",$[$.PDF417_DIMENSIONS=8]="PDF417_DIMENSIONS",$[$.AZTEC_LAYERS=9]="AZTEC_LAYERS",$[$.QR_VERSION=10]="QR_VERSION"})(GA||(GA={}));var ei=GA;class qA{constructor(l){this.field=l,this.cachedGenerators=[],this.cachedGenerators.push(new je(l,Int32Array.from([1])))}buildGenerator(l){const f=this.cachedGenerators;if(l>=f.length){let p=f[f.length-1];const g=this.field;for(let v=f.length;v<=l;v++){const x=p.multiply(new je(g,Int32Array.from([1,g.exp(v-1+g.getGeneratorBase())])));f.push(x),p=x}}return f[l]}encode(l,f){if(f===0)throw new m("No error correction bytes");const p=l.length-f;if(p<=0)throw new m("No data bytes provided");const g=this.buildGenerator(f),v=new Int32Array(p);w.arraycopy(l,0,v,0,p);let x=new je(this.field,v);x=x.multiplyByMonomial(f,1);const P=x.divide(g)[1].getCoefficients(),j=f-P.length;for(let D=0;D<j;D++)l[p+D]=0;w.arraycopy(P,0,l,p+j,P.length)}}class xr{constructor(){}static applyMaskPenaltyRule1(l){return xr.applyMaskPenaltyRule1Internal(l,!0)+xr.applyMaskPenaltyRule1Internal(l,!1)}static applyMaskPenaltyRule2(l){let f=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let x=0;x<v-1;x++){const S=p[x];for(let P=0;P<g-1;P++){const j=S[P];j===S[P+1]&&j===p[x+1][P]&&j===p[x+1][P+1]&&f++}}return xr.N2*f}static applyMaskPenaltyRule3(l){let f=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let x=0;x<v;x++)for(let S=0;S<g;S++){const P=p[x];S+6<g&&P[S]===1&&P[S+1]===0&&P[S+2]===1&&P[S+3]===1&&P[S+4]===1&&P[S+5]===0&&P[S+6]===1&&(xr.isWhiteHorizontal(P,S-4,S)||xr.isWhiteHorizontal(P,S+7,S+11))&&f++,x+6<v&&p[x][S]===1&&p[x+1][S]===0&&p[x+2][S]===1&&p[x+3][S]===1&&p[x+4][S]===1&&p[x+5][S]===0&&p[x+6][S]===1&&(xr.isWhiteVertical(p,S,x-4,x)||xr.isWhiteVertical(p,S,x+7,x+11))&&f++}return f*xr.N3}static isWhiteHorizontal(l,f,p){f=Math.max(f,0),p=Math.min(p,l.length);for(let g=f;g<p;g++)if(l[g]===1)return!1;return!0}static isWhiteVertical(l,f,p,g){p=Math.max(p,0),g=Math.min(g,l.length);for(let v=p;v<g;v++)if(l[v][f]===1)return!1;return!0}static applyMaskPenaltyRule4(l){let f=0;const p=l.getArray(),g=l.getWidth(),v=l.getHeight();for(let P=0;P<v;P++){const j=p[P];for(let D=0;D<g;D++)j[D]===1&&f++}const x=l.getHeight()*l.getWidth();return Math.floor(Math.abs(f*2-x)*10/x)*xr.N4}static getDataMaskBit(l,f,p){let g,v;switch(l){case 0:g=p+f&1;break;case 1:g=p&1;break;case 2:g=f%3;break;case 3:g=(p+f)%3;break;case 4:g=Math.floor(p/2)+Math.floor(f/3)&1;break;case 5:v=p*f,g=(v&1)+v%3;break;case 6:v=p*f,g=(v&1)+v%3&1;break;case 7:v=p*f,g=v%3+(p+f&1)&1;break;default:throw new m("Invalid mask pattern: "+l)}return g===0}static applyMaskPenaltyRule1Internal(l,f){let p=0;const g=f?l.getHeight():l.getWidth(),v=f?l.getWidth():l.getHeight(),x=l.getArray();for(let S=0;S<g;S++){let P=0,j=-1;for(let D=0;D<v;D++){const z=f?x[S][D]:x[D][S];z===j?P++:(P>=5&&(p+=xr.N1+(P-5)),P=1,j=z)}P>=5&&(p+=xr.N1+(P-5))}return p}}xr.N1=3,xr.N2=3,xr.N3=40,xr.N4=10;class Sx{constructor(l,f){this.width=l,this.height=f;const p=new Array(f);for(let g=0;g!==f;g++)p[g]=new Uint8Array(l);this.bytes=p}getHeight(){return this.height}getWidth(){return this.width}get(l,f){return this.bytes[f][l]}getArray(){return this.bytes}setNumber(l,f,p){this.bytes[f][l]=p}setBoolean(l,f,p){this.bytes[f][l]=p?1:0}clear(l){for(const f of this.bytes)E.fill(f,l)}equals(l){if(!(l instanceof Sx))return!1;const f=l;if(this.width!==f.width||this.height!==f.height)return!1;for(let p=0,g=this.height;p<g;++p){const v=this.bytes[p],x=f.bytes[p];for(let S=0,P=this.width;S<P;++S)if(v[S]!==x[S])return!1}return!0}toString(){const l=new V;for(let f=0,p=this.height;f<p;++f){const g=this.bytes[f];for(let v=0,x=this.width;v<x;++v)switch(g[v]){case 0:l.append(" 0");break;case 1:l.append(" 1");break;default:l.append("  ");break}l.append(`
`)}return l.toString()}}class Td{constructor(){this.maskPattern=-1}getMode(){return this.mode}getECLevel(){return this.ecLevel}getVersion(){return this.version}getMaskPattern(){return this.maskPattern}getMatrix(){return this.matrix}toString(){const l=new V;return l.append(`<<
`),l.append(" mode: "),l.append(this.mode?this.mode.toString():"null"),l.append(`
 ecLevel: `),l.append(this.ecLevel?this.ecLevel.toString():"null"),l.append(`
 version: `),l.append(this.version?this.version.toString():"null"),l.append(`
 maskPattern: `),l.append(this.maskPattern.toString()),this.matrix?(l.append(`
 matrix:
`),l.append(this.matrix.toString())):l.append(`
 matrix: null
`),l.append(`>>
`),l.toString()}setMode(l){this.mode=l}setECLevel(l){this.ecLevel=l}setVersion(l){this.version=l}setMaskPattern(l){this.maskPattern=l}setMatrix(l){this.matrix=l}static isValidMaskPattern(l){return l>=0&&l<Td.NUM_MASK_PATTERNS}}Td.NUM_MASK_PATTERNS=8;class kn extends d{}kn.kind="WriterException";class Pt{constructor(){}static clearMatrix(l){l.clear(255)}static buildMatrix(l,f,p,g,v){Pt.clearMatrix(v),Pt.embedBasicPatterns(p,v),Pt.embedTypeInfo(f,g,v),Pt.maybeEmbedVersionInfo(p,v),Pt.embedDataBits(l,g,v)}static embedBasicPatterns(l,f){Pt.embedPositionDetectionPatternsAndSeparators(f),Pt.embedDarkDotAtLeftBottomCorner(f),Pt.maybeEmbedPositionAdjustmentPatterns(l,f),Pt.embedTimingPatterns(f)}static embedTypeInfo(l,f,p){const g=new I;Pt.makeTypeInfoBits(l,f,g);for(let v=0,x=g.getSize();v<x;++v){const S=g.get(g.getSize()-1-v),P=Pt.TYPE_INFO_COORDINATES[v],j=P[0],D=P[1];if(p.setBoolean(j,D,S),v<8){const z=p.getWidth()-v-1;p.setBoolean(z,8,S)}else{const K=p.getHeight()-7+(v-8);p.setBoolean(8,K,S)}}}static maybeEmbedVersionInfo(l,f){if(l.getVersionNumber()<7)return;const p=new I;Pt.makeVersionInfoBits(l,p);let g=6*3-1;for(let v=0;v<6;++v)for(let x=0;x<3;++x){const S=p.get(g);g--,f.setBoolean(v,f.getHeight()-11+x,S),f.setBoolean(f.getHeight()-11+x,v,S)}}static embedDataBits(l,f,p){let g=0,v=-1,x=p.getWidth()-1,S=p.getHeight()-1;for(;x>0;){for(x===6&&(x-=1);S>=0&&S<p.getHeight();){for(let P=0;P<2;++P){const j=x-P;if(!Pt.isEmpty(p.get(j,S)))continue;let D;g<l.getSize()?(D=l.get(g),++g):D=!1,f!==255&&xr.getDataMaskBit(f,j,S)&&(D=!D),p.setBoolean(j,S,D)}S+=v}v=-v,S+=v,x-=2}if(g!==l.getSize())throw new kn("Not all bits consumed: "+g+"/"+l.getSize())}static findMSBSet(l){return 32-N.numberOfLeadingZeros(l)}static calculateBCHCode(l,f){if(f===0)throw new m("0 polynomial");const p=Pt.findMSBSet(f);for(l<<=p-1;Pt.findMSBSet(l)>=p;)l^=f<<Pt.findMSBSet(l)-p;return l}static makeTypeInfoBits(l,f,p){if(!Td.isValidMaskPattern(f))throw new kn("Invalid mask pattern");const g=l.getBits()<<3|f;p.appendBits(g,5);const v=Pt.calculateBCHCode(g,Pt.TYPE_INFO_POLY);p.appendBits(v,10);const x=new I;if(x.appendBits(Pt.TYPE_INFO_MASK_PATTERN,15),p.xor(x),p.getSize()!==15)throw new kn("should not happen but we got: "+p.getSize())}static makeVersionInfoBits(l,f){f.appendBits(l.getVersionNumber(),6);const p=Pt.calculateBCHCode(l.getVersionNumber(),Pt.VERSION_INFO_POLY);if(f.appendBits(p,12),f.getSize()!==18)throw new kn("should not happen but we got: "+f.getSize())}static isEmpty(l){return l===255}static embedTimingPatterns(l){for(let f=8;f<l.getWidth()-8;++f){const p=(f+1)%2;Pt.isEmpty(l.get(f,6))&&l.setNumber(f,6,p),Pt.isEmpty(l.get(6,f))&&l.setNumber(6,f,p)}}static embedDarkDotAtLeftBottomCorner(l){if(l.get(8,l.getHeight()-8)===0)throw new kn;l.setNumber(8,l.getHeight()-8,1)}static embedHorizontalSeparationPattern(l,f,p){for(let g=0;g<8;++g){if(!Pt.isEmpty(p.get(l+g,f)))throw new kn;p.setNumber(l+g,f,0)}}static embedVerticalSeparationPattern(l,f,p){for(let g=0;g<7;++g){if(!Pt.isEmpty(p.get(l,f+g)))throw new kn;p.setNumber(l,f+g,0)}}static embedPositionAdjustmentPattern(l,f,p){for(let g=0;g<5;++g){const v=Pt.POSITION_ADJUSTMENT_PATTERN[g];for(let x=0;x<5;++x)p.setNumber(l+x,f+g,v[x])}}static embedPositionDetectionPattern(l,f,p){for(let g=0;g<7;++g){const v=Pt.POSITION_DETECTION_PATTERN[g];for(let x=0;x<7;++x)p.setNumber(l+x,f+g,v[x])}}static embedPositionDetectionPatternsAndSeparators(l){const f=Pt.POSITION_DETECTION_PATTERN[0].length;Pt.embedPositionDetectionPattern(0,0,l),Pt.embedPositionDetectionPattern(l.getWidth()-f,0,l),Pt.embedPositionDetectionPattern(0,l.getWidth()-f,l);const p=8;Pt.embedHorizontalSeparationPattern(0,p-1,l),Pt.embedHorizontalSeparationPattern(l.getWidth()-p,p-1,l),Pt.embedHorizontalSeparationPattern(0,l.getWidth()-p,l);const g=7;Pt.embedVerticalSeparationPattern(g,0,l),Pt.embedVerticalSeparationPattern(l.getHeight()-g-1,0,l),Pt.embedVerticalSeparationPattern(g,l.getHeight()-g,l)}static maybeEmbedPositionAdjustmentPatterns(l,f){if(l.getVersionNumber()<2)return;const p=l.getVersionNumber()-1,g=Pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[p];for(let v=0,x=g.length;v!==x;v++){const S=g[v];if(S>=0)for(let P=0;P!==x;P++){const j=g[P];j>=0&&Pt.isEmpty(f.get(j,S))&&Pt.embedPositionAdjustmentPattern(j-2,S-2,f)}}}}Pt.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),Pt.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),Pt.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),Pt.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),Pt.VERSION_INFO_POLY=7973,Pt.TYPE_INFO_POLY=1335,Pt.TYPE_INFO_MASK_PATTERN=21522;class eoe{constructor(l,f){this.dataBytes=l,this.errorCorrectionBytes=f}getDataBytes(){return this.dataBytes}getErrorCorrectionBytes(){return this.errorCorrectionBytes}}class Yn{constructor(){}static calculateMaskPenalty(l){return xr.applyMaskPenaltyRule1(l)+xr.applyMaskPenaltyRule2(l)+xr.applyMaskPenaltyRule3(l)+xr.applyMaskPenaltyRule4(l)}static encode(l,f,p=null){let g=Yn.DEFAULT_BYTE_MODE_ENCODING;const v=p!==null&&p.get(ei.CHARACTER_SET)!==void 0;v&&(g=p.get(ei.CHARACTER_SET).toString());const x=this.chooseMode(l,g),S=new I;if(x===Et.BYTE&&(v||Yn.DEFAULT_BYTE_MODE_ENCODING!==g)){const qe=L.getCharacterSetECIByName(g);qe!==void 0&&this.appendECI(qe,S)}this.appendModeInfo(x,S);const P=new I;this.appendBytes(l,x,P,g);let j;if(p!==null&&p.get(ei.QR_VERSION)!==void 0){const qe=Number.parseInt(p.get(ei.QR_VERSION).toString(),10);j=ht.getVersionForNumber(qe);const Ue=this.calculateBitsNeeded(x,S,P,j);if(!this.willFit(Ue,j,f))throw new kn("Data too big for requested version")}else j=this.recommendVersion(f,x,S,P);const D=new I;D.appendBitArray(S);const z=x===Et.BYTE?P.getSizeInBytes():l.length;this.appendLengthInfo(z,j,x,D),D.appendBitArray(P);const K=j.getECBlocksForLevel(f),se=j.getTotalCodewords()-K.getTotalECCodewords();this.terminateBits(se,D);const ce=this.interleaveWithECBytes(D,j.getTotalCodewords(),se,K.getNumBlocks()),ue=new Td;ue.setECLevel(f),ue.setMode(x),ue.setVersion(j);const ye=j.getDimensionForVersion(),Ce=new Sx(ye,ye),Ge=this.chooseMaskPattern(ce,f,j,Ce);return ue.setMaskPattern(Ge),Pt.buildMatrix(ce,f,j,Ge,Ce),ue.setMatrix(Ce),ue}static recommendVersion(l,f,p,g){const v=this.calculateBitsNeeded(f,p,g,ht.getVersionForNumber(1)),x=this.chooseVersion(v,l),S=this.calculateBitsNeeded(f,p,g,x);return this.chooseVersion(S,l)}static calculateBitsNeeded(l,f,p,g){return f.getSize()+l.getCharacterCountBits(g)+p.getSize()}static getAlphanumericCode(l){return l<Yn.ALPHANUMERIC_TABLE.length?Yn.ALPHANUMERIC_TABLE[l]:-1}static chooseMode(l,f=null){if(L.SJIS.getName()===f&&this.isOnlyDoubleByteKanji(l))return Et.KANJI;let p=!1,g=!1;for(let v=0,x=l.length;v<x;++v){const S=l.charAt(v);if(Yn.isDigit(S))p=!0;else if(this.getAlphanumericCode(S.charCodeAt(0))!==-1)g=!0;else return Et.BYTE}return g?Et.ALPHANUMERIC:p?Et.NUMERIC:Et.BYTE}static isOnlyDoubleByteKanji(l){let f;try{f=X.encode(l,L.SJIS)}catch{return!1}const p=f.length;if(p%2!==0)return!1;for(let g=0;g<p;g+=2){const v=f[g]&255;if((v<129||v>159)&&(v<224||v>235))return!1}return!0}static chooseMaskPattern(l,f,p,g){let v=Number.MAX_SAFE_INTEGER,x=-1;for(let S=0;S<Td.NUM_MASK_PATTERNS;S++){Pt.buildMatrix(l,f,p,S,g);let P=this.calculateMaskPenalty(g);P<v&&(v=P,x=S)}return x}static chooseVersion(l,f){for(let p=1;p<=40;p++){const g=ht.getVersionForNumber(p);if(Yn.willFit(l,g,f))return g}throw new kn("Data too big")}static willFit(l,f,p){const g=f.getTotalCodewords(),x=f.getECBlocksForLevel(p).getTotalECCodewords(),S=g-x,P=(l+7)/8;return S>=P}static terminateBits(l,f){const p=l*8;if(f.getSize()>p)throw new kn("data bits cannot fit in the QR Code"+f.getSize()+" > "+p);for(let x=0;x<4&&f.getSize()<p;++x)f.appendBit(!1);const g=f.getSize()&7;if(g>0)for(let x=g;x<8;x++)f.appendBit(!1);const v=l-f.getSizeInBytes();for(let x=0;x<v;++x)f.appendBits(x&1?17:236,8);if(f.getSize()!==p)throw new kn("Bits size does not equal capacity")}static getNumDataBytesAndNumECBytesForBlockID(l,f,p,g,v,x){if(g>=p)throw new kn("Block ID too large");const S=l%p,P=p-S,j=Math.floor(l/p),D=j+1,z=Math.floor(f/p),K=z+1,se=j-z,ce=D-K;if(se!==ce)throw new kn("EC bytes mismatch");if(p!==P+S)throw new kn("RS blocks mismatch");if(l!==(z+se)*P+(K+ce)*S)throw new kn("Total bytes mismatch");g<P?(v[0]=z,x[0]=se):(v[0]=K,x[0]=ce)}static interleaveWithECBytes(l,f,p,g){if(l.getSizeInBytes()!==p)throw new kn("Number of bits and data bytes does not match");let v=0,x=0,S=0;const P=new Array;for(let D=0;D<g;++D){const z=new Int32Array(1),K=new Int32Array(1);Yn.getNumDataBytesAndNumECBytesForBlockID(f,p,g,D,z,K);const se=z[0],ce=new Uint8Array(se);l.toBytes(8*v,ce,0,se);const ue=Yn.generateECBytes(ce,K[0]);P.push(new eoe(ce,ue)),x=Math.max(x,se),S=Math.max(S,ue.length),v+=z[0]}if(p!==v)throw new kn("Data bytes does not match offset");const j=new I;for(let D=0;D<x;++D)for(const z of P){const K=z.getDataBytes();D<K.length&&j.appendBits(K[D],8)}for(let D=0;D<S;++D)for(const z of P){const K=z.getErrorCorrectionBytes();D<K.length&&j.appendBits(K[D],8)}if(f!==j.getSizeInBytes())throw new kn("Interleaving error: "+f+" and "+j.getSizeInBytes()+" differ.");return j}static generateECBytes(l,f){const p=l.length,g=new Int32Array(p+f);for(let x=0;x<p;x++)g[x]=l[x]&255;new qA(ze.QR_CODE_FIELD_256).encode(g,f);const v=new Uint8Array(f);for(let x=0;x<f;x++)v[x]=g[p+x];return v}static appendModeInfo(l,f){f.appendBits(l.getBits(),4)}static appendLengthInfo(l,f,p,g){const v=p.getCharacterCountBits(f);if(l>=1<<v)throw new kn(l+" is bigger than "+((1<<v)-1));g.appendBits(l,v)}static appendBytes(l,f,p,g){switch(f){case Et.NUMERIC:Yn.appendNumericBytes(l,p);break;case Et.ALPHANUMERIC:Yn.appendAlphanumericBytes(l,p);break;case Et.BYTE:Yn.append8BitBytes(l,p,g);break;case Et.KANJI:Yn.appendKanjiBytes(l,p);break;default:throw new kn("Invalid mode: "+f)}}static getDigit(l){return l.charCodeAt(0)-48}static isDigit(l){const f=Yn.getDigit(l);return f>=0&&f<=9}static appendNumericBytes(l,f){const p=l.length;let g=0;for(;g<p;){const v=Yn.getDigit(l.charAt(g));if(g+2<p){const x=Yn.getDigit(l.charAt(g+1)),S=Yn.getDigit(l.charAt(g+2));f.appendBits(v*100+x*10+S,10),g+=3}else if(g+1<p){const x=Yn.getDigit(l.charAt(g+1));f.appendBits(v*10+x,7),g+=2}else f.appendBits(v,4),g++}}static appendAlphanumericBytes(l,f){const p=l.length;let g=0;for(;g<p;){const v=Yn.getAlphanumericCode(l.charCodeAt(g));if(v===-1)throw new kn;if(g+1<p){const x=Yn.getAlphanumericCode(l.charCodeAt(g+1));if(x===-1)throw new kn;f.appendBits(v*45+x,11),g+=2}else f.appendBits(v,6),g++}}static append8BitBytes(l,f,p){let g;try{g=X.encode(l,p)}catch(v){throw new kn(v)}for(let v=0,x=g.length;v!==x;v++){const S=g[v];f.appendBits(S,8)}}static appendKanjiBytes(l,f){let p;try{p=X.encode(l,L.SJIS)}catch(v){throw new kn(v)}const g=p.length;for(let v=0;v<g;v+=2){const x=p[v]&255,S=p[v+1]&255,P=x<<8&4294967295|S;let j=-1;if(P>=33088&&P<=40956?j=P-33088:P>=57408&&P<=60351&&(j=P-49472),j===-1)throw new kn("Invalid byte sequence");const D=(j>>8)*192+(j&255);f.appendBits(D,13)}}static appendECI(l,f){f.appendBits(Et.ECI.getBits(),4),f.appendBits(l.getValue(),8)}}Yn.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),Yn.DEFAULT_BYTE_MODE_ENCODING=L.UTF8.getName();class Nd{write(l,f,p,g=null){if(l.length===0)throw new m("Found empty contents");if(f<0||p<0)throw new m("Requested dimensions are too small: "+f+"x"+p);let v=bn.L,x=Nd.QUIET_ZONE_SIZE;g!==null&&(g.get(ei.ERROR_CORRECTION)!==void 0&&(v=bn.fromString(g.get(ei.ERROR_CORRECTION).toString())),g.get(ei.MARGIN)!==void 0&&(x=Number.parseInt(g.get(ei.MARGIN).toString(),10)));const S=Yn.encode(l,v,g);return this.renderResult(S,f,p,x)}writeToDom(l,f,p,g,v=null){typeof l=="string"&&(l=document.querySelector(l));const x=this.write(f,p,g,v);l&&l.appendChild(x)}renderResult(l,f,p,g){const v=l.getMatrix();if(v===null)throw new dt;const x=v.getWidth(),S=v.getHeight(),P=x+g*2,j=S+g*2,D=Math.max(f,P),z=Math.max(p,j),K=Math.min(Math.floor(D/P),Math.floor(z/j)),se=Math.floor((D-x*K)/2),ce=Math.floor((z-S*K)/2),ue=this.createSVGElement(D,z);for(let ye=0,Ce=ce;ye<S;ye++,Ce+=K)for(let Ge=0,qe=se;Ge<x;Ge++,qe+=K)if(v.get(Ge,ye)===1){const Ue=this.createSvgRectElement(qe,Ce,K,K);ue.appendChild(Ue)}return ue}createSVGElement(l,f){const p=document.createElementNS(Nd.SVG_NS,"svg");return p.setAttributeNS(null,"height",l.toString()),p.setAttributeNS(null,"width",f.toString()),p}createSvgRectElement(l,f,p,g){const v=document.createElementNS(Nd.SVG_NS,"rect");return v.setAttributeNS(null,"x",l.toString()),v.setAttributeNS(null,"y",f.toString()),v.setAttributeNS(null,"height",p.toString()),v.setAttributeNS(null,"width",g.toString()),v.setAttributeNS(null,"fill","#000000"),v}}Nd.QUIET_ZONE_SIZE=4,Nd.SVG_NS="http://www.w3.org/2000/svg";class yh{encode(l,f,p,g,v){if(l.length===0)throw new m("Found empty contents");if(f!==me.QR_CODE)throw new m("Can only encode QR_CODE, but got "+f);if(p<0||g<0)throw new m(`Requested dimensions are too small: ${p}x${g}`);let x=bn.L,S=yh.QUIET_ZONE_SIZE;v!==null&&(v.get(ei.ERROR_CORRECTION)!==void 0&&(x=bn.fromString(v.get(ei.ERROR_CORRECTION).toString())),v.get(ei.MARGIN)!==void 0&&(S=Number.parseInt(v.get(ei.MARGIN).toString(),10)));const P=Yn.encode(l,x,v);return yh.renderResult(P,p,g,S)}static renderResult(l,f,p,g){const v=l.getMatrix();if(v===null)throw new dt;const x=v.getWidth(),S=v.getHeight(),P=x+g*2,j=S+g*2,D=Math.max(f,P),z=Math.max(p,j),K=Math.min(Math.floor(D/P),Math.floor(z/j)),se=Math.floor((D-x*K)/2),ce=Math.floor((z-S*K)/2),ue=new Z(D,z);for(let ye=0,Ce=ce;ye<S;ye++,Ce+=K)for(let Ge=0,qe=se;Ge<x;Ge++,qe+=K)v.get(Ge,ye)===1&&ue.setRegion(qe,Ce,K,K);return ue}}yh.QUIET_ZONE_SIZE=4;class toe{encode(l,f,p,g,v){let x;switch(f){case me.QR_CODE:x=new yh;break;default:throw new m("No encoder available for format "+f)}return x.encode(l,f,p,g,v)}}class qo extends W{constructor(l,f,p,g,v,x,S,P){if(super(x,S),this.yuvData=l,this.dataWidth=f,this.dataHeight=p,this.left=g,this.top=v,g+x>f||v+S>p)throw new m("Crop rectangle does not fit within image data.");P&&this.reverseHorizontal(x,S)}getRow(l,f){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const p=this.getWidth();(f==null||f.length<p)&&(f=new Uint8ClampedArray(p));const g=(l+this.top)*this.dataWidth+this.left;return w.arraycopy(this.yuvData,g,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.yuvData;const p=l*f,g=new Uint8ClampedArray(p);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return w.arraycopy(this.yuvData,v,g,0,p),g;for(let x=0;x<f;x++){const S=x*l;w.arraycopy(this.yuvData,v,g,S,l),v+=this.dataWidth}return g}isCropSupported(){return!0}crop(l,f,p,g){return new qo(this.yuvData,this.dataWidth,this.dataHeight,this.left+l,this.top+f,p,g,!1)}renderThumbnail(){const l=this.getWidth()/qo.THUMBNAIL_SCALE_FACTOR,f=this.getHeight()/qo.THUMBNAIL_SCALE_FACTOR,p=new Int32Array(l*f),g=this.yuvData;let v=this.top*this.dataWidth+this.left;for(let x=0;x<f;x++){const S=x*l;for(let P=0;P<l;P++){const j=g[v+P*qo.THUMBNAIL_SCALE_FACTOR]&255;p[S+P]=4278190080|j*65793}v+=this.dataWidth*qo.THUMBNAIL_SCALE_FACTOR}return p}getThumbnailWidth(){return this.getWidth()/qo.THUMBNAIL_SCALE_FACTOR}getThumbnailHeight(){return this.getHeight()/qo.THUMBNAIL_SCALE_FACTOR}reverseHorizontal(l,f){const p=this.yuvData;for(let g=0,v=this.top*this.dataWidth+this.left;g<f;g++,v+=this.dataWidth){const x=v+l/2;for(let S=v,P=v+l-1;S<x;S++,P--){const j=p[S];p[S]=p[P],p[P]=j}}}invert(){return new oe(this)}}qo.THUMBNAIL_SCALE_FACTOR=2;class KA extends W{constructor(l,f,p,g,v,x,S){if(super(f,p),this.dataWidth=g,this.dataHeight=v,this.left=x,this.top=S,l.BYTES_PER_ELEMENT===4){const P=f*p,j=new Uint8ClampedArray(P);for(let D=0;D<P;D++){const z=l[D],K=z>>16&255,se=z>>7&510,ce=z&255;j[D]=(K+se+ce)/4&255}this.luminances=j}else this.luminances=l;if(g===void 0&&(this.dataWidth=f),v===void 0&&(this.dataHeight=p),x===void 0&&(this.left=0),S===void 0&&(this.top=0),this.left+f>this.dataWidth||this.top+p>this.dataHeight)throw new m("Crop rectangle does not fit within image data.")}getRow(l,f){if(l<0||l>=this.getHeight())throw new m("Requested row is outside the image: "+l);const p=this.getWidth();(f==null||f.length<p)&&(f=new Uint8ClampedArray(p));const g=(l+this.top)*this.dataWidth+this.left;return w.arraycopy(this.luminances,g,f,0,p),f}getMatrix(){const l=this.getWidth(),f=this.getHeight();if(l===this.dataWidth&&f===this.dataHeight)return this.luminances;const p=l*f,g=new Uint8ClampedArray(p);let v=this.top*this.dataWidth+this.left;if(l===this.dataWidth)return w.arraycopy(this.luminances,v,g,0,p),g;for(let x=0;x<f;x++){const S=x*l;w.arraycopy(this.luminances,v,g,S,l),v+=this.dataWidth}return g}isCropSupported(){return!0}crop(l,f,p,g){return new KA(this.luminances,p,g,this.dataWidth,this.dataHeight,this.left+l,this.top+f)}invert(){return new oe(this)}}class cM extends L{static forName(l){return this.getCharacterSetECIByName(l)}}class XA{}XA.ISO_8859_1=L.ISO8859_1;class uM{isCompact(){return this.compact}setCompact(l){this.compact=l}getSize(){return this.size}setSize(l){this.size=l}getLayers(){return this.layers}setLayers(l){this.layers=l}getCodeWords(){return this.codeWords}setCodeWords(l){this.codeWords=l}getMatrix(){return this.matrix}setMatrix(l){this.matrix=l}}class dM{static singletonList(l){return[l]}static min(l,f){return l.sort(f)[0]}}class noe{constructor(l){this.previous=l}getPrevious(){return this.previous}}class vh extends noe{constructor(l,f,p){super(l),this.value=f,this.bitCount=p}appendTo(l,f){l.appendBits(this.value,this.bitCount)}add(l,f){return new vh(this,l,f)}addBinaryShift(l,f){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new vh(this,l,f)}toString(){let l=this.value&(1<<this.bitCount)-1;return l|=1<<this.bitCount,"<"+N.toBinaryString(l|1<<this.bitCount).substring(1)+">"}}class YA extends vh{constructor(l,f,p){super(l,0,0),this.binaryShiftStart=f,this.binaryShiftByteCount=p}appendTo(l,f){for(let p=0;p<this.binaryShiftByteCount;p++)(p===0||p===31&&this.binaryShiftByteCount<=62)&&(l.appendBits(31,5),this.binaryShiftByteCount>62?l.appendBits(this.binaryShiftByteCount-31,16):p===0?l.appendBits(Math.min(this.binaryShiftByteCount,31),5):l.appendBits(this.binaryShiftByteCount-31,5)),l.appendBits(f[this.binaryShiftStart+p],8)}addBinaryShift(l,f){return new YA(this,l,f)}toString(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"}}function roe($,l,f){return new YA($,l,f)}function e0($,l,f){return new vh($,l,f)}const ioe=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],Qc=0,Cx=1,_a=2,fM=3,Ko=4,soe=new vh(null,0,0),ZA=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])];function aoe($){for(let l of $)E.fill(l,-1);return $[Qc][Ko]=0,$[Cx][Ko]=0,$[Cx][Qc]=28,$[fM][Ko]=0,$[_a][Ko]=0,$[_a][Qc]=15,$}const hM=aoe(E.createInt32Array(6,6));class Xo{constructor(l,f,p,g){this.token=l,this.mode=f,this.binaryShiftByteCount=p,this.bitCount=g}getMode(){return this.mode}getToken(){return this.token}getBinaryShiftByteCount(){return this.binaryShiftByteCount}getBitCount(){return this.bitCount}latchAndAppend(l,f){let p=this.bitCount,g=this.token;if(l!==this.mode){let x=ZA[this.mode][l];g=e0(g,x&65535,x>>16),p+=x>>16}let v=l===_a?4:5;return g=e0(g,f,v),new Xo(g,l,0,p+v)}shiftAndAppend(l,f){let p=this.token,g=this.mode===_a?4:5;return p=e0(p,hM[this.mode][l],g),p=e0(p,f,5),new Xo(p,this.mode,0,this.bitCount+g+5)}addBinaryShiftChar(l){let f=this.token,p=this.mode,g=this.bitCount;if(this.mode===Ko||this.mode===_a){let S=ZA[p][Qc];f=e0(f,S&65535,S>>16),g+=S>>16,p=Qc}let v=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,x=new Xo(f,p,this.binaryShiftByteCount+1,g+v);return x.binaryShiftByteCount===2078&&(x=x.endBinaryShift(l+1)),x}endBinaryShift(l){if(this.binaryShiftByteCount===0)return this;let f=this.token;return f=roe(f,l-this.binaryShiftByteCount,this.binaryShiftByteCount),new Xo(f,this.mode,0,this.bitCount)}isBetterThanOrEqualTo(l){let f=this.bitCount+(ZA[this.mode][l.mode]>>16);return this.binaryShiftByteCount<l.binaryShiftByteCount?f+=Xo.calculateBinaryShiftCost(l)-Xo.calculateBinaryShiftCost(this):this.binaryShiftByteCount>l.binaryShiftByteCount&&l.binaryShiftByteCount>0&&(f+=10),f<=l.bitCount}toBitArray(l){let f=[];for(let g=this.endBinaryShift(l.length).token;g!==null;g=g.getPrevious())f.unshift(g);let p=new I;for(const g of f)g.appendTo(p,l);return p}toString(){return F.format("%s bits=%d bytes=%d",ioe[this.mode],this.bitCount,this.binaryShiftByteCount)}static calculateBinaryShiftCost(l){return l.binaryShiftByteCount>62?21:l.binaryShiftByteCount>31?20:l.binaryShiftByteCount>0?10:0}}Xo.INITIAL_STATE=new Xo(soe,Qc,0,0);function ooe($){const l=F.getCharCode(" "),f=F.getCharCode("."),p=F.getCharCode(",");$[Qc][l]=1;const g=F.getCharCode("Z"),v=F.getCharCode("A");for(let K=v;K<=g;K++)$[Qc][K]=K-v+2;$[Cx][l]=1;const x=F.getCharCode("z"),S=F.getCharCode("a");for(let K=S;K<=x;K++)$[Cx][K]=K-S+2;$[_a][l]=1;const P=F.getCharCode("9"),j=F.getCharCode("0");for(let K=j;K<=P;K++)$[_a][K]=K-j+2;$[_a][p]=12,$[_a][f]=13;const D=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""];for(let K=0;K<D.length;K++)$[fM][F.getCharCode(D[K])]=K;const z=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"];for(let K=0;K<z.length;K++)F.getCharCode(z[K])>0&&($[Ko][F.getCharCode(z[K])]=K);return $}const QA=ooe(E.createInt32Array(5,256));class t0{constructor(l){this.text=l}encode(){const l=F.getCharCode(" "),f=F.getCharCode(`
`);let p=dM.singletonList(Xo.INITIAL_STATE);for(let v=0;v<this.text.length;v++){let x,S=v+1<this.text.length?this.text[v+1]:0;switch(this.text[v]){case F.getCharCode("\r"):x=S===f?2:0;break;case F.getCharCode("."):x=S===l?3:0;break;case F.getCharCode(","):x=S===l?4:0;break;case F.getCharCode(":"):x=S===l?5:0;break;default:x=0}x>0?(p=t0.updateStateListForPair(p,v,x),v++):p=this.updateStateListForChar(p,v)}return dM.min(p,(v,x)=>v.getBitCount()-x.getBitCount()).toBitArray(this.text)}updateStateListForChar(l,f){const p=[];for(let g of l)this.updateStateForChar(g,f,p);return t0.simplifyStates(p)}updateStateForChar(l,f,p){let g=this.text[f]&255,v=QA[l.getMode()][g]>0,x=null;for(let S=0;S<=Ko;S++){let P=QA[S][g];if(P>0){if(x==null&&(x=l.endBinaryShift(f)),!v||S===l.getMode()||S===_a){const j=x.latchAndAppend(S,P);p.push(j)}if(!v&&hM[l.getMode()][S]>=0){const j=x.shiftAndAppend(S,P);p.push(j)}}}if(l.getBinaryShiftByteCount()>0||QA[l.getMode()][g]===0){let S=l.addBinaryShiftChar(f);p.push(S)}}static updateStateListForPair(l,f,p){const g=[];for(let v of l)this.updateStateForPair(v,f,p,g);return this.simplifyStates(g)}static updateStateForPair(l,f,p,g){let v=l.endBinaryShift(f);if(g.push(v.latchAndAppend(Ko,p)),l.getMode()!==Ko&&g.push(v.shiftAndAppend(Ko,p)),p===3||p===4){let x=v.latchAndAppend(_a,16-p).latchAndAppend(_a,1);g.push(x)}if(l.getBinaryShiftByteCount()>0){let x=l.addBinaryShiftChar(f).addBinaryShiftChar(f+1);g.push(x)}}static simplifyStates(l){let f=[];for(const p of l){let g=!0;for(const v of f){if(v.isBetterThanOrEqualTo(p)){g=!1;break}p.isBetterThanOrEqualTo(v)&&(f=f.filter(x=>x!==v))}g&&f.push(p)}return f}}class hn{constructor(){}static encodeBytes(l){return hn.encode(l,hn.DEFAULT_EC_PERCENT,hn.DEFAULT_AZTEC_LAYERS)}static encode(l,f,p){let g=new t0(l).encode(),v=N.truncDivision(g.getSize()*f,100)+11,x=g.getSize()+v,S,P,j,D,z;if(p!==hn.DEFAULT_AZTEC_LAYERS){if(S=p<0,P=Math.abs(p),P>(S?hn.MAX_NB_BITS_COMPACT:hn.MAX_NB_BITS))throw new m(F.format("Illegal value %s for layers",p));j=hn.totalBitsInLayer(P,S),D=hn.WORD_SIZE[P];let Ue=j-j%D;if(z=hn.stuffBits(g,D),z.getSize()+v>Ue)throw new m("Data to large for user specified layer");if(S&&z.getSize()>D*64)throw new m("Data to large for user specified layer")}else{D=0,z=null;for(let Ue=0;;Ue++){if(Ue>hn.MAX_NB_BITS)throw new m("Data too large for an Aztec code");if(S=Ue<=3,P=S?Ue+1:Ue,j=hn.totalBitsInLayer(P,S),x>j)continue;(z==null||D!==hn.WORD_SIZE[P])&&(D=hn.WORD_SIZE[P],z=hn.stuffBits(g,D));let an=j-j%D;if(!(S&&z.getSize()>D*64)&&z.getSize()+v<=an)break}}let K=hn.generateCheckWords(z,j,D),se=z.getSize()/D,ce=hn.generateModeMessage(S,P,se),ue=(S?11:14)+P*4,ye=new Int32Array(ue),Ce;if(S){Ce=ue;for(let Ue=0;Ue<ye.length;Ue++)ye[Ue]=Ue}else{Ce=ue+1+2*N.truncDivision(N.truncDivision(ue,2)-1,15);let Ue=N.truncDivision(ue,2),an=N.truncDivision(Ce,2);for(let Wt=0;Wt<Ue;Wt++){let Ts=Wt+N.truncDivision(Wt,15);ye[Ue-Wt-1]=an-Ts-1,ye[Ue+Wt]=an+Ts+1}}let Ge=new Z(Ce);for(let Ue=0,an=0;Ue<P;Ue++){let Wt=(P-Ue)*4+(S?9:12);for(let Ts=0;Ts<Wt;Ts++){let io=Ts*2;for(let Ns=0;Ns<2;Ns++)K.get(an+io+Ns)&&Ge.set(ye[Ue*2+Ns],ye[Ue*2+Ts]),K.get(an+Wt*2+io+Ns)&&Ge.set(ye[Ue*2+Ts],ye[ue-1-Ue*2-Ns]),K.get(an+Wt*4+io+Ns)&&Ge.set(ye[ue-1-Ue*2-Ns],ye[ue-1-Ue*2-Ts]),K.get(an+Wt*6+io+Ns)&&Ge.set(ye[ue-1-Ue*2-Ts],ye[Ue*2+Ns])}an+=Wt*8}if(hn.drawModeMessage(Ge,S,Ce,ce),S)hn.drawBullsEye(Ge,N.truncDivision(Ce,2),5);else{hn.drawBullsEye(Ge,N.truncDivision(Ce,2),7);for(let Ue=0,an=0;Ue<N.truncDivision(ue,2)-1;Ue+=15,an+=16)for(let Wt=N.truncDivision(Ce,2)&1;Wt<Ce;Wt+=2)Ge.set(N.truncDivision(Ce,2)-an,Wt),Ge.set(N.truncDivision(Ce,2)+an,Wt),Ge.set(Wt,N.truncDivision(Ce,2)-an),Ge.set(Wt,N.truncDivision(Ce,2)+an)}let qe=new uM;return qe.setCompact(S),qe.setSize(Ce),qe.setLayers(P),qe.setCodeWords(se),qe.setMatrix(Ge),qe}static drawBullsEye(l,f,p){for(let g=0;g<p;g+=2)for(let v=f-g;v<=f+g;v++)l.set(v,f-g),l.set(v,f+g),l.set(f-g,v),l.set(f+g,v);l.set(f-p,f-p),l.set(f-p+1,f-p),l.set(f-p,f-p+1),l.set(f+p,f-p),l.set(f+p,f-p+1),l.set(f+p,f+p-1)}static generateModeMessage(l,f,p){let g=new I;return l?(g.appendBits(f-1,2),g.appendBits(p-1,6),g=hn.generateCheckWords(g,28,4)):(g.appendBits(f-1,5),g.appendBits(p-1,11),g=hn.generateCheckWords(g,40,4)),g}static drawModeMessage(l,f,p,g){let v=N.truncDivision(p,2);if(f)for(let x=0;x<7;x++){let S=v-3+x;g.get(x)&&l.set(S,v-5),g.get(x+7)&&l.set(v+5,S),g.get(20-x)&&l.set(S,v+5),g.get(27-x)&&l.set(v-5,S)}else for(let x=0;x<10;x++){let S=v-5+x+N.truncDivision(x,5);g.get(x)&&l.set(S,v-7),g.get(x+10)&&l.set(v+7,S),g.get(29-x)&&l.set(S,v+7),g.get(39-x)&&l.set(v-7,S)}}static generateCheckWords(l,f,p){let g=l.getSize()/p,v=new qA(hn.getGF(p)),x=N.truncDivision(f,p),S=hn.bitsToWords(l,p,x);v.encode(S,x-g);let P=f%p,j=new I;j.appendBits(0,P);for(const D of Array.from(S))j.appendBits(D,p);return j}static bitsToWords(l,f,p){let g=new Int32Array(p),v,x;for(v=0,x=l.getSize()/f;v<x;v++){let S=0;for(let P=0;P<f;P++)S|=l.get(v*f+P)?1<<f-P-1:0;g[v]=S}return g}static getGF(l){switch(l){case 4:return ze.AZTEC_PARAM;case 6:return ze.AZTEC_DATA_6;case 8:return ze.AZTEC_DATA_8;case 10:return ze.AZTEC_DATA_10;case 12:return ze.AZTEC_DATA_12;default:throw new m("Unsupported word size "+l)}}static stuffBits(l,f){let p=new I,g=l.getSize(),v=(1<<f)-2;for(let x=0;x<g;x+=f){let S=0;for(let P=0;P<f;P++)(x+P>=g||l.get(x+P))&&(S|=1<<f-1-P);(S&v)===v?(p.appendBits(S&v,f),x--):S&v?p.appendBits(S,f):(p.appendBits(S|1,f),x--)}return p}static totalBitsInLayer(l,f){return((f?88:112)+16*l)*l}}hn.DEFAULT_EC_PERCENT=33,hn.DEFAULT_AZTEC_LAYERS=0,hn.MAX_NB_BITS=32,hn.MAX_NB_BITS_COMPACT=4,hn.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]);class Ax{encode(l,f,p,g){return this.encodeWithHints(l,f,p,g,null)}encodeWithHints(l,f,p,g,v){let x=XA.ISO_8859_1,S=hn.DEFAULT_EC_PERCENT,P=hn.DEFAULT_AZTEC_LAYERS;return v!=null&&(v.has(ei.CHARACTER_SET)&&(x=cM.forName(v.get(ei.CHARACTER_SET).toString())),v.has(ei.ERROR_CORRECTION)&&(S=N.parseInt(v.get(ei.ERROR_CORRECTION).toString())),v.has(ei.AZTEC_LAYERS)&&(P=N.parseInt(v.get(ei.AZTEC_LAYERS).toString()))),Ax.encodeLayers(l,f,p,g,x,S,P)}static encodeLayers(l,f,p,g,v,x,S){if(f!==me.AZTEC)throw new m("Can only encode AZTEC, but got "+f);let P=hn.encode(F.getBytes(l,v),x,S);return Ax.renderResult(P,p,g)}static renderResult(l,f,p){let g=l.getMatrix();if(g==null)throw new dt;let v=g.getWidth(),x=g.getHeight(),S=Math.max(f,v),P=Math.max(p,x),j=Math.min(S/v,P/x),D=(S-v*j)/2,z=(P-x*j)/2,K=new Z(S,P);for(let se=0,ce=z;se<x;se++,ce+=j)for(let ue=0,ye=D;ue<v;ue++,ye+=j)g.get(ue,se)&&K.setRegion(ye,ce,j,j);return K}}n.AbstractExpandedDecoder=vr,n.ArgumentException=h,n.ArithmeticException=ve,n.AztecCode=uM,n.AztecCodeReader=Ft,n.AztecCodeWriter=Ax,n.AztecDecoder=At,n.AztecDetector=ut,n.AztecDetectorResult=le,n.AztecEncoder=hn,n.AztecHighLevelEncoder=t0,n.AztecPoint=Ye,n.BarcodeFormat=me,n.Binarizer=C,n.BinaryBitmap=y,n.BitArray=I,n.BitMatrix=Z,n.BitSource=Ho,n.BrowserAztecCodeReader=As,n.BrowserBarcodeReader=mh,n.BrowserCodeReader=pe,n.BrowserDatamatrixCodeReader=gx,n.BrowserMultiFormatReader=Zae,n.BrowserPDF417Reader=Qae,n.BrowserQRCodeReader=Jae,n.BrowserQRCodeSvgWriter=Nd,n.CharacterSetECI=L,n.ChecksumException=b,n.Code128Reader=Ke,n.Code39Reader=Ln,n.DataMatrixDecodedBitStreamParser=to,n.DataMatrixReader=Ea,n.DecodeHintType=k,n.DecoderResult=xe,n.DefaultGridSampler=Ie,n.DetectorResult=ae,n.EAN13Reader=lr,n.EncodeHintType=ei,n.Exception=d,n.FormatException=M,n.GenericGF=ze,n.GenericGFPoly=je,n.GlobalHistogramBinarizer=q,n.GridSampler=Ee,n.GridSamplerInstance=de,n.HTMLCanvasElementLuminanceSource=J,n.HybridBinarizer=G,n.ITFReader=rn,n.IllegalArgumentException=m,n.IllegalStateException=dt,n.InvertedLuminanceSource=oe,n.LuminanceSource=W,n.MathUtils=ct,n.MultiFormatOneDReader=eo,n.MultiFormatReader=lM,n.MultiFormatWriter=toe,n.NotFoundException=H,n.OneDReader=Vt,n.PDF417DecodedBitStreamParser=Se,n.PDF417DecoderErrorCorrection=Zg,n.PDF417Reader=Ei,n.PDF417ResultMetadata=Jr,n.PerspectiveTransform=Pe,n.PlanarYUVLuminanceSource=qo,n.QRCodeByteMatrix=Sx,n.QRCodeDataMask=Ci,n.QRCodeDecodedBitStreamParser=Xn,n.QRCodeDecoderErrorCorrectionLevel=bn,n.QRCodeDecoderFormatInformation=zn,n.QRCodeEncoder=Yn,n.QRCodeEncoderQRCode=Td,n.QRCodeMaskUtil=xr,n.QRCodeMatrixUtil=Pt,n.QRCodeMode=Et,n.QRCodeReader=Qr,n.QRCodeVersion=ht,n.QRCodeWriter=yh,n.RGBLuminanceSource=KA,n.RSS14Reader=An,n.RSSExpandedReader=De,n.ReaderException=wx,n.ReedSolomonDecoder=Ct,n.ReedSolomonEncoder=qA,n.ReedSolomonException=Be,n.Result=he,n.ResultMetadataType=Ne,n.ResultPoint=Ze,n.StringUtils=F,n.UnsupportedOperationException=U,n.VideoInputDevice=Y,n.WhiteRectangleDetector=ee,n.WriterException=kn,n.ZXingArrays=E,n.ZXingCharset=cM,n.ZXingInteger=N,n.ZXingStandardCharsets=XA,n.ZXingStringBuilder=V,n.ZXingStringEncoding=X,n.ZXingSystem=w,n.createAbstractExpandedDecoder=Bl,Object.defineProperty(n,"__esModule",{value:!0})})})(UP,UP.exports);var Jn=UP.exports;const gke=en(Jn),yke=Jz({__proto__:null,default:gke},[Jn]);var V6=function(){function e(t,n,r){if(this.formatMap=new Map([[st.QR_CODE,Jn.BarcodeFormat.QR_CODE],[st.AZTEC,Jn.BarcodeFormat.AZTEC],[st.CODABAR,Jn.BarcodeFormat.CODABAR],[st.CODE_39,Jn.BarcodeFormat.CODE_39],[st.CODE_93,Jn.BarcodeFormat.CODE_93],[st.CODE_128,Jn.BarcodeFormat.CODE_128],[st.DATA_MATRIX,Jn.BarcodeFormat.DATA_MATRIX],[st.MAXICODE,Jn.BarcodeFormat.MAXICODE],[st.ITF,Jn.BarcodeFormat.ITF],[st.EAN_13,Jn.BarcodeFormat.EAN_13],[st.EAN_8,Jn.BarcodeFormat.EAN_8],[st.PDF_417,Jn.BarcodeFormat.PDF_417],[st.RSS_14,Jn.BarcodeFormat.RSS_14],[st.RSS_EXPANDED,Jn.BarcodeFormat.RSS_EXPANDED],[st.UPC_A,Jn.BarcodeFormat.UPC_A],[st.UPC_E,Jn.BarcodeFormat.UPC_E],[st.UPC_EAN_EXTENSION,Jn.BarcodeFormat.UPC_EAN_EXTENSION]]),this.reverseFormatMap=this.createReverseFormatMap(),!yke)throw"Use html5qrcode.min.js without edit, ZXing not found.";this.verbose=n,this.logger=r;var i=this.createZXingFormats(t),s=new Map;s.set(Jn.DecodeHintType.POSSIBLE_FORMATS,i),s.set(Jn.DecodeHintType.TRY_HARDER,!1),this.hints=s}return e.prototype.decodeAsync=function(t){var n=this;return new Promise(function(r,i){try{r(n.decode(t))}catch(s){i(s)}})},e.prototype.decode=function(t){var n=new Jn.MultiFormatReader(this.verbose,this.hints),r=new Jn.HTMLCanvasElementLuminanceSource(t),i=new Jn.BinaryBitmap(new Jn.HybridBinarizer(r)),s=n.decode(i);return{text:s.text,format:Kne.create(this.toHtml5QrcodeSupportedFormats(s.format)),debugData:this.createDebugData()}},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createZXingFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.logError("".concat(s," is not supported by")+"ZXingHtml5QrcodeShim")}return n},e.prototype.createDebugData=function(){return{decoderName:"zxing-js"}},e}(),vke=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{d(r.next(h))}catch(m){a(m)}}function u(h){try{d(r.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(o,u)}d((r=r.apply(e,t||[])).next())})},xke=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},W6=function(){function e(t,n,r){if(this.formatMap=new Map([[st.QR_CODE,"qr_code"],[st.AZTEC,"aztec"],[st.CODABAR,"codabar"],[st.CODE_39,"code_39"],[st.CODE_93,"code_93"],[st.CODE_128,"code_128"],[st.DATA_MATRIX,"data_matrix"],[st.ITF,"itf"],[st.EAN_13,"ean_13"],[st.EAN_8,"ean_8"],[st.PDF_417,"pdf417"],[st.UPC_A,"upc_a"],[st.UPC_E,"upc_e"]]),this.reverseFormatMap=this.createReverseFormatMap(),!e.isSupported())throw"Use html5qrcode.min.js without edit, Use BarcodeDetectorDelegate only if it isSupported();";this.verbose=n,this.logger=r;var i=this.createBarcodeDetectorFormats(t);if(this.detector=new BarcodeDetector(i),!this.detector)throw"BarcodeDetector detector not supported"}return e.isSupported=function(){if(!("BarcodeDetector"in window))return!1;var t=new BarcodeDetector({formats:["qr_code"]});return typeof t<"u"},e.prototype.decodeAsync=function(t){return vke(this,void 0,void 0,function(){var n,r;return xke(this,function(i){switch(i.label){case 0:return[4,this.detector.detect(t)];case 1:if(n=i.sent(),!n||n.length===0)throw"No barcode or QR code detected.";return r=this.selectLargestBarcode(n),[2,{text:r.rawValue,format:Kne.create(this.toHtml5QrcodeSupportedFormats(r.format)),debugData:this.createDebugData()}]}})})},e.prototype.selectLargestBarcode=function(t){for(var n=null,r=0,i=0,s=t;i<s.length;i++){var a=s[i],o=a.boundingBox.width*a.boundingBox.height;o>r&&(r=o,n=a)}if(!n)throw"No largest barcode found";return n},e.prototype.createBarcodeDetectorFormats=function(t){for(var n=[],r=0,i=t;r<i.length;r++){var s=i[r];this.formatMap.has(s)?n.push(this.formatMap.get(s)):this.logger.warn("".concat(s," is not supported by")+"BarcodeDetectorDelegate")}return{formats:n}},e.prototype.toHtml5QrcodeSupportedFormats=function(t){if(!this.reverseFormatMap.has(t))throw"reverseFormatMap doesn't have ".concat(t);return this.reverseFormatMap.get(t)},e.prototype.createReverseFormatMap=function(){var t=new Map;return this.formatMap.forEach(function(n,r,i){t.set(n,r)}),t},e.prototype.createDebugData=function(){return{decoderName:"BarcodeDetector"}},e}(),H6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{d(r.next(h))}catch(m){a(m)}}function u(h){try{d(r.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(o,u)}d((r=r.apply(e,t||[])).next())})},G6=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},bke=function(){function e(t,n,r,i){this.EXECUTIONS_TO_REPORT_PERFORMANCE=100,this.executions=0,this.executionResults=[],this.wasPrimaryDecoderUsedInLastDecode=!1,this.verbose=r,n&&W6.isSupported()?(this.primaryDecoder=new W6(t,r,i),this.secondaryDecoder=new V6(t,r,i)):this.primaryDecoder=new V6(t,r,i)}return e.prototype.decodeAsync=function(t){return H6(this,void 0,void 0,function(){var n;return G6(this,function(r){switch(r.label){case 0:n=performance.now(),r.label=1;case 1:return r.trys.push([1,,3,4]),[4,this.getDecoder().decodeAsync(t)];case 2:return[2,r.sent()];case 3:return this.possiblyLogPerformance(n),[7];case 4:return[2]}})})},e.prototype.decodeRobustlyAsync=function(t){return H6(this,void 0,void 0,function(){var n,r;return G6(this,function(i){switch(i.label){case 0:n=performance.now(),i.label=1;case 1:return i.trys.push([1,3,4,5]),[4,this.primaryDecoder.decodeAsync(t)];case 2:return[2,i.sent()];case 3:if(r=i.sent(),this.secondaryDecoder)return[2,this.secondaryDecoder.decodeAsync(t)];throw r;case 4:return this.possiblyLogPerformance(n),[7];case 5:return[2]}})})},e.prototype.getDecoder=function(){return this.secondaryDecoder?this.wasPrimaryDecoderUsedInLastDecode===!1?(this.wasPrimaryDecoderUsedInLastDecode=!0,this.primaryDecoder):(this.wasPrimaryDecoderUsedInLastDecode=!1,this.secondaryDecoder):this.primaryDecoder},e.prototype.possiblyLogPerformance=function(t){if(this.verbose){var n=performance.now()-t;this.executionResults.push(n),this.executions++,this.possiblyFlushPerformanceReport()}},e.prototype.possiblyFlushPerformanceReport=function(){if(!(this.executions<this.EXECUTIONS_TO_REPORT_PERFORMANCE)){for(var t=0,n=0,r=this.executionResults;n<r.length;n++){var i=r[n];t+=i}var s=t/this.executionResults.length;console.log("".concat(s," ms for ").concat(this.executionResults.length," last runs.")),this.executions=0,this.executionResults=[]}},e}(),QI=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),_2=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{d(r.next(h))}catch(m){a(m)}}function u(h){try{d(r.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(o,u)}d((r=r.apply(e,t||[])).next())})},T2=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Yne=function(){function e(t,n){this.name=t,this.track=n}return e.prototype.isSupported=function(){return this.track.getCapabilities?this.name in this.track.getCapabilities():!1},e.prototype.apply=function(t){var n={};n[this.name]=t;var r={advanced:[n]};return this.track.applyConstraints(r)},e.prototype.value=function(){var t=this.track.getSettings();if(this.name in t){var n=t[this.name];return n}return null},e}(),wke=function(e){QI(t,e);function t(n,r){return e.call(this,n,r)||this}return t.prototype.min=function(){return this.getCapabilities().min},t.prototype.max=function(){return this.getCapabilities().max},t.prototype.step=function(){return this.getCapabilities().step},t.prototype.apply=function(n){var r={};r[this.name]=n;var i={advanced:[r]};return this.track.applyConstraints(i)},t.prototype.getCapabilities=function(){this.failIfNotSupported();var n=this.track.getCapabilities(),r=n[this.name];return{min:r.min,max:r.max,step:r.step}},t.prototype.failIfNotSupported=function(){if(!this.isSupported())throw new Error("".concat(this.name," capability not supported"))},t}(Yne),Ske=function(e){QI(t,e);function t(n){return e.call(this,"zoom",n)||this}return t}(wke),Cke=function(e){QI(t,e);function t(n){return e.call(this,"torch",n)||this}return t}(Yne),Ake=function(){function e(t){this.track=t}return e.prototype.zoomFeature=function(){return new Ske(this.track)},e.prototype.torchFeature=function(){return new Cke(this.track)},e}(),Eke=function(){function e(t,n,r){this.isClosed=!1,this.parentElement=t,this.mediaStream=n,this.callbacks=r,this.surface=this.createVideoElement(this.parentElement.clientWidth),t.append(this.surface)}return e.prototype.createVideoElement=function(t){var n=document.createElement("video");return n.style.width="".concat(t,"px"),n.style.display="block",n.muted=!0,n.setAttribute("muted","true"),n.playsInline=!0,n},e.prototype.setupSurface=function(){var t=this;this.surface.onabort=function(){throw"RenderedCameraImpl video surface onabort() called"},this.surface.onerror=function(){throw"RenderedCameraImpl video surface onerror() called"};var n=function(){var r=t.surface.clientWidth,i=t.surface.clientHeight;t.callbacks.onRenderSurfaceReady(r,i),t.surface.removeEventListener("playing",n)};this.surface.addEventListener("playing",n),this.surface.srcObject=this.mediaStream,this.surface.play()},e.create=function(t,n,r,i){return _2(this,void 0,void 0,function(){var s,a;return T2(this,function(o){switch(o.label){case 0:return s=new e(t,n,i),r.aspectRatio?(a={aspectRatio:r.aspectRatio},[4,s.getFirstTrackOrFail().applyConstraints(a)]):[3,2];case 1:o.sent(),o.label=2;case 2:return s.setupSurface(),[2,s]}})})},e.prototype.failIfClosed=function(){if(this.isClosed)throw"The RenderedCamera has already been closed."},e.prototype.getFirstTrackOrFail=function(){if(this.failIfClosed(),this.mediaStream.getVideoTracks().length===0)throw"No video tracks found";return this.mediaStream.getVideoTracks()[0]},e.prototype.pause=function(){this.failIfClosed(),this.surface.pause()},e.prototype.resume=function(t){this.failIfClosed();var n=this,r=function(){setTimeout(t,200),n.surface.removeEventListener("playing",r)};this.surface.addEventListener("playing",r),this.surface.play()},e.prototype.isPaused=function(){return this.failIfClosed(),this.surface.paused},e.prototype.getSurface=function(){return this.failIfClosed(),this.surface},e.prototype.getRunningTrackCapabilities=function(){return this.getFirstTrackOrFail().getCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getFirstTrackOrFail().getSettings()},e.prototype.applyVideoConstraints=function(t){return _2(this,void 0,void 0,function(){return T2(this,function(n){if("aspectRatio"in t)throw"Changing 'aspectRatio' in run-time is not yet supported.";return[2,this.getFirstTrackOrFail().applyConstraints(t)]})})},e.prototype.close=function(){if(this.isClosed)return Promise.resolve();var t=this;return new Promise(function(n,r){var i=t.mediaStream.getVideoTracks(),s=i.length,a=0;t.mediaStream.getVideoTracks().forEach(function(o){t.mediaStream.removeTrack(o),o.stop(),++a,a>=s&&(t.isClosed=!0,t.parentElement.removeChild(t.surface),n())})})},e.prototype.getCapabilities=function(){return new Ake(this.getFirstTrackOrFail())},e}(),_ke=function(){function e(t){this.mediaStream=t}return e.prototype.render=function(t,n,r){return _2(this,void 0,void 0,function(){return T2(this,function(i){return[2,Eke.create(t,this.mediaStream,n,r)]})})},e.create=function(t){return _2(this,void 0,void 0,function(){var n,r;return T2(this,function(i){switch(i.label){case 0:if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return n={audio:!1,video:t},[4,navigator.mediaDevices.getUserMedia(n)];case 1:return r=i.sent(),[2,new e(r)]}})})},e}(),q6=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{d(r.next(h))}catch(m){a(m)}}function u(h){try{d(r.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(o,u)}d((r=r.apply(e,t||[])).next())})},K6=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Tke=function(){function e(){}return e.failIfNotSupported=function(){return q6(this,void 0,void 0,function(){return K6(this,function(t){if(!navigator.mediaDevices)throw"navigator.mediaDevices not supported";return[2,new e]})})},e.prototype.create=function(t){return q6(this,void 0,void 0,function(){return K6(this,function(n){return[2,_ke.create(t)]})})},e}(),Nke=function(e,t,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(h){try{d(r.next(h))}catch(m){a(m)}}function u(h){try{d(r.throw(h))}catch(m){a(m)}}function d(h){h.done?s(h.value):i(h.value).then(o,u)}d((r=r.apply(e,t||[])).next())})},Pke=function(e,t){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},r,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(d){return function(h){return u([d,h])}}function u(d){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,d[0]&&(n=0)),n;)try{if(r=1,i&&(s=d[0]&2?i.return:d[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,d[1])).done)return s;switch(i=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,i=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=t.call(e,n)}catch(h){d=[6,h],i=0}finally{r=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},Oke=function(){function e(){}return e.retrieve=function(){if(navigator.mediaDevices)return e.getCamerasFromMediaDevices();var t=MediaStreamTrack;return MediaStreamTrack&&t.getSources?e.getCamerasFromMediaStreamTrack():e.rejectWithError()},e.rejectWithError=function(){var t=op.unableToQuerySupportedDevices();return e.isHttpsOrLocalhost()||(t=op.insecureContextCameraQueryError()),Promise.reject(t)},e.isHttpsOrLocalhost=function(){if(location.protocol==="https:")return!0;var t=location.host.split(":")[0];return t==="127.0.0.1"||t==="localhost"},e.getCamerasFromMediaDevices=function(){return Nke(this,void 0,void 0,function(){var t,n,r,i,s,a,o;return Pke(this,function(u){switch(u.label){case 0:return t=function(d){for(var h=d.getVideoTracks(),m=0,y=h;m<y.length;m++){var b=y[m];b.enabled=!1,b.stop(),d.removeTrack(b)}},[4,navigator.mediaDevices.getUserMedia({audio:!1,video:!0})];case 1:return n=u.sent(),[4,navigator.mediaDevices.enumerateDevices()];case 2:for(r=u.sent(),i=[],s=0,a=r;s<a.length;s++)o=a[s],o.kind==="videoinput"&&i.push({id:o.deviceId,label:o.label});return t(n),[2,i]}})})},e.getCamerasFromMediaStreamTrack=function(){return new Promise(function(t,n){var r=function(s){for(var a=[],o=0,u=s;o<u.length;o++){var d=u[o];d.kind==="video"&&a.push({id:d.id,label:d.label})}t(a)},i=MediaStreamTrack;i.getSources(r)})},e}(),wr;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.NOT_STARTED=1]="NOT_STARTED",e[e.SCANNING=2]="SCANNING",e[e.PAUSED=3]="PAUSED"})(wr||(wr={}));var jke=function(){function e(){this.state=wr.NOT_STARTED,this.onGoingTransactionNewState=wr.UNKNOWN}return e.prototype.directTransition=function(t){this.failIfTransitionOngoing(),this.validateTransition(t),this.state=t},e.prototype.startTransition=function(t){return this.failIfTransitionOngoing(),this.validateTransition(t),this.onGoingTransactionNewState=t,this},e.prototype.execute=function(){if(this.onGoingTransactionNewState===wr.UNKNOWN)throw"Transaction is already cancelled, cannot execute().";var t=this.onGoingTransactionNewState;this.onGoingTransactionNewState=wr.UNKNOWN,this.directTransition(t)},e.prototype.cancel=function(){if(this.onGoingTransactionNewState===wr.UNKNOWN)throw"Transaction is already cancelled, cannot cancel().";this.onGoingTransactionNewState=wr.UNKNOWN},e.prototype.getState=function(){return this.state},e.prototype.failIfTransitionOngoing=function(){if(this.onGoingTransactionNewState!==wr.UNKNOWN)throw"Cannot transition to a new state, already under transition"},e.prototype.validateTransition=function(t){switch(this.state){case wr.UNKNOWN:throw"Transition from unknown is not allowed";case wr.NOT_STARTED:this.failIfNewStateIs(t,[wr.PAUSED]);break;case wr.SCANNING:break;case wr.PAUSED:break}},e.prototype.failIfNewStateIs=function(t,n){for(var r=0,i=n;r<i.length;r++){var s=i[r];if(t===s)throw"Cannot transition from ".concat(this.state," to ").concat(t)}},e}(),kke=function(){function e(t){this.stateManager=t}return e.prototype.startTransition=function(t){return this.stateManager.startTransition(t)},e.prototype.directTransition=function(t){this.stateManager.directTransition(t)},e.prototype.getState=function(){return this.stateManager.getState()},e.prototype.canScanFile=function(){return this.stateManager.getState()===wr.NOT_STARTED},e.prototype.isScanning=function(){return this.stateManager.getState()!==wr.NOT_STARTED},e.prototype.isStrictlyScanning=function(){return this.stateManager.getState()===wr.SCANNING},e.prototype.isPaused=function(){return this.stateManager.getState()===wr.PAUSED},e}(),Ike=function(){function e(){}return e.create=function(){return new kke(new jke)},e}(),Mke=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&(r[s]=i[s])},e(t,n)};return function(t,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");e(t,n);function r(){this.constructor=t}t.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}(),ea=function(e){Mke(t,e);function t(){return e!==null&&e.apply(this,arguments)||this}return t.DEFAULT_WIDTH=300,t.DEFAULT_WIDTH_OFFSET=2,t.FILE_SCAN_MIN_HEIGHT=300,t.FILE_SCAN_HIDDEN_CANVAS_PADDING=100,t.MIN_QR_BOX_SIZE=50,t.SHADED_LEFT=1,t.SHADED_RIGHT=2,t.SHADED_TOP=3,t.SHADED_BOTTOM=4,t.SHADED_REGION_ELEMENT_ID="qr-shaded-region",t.VERBOSE=!1,t.BORDER_SHADER_DEFAULT_COLOR="#ffffff",t.BORDER_SHADER_MATCH_COLOR="rgb(90, 193, 56)",t}(hke),Dke=function(){function e(t,n){this.logger=n,this.fps=ea.SCAN_DEFAULT_FPS,t?(t.fps&&(this.fps=t.fps),this.disableFlip=t.disableFlip===!0,this.qrbox=t.qrbox,this.aspectRatio=t.aspectRatio,this.videoConstraints=t.videoConstraints):this.disableFlip=ea.DEFAULT_DISABLE_FLIP}return e.prototype.isMediaStreamConstraintsValid=function(){return this.videoConstraints?Xne.isMediaStreamConstraintsValid(this.videoConstraints,this.logger):(this.logger.logError("Empty videoConstraints",!0),!1)},e.prototype.isShadedBoxEnabled=function(){return!ql(this.qrbox)},e.create=function(t,n){return new e(t,n)},e}(),Rke=function(){function e(t,n){if(this.element=null,this.canvasElement=null,this.scannerPausedUiElement=null,this.hasBorderShaders=null,this.borderShaders=null,this.qrMatch=null,this.renderedCamera=null,this.qrRegion=null,this.context=null,this.lastScanImageFile=null,this.isScanning=!1,!document.getElementById(t))throw"HTML Element with id=".concat(t," not found");this.elementId=t,this.verbose=!1;var r;typeof n=="boolean"?this.verbose=n===!0:n&&(r=n,this.verbose=r.verbose===!0,r.experimentalFeatures),this.logger=new mke(this.verbose),this.qrcode=new bke(this.getSupportedFormats(n),this.getUseBarCodeDetectorIfSupported(r),this.verbose,this.logger),this.foreverScanTimeout,this.shouldScan=!0,this.stateManagerProxy=Ike.create()}return e.prototype.start=function(t,n,r,i){var s=this;if(!t)throw"cameraIdOrConfig is required";if(!r||typeof r!="function")throw"qrCodeSuccessCallback is required and should be a function.";var a;i?a=i:a=this.verbose?this.logger.log:function(){};var o=Dke.create(n,this.logger);this.clearElement();var u=!1;o.videoConstraints&&(o.isMediaStreamConstraintsValid()?u=!0:this.logger.logError("'videoConstraints' is not valid 'MediaStreamConstraints, it will be ignored.'",!0));var d=u,h=document.getElementById(this.elementId);h.clientWidth?h.clientWidth:ea.DEFAULT_WIDTH,h.style.position="relative",this.shouldScan=!0,this.element=h;var m=this,y=this.stateManagerProxy.startTransition(wr.SCANNING);return new Promise(function(b,C){var w=d?o.videoConstraints:m.createVideoConstraints(t);if(!w){y.cancel(),C("videoConstraints should be defined");return}var A={};(!d||o.aspectRatio)&&(A.aspectRatio=o.aspectRatio);var _={onRenderSurfaceReady:function(E,N){m.setupUi(E,N,o),m.isScanning=!0,m.foreverScan(o,r,a)}};Tke.failIfNotSupported().then(function(E){E.create(w).then(function(N){return N.render(s.element,A,_).then(function(I){m.renderedCamera=I,y.execute(),b(null)}).catch(function(I){y.cancel(),C(I)})}).catch(function(N){y.cancel(),C(op.errorGettingUserMedia(N))})}).catch(function(E){y.cancel(),C(op.cameraStreamingNotSupported())})})},e.prototype.pause=function(t){if(!this.stateManagerProxy.isStrictlyScanning())throw"Cannot pause, scanner is not scanning.";this.stateManagerProxy.directTransition(wr.PAUSED),this.showPausedState(),(ql(t)||t!==!0)&&(t=!1),t&&this.renderedCamera&&this.renderedCamera.pause()},e.prototype.resume=function(){if(!this.stateManagerProxy.isPaused())throw"Cannot result, scanner is not paused.";if(!this.renderedCamera)throw"renderedCamera doesn't exist while trying resume()";var t=this,n=function(){t.stateManagerProxy.directTransition(wr.SCANNING),t.hidePausedState()};if(!this.renderedCamera.isPaused()){n();return}this.renderedCamera.resume(function(){n()})},e.prototype.getState=function(){return this.stateManagerProxy.getState()},e.prototype.stop=function(){var t=this;if(!this.stateManagerProxy.isScanning())throw"Cannot stop, scanner is not running or paused.";var n=this.stateManagerProxy.startTransition(wr.NOT_STARTED);this.shouldScan=!1,this.foreverScanTimeout&&clearTimeout(this.foreverScanTimeout);var r=function(){if(t.element){var s=document.getElementById(ea.SHADED_REGION_ELEMENT_ID);s&&t.element.removeChild(s)}},i=this;return this.renderedCamera.close().then(function(){return i.renderedCamera=null,i.element&&(i.element.removeChild(i.canvasElement),i.canvasElement=null),r(),i.qrRegion&&(i.qrRegion=null),i.context&&(i.context=null),n.execute(),i.hidePausedState(),i.isScanning=!1,Promise.resolve()})},e.prototype.scanFile=function(t,n){return this.scanFileV2(t,n).then(function(r){return r.decodedText})},e.prototype.scanFileV2=function(t,n){var r=this;if(!t||!(t instanceof File))throw"imageFile argument is mandatory and should be instance of File. Use 'event.target.files[0]'.";if(ql(n)&&(n=!0),!this.stateManagerProxy.canScanFile())throw"Cannot start file scan - ongoing camera scan";return new Promise(function(i,s){r.possiblyCloseLastScanImageFile(),r.clearElement(),r.lastScanImageFile=URL.createObjectURL(t);var a=new Image;a.onload=function(){var o=a.width,u=a.height,d=document.getElementById(r.elementId),h=d.clientWidth?d.clientWidth:ea.DEFAULT_WIDTH,m=Math.max(d.clientHeight?d.clientHeight:u,ea.FILE_SCAN_MIN_HEIGHT),y=r.computeCanvasDrawConfig(o,u,h,m);if(n){var b=r.createCanvasElement(h,m,"qr-canvas-visible");b.style.display="inline-block",d.appendChild(b);var C=b.getContext("2d");if(!C)throw"Unable to get 2d context from canvas";C.canvas.width=h,C.canvas.height=m,C.drawImage(a,0,0,o,u,y.x,y.y,y.width,y.height)}var w=ea.FILE_SCAN_HIDDEN_CANVAS_PADDING,A=Math.max(a.width,y.width),_=Math.max(a.height,y.height),E=A+2*w,N=_+2*w,I=r.createCanvasElement(E,N);d.appendChild(I);var O=I.getContext("2d");if(!O)throw"Unable to get 2d context from canvas";O.canvas.width=E,O.canvas.height=N,O.drawImage(a,0,0,o,u,w,w,A,_);try{r.qrcode.decodeRobustlyAsync(I).then(function(k){i(z6.createFromQrcodeResult(k))}).catch(s)}catch(k){s("QR code parse error, error = ".concat(k))}},a.onerror=s,a.onabort=s,a.onstalled=s,a.onsuspend=s,a.src=URL.createObjectURL(t)})},e.prototype.clear=function(){this.clearElement()},e.getCameras=function(){return Oke.retrieve()},e.prototype.getRunningTrackCapabilities=function(){return this.getRenderedCameraOrFail().getRunningTrackCapabilities()},e.prototype.getRunningTrackSettings=function(){return this.getRenderedCameraOrFail().getRunningTrackSettings()},e.prototype.getRunningTrackCameraCapabilities=function(){return this.getRenderedCameraOrFail().getCapabilities()},e.prototype.applyVideoConstraints=function(t){if(t){if(!Xne.isMediaStreamConstraintsValid(t,this.logger))throw"invalid videoConstaints passed, check logs for more details"}else throw"videoConstaints is required argument.";return this.getRenderedCameraOrFail().applyVideoConstraints(t)},e.prototype.getRenderedCameraOrFail=function(){if(this.renderedCamera==null)throw"Scanning is not in running state, call this API only when QR code scanning using camera is in running state.";return this.renderedCamera},e.prototype.getSupportedFormats=function(t){var n=[st.QR_CODE,st.AZTEC,st.CODABAR,st.CODE_39,st.CODE_93,st.CODE_128,st.DATA_MATRIX,st.MAXICODE,st.ITF,st.EAN_13,st.EAN_8,st.PDF_417,st.RSS_14,st.RSS_EXPANDED,st.UPC_A,st.UPC_E,st.UPC_EAN_EXTENSION];if(!t||typeof t=="boolean"||!t.formatsToSupport)return n;if(!Array.isArray(t.formatsToSupport))throw"configOrVerbosityFlag.formatsToSupport should be undefined or an array.";if(t.formatsToSupport.length===0)throw"Atleast 1 formatsToSupport is needed.";for(var r=[],i=0,s=t.formatsToSupport;i<s.length;i++){var a=s[i];fke(a)?r.push(a):this.logger.warn("Invalid format: ".concat(a," passed in config, ignoring."))}if(r.length===0)throw"None of formatsToSupport match supported values.";return r},e.prototype.getUseBarCodeDetectorIfSupported=function(t){if(ql(t))return!0;if(!ql(t.useBarCodeDetectorIfSupported))return t.useBarCodeDetectorIfSupported!==!1;if(ql(t.experimentalFeatures))return!0;var n=t.experimentalFeatures;return ql(n.useBarCodeDetectorIfSupported)?!0:n.useBarCodeDetectorIfSupported!==!1},e.prototype.validateQrboxSize=function(t,n,r){var i=this,s=r.qrbox;this.validateQrboxConfig(s);var a=this.toQrdimensions(t,n,s),o=function(d){if(d<ea.MIN_QR_BOX_SIZE)throw"minimum size of 'config.qrbox' dimension value is"+" ".concat(ea.MIN_QR_BOX_SIZE,"px.")},u=function(d){return d>t&&(i.logger.warn("`qrbox.width` or `qrbox` is larger than the width of the root element. The width will be truncated to the width of root element."),d=t),d};o(a.width),o(a.height),a.width=u(a.width)},e.prototype.validateQrboxConfig=function(t){if(typeof t!="number"&&typeof t!="function"&&(t.width===void 0||t.height===void 0))throw"Invalid instance of QrDimensions passed for 'config.qrbox'. Both 'width' and 'height' should be set."},e.prototype.toQrdimensions=function(t,n,r){if(typeof r=="number")return{width:r,height:r};if(typeof r=="function")try{return r(t,n)}catch(i){throw new Error("qrbox config was passed as a function but it failed with unknown error"+i)}return r},e.prototype.setupUi=function(t,n,r){r.isShadedBoxEnabled()&&this.validateQrboxSize(t,n,r);var i=ql(r.qrbox)?{width:t,height:n}:r.qrbox;this.validateQrboxConfig(i);var s=this.toQrdimensions(t,n,i);s.height>n&&this.logger.warn("[Html5Qrcode] config.qrbox has height that isgreater than the height of the video stream. Shading will be ignored");var a=r.isShadedBoxEnabled()&&s.height<=n,o={x:0,y:0,width:t,height:n},u=a?this.getShadedRegionBounds(t,n,s):o,d=this.createCanvasElement(u.width,u.height),h={willReadFrequently:!0},m=d.getContext("2d",h);m.canvas.width=u.width,m.canvas.height=u.height,this.element.append(d),a&&this.possiblyInsertShadingElement(this.element,t,n,s),this.createScannerPausedUiElement(this.element),this.qrRegion=u,this.context=m,this.canvasElement=d},e.prototype.createScannerPausedUiElement=function(t){var n=document.createElement("div");n.innerText=op.scannerPaused(),n.style.display="none",n.style.position="absolute",n.style.top="0px",n.style.zIndex="1",n.style.background="rgba(9, 9, 9, 0.46)",n.style.color="#FFECEC",n.style.textAlign="center",n.style.width="100%",t.appendChild(n),this.scannerPausedUiElement=n},e.prototype.scanContext=function(t,n){var r=this;return this.stateManagerProxy.isPaused()?Promise.resolve(!1):this.qrcode.decodeAsync(this.canvasElement).then(function(i){return t(i.text,z6.createFromQrcodeResult(i)),r.possiblyUpdateShaders(!0),!0}).catch(function(i){r.possiblyUpdateShaders(!1);var s=op.codeParseError(i);return n(s,pke.createFrom(s)),!1})},e.prototype.foreverScan=function(t,n,r){var i=this;if(this.shouldScan&&this.renderedCamera){var s=this.renderedCamera.getSurface(),a=s.videoWidth/s.clientWidth,o=s.videoHeight/s.clientHeight;if(!this.qrRegion)throw"qrRegion undefined when localMediaStream is ready.";var u=this.qrRegion.width*a,d=this.qrRegion.height*o,h=this.qrRegion.x*a,m=this.qrRegion.y*o;this.context.drawImage(s,h,m,u,d,0,0,this.qrRegion.width,this.qrRegion.height);var y=function(){i.foreverScanTimeout=setTimeout(function(){i.foreverScan(t,n,r)},i.getTimeoutFps(t.fps))};this.scanContext(n,r).then(function(b){!b&&t.disableFlip!==!0?(i.context.translate(i.context.canvas.width,0),i.context.scale(-1,1),i.scanContext(n,r).finally(function(){y()})):y()}).catch(function(b){i.logger.logError("Error happend while scanning context",b),y()})}},e.prototype.createVideoConstraints=function(t){if(typeof t=="string")return{deviceId:{exact:t}};if(typeof t=="object"){var n="facingMode",r="deviceId",i={user:!0,environment:!0},s="exact",a=function(C){if(C in i)return!0;throw"config has invalid 'facingMode' value = "+"'".concat(C,"'")},o=Object.keys(t);if(o.length!==1)throw"'cameraIdOrConfig' object should have exactly 1 key,"+" if passed as an object, found ".concat(o.length," keys");var u=Object.keys(t)[0];if(u!==n&&u!==r)throw"Only '".concat(n,"' and '").concat(r,"' ")+" are supported for 'cameraIdOrConfig'";if(u===n){var d=t.facingMode;if(typeof d=="string"){if(a(d))return{facingMode:d}}else if(typeof d=="object")if(s in d){if(a(d["".concat(s)]))return{facingMode:{exact:d["".concat(s)]}}}else throw"'facingMode' should be string or object with"+" ".concat(s," as key.");else{var h=typeof d;throw"Invalid type of 'facingMode' = ".concat(h)}}else{var m=t.deviceId;if(typeof m=="string")return{deviceId:m};if(typeof m=="object"){if(s in m)return{deviceId:{exact:m["".concat(s)]}};throw"'deviceId' should be string or object with"+" ".concat(s," as key.")}else{var y=typeof m;throw"Invalid type of 'deviceId' = ".concat(y)}}}var b=typeof t;throw"Invalid type of 'cameraIdOrConfig' = ".concat(b)},e.prototype.computeCanvasDrawConfig=function(t,n,r,i){if(t<=r&&n<=i){var s=(r-t)/2,a=(i-n)/2;return{x:s,y:a,width:t,height:n}}else{var o=t,u=n;return t>r&&(n=r/t*n,t=r),n>i&&(t=i/n*t,n=i),this.logger.log("Image downsampled from "+"".concat(o,"X").concat(u)+" to ".concat(t,"X").concat(n,".")),this.computeCanvasDrawConfig(t,n,r,i)}},e.prototype.clearElement=function(){if(this.stateManagerProxy.isScanning())throw"Cannot clear while scan is ongoing, close it first.";var t=document.getElementById(this.elementId);t&&(t.innerHTML="")},e.prototype.possiblyUpdateShaders=function(t){this.qrMatch!==t&&(this.hasBorderShaders&&this.borderShaders&&this.borderShaders.length&&this.borderShaders.forEach(function(n){n.style.backgroundColor=t?ea.BORDER_SHADER_MATCH_COLOR:ea.BORDER_SHADER_DEFAULT_COLOR}),this.qrMatch=t)},e.prototype.possiblyCloseLastScanImageFile=function(){this.lastScanImageFile&&(URL.revokeObjectURL(this.lastScanImageFile),this.lastScanImageFile=null)},e.prototype.createCanvasElement=function(t,n,r){var i=t,s=n,a=document.createElement("canvas");return a.style.width="".concat(i,"px"),a.style.height="".concat(s,"px"),a.style.display="none",a.id=ql(r)?"qr-canvas":r,a},e.prototype.getShadedRegionBounds=function(t,n,r){if(r.width>t||r.height>n)throw"'config.qrbox' dimensions should not be greater than the dimensions of the root HTML element.";return{x:(t-r.width)/2,y:(n-r.height)/2,width:r.width,height:r.height}},e.prototype.possiblyInsertShadingElement=function(t,n,r,i){if(!(n-i.width<1||r-i.height<1)){var s=document.createElement("div");s.style.position="absolute";var a=(n-i.width)/2,o=(r-i.height)/2;if(s.style.borderLeft="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderRight="".concat(a,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderTop="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.borderBottom="".concat(o,"px solid rgba(0, 0, 0, 0.48)"),s.style.boxSizing="border-box",s.style.top="0px",s.style.bottom="0px",s.style.left="0px",s.style.right="0px",s.id="".concat(ea.SHADED_REGION_ELEMENT_ID),n-i.width<11||r-i.height<11)this.hasBorderShaders=!1;else{var u=5,d=40;this.insertShaderBorders(s,d,u,-u,null,0,!0),this.insertShaderBorders(s,d,u,-u,null,0,!1),this.insertShaderBorders(s,d,u,null,-u,0,!0),this.insertShaderBorders(s,d,u,null,-u,0,!1),this.insertShaderBorders(s,u,d+u,-u,null,-u,!0),this.insertShaderBorders(s,u,d+u,null,-u,-u,!0),this.insertShaderBorders(s,u,d+u,-u,null,-u,!1),this.insertShaderBorders(s,u,d+u,null,-u,-u,!1),this.hasBorderShaders=!0}t.append(s)}},e.prototype.insertShaderBorders=function(t,n,r,i,s,a,o){var u=document.createElement("div");u.style.position="absolute",u.style.backgroundColor=ea.BORDER_SHADER_DEFAULT_COLOR,u.style.width="".concat(n,"px"),u.style.height="".concat(r,"px"),i!==null&&(u.style.top="".concat(i,"px")),s!==null&&(u.style.bottom="".concat(s,"px")),o?u.style.left="".concat(a,"px"):u.style.right="".concat(a,"px"),this.borderShaders||(this.borderShaders=[]),this.borderShaders.push(u),t.appendChild(u)},e.prototype.showPausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="block"},e.prototype.hidePausedState=function(){if(!this.scannerPausedUiElement)throw"[internal error] scanner paused UI element not found";this.scannerPausedUiElement.style.display="none"},e.prototype.getTimeoutFps=function(t){return 1e3/t},e}(),X6;(function(e){e[e.STATUS_DEFAULT=0]="STATUS_DEFAULT",e[e.STATUS_SUCCESS=1]="STATUS_SUCCESS",e[e.STATUS_WARNING=2]="STATUS_WARNING",e[e.STATUS_REQUESTING_PERMISSION=3]="STATUS_REQUESTING_PERMISSION"})(X6||(X6={}));function Fke({onScanSuccess:e}){const[t,n]=T.useState(!1),[r,i]=T.useState(!1),s=T.useRef(null),{toast:a}=or(),o=async()=>{try{const h=new Rke("barcode-reader");s.current=h,await h.start({facingMode:"environment"},{fps:10,qrbox:{width:250,height:250}},m=>{u(),e(m),n(!1),a({title:"Barcode scanned",description:`Successfully scanned: ${m}`})},m=>{}),i(!0)}catch(h){console.error("Scanner start error:",h),s.current&&(s.current.clear(),s.current=null),a({title:"Camera error",description:h.message||"Failed to access camera. Please check permissions.",variant:"destructive"}),n(!1)}},u=async()=>{if(s.current&&r)try{await s.current.stop(),s.current.clear(),s.current=null,i(!1)}catch(h){console.error("Error stopping scanner:",h)}},d=h=>{n(h),h?setTimeout(()=>o(),100):u()};return T.useEffect(()=>()=>{u()},[]),c.jsxs(c.Fragment,{children:[c.jsx(Re,{type:"button",variant:"outline",size:"icon",onClick:()=>n(!0),"data-testid":"button-scan-barcode",children:c.jsx(Ej,{className:"w-4 h-4"})}),c.jsx($s,{open:t,onOpenChange:d,children:c.jsxs(vs,{className:"max-w-md",children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Scan Barcode"}),c.jsx(Vs,{children:"Position the barcode within the camera view to scan"})]}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{id:"barcode-reader",className:"w-full rounded-md overflow-hidden","data-testid":"barcode-reader"}),r&&c.jsx("div",{className:"absolute top-2 right-2",children:c.jsxs(Re,{variant:"secondary",size:"sm",onClick:()=>n(!1),"data-testid":"button-close-scanner",children:[c.jsx(Mn,{className:"w-4 h-4 mr-1"}),"Cancel"]})})]}),!r&&c.jsx("p",{className:"text-sm text-muted-foreground text-center",children:"Initializing camera..."})]})})]})}var rx={};(function e(t,n,r,i){var s=!!(t.Worker&&t.Blob&&t.Promise&&t.OffscreenCanvas&&t.OffscreenCanvasRenderingContext2D&&t.HTMLCanvasElement&&t.HTMLCanvasElement.prototype.transferControlToOffscreen&&t.URL&&t.URL.createObjectURL),a=typeof Path2D=="function"&&typeof DOMMatrix=="function",o=function(){if(!t.OffscreenCanvas)return!1;var J=new OffscreenCanvas(1,1),Y=J.getContext("2d");Y.fillRect(0,0,1,1);var ne=J.transferToImageBitmap();try{Y.createPattern(ne,"no-repeat")}catch{return!1}return!0}();function u(){}function d(J){var Y=n.exports.Promise,ne=Y!==void 0?Y:t.Promise;return typeof ne=="function"?new ne(J):(J(u,u),null)}var h=function(J,Y){return{transform:function(ne){if(J)return ne;if(Y.has(ne))return Y.get(ne);var pe=new OffscreenCanvas(ne.width,ne.height),he=pe.getContext("2d");return he.drawImage(ne,0,0),Y.set(ne,pe),pe},clear:function(){Y.clear()}}}(o,new Map),m=function(){var J=Math.floor(16.666666666666668),Y,ne,pe={},he=0;return typeof requestAnimationFrame=="function"&&typeof cancelAnimationFrame=="function"?(Y=function(we){var me=Math.random();return pe[me]=requestAnimationFrame(function be(Ne){he===Ne||he+J-1<Ne?(he=Ne,delete pe[me],we()):pe[me]=requestAnimationFrame(be)}),me},ne=function(we){pe[we]&&cancelAnimationFrame(pe[we])}):(Y=function(we){return setTimeout(we,J)},ne=function(we){return clearTimeout(we)}),{frame:Y,cancel:ne}}(),y=function(){var J,Y,ne={};function pe(he){function we(me,be){he.postMessage({options:me||{},callback:be})}he.init=function(be){var Ne=be.transferControlToOffscreen();he.postMessage({canvas:Ne},[Ne])},he.fire=function(be,Ne,xe){if(Y)return we(be,null),Y;var Oe=Math.random().toString(36).slice(2);return Y=d(function(je){function ve(ze){ze.data.callback===Oe&&(delete ne[Oe],he.removeEventListener("message",ve),Y=null,h.clear(),xe(),je())}he.addEventListener("message",ve),we(be,Oe),ne[Oe]=ve.bind(null,{data:{callback:Oe}})}),Y},he.reset=function(){he.postMessage({reset:!0});for(var be in ne)ne[be](),delete ne[be]}}return function(){if(J)return J;if(!r&&s){var he=["var CONFETTI, SIZE = {}, module = {};","("+e.toString()+")(this, module, true, SIZE);","onmessage = function(msg) {","  if (msg.data.options) {","    CONFETTI(msg.data.options).then(function () {","      if (msg.data.callback) {","        postMessage({ callback: msg.data.callback });","      }","    });","  } else if (msg.data.reset) {","    CONFETTI && CONFETTI.reset();","  } else if (msg.data.resize) {","    SIZE.width = msg.data.resize.width;","    SIZE.height = msg.data.resize.height;","  } else if (msg.data.canvas) {","    SIZE.width = msg.data.canvas.width;","    SIZE.height = msg.data.canvas.height;","    CONFETTI = module.exports.create(msg.data.canvas);","  }","}"].join(`
`);try{J=new Worker(URL.createObjectURL(new Blob([he])))}catch(we){return typeof console!==void 0&&typeof console.warn=="function"&&console.warn(" Could not load worker",we),null}pe(J)}return J}}(),b={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,gravity:1,drift:0,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"],disableForReducedMotion:!1,scalar:1};function C(J,Y){return Y?Y(J):J}function w(J){return J!=null}function A(J,Y,ne){return C(J&&w(J[Y])?J[Y]:b[Y],ne)}function _(J){return J<0?0:Math.floor(J)}function E(J,Y){return Math.floor(Math.random()*(Y-J))+J}function N(J){return parseInt(J,16)}function I(J){return J.map(O)}function O(J){var Y=String(J).replace(/[^0-9a-f]/gi,"");return Y.length<6&&(Y=Y[0]+Y[0]+Y[1]+Y[1]+Y[2]+Y[2]),{r:N(Y.substring(0,2)),g:N(Y.substring(2,4)),b:N(Y.substring(4,6))}}function k(J){var Y=A(J,"origin",Object);return Y.x=A(Y,"x",Number),Y.y=A(Y,"y",Number),Y}function M(J){J.width=document.documentElement.clientWidth,J.height=document.documentElement.clientHeight}function R(J){var Y=J.getBoundingClientRect();J.width=Y.width,J.height=Y.height}function L(J){var Y=document.createElement("canvas");return Y.style.position="fixed",Y.style.top="0px",Y.style.left="0px",Y.style.pointerEvents="none",Y.style.zIndex=J,Y}function U(J,Y,ne,pe,he,we,me,be,Ne){J.save(),J.translate(Y,ne),J.rotate(we),J.scale(pe,he),J.arc(0,0,1,me,be,Ne),J.restore()}function X(J){var Y=J.angle*(Math.PI/180),ne=J.spread*(Math.PI/180);return{x:J.x,y:J.y,wobble:Math.random()*10,wobbleSpeed:Math.min(.11,Math.random()*.1+.05),velocity:J.startVelocity*.5+Math.random()*J.startVelocity,angle2D:-Y+(.5*ne-Math.random()*ne),tiltAngle:(Math.random()*(.75-.25)+.25)*Math.PI,color:J.color,shape:J.shape,tick:0,totalTicks:J.ticks,decay:J.decay,drift:J.drift,random:Math.random()+2,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0,gravity:J.gravity*3,ovalScalar:.6,scalar:J.scalar,flat:J.flat}}function F(J,Y){Y.x+=Math.cos(Y.angle2D)*Y.velocity+Y.drift,Y.y+=Math.sin(Y.angle2D)*Y.velocity+Y.gravity,Y.velocity*=Y.decay,Y.flat?(Y.wobble=0,Y.wobbleX=Y.x+10*Y.scalar,Y.wobbleY=Y.y+10*Y.scalar,Y.tiltSin=0,Y.tiltCos=0,Y.random=1):(Y.wobble+=Y.wobbleSpeed,Y.wobbleX=Y.x+10*Y.scalar*Math.cos(Y.wobble),Y.wobbleY=Y.y+10*Y.scalar*Math.sin(Y.wobble),Y.tiltAngle+=.1,Y.tiltSin=Math.sin(Y.tiltAngle),Y.tiltCos=Math.cos(Y.tiltAngle),Y.random=Math.random()+2);var ne=Y.tick++/Y.totalTicks,pe=Y.x+Y.random*Y.tiltCos,he=Y.y+Y.random*Y.tiltSin,we=Y.wobbleX+Y.random*Y.tiltCos,me=Y.wobbleY+Y.random*Y.tiltSin;if(J.fillStyle="rgba("+Y.color.r+", "+Y.color.g+", "+Y.color.b+", "+(1-ne)+")",J.beginPath(),a&&Y.shape.type==="path"&&typeof Y.shape.path=="string"&&Array.isArray(Y.shape.matrix))J.fill(G(Y.shape.path,Y.shape.matrix,Y.x,Y.y,Math.abs(we-pe)*.1,Math.abs(me-he)*.1,Math.PI/10*Y.wobble));else if(Y.shape.type==="bitmap"){var be=Math.PI/10*Y.wobble,Ne=Math.abs(we-pe)*.1,xe=Math.abs(me-he)*.1,Oe=Y.shape.bitmap.width*Y.scalar,je=Y.shape.bitmap.height*Y.scalar,ve=new DOMMatrix([Math.cos(be)*Ne,Math.sin(be)*Ne,-Math.sin(be)*xe,Math.cos(be)*xe,Y.x,Y.y]);ve.multiplySelf(new DOMMatrix(Y.shape.matrix));var ze=J.createPattern(h.transform(Y.shape.bitmap),"no-repeat");ze.setTransform(ve),J.globalAlpha=1-ne,J.fillStyle=ze,J.fillRect(Y.x-Oe/2,Y.y-je/2,Oe,je),J.globalAlpha=1}else if(Y.shape==="circle")J.ellipse?J.ellipse(Y.x,Y.y,Math.abs(we-pe)*Y.ovalScalar,Math.abs(me-he)*Y.ovalScalar,Math.PI/10*Y.wobble,0,2*Math.PI):U(J,Y.x,Y.y,Math.abs(we-pe)*Y.ovalScalar,Math.abs(me-he)*Y.ovalScalar,Math.PI/10*Y.wobble,0,2*Math.PI);else if(Y.shape==="star")for(var Be=Math.PI/2*3,dt=4*Y.scalar,Ct=8*Y.scalar,yt=Y.x,At=Y.y,ct=5,xn=Math.PI/ct;ct--;)yt=Y.x+Math.cos(Be)*Ct,At=Y.y+Math.sin(Be)*Ct,J.lineTo(yt,At),Be+=xn,yt=Y.x+Math.cos(Be)*dt,At=Y.y+Math.sin(Be)*dt,J.lineTo(yt,At),Be+=xn;else J.moveTo(Math.floor(Y.x),Math.floor(Y.y)),J.lineTo(Math.floor(Y.wobbleX),Math.floor(he)),J.lineTo(Math.floor(we),Math.floor(me)),J.lineTo(Math.floor(pe),Math.floor(Y.wobbleY));return J.closePath(),J.fill(),Y.tick<Y.totalTicks}function V(J,Y,ne,pe,he){var we=Y.slice(),me=J.getContext("2d"),be,Ne,xe=d(function(Oe){function je(){be=Ne=null,me.clearRect(0,0,pe.width,pe.height),h.clear(),he(),Oe()}function ve(){r&&!(pe.width===i.width&&pe.height===i.height)&&(pe.width=J.width=i.width,pe.height=J.height=i.height),!pe.width&&!pe.height&&(ne(J),pe.width=J.width,pe.height=J.height),me.clearRect(0,0,pe.width,pe.height),we=we.filter(function(ze){return F(me,ze)}),we.length?be=m.frame(ve):je()}be=m.frame(ve),Ne=je});return{addFettis:function(Oe){return we=we.concat(Oe),xe},canvas:J,promise:xe,reset:function(){be&&m.cancel(be),Ne&&Ne()}}}function Z(J,Y){var ne=!J,pe=!!A(Y||{},"resize"),he=!1,we=A(Y,"disableForReducedMotion",Boolean),me=s&&!!A(Y||{},"useWorker"),be=me?y():null,Ne=ne?M:R,xe=J&&be?!!J.__confetti_initialized:!1,Oe=typeof matchMedia=="function"&&matchMedia("(prefers-reduced-motion)").matches,je;function ve(Be,dt,Ct){for(var yt=A(Be,"particleCount",_),At=A(Be,"angle",Number),ct=A(Be,"spread",Number),xn=A(Be,"startVelocity",Number),Ze=A(Be,"decay",Number),ae=A(Be,"gravity",Number),le=A(Be,"drift",Number),ee=A(Be,"colors",I),Ee=A(Be,"ticks",Number),Pe=A(Be,"shapes"),Ie=A(Be,"scalar"),de=!!A(Be,"flat"),Ye=k(Be),ut=yt,Ft=[],As=J.width*Ye.x,Vt=J.height*Ye.y;ut--;)Ft.push(X({x:As,y:Vt,angle:At,spread:ct,startVelocity:xn,color:ee[ut%ee.length],shape:Pe[E(0,Pe.length)],ticks:Ee,decay:Ze,gravity:ae,drift:le,scalar:Ie,flat:de}));return je?je.addFettis(Ft):(je=V(J,Ft,Ne,dt,Ct),je.promise)}function ze(Be){var dt=we||A(Be,"disableForReducedMotion",Boolean),Ct=A(Be,"zIndex",Number);if(dt&&Oe)return d(function(xn){xn()});ne&&je?J=je.canvas:ne&&!J&&(J=L(Ct),document.body.appendChild(J)),pe&&!xe&&Ne(J);var yt={width:J.width,height:J.height};be&&!xe&&be.init(J),xe=!0,be&&(J.__confetti_initialized=!0);function At(){if(be){var xn={getBoundingClientRect:function(){if(!ne)return J.getBoundingClientRect()}};Ne(xn),be.postMessage({resize:{width:xn.width,height:xn.height}});return}yt.width=yt.height=null}function ct(){je=null,pe&&(he=!1,t.removeEventListener("resize",At)),ne&&J&&(document.body.contains(J)&&document.body.removeChild(J),J=null,xe=!1)}return pe&&!he&&(he=!0,t.addEventListener("resize",At,!1)),be?be.fire(Be,yt,ct):ve(Be,yt,ct)}return ze.reset=function(){be&&be.reset(),je&&je.reset()},ze}var H;function q(){return H||(H=Z(null,{useWorker:!0,resize:!0})),H}function G(J,Y,ne,pe,he,we,me){var be=new Path2D(J),Ne=new Path2D;Ne.addPath(be,new DOMMatrix(Y));var xe=new Path2D;return xe.addPath(Ne,new DOMMatrix([Math.cos(me)*he,Math.sin(me)*he,-Math.sin(me)*we,Math.cos(me)*we,ne,pe])),xe}function W(J){if(!a)throw new Error("path confetti are not supported in this browser");var Y,ne;typeof J=="string"?Y=J:(Y=J.path,ne=J.matrix);var pe=new Path2D(Y),he=document.createElement("canvas"),we=he.getContext("2d");if(!ne){for(var me=1e3,be=me,Ne=me,xe=0,Oe=0,je,ve,ze=0;ze<me;ze+=2)for(var Be=0;Be<me;Be+=2)we.isPointInPath(pe,ze,Be,"nonzero")&&(be=Math.min(be,ze),Ne=Math.min(Ne,Be),xe=Math.max(xe,ze),Oe=Math.max(Oe,Be));je=xe-be,ve=Oe-Ne;var dt=10,Ct=Math.min(dt/je,dt/ve);ne=[Ct,0,0,Ct,-Math.round(je/2+be)*Ct,-Math.round(ve/2+Ne)*Ct]}return{type:"path",path:Y,matrix:ne}}function oe(J){var Y,ne=1,pe="#000000",he='"Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol", "Noto Color Emoji", "EmojiOne Color", "Android Emoji", "Twemoji Mozilla", "system emoji", sans-serif';typeof J=="string"?Y=J:(Y=J.text,ne="scalar"in J?J.scalar:ne,he="fontFamily"in J?J.fontFamily:he,pe="color"in J?J.color:pe);var we=10*ne,me=""+we+"px "+he,be=new OffscreenCanvas(we,we),Ne=be.getContext("2d");Ne.font=me;var xe=Ne.measureText(Y),Oe=Math.ceil(xe.actualBoundingBoxRight+xe.actualBoundingBoxLeft),je=Math.ceil(xe.actualBoundingBoxAscent+xe.actualBoundingBoxDescent),ve=2,ze=xe.actualBoundingBoxLeft+ve,Be=xe.actualBoundingBoxAscent+ve;Oe+=ve+ve,je+=ve+ve,be=new OffscreenCanvas(Oe,je),Ne=be.getContext("2d"),Ne.font=me,Ne.fillStyle=pe,Ne.fillText(Y,ze,Be);var dt=1/ne;return{type:"bitmap",bitmap:be.transferToImageBitmap(),matrix:[dt,0,0,dt,-Oe*dt/2,-je*dt/2]}}n.exports=function(){return q().apply(this,arguments)},n.exports.reset=function(){q().reset()},n.exports.create=Z,n.exports.shapeFromPath=W,n.exports.shapeFromText=oe})(function(){return typeof window<"u"?window:typeof self<"u"?self:this||{}}(),rx,!1);const N2=rx.exports;rx.exports.create;function Lke({message:e="Success!",showConfetti:t=!0,className:n,onComplete:r}){return T.useEffect(()=>{if(t){const s=Date.now()+3e3,a={startVelocity:30,spread:360,ticks:60,zIndex:0},o=(d,h)=>Math.random()*(h-d)+d,u=setInterval(function(){const d=s-Date.now();if(d<=0){clearInterval(u),r==null||r();return}const h=50*(d/3e3);N2({...a,particleCount:h,origin:{x:o(.1,.3),y:Math.random()-.2},colors:["#22c55e","#fb923c","#a855f7","#fbbf24","#ef4444"]}),N2({...a,particleCount:h,origin:{x:o(.7,.9),y:Math.random()-.2},colors:["#22c55e","#fb923c","#a855f7","#fbbf24","#ef4444"]})},250);return()=>clearInterval(u)}else{const i=setTimeout(()=>{r==null||r()},2e3);return()=>clearTimeout(i)}},[t,r]),c.jsxs(ap.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:260,damping:20},className:Te("flex flex-col items-center justify-center gap-4 p-8",n),children:[c.jsxs(ap.div,{initial:{scale:0},animate:{scale:1,rotate:360},transition:{type:"spring",stiffness:260,damping:20,delay:.2},className:"relative",children:[c.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-primary to-primary/70 flex items-center justify-center shadow-2xl glow-primary",children:c.jsx(Cj,{className:"w-10 h-10 text-primary-foreground"})}),c.jsx(ap.div,{initial:{scale:0},animate:{scale:[1,1.2,1]},transition:{repeat:1/0,duration:2,ease:"easeInOut"},className:"absolute inset-0 rounded-full bg-primary/20"})]}),c.jsxs(ap.div,{initial:{y:20,opacity:0},animate:{y:0,opacity:1},transition:{delay:.4},className:"text-center",children:[c.jsx("h2",{className:"text-2xl font-bold text-gradient-primary mb-2",children:e}),c.jsxs("div",{className:"flex items-center justify-center gap-1 text-muted-foreground",children:[c.jsx(Vy,{className:"w-4 h-4"}),c.jsx("span",{children:"Great job!"}),c.jsx(Vy,{className:"w-4 h-4"})]})]})]})}const Y6=[{value:"lowercaseDescription.keyword",label:"Description"},{value:"dataType.keyword",label:"Data Type"},{value:"fdcId",label:"FDC ID"},{value:"publishedDate",label:"Published Date"}],Bke=[3,5,10];function $ke(e,t){const n=(t==null?void 0:t.toLowerCase())||"";return n.includes("frozen")?90:n.includes("fresh")||n.includes("produce")?7:n.includes("milk")||n.includes("yogurt")||n.includes("cheese")?14:n.includes("meat")||n.includes("chicken")||n.includes("beef")||n.includes("pork")?3:n.includes("canned")||n.includes("packaged")?365:21}function Uke(){var le;const[e,t]=T.useState(""),[n,r]=T.useState(""),[i,s]=T.useState([]),[a,o]=T.useState(""),[u,d]=T.useState("fdcId"),[h,m]=T.useState("asc"),[y,b]=T.useState(5),[C,w]=T.useState(1),[A,_]=T.useState(null),[E,N]=T.useState(!1),[I,O]=T.useState(!1),[k,M]=T.useState(!1),{toast:R}=or();T.useEffect(()=>{new URLSearchParams(window.location.search).get("scanBarcode")==="true"&&(M(!0),window.history.replaceState({},"","/fdc-search"))},[]);const[L,U]=T.useState(null),[X,F]=T.useState(""),[V,Z]=T.useState(""),[H,q]=T.useState("1"),[G,W]=T.useState("item"),[oe,J]=T.useState(!1),Y=PN(ee=>{r(ee),w(1),O(!1)},400,[]),ne=ee=>{t(ee),ee.trim()?(O(!0),Y(ee.trim())):(O(!1),r(""))},pe=()=>{const ee=new URLSearchParams;return n&&ee.append("query",n),i.length>0&&i.forEach(Ee=>{ee.append("brandOwner",Ee)}),u&&(ee.append("sortBy",u),ee.append("sortOrder",h)),ee.append("pageSize",y.toString()),ee.append("pageNumber",C.toString()),ee.toString()},{data:he,isLoading:we}=un({queryKey:[`/api/fdc/search?${pe()}`],enabled:!!n||i.length>0}),{data:me,isLoading:be}=un({queryKey:["/api/fdc/food",A],enabled:!!A&&E}),{data:Ne}=oh(),xe=Dn({mutationFn:async ee=>Xt("POST","/api/food-items",ee),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/food-items"]}),J(!0),setTimeout(()=>J(!1),2e3),R({title:"Item added!",description:`${L==null?void 0:L.description} has been added to your inventory.`,className:"bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-800"}),U(null),F(""),Z(""),q("1"),W("item")},onError:ee=>{R({title:"Failed to add item",description:ee.message||"Something went wrong",variant:"destructive"})}}),Oe=ee=>{ee.preventDefault(),e.trim()&&(r(e.trim()),w(1))},je=ee=>{_(ee),N(!0)},ve=ee=>{const Ee=$ke(ee.dataType,ee.description),Pe=qa(ki(new Date,Ee),"yyyy-MM-dd");if(U(ee),Z(Pe),Ne&&Ne.length>0){const Ie=Ne.find(de=>de.name.toLowerCase()==="fridge");F((Ie==null?void 0:Ie.id)||Ne[0].id)}},ze=async()=>{var Pe,Ie,de,Ye,ut,Ft,As;if(!L||!X||!V){R({title:"Missing information",description:"Please fill in all required fields",variant:"destructive"});return}const ee=await St.fetchQuery({queryKey:["/api/fdc/food",L.fdcId],staleTime:5*60*1e3}).catch(()=>null),Ee={fdcId:L.fdcId,name:L.description,quantity:H,unit:G,storageLocationId:X,expirationDate:V,usdaData:ee||void 0,foodCategory:(ee==null?void 0:ee.dataType)||L.dataType,nutrition:ee!=null&&ee.nutrients?JSON.stringify({calories:((Pe=ee.nutrients.find(Vt=>Vt.nutrientNumber==="208"))==null?void 0:Pe.value)||0,protein:((Ie=ee.nutrients.find(Vt=>Vt.nutrientNumber==="203"))==null?void 0:Ie.value)||0,carbs:((de=ee.nutrients.find(Vt=>Vt.nutrientNumber==="205"))==null?void 0:de.value)||0,fat:((Ye=ee.nutrients.find(Vt=>Vt.nutrientNumber==="204"))==null?void 0:Ye.value)||0,fiber:((ut=ee.nutrients.find(Vt=>Vt.nutrientNumber==="291"))==null?void 0:ut.value)||0,sugar:((Ft=ee.nutrients.find(Vt=>Vt.nutrientNumber==="269"))==null?void 0:Ft.value)||0,sodium:((As=ee.nutrients.find(Vt=>Vt.nutrientNumber==="307"))==null?void 0:As.value)||0}):void 0};xe.mutate(Ee)},Be=()=>{const ee=a.trim();ee&&!i.includes(ee)&&(s(Ee=>[...Ee,ee]),o(""),w(1))},dt=ee=>{s(Ee=>Ee.filter(Pe=>Pe!==ee)),w(1)},Ct=ee=>{ee.key==="Enter"&&(ee.preventDefault(),Be())},yt=()=>{s([]),o(""),d(""),m("asc"),b(5),w(1)},At=i.length>0||u!=="",ct=ee=>{switch(ee==null?void 0:ee.toLowerCase()){case"branded":return c.jsx(vg,{className:"w-4 h-4"});case"foundation":return c.jsx(bm,{className:"w-4 h-4"});case"sr legacy":return c.jsx(Tj,{className:"w-4 h-4"});default:return c.jsx(OG,{className:"w-4 h-4"})}},xn=ee=>{switch(ee==null?void 0:ee.toLowerCase()){case"branded":return"bg-blue-100 dark:bg-blue-900 text-blue-800 dark:text-blue-200";case"foundation":return"bg-green-100 dark:bg-green-900 text-green-800 dark:text-green-200";case"sr legacy":return"bg-purple-100 dark:bg-purple-900 text-purple-800 dark:text-purple-200";default:return"bg-gray-100 dark:bg-gray-900 text-gray-800 dark:text-gray-200"}},Ze=[{number:"208",name:"Calories"},{number:"203",name:"Protein"},{number:"204",name:"Total Fat"},{number:"205",name:"Carbohydrates"},{number:"291",name:"Fiber"},{number:"269",name:"Sugars"},{number:"307",name:"Sodium"}],ae=(ee,Ee)=>{if(!ee)return null;const Pe=ee.find(Ie=>Ie.nutrientNumber===Ee);return Pe?`${Pe.value} ${Pe.unitName}`:"N/A"};return c.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[c.jsxs(xt,{className:"mb-6",children:[c.jsxs(gt,{children:[c.jsxs(vt,{className:"flex items-center gap-2",children:[c.jsx(wp,{className:"w-6 h-6"}),"USDA Food Data Central"]}),c.jsx(Pn,{children:"Search the comprehensive database for nutritional information on any food"})]}),c.jsxs(it,{className:"space-y-4",children:[c.jsx(Tt,{htmlFor:"brand-owner",className:"text-sm font-semibold mb-2 block",children:"Search"}),c.jsxs("form",{onSubmit:Oe,className:"flex flex-col gap-2",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsx(gn,{type:"text",placeholder:"Search for foods (searches automatically as you type)",value:e,onChange:ee=>ne(ee.target.value),className:"flex-1","data-testid":"input-search"}),c.jsxs(Re,{type:"submit",disabled:we,"data-testid":"button-search",children:[c.jsx(Sm,{className:"w-4 h-4 mr-2"}),"Search"]})]}),(I||we)&&c.jsx("div",{className:"text-sm text-muted-foreground",children:"Searching FDA database..."})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx(Tt,{htmlFor:"brand-owner",className:"text-sm font-semibold mb-2 block",children:"Brand Owners"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx(gn,{id:"brand-owner",type:"text",placeholder:"e.g., 'General Mills', 'Kraft'",value:a,onChange:ee=>o(ee.target.value),onKeyDown:Ct,"data-testid":"input-brand-owner"}),c.jsx(Re,{type:"button",variant:"secondary",onClick:Be,disabled:!a.trim(),"data-testid":"button-add-brand",children:"Add"})]}),i.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2 mt-2","data-testid":"brand-pills",children:i.map(ee=>c.jsxs(Ot,{variant:"secondary",className:"gap-1",children:[ee,c.jsx(Mn,{className:"w-3 h-3 cursor-pointer hover-elevate",onClick:()=>dt(ee),"data-testid":`button-remove-brand-${ee.toLowerCase().replace(/\s+/g,"-")}`})]},ee))})]}),c.jsxs("div",{className:"flex items-center gap-2 pt-7",children:[c.jsxs(qr,{value:u||"none",onValueChange:ee=>{d(ee==="none"?"":ee),w(1)},children:[c.jsx(Rr,{className:"w-[140px]",id:"sort-by","data-testid":"select-sort-by",children:c.jsx(Kr,{placeholder:"Sort by"})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"none",children:"None"}),Y6.map(ee=>c.jsx(mt,{value:ee.value,children:ee.label},ee.value))]})]}),c.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>{m(h==="asc"?"desc":"asc"),w(1)},disabled:!u,"data-testid":"button-toggle-sort-order",className:"shrink-0",children:h==="asc"?c.jsx(Cfe,{className:"w-4 h-4"}):c.jsx(Sfe,{className:"w-4 h-4"})}),c.jsxs(qr,{value:y.toString(),onValueChange:ee=>{b(parseInt(ee)),w(1)},children:[c.jsx(Rr,{className:"w-[100px]",id:"page-size","data-testid":"select-page-size",children:c.jsx(Kr,{})}),c.jsx(Fr,{children:Bke.map(ee=>c.jsxs(mt,{value:ee.toString(),children:[ee," results"]},ee))})]})]})]}),At&&c.jsxs("div",{className:"flex items-center justify-between gap-4 mt-4",children:[c.jsxs("div",{className:"flex flex-wrap gap-2","data-testid":"active-filters",children:[i.map(ee=>c.jsxs(Ot,{variant:"secondary",className:"gap-1",children:["Brand: ",ee,c.jsx(Mn,{className:"w-3 h-3 cursor-pointer hover-elevate",onClick:()=>dt(ee)})]},ee)),u&&c.jsxs(Ot,{variant:"secondary",className:"gap-1",children:["Sort: ",(le=Y6.find(ee=>ee.value===u))==null?void 0:le.label," (",h,")",c.jsx(Mn,{className:"w-3 h-3 cursor-pointer hover-elevate",onClick:()=>{d(""),w(1)}})]})]}),c.jsxs(Re,{variant:"ghost",size:"sm",onClick:yt,"data-testid":"button-clear-filters",className:"gap-1 shrink-0",children:[c.jsx(Mn,{className:"w-4 h-4"}),"Clear Filters"]})]})]})]})]}),we&&c.jsx("div",{className:"space-y-4",children:[...Array(5)].map((ee,Ee)=>c.jsx(xt,{children:c.jsxs(it,{className:"p-4",children:[c.jsx(Oi,{className:"h-6 w-3/4 mb-2"}),c.jsx(Oi,{className:"h-4 w-1/2"})]})},Ee))}),he&&!we&&c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"mb-4 flex items-center justify-between flex-wrap gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ot,{variant:"secondary","data-testid":"badge-results-count",children:[he.totalHits," results"]}),he.fromCache&&c.jsxs(Ot,{variant:"outline",className:"bg-green-50 dark:bg-green-900/20","data-testid":"badge-cached",children:[c.jsx(wp,{className:"w-3 h-3 mr-1"}),"Cached"]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",he.currentPage," of ",he.totalPages]}),c.jsxs("div",{className:"flex gap-1",children:[c.jsx(Re,{variant:"outline",size:"icon",onClick:()=>w(ee=>Math.max(1,ee-1)),disabled:C===1,"data-testid":"button-prev-page",children:c.jsx(hC,{className:"w-4 h-4"})}),c.jsx(Re,{variant:"outline",size:"icon",onClick:()=>w(ee=>Math.min(he.totalPages,ee+1)),disabled:C===he.totalPages,"data-testid":"button-next-page",children:c.jsx(zf,{className:"w-4 h-4"})})]})]})]}),c.jsx("div",{className:"space-y-3",children:he.foods.map(ee=>c.jsx(xt,{className:"hover-elevate","data-testid":`card-food-${ee.fdcId}`,children:c.jsx(it,{className:"p-4",children:c.jsxs("div",{className:"flex items-start justify-between gap-2",children:[c.jsxs("div",{className:"flex-1 cursor-pointer",onClick:()=>je(ee.fdcId),children:[c.jsx("h3",{className:"font-semibold text-lg mb-1","data-testid":`text-food-name-${ee.fdcId}`,children:ee.description}),ee.brandOwner&&c.jsxs("p",{className:"text-sm text-muted-foreground mb-2","data-testid":`text-brand-${ee.fdcId}`,children:[ee.brandOwner," ",ee.brandName&&`- ${ee.brandName}`]}),ee.gtinUpc&&c.jsxs("p",{className:"text-sm text-muted-foreground mb-2","data-testid":`text-upc-${ee.fdcId}`,children:["UPC: ",ee.gtinUpc]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ot,{className:xn(ee.dataType),"data-testid":`badge-type-${ee.fdcId}`,children:[ct(ee.dataType),c.jsx("span",{className:"ml-1",children:ee.dataType})]}),c.jsxs("span",{className:"text-xs text-muted-foreground",children:["FDC ID: ",ee.fdcId]})]})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Re,{variant:"outline",size:"sm",onClick:Ee=>{Ee.stopPropagation(),ve(ee)},"data-testid":`button-add-inventory-${ee.fdcId}`,className:"flex items-center gap-1",children:[c.jsx(Tl,{className:"w-4 h-4"}),"Add"]}),c.jsx(Re,{variant:"ghost",size:"icon",onClick:()=>je(ee.fdcId),"data-testid":`button-view-details-${ee.fdcId}`,children:c.jsx(zf,{className:"w-5 h-5"})})]})]})})},ee.fdcId))})]}),c.jsx($s,{open:E,onOpenChange:N,children:c.jsxs(vs,{className:"max-w-3xl max-h-[80vh] overflow-y-auto bg-muted",children:[c.jsxs(Us,{children:[c.jsx(zs,{children:(me==null?void 0:me.description)||"Loading..."}),c.jsx(Vs,{children:"Detailed nutritional information from USDA FoodData Central"})]}),be&&c.jsxs("div",{className:"space-y-4",children:[c.jsx(Oi,{className:"h-20 w-full"}),c.jsx(Oi,{className:"h-40 w-full"})]}),me&&!be&&c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs(Ot,{className:xn(me.dataType),children:[ct(me.dataType),c.jsx("span",{className:"ml-1",children:me.dataType})]}),me.fromCache&&c.jsxs(Ot,{variant:"outline",className:"bg-green-50 dark:bg-green-900/20",children:[c.jsx(wp,{className:"w-3 h-3 mr-1"}),"Cached"]})]}),me.brandOwner&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Brand"}),c.jsxs("p",{className:"text-sm",children:[me.brandOwner," ",me.brandName&&`- ${me.brandName}`]})]}),me.gtinUpc&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-sm mb-1",children:"UPC/GTIN"}),c.jsx("p",{className:"text-sm","data-testid":"text-upc-details",children:me.gtinUpc})]}),me.ingredients&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Ingredients"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:me.ingredients})]}),me.servingSize&&c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-sm mb-1",children:"Serving Size"}),c.jsxs("p",{className:"text-sm",children:[me.servingSize," ",me.servingSizeUnit]})]}),c.jsxs("div",{children:[c.jsx("h4",{className:"font-semibold text-sm mb-2",children:"Nutrition Facts"}),c.jsx("div",{className:"border rounded-lg p-3 space-y-2",children:Ze.map(ee=>{const Ee=ae(me.nutrients,ee.number);return Ee?c.jsxs("div",{className:"flex justify-between text-sm",children:[c.jsx("span",{children:ee.name}),c.jsx("span",{className:"font-medium",children:Ee})]},ee.number):null})})]}),c.jsxs("div",{className:"text-xs text-muted-foreground",children:["FDC ID: ",me.fdcId]})]})]})}),c.jsx($s,{open:!!L,onOpenChange:ee=>!ee&&U(null),children:c.jsxs(vs,{className:"max-w-md",children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Add to Inventory"}),c.jsxs(Vs,{children:['Add "',L==null?void 0:L.description,'" to your inventory']})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Tt,{htmlFor:"storage-location",className:"flex items-center gap-2",children:[c.jsx(Yfe,{className:"w-4 h-4"}),"Storage Location"]}),c.jsxs(qr,{value:X,onValueChange:F,children:[c.jsx(Rr,{id:"storage-location","data-testid":"select-storage-location",children:c.jsx(Kr,{placeholder:"Select location"})}),c.jsx(Fr,{children:Ne==null?void 0:Ne.map(ee=>c.jsx(mt,{value:ee.id,children:ee.name},ee.id))})]})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"quantity",children:"Quantity"}),c.jsx(gn,{id:"quantity",type:"number",value:H,onChange:ee=>q(ee.target.value),"data-testid":"input-quantity",min:"1",step:"0.1"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"unit",children:"Unit"}),c.jsxs(qr,{value:G,onValueChange:W,children:[c.jsx(Rr,{id:"unit","data-testid":"select-unit",children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"item",children:"Item"}),c.jsx(mt,{value:"lb",children:"lb"}),c.jsx(mt,{value:"oz",children:"oz"}),c.jsx(mt,{value:"kg",children:"kg"}),c.jsx(mt,{value:"g",children:"g"}),c.jsx(mt,{value:"cup",children:"cup"}),c.jsx(mt,{value:"tbsp",children:"tbsp"}),c.jsx(mt,{value:"tsp",children:"tsp"}),c.jsx(mt,{value:"liter",children:"liter"}),c.jsx(mt,{value:"ml",children:"ml"})]})]})]})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsxs(Tt,{htmlFor:"expiration",className:"flex items-center gap-2",children:[c.jsx(ah,{className:"w-4 h-4"}),"Expiration Date"]}),c.jsx(gn,{id:"expiration",type:"date",value:V,onChange:ee=>Z(ee.target.value),"data-testid":"input-expiration"}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Suggested based on ",(L==null?void 0:L.dataType)||"food type"]})]})]}),c.jsxs(Ap,{children:[c.jsx(Re,{variant:"outline",onClick:()=>U(null),"data-testid":"button-cancel",children:"Cancel"}),c.jsx(Re,{onClick:ze,disabled:!X||!V||xe.isPending,"data-testid":"button-confirm-add",children:xe.isPending?"Adding...":"Add to Inventory"})]})]})}),oe&&c.jsx(Lke,{}),c.jsx($s,{open:k,onOpenChange:M,children:c.jsxs(vs,{children:[c.jsxs(Us,{children:[c.jsx(zs,{children:"Scan Barcode"}),c.jsx(Vs,{children:"Position the barcode in the camera view to scan"})]}),c.jsx(Fke,{onScanSuccess:ee=>{t(ee),r(ee),w(1),M(!1),R({title:"Barcode scanned",description:`Searching for UPC: ${ee}`})}})]})})]})}function zke(){var C;const[e,t]=T.useState(new Set);Bc();const r=new URLSearchParams(window.location.search).get("category");T.useEffect(()=>{r&&t(new Set([r]))},[r]);const{data:i,isLoading:s}=un({queryKey:["/api/food-items"]}),{data:a,isLoading:o}=oh(),u=(i||[]).reduce((w,A)=>{const _=A.foodCategory||"Uncategorized";return w[_]||(w[_]=[]),w[_].push(A),w},{}),d=Object.keys(u).sort(),h=(i==null?void 0:i.length)||0,m=r?d.filter(w=>w===r):d,y=w=>{const A=new Set(e);A.has(w)?A.delete(w):A.add(w),t(A)},b=s||o;return c.jsx("div",{className:"h-full overflow-y-auto mobile-scroll",children:c.jsxs("div",{className:"max-w-6xl mx-auto p-4 md:p-6",children:[c.jsxs("div",{className:"mb-6",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-foreground mb-2",children:r?`${r} Items`:"Food Groups Dashboard"}),c.jsx("p",{className:"text-sm md:text-base text-muted-foreground",children:r?`Viewing items in ${r}  ${((C=u[r])==null?void 0:C.length)||0} items`:`Your inventory organized by USDA food categories  ${h} total items`})]}),b?c.jsx("div",{className:"space-y-4",children:[1,2,3].map(w=>c.jsx(xt,{children:c.jsxs(gt,{children:[c.jsx(Oi,{className:"h-6 w-3/4"}),c.jsx(Oi,{className:"h-4 w-1/2 mt-2"})]})},w))}):m.length===0?c.jsx(xt,{children:c.jsxs(it,{className:"flex flex-col items-center justify-center py-12",children:[c.jsx(vg,{className:"w-16 h-16 text-muted-foreground mb-4"}),c.jsx("p",{className:"text-lg font-medium text-muted-foreground mb-2",children:"No food items yet"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Add items to your inventory to see them organized by category"})]})}):c.jsx("div",{className:"space-y-4",children:m.map(w=>{const A=u[w],_=e.has(w),E=Xq(w);return c.jsx(Vw,{open:_,onOpenChange:()=>y(w),children:c.jsxs(xt,{children:[c.jsx(Ww,{asChild:!0,children:c.jsx(gt,{className:"cursor-pointer hover-elevate active-elevate-2",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[_?c.jsx(fC,{className:"w-5 h-5 text-muted-foreground"}):c.jsx(zf,{className:"w-5 h-5 text-muted-foreground"}),c.jsx(E,{className:"w-5 h-5 text-primary"}),c.jsxs("div",{children:[c.jsx(vt,{className:"text-lg",children:w}),c.jsxs(Pn,{className:"mt-1",children:[A.length," item",A.length!==1?"s":""]})]})]}),c.jsx(Ot,{variant:"secondary","data-testid":`badge-count-${w.toLowerCase().replace(/\s+/g,"-")}`,children:A.length})]})})}),c.jsx(Hw,{children:c.jsx(it,{className:"pt-0",children:c.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4",children:A.map(N=>{const I=a==null?void 0:a.find(O=>O.id===N.storageLocationId);return c.jsx(dI,{item:N,storageLocationName:(I==null?void 0:I.name)||"Unknown"},N.id)})})})})]})},w)})})]})})}var JI="Progress",e4=100,[Vke,Vtt]=Yr(JI),[Wke,Hke]=Vke(JI),Zne=T.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:i,getValueLabel:s=Gke,...a}=e;(i||i===0)&&!Z6(i)&&console.error(qke(`${i}`,"Progress"));const o=Z6(i)?i:e4;r!==null&&!Q6(r,o)&&console.error(Kke(`${r}`,"Progress"));const u=Q6(r,o)?r:null,d=P2(u)?s(u,o):void 0;return c.jsx(Wke,{scope:n,value:u,max:o,children:c.jsx(Je.div,{"aria-valuemax":o,"aria-valuemin":0,"aria-valuenow":P2(u)?u:void 0,"aria-valuetext":d,role:"progressbar","data-state":ere(u,o),"data-value":u??void 0,"data-max":o,...a,ref:t})})});Zne.displayName=JI;var Qne="ProgressIndicator",Jne=T.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,i=Hke(Qne,n);return c.jsx(Je.div,{"data-state":ere(i.value,i.max),"data-value":i.value??void 0,"data-max":i.max,...r,ref:t})});Jne.displayName=Qne;function Gke(e,t){return`${Math.round(e/t*100)}%`}function ere(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function P2(e){return typeof e=="number"}function Z6(e){return P2(e)&&!isNaN(e)&&e>0}function Q6(e,t){return P2(e)&&!isNaN(e)&&e<=t&&e>=0}function qke(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${e4}\`.`}function Kke(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${e4} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var tre=Zne,Xke=Jne;const nre=T.forwardRef(({className:e,value:t,...n},r)=>c.jsx(tre,{ref:r,className:Te("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:c.jsx(Xke,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));nre.displayName=tre.displayName;var Yke=Array.isArray,Gs=Yke,Zke=Gs,Qke=Tg,Jke=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,eIe=/^\w*$/;function tIe(e,t){if(Zke(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Qke(e)?!0:eIe.test(e)||!Jke.test(e)||t!=null&&e in Object(t)}var t4=tIe,nIe=$c,rIe=fd,iIe="[object AsyncFunction]",sIe="[object Function]",aIe="[object GeneratorFunction]",oIe="[object Proxy]";function lIe(e){if(!rIe(e))return!1;var t=nIe(e);return t==sIe||t==aIe||t==iIe||t==oIe}var n4=lIe;const Lt=en(n4);var cIe=Ml,uIe=cIe["__core-js_shared__"],dIe=uIe,k_=dIe,J6=function(){var e=/[^.]+$/.exec(k_&&k_.keys&&k_.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function fIe(e){return!!J6&&J6 in e}var hIe=fIe,pIe=Function.prototype,mIe=pIe.toString;function gIe(e){if(e!=null){try{return mIe.call(e)}catch{}try{return e+""}catch{}}return""}var rre=gIe,yIe=n4,vIe=hIe,xIe=fd,bIe=rre,wIe=/[\\^$.*+?()[\]{}|]/g,SIe=/^\[object .+?Constructor\]$/,CIe=Function.prototype,AIe=Object.prototype,EIe=CIe.toString,_Ie=AIe.hasOwnProperty,TIe=RegExp("^"+EIe.call(_Ie).replace(wIe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function NIe(e){if(!xIe(e)||vIe(e))return!1;var t=yIe(e)?TIe:SIe;return t.test(bIe(e))}var PIe=NIe;function OIe(e,t){return e==null?void 0:e[t]}var jIe=OIe,kIe=PIe,IIe=jIe;function MIe(e,t){var n=IIe(e,t);return kIe(n)?n:void 0}var uh=MIe,DIe=uh,RIe=DIe(Object,"create"),JC=RIe,eF=JC;function FIe(){this.__data__=eF?eF(null):{},this.size=0}var LIe=FIe;function BIe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var $Ie=BIe,UIe=JC,zIe="__lodash_hash_undefined__",VIe=Object.prototype,WIe=VIe.hasOwnProperty;function HIe(e){var t=this.__data__;if(UIe){var n=t[e];return n===zIe?void 0:n}return WIe.call(t,e)?t[e]:void 0}var GIe=HIe,qIe=JC,KIe=Object.prototype,XIe=KIe.hasOwnProperty;function YIe(e){var t=this.__data__;return qIe?t[e]!==void 0:XIe.call(t,e)}var ZIe=YIe,QIe=JC,JIe="__lodash_hash_undefined__";function e4e(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=QIe&&t===void 0?JIe:t,this}var t4e=e4e,n4e=LIe,r4e=$Ie,i4e=GIe,s4e=ZIe,a4e=t4e;function kg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}kg.prototype.clear=n4e;kg.prototype.delete=r4e;kg.prototype.get=i4e;kg.prototype.has=s4e;kg.prototype.set=a4e;var o4e=kg;function l4e(){this.__data__=[],this.size=0}var c4e=l4e;function u4e(e,t){return e===t||e!==e&&t!==t}var r4=u4e,d4e=r4;function f4e(e,t){for(var n=e.length;n--;)if(d4e(e[n][0],t))return n;return-1}var eA=f4e,h4e=eA,p4e=Array.prototype,m4e=p4e.splice;function g4e(e){var t=this.__data__,n=h4e(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():m4e.call(t,n,1),--this.size,!0}var y4e=g4e,v4e=eA;function x4e(e){var t=this.__data__,n=v4e(t,e);return n<0?void 0:t[n][1]}var b4e=x4e,w4e=eA;function S4e(e){return w4e(this.__data__,e)>-1}var C4e=S4e,A4e=eA;function E4e(e,t){var n=this.__data__,r=A4e(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var _4e=E4e,T4e=c4e,N4e=y4e,P4e=b4e,O4e=C4e,j4e=_4e;function Ig(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ig.prototype.clear=T4e;Ig.prototype.delete=N4e;Ig.prototype.get=P4e;Ig.prototype.has=O4e;Ig.prototype.set=j4e;var tA=Ig,k4e=uh,I4e=Ml,M4e=k4e(I4e,"Map"),i4=M4e,tF=o4e,D4e=tA,R4e=i4;function F4e(){this.size=0,this.__data__={hash:new tF,map:new(R4e||D4e),string:new tF}}var L4e=F4e;function B4e(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var $4e=B4e,U4e=$4e;function z4e(e,t){var n=e.__data__;return U4e(t)?n[typeof t=="string"?"string":"hash"]:n.map}var nA=z4e,V4e=nA;function W4e(e){var t=V4e(this,e).delete(e);return this.size-=t?1:0,t}var H4e=W4e,G4e=nA;function q4e(e){return G4e(this,e).get(e)}var K4e=q4e,X4e=nA;function Y4e(e){return X4e(this,e).has(e)}var Z4e=Y4e,Q4e=nA;function J4e(e,t){var n=Q4e(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var eMe=J4e,tMe=L4e,nMe=H4e,rMe=K4e,iMe=Z4e,sMe=eMe;function Mg(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Mg.prototype.clear=tMe;Mg.prototype.delete=nMe;Mg.prototype.get=rMe;Mg.prototype.has=iMe;Mg.prototype.set=sMe;var s4=Mg,ire=s4,aMe="Expected a function";function a4(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(aMe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=e.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(a4.Cache||ire),n}a4.Cache=ire;var sre=a4;const oMe=en(sre);var lMe=sre,cMe=500;function uMe(e){var t=lMe(e,function(r){return n.size===cMe&&n.clear(),r}),n=t.cache;return t}var dMe=uMe,fMe=dMe,hMe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,pMe=/\\(\\)?/g,mMe=fMe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(hMe,function(n,r,i,s){t.push(i?s.replace(pMe,"$1"):r||n)}),t}),gMe=mMe;function yMe(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var o4=yMe,nF=Uv,vMe=o4,xMe=Gs,bMe=Tg,wMe=1/0,rF=nF?nF.prototype:void 0,iF=rF?rF.toString:void 0;function are(e){if(typeof e=="string")return e;if(xMe(e))return vMe(e,are)+"";if(bMe(e))return iF?iF.call(e):"";var t=e+"";return t=="0"&&1/e==-wMe?"-0":t}var SMe=are,CMe=SMe;function AMe(e){return e==null?"":CMe(e)}var ore=AMe,EMe=Gs,_Me=t4,TMe=gMe,NMe=ore;function PMe(e,t){return EMe(e)?e:_Me(e,t)?[e]:TMe(NMe(e))}var lre=PMe,OMe=Tg,jMe=1/0;function kMe(e){if(typeof e=="string"||OMe(e))return e;var t=e+"";return t=="0"&&1/e==-jMe?"-0":t}var rA=kMe,IMe=lre,MMe=rA;function DMe(e,t){t=IMe(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[MMe(t[n++])];return n&&n==r?e:void 0}var l4=DMe,RMe=l4;function FMe(e,t,n){var r=e==null?void 0:RMe(e,t);return r===void 0?n:r}var cre=FMe;const ya=en(cre);function LMe(e){return e==null}var BMe=LMe;const zt=en(BMe);var $Me=$c,UMe=Gs,zMe=Uc,VMe="[object String]";function WMe(e){return typeof e=="string"||!UMe(e)&&zMe(e)&&$Me(e)==VMe}var HMe=WMe;const ix=en(HMe);var ure={exports:{}},Tn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var c4=Symbol.for("react.element"),u4=Symbol.for("react.portal"),iA=Symbol.for("react.fragment"),sA=Symbol.for("react.strict_mode"),aA=Symbol.for("react.profiler"),oA=Symbol.for("react.provider"),lA=Symbol.for("react.context"),GMe=Symbol.for("react.server_context"),cA=Symbol.for("react.forward_ref"),uA=Symbol.for("react.suspense"),dA=Symbol.for("react.suspense_list"),fA=Symbol.for("react.memo"),hA=Symbol.for("react.lazy"),qMe=Symbol.for("react.offscreen"),dre;dre=Symbol.for("react.module.reference");function Ya(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case c4:switch(e=e.type,e){case iA:case aA:case sA:case uA:case dA:return e;default:switch(e=e&&e.$$typeof,e){case GMe:case lA:case cA:case hA:case fA:case oA:return e;default:return t}}case u4:return t}}}Tn.ContextConsumer=lA;Tn.ContextProvider=oA;Tn.Element=c4;Tn.ForwardRef=cA;Tn.Fragment=iA;Tn.Lazy=hA;Tn.Memo=fA;Tn.Portal=u4;Tn.Profiler=aA;Tn.StrictMode=sA;Tn.Suspense=uA;Tn.SuspenseList=dA;Tn.isAsyncMode=function(){return!1};Tn.isConcurrentMode=function(){return!1};Tn.isContextConsumer=function(e){return Ya(e)===lA};Tn.isContextProvider=function(e){return Ya(e)===oA};Tn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===c4};Tn.isForwardRef=function(e){return Ya(e)===cA};Tn.isFragment=function(e){return Ya(e)===iA};Tn.isLazy=function(e){return Ya(e)===hA};Tn.isMemo=function(e){return Ya(e)===fA};Tn.isPortal=function(e){return Ya(e)===u4};Tn.isProfiler=function(e){return Ya(e)===aA};Tn.isStrictMode=function(e){return Ya(e)===sA};Tn.isSuspense=function(e){return Ya(e)===uA};Tn.isSuspenseList=function(e){return Ya(e)===dA};Tn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===iA||e===aA||e===sA||e===uA||e===dA||e===qMe||typeof e=="object"&&e!==null&&(e.$$typeof===hA||e.$$typeof===fA||e.$$typeof===oA||e.$$typeof===lA||e.$$typeof===cA||e.$$typeof===dre||e.getModuleId!==void 0)};Tn.typeOf=Ya;ure.exports=Tn;var KMe=ure.exports,XMe=$c,YMe=Uc,ZMe="[object Number]";function QMe(e){return typeof e=="number"||YMe(e)&&XMe(e)==ZMe}var fre=QMe;const JMe=en(fre);var eDe=fre;function tDe(e){return eDe(e)&&e!=+e}var nDe=tDe;const sx=en(nDe);var ps=function(t){return t===0?0:t>0?1:-1},Jd=function(t){return ix(t)&&t.indexOf("%")===t.length-1},Xe=function(t){return JMe(t)&&!sx(t)},li=function(t){return Xe(t)||ix(t)},rDe=0,Dg=function(t){var n=++rDe;return"".concat(t||"").concat(n)},ms=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Xe(t)&&!ix(t))return r;var s;if(Jd(t)){var a=t.indexOf("%");s=n*parseFloat(t.slice(0,a))/100}else s=+t;return sx(s)&&(s=r),i&&s>n&&(s=n),s},pu=function(t){if(!t)return null;var n=Object.keys(t);return n&&n.length?t[n[0]]:null},iDe=function(t){if(!Array.isArray(t))return!1;for(var n=t.length,r={},i=0;i<n;i++)if(!r[t[i]])r[t[i]]=!0;else return!0;return!1},la=function(t,n){return Xe(t)&&Xe(n)?function(r){return t+r*(n-t)}:function(){return n}};function O2(e,t,n){return!e||!e.length?null:e.find(function(r){return r&&(typeof t=="function"?t(r):ya(r,t))===n})}function Op(e,t){for(var n in e)if({}.hasOwnProperty.call(e,n)&&(!{}.hasOwnProperty.call(t,n)||e[n]!==t[n]))return!1;for(var r in t)if({}.hasOwnProperty.call(t,r)&&!{}.hasOwnProperty.call(e,r))return!1;return!0}function zP(e){"@babel/helpers - typeof";return zP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zP(e)}var sDe=["viewBox","children"],aDe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],sF=["points","pathLength"],I_={svg:sDe,polygon:sF,polyline:sF},d4=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],j2=function(t,n){if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(T.isValidElement(t)&&(r=t.props),!_g(r))return null;var i={};return Object.keys(r).forEach(function(s){d4.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},oDe=function(t,n,r){return function(i){return t(n,r,i),null}},Qf=function(t,n,r){if(!_g(t)||zP(t)!=="object")return null;var i=null;return Object.keys(t).forEach(function(s){var a=t[s];d4.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=oDe(a,n,r))}),i},lDe=["children"],cDe=["children"];function aF(e,t){if(e==null)return{};var n=uDe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function uDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function VP(e){"@babel/helpers - typeof";return VP=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},VP(e)}var oF={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},xc=function(t){return typeof t=="string"?t:t?t.displayName||t.name||"Component":""},lF=null,M_=null,f4=function e(t){if(t===lF&&Array.isArray(M_))return M_;var n=[];return T.Children.forEach(t,function(r){zt(r)||(KMe.isFragment(r)?n=n.concat(e(r.props.children)):n.push(r))}),M_=n,lF=t,n};function va(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(function(i){return xc(i)}):r=[xc(t)],f4(e).forEach(function(i){var s=ya(i,"type.displayName")||ya(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function ia(e,t){var n=va(e,t);return n&&n[0]}var cF=function(t){if(!t||!t.props)return!1;var n=t.props,r=n.width,i=n.height;return!(!Xe(r)||r<=0||!Xe(i)||i<=0)},dDe=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],fDe=function(t){return t&&t.type&&ix(t.type)&&dDe.indexOf(t.type)>=0},hDe=function(t){return t&&VP(t)==="object"&&"clipDot"in t},pDe=function(t,n,r,i){var s,a=(s=I_==null?void 0:I_[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Lt(t)&&(i&&a.includes(n)||aDe.includes(n))||r&&d4.includes(n)},Nt=function(t,n,r){if(!t||typeof t=="function"||typeof t=="boolean")return null;var i=t;if(T.isValidElement(t)&&(i=t.props),!_g(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;pDe((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},WP=function e(t,n){if(t===n)return!0;var r=T.Children.count(t);if(r!==T.Children.count(n))return!1;if(r===0)return!0;if(r===1)return uF(Array.isArray(t)?t[0]:t,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=t[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!e(s,a))return!1}else if(!uF(s,a))return!1}return!0},uF=function(t,n){if(zt(t)&&zt(n))return!0;if(!zt(t)&&!zt(n)){var r=t.props||{},i=r.children,s=aF(r,lDe),a=n.props||{},o=a.children,u=aF(a,cDe);return i&&o?Op(s,u)&&WP(i,o):!i&&!o?Op(s,u):!1}return!1},dF=function(t,n){var r=[],i={};return f4(t).forEach(function(s,a){if(fDe(s))r.push(s);else if(s){var o=xc(s.type),u=n[o]||{},d=u.handler,h=u.once;if(d&&(!h||!i[o])){var m=d(s,o,a);r.push(m),i[o]=!0}}}),r},mDe=function(t){var n=t&&t.type;return n&&oF[n]?oF[n]:null},gDe=function(t,n){return f4(n).indexOf(t)},yDe=["children","width","height","viewBox","className","style","title","desc"];function HP(){return HP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HP.apply(this,arguments)}function vDe(e,t){if(e==null)return{};var n=xDe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function xDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function GP(e){var t=e.children,n=e.width,r=e.height,i=e.viewBox,s=e.className,a=e.style,o=e.title,u=e.desc,d=vDe(e,yDe),h=i||{width:n,height:r,x:0,y:0},m=Gt("recharts-surface",s);return te.createElement("svg",HP({},Nt(d,!0,"svg"),{className:m,width:n,height:r,style:a,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height)}),te.createElement("title",null,o),te.createElement("desc",null,u),t)}var bDe=["children","className"];function qP(){return qP=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qP.apply(this,arguments)}function wDe(e,t){if(e==null)return{};var n=SDe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SDe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var yn=te.forwardRef(function(e,t){var n=e.children,r=e.className,i=wDe(e,bDe),s=Gt("recharts-layer",r);return te.createElement("g",qP({className:s},Nt(i,!0),{ref:t}),n)}),ko=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function CDe(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}var ADe=CDe,EDe=ADe;function _De(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:EDe(e,t,n)}var TDe=_De,NDe="\\ud800-\\udfff",PDe="\\u0300-\\u036f",ODe="\\ufe20-\\ufe2f",jDe="\\u20d0-\\u20ff",kDe=PDe+ODe+jDe,IDe="\\ufe0e\\ufe0f",MDe="\\u200d",DDe=RegExp("["+MDe+NDe+kDe+IDe+"]");function RDe(e){return DDe.test(e)}var hre=RDe;function FDe(e){return e.split("")}var LDe=FDe,pre="\\ud800-\\udfff",BDe="\\u0300-\\u036f",$De="\\ufe20-\\ufe2f",UDe="\\u20d0-\\u20ff",zDe=BDe+$De+UDe,VDe="\\ufe0e\\ufe0f",WDe="["+pre+"]",KP="["+zDe+"]",XP="\\ud83c[\\udffb-\\udfff]",HDe="(?:"+KP+"|"+XP+")",mre="[^"+pre+"]",gre="(?:\\ud83c[\\udde6-\\uddff]){2}",yre="[\\ud800-\\udbff][\\udc00-\\udfff]",GDe="\\u200d",vre=HDe+"?",xre="["+VDe+"]?",qDe="(?:"+GDe+"(?:"+[mre,gre,yre].join("|")+")"+xre+vre+")*",KDe=xre+vre+qDe,XDe="(?:"+[mre+KP+"?",KP,gre,yre,WDe].join("|")+")",YDe=RegExp(XP+"(?="+XP+")|"+XDe+KDe,"g");function ZDe(e){return e.match(YDe)||[]}var QDe=ZDe,JDe=LDe,eRe=hre,tRe=QDe;function nRe(e){return eRe(e)?tRe(e):JDe(e)}var rRe=nRe,iRe=TDe,sRe=hre,aRe=rRe,oRe=ore;function lRe(e){return function(t){t=oRe(t);var n=sRe(t)?aRe(t):void 0,r=n?n[0]:t.charAt(0),i=n?iRe(n,1).join(""):t.slice(1);return r[e]()+i}}var cRe=lRe,uRe=cRe,dRe=uRe("toUpperCase"),fRe=dRe;const pA=en(fRe);function Wn(e){return function(){return e}}const bre=Math.cos,k2=Math.sin,Vo=Math.sqrt,I2=Math.PI,mA=2*I2,YP=Math.PI,ZP=2*YP,$d=1e-6,hRe=ZP-$d;function wre(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function pRe(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return wre;const n=10**t;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class mRe{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?wre:pRe(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,s,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(t,n,r,i,s){if(t=+t,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,u=r-t,d=i-n,h=a-t,m=o-n,y=h*h+m*m;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(y>$d)if(!(Math.abs(m*u-d*h)>$d)||!s)this._append`L${this._x1=t},${this._y1=n}`;else{let b=r-a,C=i-o,w=u*u+d*d,A=b*b+C*C,_=Math.sqrt(w),E=Math.sqrt(y),N=s*Math.tan((YP-Math.acos((w+y-A)/(2*_*E)))/2),I=N/E,O=N/_;Math.abs(I-1)>$d&&this._append`L${t+I*h},${n+I*m}`,this._append`A${s},${s},0,0,${+(m*b>h*C)},${this._x1=t+O*u},${this._y1=n+O*d}`}}arc(t,n,r,i,s,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),u=r*Math.sin(i),d=t+o,h=n+u,m=1^a,y=a?i-s:s-i;this._x1===null?this._append`M${d},${h}`:(Math.abs(this._x1-d)>$d||Math.abs(this._y1-h)>$d)&&this._append`L${d},${h}`,r&&(y<0&&(y=y%ZP+ZP),y>hRe?this._append`A${r},${r},0,1,${m},${t-o},${n-u}A${r},${r},0,1,${m},${this._x1=d},${this._y1=h}`:y>$d&&this._append`A${r},${r},0,${+(y>=YP)},${m},${this._x1=t+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function h4(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new mRe(t)}function p4(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Sre(e){this._context=e}Sre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function gA(e){return new Sre(e)}function Cre(e){return e[0]}function Are(e){return e[1]}function Ere(e,t){var n=Wn(!0),r=null,i=gA,s=null,a=h4(o);e=typeof e=="function"?e:e===void 0?Cre:Wn(e),t=typeof t=="function"?t:t===void 0?Are:Wn(t);function o(u){var d,h=(u=p4(u)).length,m,y=!1,b;for(r==null&&(s=i(b=a())),d=0;d<=h;++d)!(d<h&&n(m=u[d],d,u))===y&&((y=!y)?s.lineStart():s.lineEnd()),y&&s.point(+e(m,d,u),+t(m,d,u));if(b)return s=null,b+""||null}return o.x=function(u){return arguments.length?(e=typeof u=="function"?u:Wn(+u),o):e},o.y=function(u){return arguments.length?(t=typeof u=="function"?u:Wn(+u),o):t},o.defined=function(u){return arguments.length?(n=typeof u=="function"?u:Wn(!!u),o):n},o.curve=function(u){return arguments.length?(i=u,r!=null&&(s=i(r)),o):i},o.context=function(u){return arguments.length?(u==null?r=s=null:s=i(r=u),o):r},o}function hb(e,t,n){var r=null,i=Wn(!0),s=null,a=gA,o=null,u=h4(d);e=typeof e=="function"?e:e===void 0?Cre:Wn(+e),t=typeof t=="function"?t:Wn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Are:Wn(+n);function d(m){var y,b,C,w=(m=p4(m)).length,A,_=!1,E,N=new Array(w),I=new Array(w);for(s==null&&(o=a(E=u())),y=0;y<=w;++y){if(!(y<w&&i(A=m[y],y,m))===_)if(_=!_)b=y,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),C=y-1;C>=b;--C)o.point(N[C],I[C]);o.lineEnd(),o.areaEnd()}_&&(N[y]=+e(A,y,m),I[y]=+t(A,y,m),o.point(r?+r(A,y,m):N[y],n?+n(A,y,m):I[y]))}if(E)return o=null,E+""||null}function h(){return Ere().defined(i).curve(a).context(s)}return d.x=function(m){return arguments.length?(e=typeof m=="function"?m:Wn(+m),r=null,d):e},d.x0=function(m){return arguments.length?(e=typeof m=="function"?m:Wn(+m),d):e},d.x1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Wn(+m),d):r},d.y=function(m){return arguments.length?(t=typeof m=="function"?m:Wn(+m),n=null,d):t},d.y0=function(m){return arguments.length?(t=typeof m=="function"?m:Wn(+m),d):t},d.y1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Wn(+m),d):n},d.lineX0=d.lineY0=function(){return h().x(e).y(t)},d.lineY1=function(){return h().x(e).y(n)},d.lineX1=function(){return h().x(r).y(t)},d.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Wn(!!m),d):i},d.curve=function(m){return arguments.length?(a=m,s!=null&&(o=a(s)),d):a},d.context=function(m){return arguments.length?(m==null?s=o=null:o=a(s=m),d):s},d}class _re{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function gRe(e){return new _re(e,!0)}function yRe(e){return new _re(e,!1)}const m4={draw(e,t){const n=Vo(t/I2);e.moveTo(n,0),e.arc(0,0,n,0,mA)}},vRe={draw(e,t){const n=Vo(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Tre=Vo(1/3),xRe=Tre*2,bRe={draw(e,t){const n=Vo(t/xRe),r=n*Tre;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},wRe={draw(e,t){const n=Vo(t),r=-n/2;e.rect(r,r,n,n)}},SRe=.8908130915292852,Nre=k2(I2/10)/k2(7*I2/10),CRe=k2(mA/10)*Nre,ARe=-bre(mA/10)*Nre,ERe={draw(e,t){const n=Vo(t*SRe),r=CRe*n,i=ARe*n;e.moveTo(0,-n),e.lineTo(r,i);for(let s=1;s<5;++s){const a=mA*s/5,o=bre(a),u=k2(a);e.lineTo(u*n,-o*n),e.lineTo(o*r-u*i,u*r+o*i)}e.closePath()}},D_=Vo(3),_Re={draw(e,t){const n=-Vo(t/(D_*3));e.moveTo(0,n*2),e.lineTo(-D_*n,-n),e.lineTo(D_*n,-n),e.closePath()}},Na=-.5,Pa=Vo(3)/2,QP=1/Vo(12),TRe=(QP/2+1)*3,NRe={draw(e,t){const n=Vo(t/TRe),r=n/2,i=n*QP,s=r,a=n*QP+n,o=-s,u=a;e.moveTo(r,i),e.lineTo(s,a),e.lineTo(o,u),e.lineTo(Na*r-Pa*i,Pa*r+Na*i),e.lineTo(Na*s-Pa*a,Pa*s+Na*a),e.lineTo(Na*o-Pa*u,Pa*o+Na*u),e.lineTo(Na*r+Pa*i,Na*i-Pa*r),e.lineTo(Na*s+Pa*a,Na*a-Pa*s),e.lineTo(Na*o+Pa*u,Na*u-Pa*o),e.closePath()}};function PRe(e,t){let n=null,r=h4(i);e=typeof e=="function"?e:Wn(e||m4),t=typeof t=="function"?t:Wn(t===void 0?64:+t);function i(){let s;if(n||(n=s=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(e=typeof s=="function"?s:Wn(s),i):e},i.size=function(s){return arguments.length?(t=typeof s=="function"?s:Wn(+s),i):t},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function M2(){}function D2(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Pre(e){this._context=e}Pre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:D2(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:D2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function ORe(e){return new Pre(e)}function Ore(e){this._context=e}Ore.prototype={areaStart:M2,areaEnd:M2,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:D2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function jRe(e){return new Ore(e)}function jre(e){this._context=e}jre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:D2(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function kRe(e){return new jre(e)}function kre(e){this._context=e}kre.prototype={areaStart:M2,areaEnd:M2,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function IRe(e){return new kre(e)}function fF(e){return e<0?-1:1}function hF(e,t,n){var r=e._x1-e._x0,i=t-e._x1,s=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(fF(s)+fF(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function pF(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function R_(e,t,n){var r=e._x0,i=e._y0,s=e._x1,a=e._y1,o=(s-r)/3;e._context.bezierCurveTo(r+o,i+o*t,s-o,a-o*n,s,a)}function R2(e){this._context=e}R2.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:R_(this,this._t0,pF(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,R_(this,pF(this,n=hF(this,e,t)),n);break;default:R_(this,this._t0,n=hF(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Ire(e){this._context=new Mre(e)}(Ire.prototype=Object.create(R2.prototype)).point=function(e,t){R2.prototype.point.call(this,t,e)};function Mre(e){this._context=e}Mre.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,s){this._context.bezierCurveTo(t,e,r,n,s,i)}};function MRe(e){return new R2(e)}function DRe(e){return new Ire(e)}function Dre(e){this._context=e}Dre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=mF(e),i=mF(t),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function mF(e){var t,n=e.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,s[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/s[t-1],s[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/s[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/s[t];for(s[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)s[t]=2*e[t+1]-i[t+1];return[i,s]}function RRe(e){return new Dre(e)}function yA(e,t){this._context=e,this._t=t}yA.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function FRe(e){return new yA(e,.5)}function LRe(e){return new yA(e,0)}function BRe(e){return new yA(e,1)}function Lm(e,t){if((a=e.length)>1)for(var n=1,r,i,s=e[t[0]],a,o=s.length;n<a;++n)for(i=s,s=e[t[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function JP(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function $Re(e,t){return e[t]}function URe(e){const t=[];return t.key=e,t}function zRe(){var e=Wn([]),t=JP,n=Lm,r=$Re;function i(s){var a=Array.from(e.apply(this,arguments),URe),o,u=a.length,d=-1,h;for(const m of s)for(o=0,++d;o<u;++o)(a[o][d]=[0,+r(m,a[o].key,d,s)]).data=m;for(o=0,h=p4(t(a));o<u;++o)a[h[o]].index=o;return n(a,h),a}return i.keys=function(s){return arguments.length?(e=typeof s=="function"?s:Wn(Array.from(s)),i):e},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Wn(+s),i):r},i.order=function(s){return arguments.length?(t=s==null?JP:typeof s=="function"?s:Wn(Array.from(s)),i):t},i.offset=function(s){return arguments.length?(n=s??Lm,i):n},i}function VRe(e,t){if((r=e.length)>0){for(var n,r,i=0,s=e[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=e[n][i][1]||0;if(a)for(n=0;n<r;++n)e[n][i][1]/=a}Lm(e,t)}}function WRe(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=e[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}Lm(e,t)}}function HRe(e,t){if(!(!((a=e.length)>0)||!((s=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,u=0,d=0;o<a;++o){for(var h=e[t[o]],m=h[r][1]||0,y=h[r-1][1]||0,b=(m-y)/2,C=0;C<o;++C){var w=e[t[C]],A=w[r][1]||0,_=w[r-1][1]||0;b+=A-_}u+=m,d+=b*m}i[r-1][1]+=i[r-1][0]=n,u&&(n-=d/u)}i[r-1][1]+=i[r-1][0]=n,Lm(e,t)}}function v1(e){"@babel/helpers - typeof";return v1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},v1(e)}var GRe=["type","size","sizeType"];function eO(){return eO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},eO.apply(this,arguments)}function gF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gF(Object(n),!0).forEach(function(r){qRe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qRe(e,t,n){return t=KRe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function KRe(e){var t=XRe(e,"string");return v1(t)=="symbol"?t:t+""}function XRe(e,t){if(v1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(v1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function YRe(e,t){if(e==null)return{};var n=ZRe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function ZRe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var Rre={symbolCircle:m4,symbolCross:vRe,symbolDiamond:bRe,symbolSquare:wRe,symbolStar:ERe,symbolTriangle:_Re,symbolWye:NRe},QRe=Math.PI/180,JRe=function(t){var n="symbol".concat(pA(t));return Rre[n]||m4},e5e=function(t,n,r){if(n==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var i=18*QRe;return 1.25*t*t*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},t5e=function(t,n){Rre["symbol".concat(pA(t))]=n},g4=function(t){var n=t.type,r=n===void 0?"circle":n,i=t.size,s=i===void 0?64:i,a=t.sizeType,o=a===void 0?"area":a,u=YRe(t,GRe),d=yF(yF({},u),{},{type:r,size:s,sizeType:o}),h=function(){var A=JRe(r),_=PRe().type(A).size(e5e(s,o,r));return _()},m=d.className,y=d.cx,b=d.cy,C=Nt(d,!0);return y===+y&&b===+b&&s===+s?te.createElement("path",eO({},C,{className:Gt("recharts-symbols",m),transform:"translate(".concat(y,", ").concat(b,")"),d:h()})):null};g4.registerSymbol=t5e;function Bm(e){"@babel/helpers - typeof";return Bm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bm(e)}function tO(){return tO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tO.apply(this,arguments)}function vF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function n5e(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vF(Object(n),!0).forEach(function(r){x1(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function r5e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i5e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Lre(r.key),r)}}function s5e(e,t,n){return t&&i5e(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function a5e(e,t,n){return t=F2(t),o5e(e,Fre()?Reflect.construct(t,n||[],F2(e).constructor):t.apply(e,n))}function o5e(e,t){if(t&&(Bm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return l5e(e)}function l5e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Fre(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Fre=function(){return!!e})()}function F2(e){return F2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},F2(e)}function c5e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nO(e,t)}function nO(e,t){return nO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},nO(e,t)}function x1(e,t,n){return t=Lre(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Lre(e){var t=u5e(e,"string");return Bm(t)=="symbol"?t:t+""}function u5e(e,t){if(Bm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Bm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Oa=32,y4=function(e){function t(){return r5e(this,t),a5e(this,t,arguments)}return c5e(t,e),s5e(t,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Oa/2,a=Oa/6,o=Oa/3,u=r.inactive?i:r.color;if(r.type==="plainline")return te.createElement("line",{strokeWidth:4,fill:"none",stroke:u,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Oa,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return te.createElement("path",{strokeWidth:4,fill:"none",stroke:u,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Oa,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return te.createElement("path",{stroke:"none",fill:u,d:"M0,".concat(Oa/8,"h").concat(Oa,"v").concat(Oa*3/4,"h").concat(-Oa,"z"),className:"recharts-legend-icon"});if(te.isValidElement(r.legendIcon)){var d=n5e({},r);return delete d.legendIcon,te.cloneElement(r.legendIcon,d)}return te.createElement(g4,{fill:u,cx:s,cy:s,size:Oa,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,u=i.formatter,d=i.inactiveColor,h={x:0,y:0,width:Oa,height:Oa},m={display:o==="horizontal"?"inline-block":"block",marginRight:10},y={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(b,C){var w=b.formatter||u,A=Gt(x1(x1({"recharts-legend-item":!0},"legend-item-".concat(C),!0),"inactive",b.inactive));if(b.type==="none")return null;var _=Lt(b.value)?null:b.value;ko(!Lt(b.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var E=b.inactive?d:b.color;return te.createElement("li",tO({className:A,style:m,key:"legend-item-".concat(C)},Qf(r.props,b,C)),te.createElement(GP,{width:a,height:a,viewBox:h,style:y},r.renderIcon(b)),te.createElement("span",{className:"recharts-legend-item-text",style:{color:E}},w?w(_,b,C):_))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return te.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(T.PureComponent);x1(y4,"displayName","Legend");x1(y4,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var d5e=tA;function f5e(){this.__data__=new d5e,this.size=0}var h5e=f5e;function p5e(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}var m5e=p5e;function g5e(e){return this.__data__.get(e)}var y5e=g5e;function v5e(e){return this.__data__.has(e)}var x5e=v5e,b5e=tA,w5e=i4,S5e=s4,C5e=200;function A5e(e,t){var n=this.__data__;if(n instanceof b5e){var r=n.__data__;if(!w5e||r.length<C5e-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new S5e(r)}return n.set(e,t),this.size=n.size,this}var E5e=A5e,_5e=tA,T5e=h5e,N5e=m5e,P5e=y5e,O5e=x5e,j5e=E5e;function Rg(e){var t=this.__data__=new _5e(e);this.size=t.size}Rg.prototype.clear=T5e;Rg.prototype.delete=N5e;Rg.prototype.get=P5e;Rg.prototype.has=O5e;Rg.prototype.set=j5e;var Bre=Rg,k5e="__lodash_hash_undefined__";function I5e(e){return this.__data__.set(e,k5e),this}var M5e=I5e;function D5e(e){return this.__data__.has(e)}var R5e=D5e,F5e=s4,L5e=M5e,B5e=R5e;function L2(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new F5e;++t<n;)this.add(e[t])}L2.prototype.add=L2.prototype.push=L5e;L2.prototype.has=B5e;var $re=L2;function $5e(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}var Ure=$5e;function U5e(e,t){return e.has(t)}var zre=U5e,z5e=$re,V5e=Ure,W5e=zre,H5e=1,G5e=2;function q5e(e,t,n,r,i,s){var a=n&H5e,o=e.length,u=t.length;if(o!=u&&!(a&&u>o))return!1;var d=s.get(e),h=s.get(t);if(d&&h)return d==t&&h==e;var m=-1,y=!0,b=n&G5e?new z5e:void 0;for(s.set(e,t),s.set(t,e);++m<o;){var C=e[m],w=t[m];if(r)var A=a?r(w,C,m,t,e,s):r(C,w,m,e,t,s);if(A!==void 0){if(A)continue;y=!1;break}if(b){if(!V5e(t,function(_,E){if(!W5e(b,E)&&(C===_||i(C,_,n,r,s)))return b.push(E)})){y=!1;break}}else if(!(C===w||i(C,w,n,r,s))){y=!1;break}}return s.delete(e),s.delete(t),y}var Vre=q5e,K5e=Ml,X5e=K5e.Uint8Array,Y5e=X5e;function Z5e(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}var Q5e=Z5e;function J5e(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var v4=J5e,xF=Uv,bF=Y5e,e8e=r4,t8e=Vre,n8e=Q5e,r8e=v4,i8e=1,s8e=2,a8e="[object Boolean]",o8e="[object Date]",l8e="[object Error]",c8e="[object Map]",u8e="[object Number]",d8e="[object RegExp]",f8e="[object Set]",h8e="[object String]",p8e="[object Symbol]",m8e="[object ArrayBuffer]",g8e="[object DataView]",wF=xF?xF.prototype:void 0,F_=wF?wF.valueOf:void 0;function y8e(e,t,n,r,i,s,a){switch(n){case g8e:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case m8e:return!(e.byteLength!=t.byteLength||!s(new bF(e),new bF(t)));case a8e:case o8e:case u8e:return e8e(+e,+t);case l8e:return e.name==t.name&&e.message==t.message;case d8e:case h8e:return e==t+"";case c8e:var o=n8e;case f8e:var u=r&i8e;if(o||(o=r8e),e.size!=t.size&&!u)return!1;var d=a.get(e);if(d)return d==t;r|=s8e,a.set(e,t);var h=t8e(o(e),o(t),r,i,s,a);return a.delete(e),h;case p8e:if(F_)return F_.call(e)==F_.call(t)}return!1}var v8e=y8e;function x8e(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var Wre=x8e,b8e=Wre,w8e=Gs;function S8e(e,t,n){var r=t(e);return w8e(e)?r:b8e(r,n(e))}var C8e=S8e;function A8e(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var a=e[n];t(a,n,e)&&(s[i++]=a)}return s}var E8e=A8e;function _8e(){return[]}var T8e=_8e,N8e=E8e,P8e=T8e,O8e=Object.prototype,j8e=O8e.propertyIsEnumerable,SF=Object.getOwnPropertySymbols,k8e=SF?function(e){return e==null?[]:(e=Object(e),N8e(SF(e),function(t){return j8e.call(e,t)}))}:P8e,I8e=k8e;function M8e(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var D8e=M8e,R8e=$c,F8e=Uc,L8e="[object Arguments]";function B8e(e){return F8e(e)&&R8e(e)==L8e}var $8e=B8e,CF=$8e,U8e=Uc,Hre=Object.prototype,z8e=Hre.hasOwnProperty,V8e=Hre.propertyIsEnumerable,W8e=CF(function(){return arguments}())?CF:function(e){return U8e(e)&&z8e.call(e,"callee")&&!V8e.call(e,"callee")},x4=W8e,B2={exports:{}};function H8e(){return!1}var G8e=H8e;B2.exports;(function(e,t){var n=Ml,r=G8e,i=t&&!t.nodeType&&t,s=i&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===i,o=a?n.Buffer:void 0,u=o?o.isBuffer:void 0,d=u||r;e.exports=d})(B2,B2.exports);var Gre=B2.exports,q8e=9007199254740991,K8e=/^(?:0|[1-9]\d*)$/;function X8e(e,t){var n=typeof e;return t=t??q8e,!!t&&(n=="number"||n!="symbol"&&K8e.test(e))&&e>-1&&e%1==0&&e<t}var b4=X8e,Y8e=9007199254740991;function Z8e(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Y8e}var w4=Z8e,Q8e=$c,J8e=w4,e6e=Uc,t6e="[object Arguments]",n6e="[object Array]",r6e="[object Boolean]",i6e="[object Date]",s6e="[object Error]",a6e="[object Function]",o6e="[object Map]",l6e="[object Number]",c6e="[object Object]",u6e="[object RegExp]",d6e="[object Set]",f6e="[object String]",h6e="[object WeakMap]",p6e="[object ArrayBuffer]",m6e="[object DataView]",g6e="[object Float32Array]",y6e="[object Float64Array]",v6e="[object Int8Array]",x6e="[object Int16Array]",b6e="[object Int32Array]",w6e="[object Uint8Array]",S6e="[object Uint8ClampedArray]",C6e="[object Uint16Array]",A6e="[object Uint32Array]",er={};er[g6e]=er[y6e]=er[v6e]=er[x6e]=er[b6e]=er[w6e]=er[S6e]=er[C6e]=er[A6e]=!0;er[t6e]=er[n6e]=er[p6e]=er[r6e]=er[m6e]=er[i6e]=er[s6e]=er[a6e]=er[o6e]=er[l6e]=er[c6e]=er[u6e]=er[d6e]=er[f6e]=er[h6e]=!1;function E6e(e){return e6e(e)&&J8e(e.length)&&!!er[Q8e(e)]}var _6e=E6e;function T6e(e){return function(t){return e(t)}}var qre=T6e,$2={exports:{}};$2.exports;(function(e,t){var n=AX,r=t&&!t.nodeType&&t,i=r&&!0&&e&&!e.nodeType&&e,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var u=i&&i.require&&i.require("util").types;return u||a&&a.binding&&a.binding("util")}catch{}}();e.exports=o})($2,$2.exports);var N6e=$2.exports,P6e=_6e,O6e=qre,AF=N6e,EF=AF&&AF.isTypedArray,j6e=EF?O6e(EF):P6e,Kre=j6e,k6e=D8e,I6e=x4,M6e=Gs,D6e=Gre,R6e=b4,F6e=Kre,L6e=Object.prototype,B6e=L6e.hasOwnProperty;function $6e(e,t){var n=M6e(e),r=!n&&I6e(e),i=!n&&!r&&D6e(e),s=!n&&!r&&!i&&F6e(e),a=n||r||i||s,o=a?k6e(e.length,String):[],u=o.length;for(var d in e)(t||B6e.call(e,d))&&!(a&&(d=="length"||i&&(d=="offset"||d=="parent")||s&&(d=="buffer"||d=="byteLength"||d=="byteOffset")||R6e(d,u)))&&o.push(d);return o}var U6e=$6e,z6e=Object.prototype;function V6e(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||z6e;return e===n}var W6e=V6e;function H6e(e,t){return function(n){return e(t(n))}}var Xre=H6e,G6e=Xre,q6e=G6e(Object.keys,Object),K6e=q6e,X6e=W6e,Y6e=K6e,Z6e=Object.prototype,Q6e=Z6e.hasOwnProperty;function J6e(e){if(!X6e(e))return Y6e(e);var t=[];for(var n in Object(e))Q6e.call(e,n)&&n!="constructor"&&t.push(n);return t}var eFe=J6e,tFe=n4,nFe=w4;function rFe(e){return e!=null&&nFe(e.length)&&!tFe(e)}var ax=rFe,iFe=U6e,sFe=eFe,aFe=ax;function oFe(e){return aFe(e)?iFe(e):sFe(e)}var vA=oFe,lFe=C8e,cFe=I8e,uFe=vA;function dFe(e){return lFe(e,uFe,cFe)}var fFe=dFe,_F=fFe,hFe=1,pFe=Object.prototype,mFe=pFe.hasOwnProperty;function gFe(e,t,n,r,i,s){var a=n&hFe,o=_F(e),u=o.length,d=_F(t),h=d.length;if(u!=h&&!a)return!1;for(var m=u;m--;){var y=o[m];if(!(a?y in t:mFe.call(t,y)))return!1}var b=s.get(e),C=s.get(t);if(b&&C)return b==t&&C==e;var w=!0;s.set(e,t),s.set(t,e);for(var A=a;++m<u;){y=o[m];var _=e[y],E=t[y];if(r)var N=a?r(E,_,y,t,e,s):r(_,E,y,e,t,s);if(!(N===void 0?_===E||i(_,E,n,r,s):N)){w=!1;break}A||(A=y=="constructor")}if(w&&!A){var I=e.constructor,O=t.constructor;I!=O&&"constructor"in e&&"constructor"in t&&!(typeof I=="function"&&I instanceof I&&typeof O=="function"&&O instanceof O)&&(w=!1)}return s.delete(e),s.delete(t),w}var yFe=gFe,vFe=uh,xFe=Ml,bFe=vFe(xFe,"DataView"),wFe=bFe,SFe=uh,CFe=Ml,AFe=SFe(CFe,"Promise"),EFe=AFe,_Fe=uh,TFe=Ml,NFe=_Fe(TFe,"Set"),Yre=NFe,PFe=uh,OFe=Ml,jFe=PFe(OFe,"WeakMap"),kFe=jFe,rO=wFe,iO=i4,sO=EFe,aO=Yre,oO=kFe,Zre=$c,Fg=rre,TF="[object Map]",IFe="[object Object]",NF="[object Promise]",PF="[object Set]",OF="[object WeakMap]",jF="[object DataView]",MFe=Fg(rO),DFe=Fg(iO),RFe=Fg(sO),FFe=Fg(aO),LFe=Fg(oO),Ud=Zre;(rO&&Ud(new rO(new ArrayBuffer(1)))!=jF||iO&&Ud(new iO)!=TF||sO&&Ud(sO.resolve())!=NF||aO&&Ud(new aO)!=PF||oO&&Ud(new oO)!=OF)&&(Ud=function(e){var t=Zre(e),n=t==IFe?e.constructor:void 0,r=n?Fg(n):"";if(r)switch(r){case MFe:return jF;case DFe:return TF;case RFe:return NF;case FFe:return PF;case LFe:return OF}return t});var BFe=Ud,L_=Bre,$Fe=Vre,UFe=v8e,zFe=yFe,kF=BFe,IF=Gs,MF=Gre,VFe=Kre,WFe=1,DF="[object Arguments]",RF="[object Array]",pb="[object Object]",HFe=Object.prototype,FF=HFe.hasOwnProperty;function GFe(e,t,n,r,i,s){var a=IF(e),o=IF(t),u=a?RF:kF(e),d=o?RF:kF(t);u=u==DF?pb:u,d=d==DF?pb:d;var h=u==pb,m=d==pb,y=u==d;if(y&&MF(e)){if(!MF(t))return!1;a=!0,h=!1}if(y&&!h)return s||(s=new L_),a||VFe(e)?$Fe(e,t,n,r,i,s):UFe(e,t,u,n,r,i,s);if(!(n&WFe)){var b=h&&FF.call(e,"__wrapped__"),C=m&&FF.call(t,"__wrapped__");if(b||C){var w=b?e.value():e,A=C?t.value():t;return s||(s=new L_),i(w,A,n,r,s)}}return y?(s||(s=new L_),zFe(e,t,n,r,i,s)):!1}var qFe=GFe,KFe=qFe,LF=Uc;function Qre(e,t,n,r,i){return e===t?!0:e==null||t==null||!LF(e)&&!LF(t)?e!==e&&t!==t:KFe(e,t,n,r,Qre,i)}var S4=Qre,XFe=Bre,YFe=S4,ZFe=1,QFe=2;function JFe(e,t,n,r){var i=n.length,s=i,a=!r;if(e==null)return!s;for(e=Object(e);i--;){var o=n[i];if(a&&o[2]?o[1]!==e[o[0]]:!(o[0]in e))return!1}for(;++i<s;){o=n[i];var u=o[0],d=e[u],h=o[1];if(a&&o[2]){if(d===void 0&&!(u in e))return!1}else{var m=new XFe;if(r)var y=r(d,h,u,e,t,m);if(!(y===void 0?YFe(h,d,ZFe|QFe,r,m):y))return!1}}return!0}var eLe=JFe,tLe=fd;function nLe(e){return e===e&&!tLe(e)}var Jre=nLe,rLe=Jre,iLe=vA;function sLe(e){for(var t=iLe(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,rLe(i)]}return t}var aLe=sLe;function oLe(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}var eie=oLe,lLe=eLe,cLe=aLe,uLe=eie;function dLe(e){var t=cLe(e);return t.length==1&&t[0][2]?uLe(t[0][0],t[0][1]):function(n){return n===e||lLe(n,e,t)}}var fLe=dLe;function hLe(e,t){return e!=null&&t in Object(e)}var pLe=hLe,mLe=lre,gLe=x4,yLe=Gs,vLe=b4,xLe=w4,bLe=rA;function wLe(e,t,n){t=mLe(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var a=bLe(t[r]);if(!(s=e!=null&&n(e,a)))break;e=e[a]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&xLe(i)&&vLe(a,i)&&(yLe(e)||gLe(e)))}var SLe=wLe,CLe=pLe,ALe=SLe;function ELe(e,t){return e!=null&&ALe(e,t,CLe)}var _Le=ELe,TLe=S4,NLe=cre,PLe=_Le,OLe=t4,jLe=Jre,kLe=eie,ILe=rA,MLe=1,DLe=2;function RLe(e,t){return OLe(e)&&jLe(t)?kLe(ILe(e),t):function(n){var r=NLe(n,e);return r===void 0&&r===t?PLe(n,e):TLe(t,r,MLe|DLe)}}var FLe=RLe;function LLe(e){return e}var Lg=LLe;function BLe(e){return function(t){return t==null?void 0:t[e]}}var $Le=BLe,ULe=l4;function zLe(e){return function(t){return ULe(t,e)}}var VLe=zLe,WLe=$Le,HLe=VLe,GLe=t4,qLe=rA;function KLe(e){return GLe(e)?WLe(qLe(e)):HLe(e)}var XLe=KLe,YLe=fLe,ZLe=FLe,QLe=Lg,JLe=Gs,e7e=XLe;function t7e(e){return typeof e=="function"?e:e==null?QLe:typeof e=="object"?JLe(e)?ZLe(e[0],e[1]):YLe(e):e7e(e)}var Rl=t7e;function n7e(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}var tie=n7e;function r7e(e){return e!==e}var i7e=r7e;function s7e(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}var a7e=s7e,o7e=tie,l7e=i7e,c7e=a7e;function u7e(e,t,n){return t===t?c7e(e,t,n):o7e(e,l7e,n)}var d7e=u7e,f7e=d7e;function h7e(e,t){var n=e==null?0:e.length;return!!n&&f7e(e,t,0)>-1}var p7e=h7e;function m7e(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var g7e=m7e;function y7e(){}var v7e=y7e,B_=Yre,x7e=v7e,b7e=v4,w7e=1/0,S7e=B_&&1/b7e(new B_([,-0]))[1]==w7e?function(e){return new B_(e)}:x7e,C7e=S7e,A7e=$re,E7e=p7e,_7e=g7e,T7e=zre,N7e=C7e,P7e=v4,O7e=200;function j7e(e,t,n){var r=-1,i=E7e,s=e.length,a=!0,o=[],u=o;if(n)a=!1,i=_7e;else if(s>=O7e){var d=t?null:N7e(e);if(d)return P7e(d);a=!1,i=T7e,u=new A7e}else u=t?[]:o;e:for(;++r<s;){var h=e[r],m=t?t(h):h;if(h=n||h!==0?h:0,a&&m===m){for(var y=u.length;y--;)if(u[y]===m)continue e;t&&u.push(m),o.push(h)}else i(u,m,n)||(u!==o&&u.push(m),o.push(h))}return o}var k7e=j7e,I7e=Rl,M7e=k7e;function D7e(e,t){return e&&e.length?M7e(e,I7e(t)):[]}var R7e=D7e;const BF=en(R7e);function nie(e,t,n){return t===!0?BF(e,n):Lt(t)?BF(e,t):e}function $m(e){"@babel/helpers - typeof";return $m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$m(e)}var F7e=["ref"];function $F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?$F(Object(n),!0).forEach(function(r){xA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$F(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function L7e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function UF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,iie(r.key),r)}}function B7e(e,t,n){return t&&UF(e.prototype,t),n&&UF(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function $7e(e,t,n){return t=U2(t),U7e(e,rie()?Reflect.construct(t,n||[],U2(e).constructor):t.apply(e,n))}function U7e(e,t){if(t&&($m(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z7e(e)}function z7e(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function rie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(rie=function(){return!!e})()}function U2(e){return U2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},U2(e)}function V7e(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&lO(e,t)}function lO(e,t){return lO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lO(e,t)}function xA(e,t,n){return t=iie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iie(e){var t=W7e(e,"string");return $m(t)=="symbol"?t:t+""}function W7e(e,t){if($m(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($m(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function H7e(e,t){if(e==null)return{};var n=G7e(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function G7e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function q7e(e){return e.value}function K7e(e,t){if(te.isValidElement(e))return te.cloneElement(e,t);if(typeof e=="function")return te.createElement(e,t);t.ref;var n=H7e(t,F7e);return te.createElement(y4,n)}var zF=1,Nf=function(e){function t(){var n;L7e(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=$7e(this,t,[].concat(i)),xA(n,"lastBoundingBox",{width:-1,height:-1}),n}return V7e(t,e),B7e(t,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>zF||Math.abs(i.height-this.lastBoundingBox.height)>zF)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?Wl({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,u=i.margin,d=i.chartWidth,h=i.chartHeight,m,y;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var b=this.getBBoxSnapshot();m={left:((d||0)-b.width)/2}}else m=a==="right"?{right:u&&u.right||0}:{left:u&&u.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var C=this.getBBoxSnapshot();y={top:((h||0)-C.height)/2}}else y=o==="bottom"?{bottom:u&&u.bottom||0}:{top:u&&u.top||0};return Wl(Wl({},m),y)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,u=i.wrapperStyle,d=i.payloadUniqBy,h=i.payload,m=Wl(Wl({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(u)),u);return te.createElement("div",{className:"recharts-legend-wrapper",style:m,ref:function(b){r.wrapperNode=b}},K7e(s,Wl(Wl({},this.props),{},{payload:nie(h,d,q7e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=Wl(Wl({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&Xe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(T.PureComponent);xA(Nf,"displayName","Legend");xA(Nf,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var VF=Uv,X7e=x4,Y7e=Gs,WF=VF?VF.isConcatSpreadable:void 0;function Z7e(e){return Y7e(e)||X7e(e)||!!(WF&&e&&e[WF])}var Q7e=Z7e,J7e=Wre,e9e=Q7e;function sie(e,t,n,r,i){var s=-1,a=e.length;for(n||(n=e9e),i||(i=[]);++s<a;){var o=e[s];t>0&&n(o)?t>1?sie(o,t-1,n,r,i):J7e(i,o):r||(i[i.length]=o)}return i}var aie=sie;function t9e(e){return function(t,n,r){for(var i=-1,s=Object(t),a=r(t),o=a.length;o--;){var u=a[e?o:++i];if(n(s[u],u,s)===!1)break}return t}}var n9e=t9e,r9e=n9e,i9e=r9e(),s9e=i9e,a9e=s9e,o9e=vA;function l9e(e,t){return e&&a9e(e,t,o9e)}var oie=l9e,c9e=ax;function u9e(e,t){return function(n,r){if(n==null)return n;if(!c9e(n))return e(n,r);for(var i=n.length,s=t?i:-1,a=Object(n);(t?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var d9e=u9e,f9e=oie,h9e=d9e,p9e=h9e(f9e),C4=p9e,m9e=C4,g9e=ax;function y9e(e,t){var n=-1,r=g9e(e)?Array(e.length):[];return m9e(e,function(i,s,a){r[++n]=t(i,s,a)}),r}var lie=y9e;function v9e(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}var x9e=v9e,HF=Tg;function b9e(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=HF(e),a=t!==void 0,o=t===null,u=t===t,d=HF(t);if(!o&&!d&&!s&&e>t||s&&a&&u&&!o&&!d||r&&a&&u||!n&&u||!i)return 1;if(!r&&!s&&!d&&e<t||d&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!u)return-1}return 0}var w9e=b9e,S9e=w9e;function C9e(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,a=i.length,o=n.length;++r<a;){var u=S9e(i[r],s[r]);if(u){if(r>=o)return u;var d=n[r];return u*(d=="desc"?-1:1)}}return e.index-t.index}var A9e=C9e,$_=o4,E9e=l4,_9e=Rl,T9e=lie,N9e=x9e,P9e=qre,O9e=A9e,j9e=Lg,k9e=Gs;function I9e(e,t,n){t.length?t=$_(t,function(s){return k9e(s)?function(a){return E9e(a,s.length===1?s[0]:s)}:s}):t=[j9e];var r=-1;t=$_(t,P9e(_9e));var i=T9e(e,function(s,a,o){var u=$_(t,function(d){return d(s)});return{criteria:u,index:++r,value:s}});return N9e(i,function(s,a){return O9e(s,a,n)})}var M9e=I9e;function D9e(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var R9e=D9e,F9e=R9e,GF=Math.max;function L9e(e,t,n){return t=GF(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=GF(r.length-t,0),a=Array(s);++i<s;)a[i]=r[t+i];i=-1;for(var o=Array(t+1);++i<t;)o[i]=r[i];return o[t]=n(a),F9e(e,this,o)}}var B9e=L9e;function $9e(e){return function(){return e}}var U9e=$9e,z9e=uh,V9e=function(){try{var e=z9e(Object,"defineProperty");return e({},"",{}),e}catch{}}(),cie=V9e,W9e=U9e,qF=cie,H9e=Lg,G9e=qF?function(e,t){return qF(e,"toString",{configurable:!0,enumerable:!1,value:W9e(t),writable:!0})}:H9e,q9e=G9e,K9e=800,X9e=16,Y9e=Date.now;function Z9e(e){var t=0,n=0;return function(){var r=Y9e(),i=X9e-(r-n);if(n=r,i>0){if(++t>=K9e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var Q9e=Z9e,J9e=q9e,eBe=Q9e,tBe=eBe(J9e),nBe=tBe,rBe=Lg,iBe=B9e,sBe=nBe;function aBe(e,t){return sBe(iBe(e,t,rBe),e+"")}var oBe=aBe,lBe=r4,cBe=ax,uBe=b4,dBe=fd;function fBe(e,t,n){if(!dBe(n))return!1;var r=typeof t;return(r=="number"?cBe(n)&&uBe(t,n.length):r=="string"&&t in n)?lBe(n[t],e):!1}var bA=fBe,hBe=aie,pBe=M9e,mBe=oBe,KF=bA,gBe=mBe(function(e,t){if(e==null)return[];var n=t.length;return n>1&&KF(e,t[0],t[1])?t=[]:n>2&&KF(t[0],t[1],t[2])&&(t=[t[0]]),pBe(e,hBe(t,1),[])}),yBe=gBe;const A4=en(yBe);function b1(e){"@babel/helpers - typeof";return b1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},b1(e)}function cO(){return cO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cO.apply(this,arguments)}function vBe(e,t){return SBe(e)||wBe(e,t)||bBe(e,t)||xBe()}function xBe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bBe(e,t){if(e){if(typeof e=="string")return XF(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XF(e,t)}}function XF(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wBe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function SBe(e){if(Array.isArray(e))return e}function YF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function U_(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YF(Object(n),!0).forEach(function(r){CBe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CBe(e,t,n){return t=ABe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ABe(e){var t=EBe(e,"string");return b1(t)=="symbol"?t:t+""}function EBe(e,t){if(b1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(b1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function _Be(e){return Array.isArray(e)&&li(e[0])&&li(e[1])?e.join(" ~ "):e}var TBe=function(t){var n=t.separator,r=n===void 0?" : ":n,i=t.contentStyle,s=i===void 0?{}:i,a=t.itemStyle,o=a===void 0?{}:a,u=t.labelStyle,d=u===void 0?{}:u,h=t.payload,m=t.formatter,y=t.itemSorter,b=t.wrapperClassName,C=t.labelClassName,w=t.label,A=t.labelFormatter,_=t.accessibilityLayer,E=_===void 0?!1:_,N=function(){if(h&&h.length){var F={padding:0,margin:0},V=(y?A4(h,y):h).map(function(Z,H){if(Z.type==="none")return null;var q=U_({display:"block",paddingTop:4,paddingBottom:4,color:Z.color||"#000"},o),G=Z.formatter||m||_Be,W=Z.value,oe=Z.name,J=W,Y=oe;if(G&&J!=null&&Y!=null){var ne=G(W,oe,Z,H,h);if(Array.isArray(ne)){var pe=vBe(ne,2);J=pe[0],Y=pe[1]}else J=ne}return te.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(H),style:q},li(Y)?te.createElement("span",{className:"recharts-tooltip-item-name"},Y):null,li(Y)?te.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,te.createElement("span",{className:"recharts-tooltip-item-value"},J),te.createElement("span",{className:"recharts-tooltip-item-unit"},Z.unit||""))});return te.createElement("ul",{className:"recharts-tooltip-item-list",style:F},V)}return null},I=U_({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),O=U_({margin:0},d),k=!zt(w),M=k?w:"",R=Gt("recharts-default-tooltip",b),L=Gt("recharts-tooltip-label",C);k&&A&&h!==void 0&&h!==null&&(M=A(w,h));var U=E?{role:"status","aria-live":"assertive"}:{};return te.createElement("div",cO({className:R,style:I},U),te.createElement("p",{className:L,style:O},te.isValidElement(M)?M:"".concat(M)),N())};function w1(e){"@babel/helpers - typeof";return w1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w1(e)}function mb(e,t,n){return t=NBe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function NBe(e){var t=PBe(e,"string");return w1(t)=="symbol"?t:t+""}function PBe(e,t){if(w1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(w1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var C0="recharts-tooltip-wrapper",OBe={visibility:"hidden"};function jBe(e){var t=e.coordinate,n=e.translateX,r=e.translateY;return Gt(C0,mb(mb(mb(mb({},"".concat(C0,"-right"),Xe(n)&&t&&Xe(t.x)&&n>=t.x),"".concat(C0,"-left"),Xe(n)&&t&&Xe(t.x)&&n<t.x),"".concat(C0,"-bottom"),Xe(r)&&t&&Xe(t.y)&&r>=t.y),"".concat(C0,"-top"),Xe(r)&&t&&Xe(t.y)&&r<t.y))}function ZF(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.key,i=e.offsetTopLeft,s=e.position,a=e.reverseDirection,o=e.tooltipDimension,u=e.viewBox,d=e.viewBoxDimension;if(s&&Xe(s[r]))return s[r];var h=n[r]-o-i,m=n[r]+i;if(t[r])return a[r]?h:m;if(a[r]){var y=h,b=u[r];return y<b?Math.max(m,u[r]):Math.max(h,u[r])}var C=m+o,w=u[r]+d;return C>w?Math.max(h,u[r]):Math.max(m,u[r])}function kBe(e){var t=e.translateX,n=e.translateY,r=e.useTranslate3d;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function IBe(e){var t=e.allowEscapeViewBox,n=e.coordinate,r=e.offsetTopLeft,i=e.position,s=e.reverseDirection,a=e.tooltipBox,o=e.useTranslate3d,u=e.viewBox,d,h,m;return a.height>0&&a.width>0&&n?(h=ZF({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:u,viewBoxDimension:u.width}),m=ZF({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:u,viewBoxDimension:u.height}),d=kBe({translateX:h,translateY:m,useTranslate3d:o})):d=OBe,{cssProperties:d,cssClasses:jBe({translateX:h,translateY:m,coordinate:n})}}function Um(e){"@babel/helpers - typeof";return Um=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Um(e)}function QF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function JF(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?QF(Object(n),!0).forEach(function(r){dO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):QF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function MBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function DBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,die(r.key),r)}}function RBe(e,t,n){return t&&DBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function FBe(e,t,n){return t=z2(t),LBe(e,uie()?Reflect.construct(t,n||[],z2(e).constructor):t.apply(e,n))}function LBe(e,t){if(t&&(Um(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return BBe(e)}function BBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function uie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(uie=function(){return!!e})()}function z2(e){return z2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},z2(e)}function $Be(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&uO(e,t)}function uO(e,t){return uO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uO(e,t)}function dO(e,t,n){return t=die(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function die(e){var t=UBe(e,"string");return Um(t)=="symbol"?t:t+""}function UBe(e,t){if(Um(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Um(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eL=1,zBe=function(e){function t(){var n;MBe(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=FBe(this,t,[].concat(i)),dO(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),dO(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,u,d,h;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(u=n.props.coordinate)===null||u===void 0?void 0:u.x)!==null&&o!==void 0?o:0,y:(d=(h=n.props.coordinate)===null||h===void 0?void 0:h.y)!==null&&d!==void 0?d:0}})}}),n}return $Be(t,e),RBe(t,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>eL||Math.abs(r.height-this.state.lastBoundingBox.height)>eL)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,u=i.animationEasing,d=i.children,h=i.coordinate,m=i.hasPayload,y=i.isAnimationActive,b=i.offset,C=i.position,w=i.reverseDirection,A=i.useTranslate3d,_=i.viewBox,E=i.wrapperStyle,N=IBe({allowEscapeViewBox:a,coordinate:h,offsetTopLeft:b,position:C,reverseDirection:w,tooltipBox:this.state.lastBoundingBox,useTranslate3d:A,viewBox:_}),I=N.cssClasses,O=N.cssProperties,k=JF(JF({transition:y&&s?"transform ".concat(o,"ms ").concat(u):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&m?"visible":"hidden",position:"absolute",top:0,left:0},E);return te.createElement("div",{tabIndex:-1,className:I,style:k,ref:function(R){r.wrapperNode=R}},d)}}])}(T.PureComponent),VBe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},Al={isSsr:VBe(),get:function(t){return Al[t]},set:function(t,n){if(typeof t=="string")Al[t]=n;else{var r=Object.keys(t);r&&r.length&&r.forEach(function(i){Al[i]=t[i]})}}};function zm(e){"@babel/helpers - typeof";return zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},zm(e)}function tL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nL(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tL(Object(n),!0).forEach(function(r){E4(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WBe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HBe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hie(r.key),r)}}function GBe(e,t,n){return t&&HBe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qBe(e,t,n){return t=V2(t),KBe(e,fie()?Reflect.construct(t,n||[],V2(e).constructor):t.apply(e,n))}function KBe(e,t){if(t&&(zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XBe(e)}function XBe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fie(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(fie=function(){return!!e})()}function V2(e){return V2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},V2(e)}function YBe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&fO(e,t)}function fO(e,t){return fO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fO(e,t)}function E4(e,t,n){return t=hie(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hie(e){var t=ZBe(e,"string");return zm(t)=="symbol"?t:t+""}function ZBe(e,t){if(zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QBe(e){return e.dataKey}function JBe(e,t){return te.isValidElement(e)?te.cloneElement(e,t):typeof e=="function"?te.createElement(e,t):te.createElement(TBe,t)}var aa=function(e){function t(){return WBe(this,t),qBe(this,t,arguments)}return YBe(t,e),GBe(t,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,u=i.animationEasing,d=i.content,h=i.coordinate,m=i.filterNull,y=i.isAnimationActive,b=i.offset,C=i.payload,w=i.payloadUniqBy,A=i.position,_=i.reverseDirection,E=i.useTranslate3d,N=i.viewBox,I=i.wrapperStyle,O=C??[];m&&O.length&&(O=nie(C.filter(function(M){return M.value!=null&&(M.hide!==!0||r.props.includeHidden)}),w,QBe));var k=O.length>0;return te.createElement(zBe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:u,isAnimationActive:y,active:s,coordinate:h,hasPayload:k,offset:b,position:A,reverseDirection:_,useTranslate3d:E,viewBox:N,wrapperStyle:I},JBe(d,nL(nL({},this.props),{},{payload:O})))}}])}(T.PureComponent);E4(aa,"displayName","Tooltip");E4(aa,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!Al.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});function S1(e){"@babel/helpers - typeof";return S1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S1(e)}function rL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function gb(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rL(Object(n),!0).forEach(function(r){e$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function e$e(e,t,n){return t=t$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t$e(e){var t=n$e(e,"string");return S1(t)=="symbol"?t:t+""}function n$e(e,t){if(S1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(S1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function r$e(e,t){return o$e(e)||a$e(e,t)||s$e(e,t)||i$e()}function i$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s$e(e,t){if(e){if(typeof e=="string")return iL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return iL(e,t)}}function iL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function a$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function o$e(e){if(Array.isArray(e))return e}var yb=T.forwardRef(function(e,t){var n=e.aspect,r=e.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=e.width,a=s===void 0?"100%":s,o=e.height,u=o===void 0?"100%":o,d=e.minWidth,h=d===void 0?0:d,m=e.minHeight,y=e.maxHeight,b=e.children,C=e.debounce,w=C===void 0?0:C,A=e.id,_=e.className,E=e.onResize,N=e.style,I=N===void 0?{}:N,O=T.useRef(null),k=T.useRef();k.current=E,T.useImperativeHandle(t,function(){return Object.defineProperty(O.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),O.current},configurable:!0})});var M=T.useState({containerWidth:i.width,containerHeight:i.height}),R=r$e(M,2),L=R[0],U=R[1],X=T.useCallback(function(V,Z){U(function(H){var q=Math.round(V),G=Math.round(Z);return H.containerWidth===q&&H.containerHeight===G?H:{containerWidth:q,containerHeight:G}})},[]);T.useEffect(function(){var V=function(oe){var J,Y=oe[0].contentRect,ne=Y.width,pe=Y.height;X(ne,pe),(J=k.current)===null||J===void 0||J.call(k,ne,pe)};w>0&&(V=hk(V,w,{trailing:!0,leading:!1}));var Z=new ResizeObserver(V),H=O.current.getBoundingClientRect(),q=H.width,G=H.height;return X(q,G),Z.observe(O.current),function(){Z.disconnect()}},[X,w]);var F=T.useMemo(function(){var V=L.containerWidth,Z=L.containerHeight;if(V<0||Z<0)return null;ko(Jd(a)||Jd(u),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,u),ko(!n||n>0,"The aspect(%s) must be greater than zero.",n);var H=Jd(a)?V:a,q=Jd(u)?Z:u;n&&n>0&&(H?q=H/n:q&&(H=q*n),y&&q>y&&(q=y)),ko(H>0||q>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,H,q,a,u,h,m,n);var G=!Array.isArray(b)&&xc(b.type).endsWith("Chart");return te.Children.map(b,function(W){return te.isValidElement(W)?T.cloneElement(W,gb({width:H,height:q},G?{style:gb({height:"100%",width:"100%",maxHeight:q,maxWidth:H},W.props.style)}:{})):W})},[n,b,u,y,m,h,L,a]);return te.createElement("div",{id:A?"".concat(A):void 0,className:Gt("recharts-responsive-container",_),style:gb(gb({},I),{},{width:a,height:u,minWidth:h,minHeight:m,maxHeight:y}),ref:O},F)}),C1=function(t){return null};C1.displayName="Cell";function A1(e){"@babel/helpers - typeof";return A1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},A1(e)}function sL(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hO(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sL(Object(n),!0).forEach(function(r){l$e(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sL(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function l$e(e,t,n){return t=c$e(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c$e(e){var t=u$e(e,"string");return A1(t)=="symbol"?t:t+""}function u$e(e,t){if(A1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(A1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Ih={widthCache:{},cacheCount:0},d$e=2e3,f$e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},aL="recharts_measurement_span";function h$e(e){var t=hO({},e);return Object.keys(t).forEach(function(n){t[n]||delete t[n]}),t}var gy=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||Al.isSsr)return{width:0,height:0};var r=h$e(n),i=JSON.stringify({text:t,copyStyle:r});if(Ih.widthCache[i])return Ih.widthCache[i];try{var s=document.getElementById(aL);s||(s=document.createElement("span"),s.setAttribute("id",aL),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=hO(hO({},f$e),r);Object.assign(s.style,a),s.textContent="".concat(t);var o=s.getBoundingClientRect(),u={width:o.width,height:o.height};return Ih.widthCache[i]=u,++Ih.cacheCount>d$e&&(Ih.cacheCount=0,Ih.widthCache={}),u}catch{return{width:0,height:0}}},p$e=function(t){return{top:t.top+window.scrollY-document.documentElement.clientTop,left:t.left+window.scrollX-document.documentElement.clientLeft}};function E1(e){"@babel/helpers - typeof";return E1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},E1(e)}function W2(e,t){return v$e(e)||y$e(e,t)||g$e(e,t)||m$e()}function m$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g$e(e,t){if(e){if(typeof e=="string")return oL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return oL(e,t)}}function oL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function y$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function v$e(e){if(Array.isArray(e))return e}function x$e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function lL(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,w$e(r.key),r)}}function b$e(e,t,n){return t&&lL(e.prototype,t),n&&lL(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function w$e(e){var t=S$e(e,"string");return E1(t)=="symbol"?t:t+""}function S$e(e,t){if(E1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(E1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var cL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,uL=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,C$e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,A$e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,pie={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},E$e=Object.keys(pie),lp="NaN";function _$e(e,t){return e*pie[t]}var vb=function(){function e(t,n){x$e(this,e),this.num=t,this.unit=n,this.num=t,this.unit=n,Number.isNaN(t)&&(this.unit=""),n!==""&&!C$e.test(n)&&(this.num=NaN,this.unit=""),E$e.includes(n)&&(this.num=_$e(t,n),this.unit="px")}return b$e(e,[{key:"add",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new e(NaN,""):new e(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new e(NaN,""):new e(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=A$e.exec(n))!==null&&r!==void 0?r:[],s=W2(i,3),a=s[1],o=s[2];return new e(parseFloat(a),o??"")}}])}();function mie(e){if(e.includes(lp))return lp;for(var t=e;t.includes("*")||t.includes("/");){var n,r=(n=cL.exec(t))!==null&&n!==void 0?n:[],i=W2(r,4),s=i[1],a=i[2],o=i[3],u=vb.parse(s??""),d=vb.parse(o??""),h=a==="*"?u.multiply(d):u.divide(d);if(h.isNaN())return lp;t=t.replace(cL,h.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var m,y=(m=uL.exec(t))!==null&&m!==void 0?m:[],b=W2(y,4),C=b[1],w=b[2],A=b[3],_=vb.parse(C??""),E=vb.parse(A??""),N=w==="+"?_.add(E):_.subtract(E);if(N.isNaN())return lp;t=t.replace(uL,N.toString())}return t}var dL=/\(([^()]*)\)/;function T$e(e){for(var t=e;t.includes("(");){var n=dL.exec(t),r=W2(n,2),i=r[1];t=t.replace(dL,mie(i))}return t}function N$e(e){var t=e.replace(/\s+/g,"");return t=T$e(t),t=mie(t),t}function P$e(e){try{return N$e(e)}catch{return lp}}function z_(e){var t=P$e(e.slice(5,-1));return t===lp?"":t}var O$e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],j$e=["dx","dy","angle","className","breakAll"];function pO(){return pO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pO.apply(this,arguments)}function fL(e,t){if(e==null)return{};var n=k$e(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function k$e(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function hL(e,t){return R$e(e)||D$e(e,t)||M$e(e,t)||I$e()}function I$e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M$e(e,t){if(e){if(typeof e=="string")return pL(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return pL(e,t)}}function pL(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function D$e(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t===0){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function R$e(e){if(Array.isArray(e))return e}var gie=/[ \f\n\r\t\v\u2028\u2029]+/,yie=function(t){var n=t.children,r=t.breakAll,i=t.style;try{var s=[];zt(n)||(r?s=n.toString().split(""):s=n.toString().split(gie));var a=s.map(function(u){return{word:u,width:gy(u,i).width}}),o=r?0:gy("",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},F$e=function(t,n,r,i,s){var a=t.maxLines,o=t.children,u=t.style,d=t.breakAll,h=Xe(a),m=o,y=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return H.reduce(function(q,G){var W=G.word,oe=G.width,J=q[q.length-1];if(J&&(i==null||s||J.width+oe+r<Number(i)))J.words.push(W),J.width+=oe+r;else{var Y={words:[W],width:oe};q.push(Y)}return q},[])},b=y(n),C=function(H){return H.reduce(function(q,G){return q.width>G.width?q:G})};if(!h)return b;for(var w="",A=function(H){var q=m.slice(0,H),G=yie({breakAll:d,style:u,children:q+w}).wordsWithComputedWidth,W=y(G),oe=W.length>a||C(W).width>Number(i);return[oe,W]},_=0,E=m.length-1,N=0,I;_<=E&&N<=m.length-1;){var O=Math.floor((_+E)/2),k=O-1,M=A(k),R=hL(M,2),L=R[0],U=R[1],X=A(O),F=hL(X,1),V=F[0];if(!L&&!V&&(_=O+1),L&&V&&(E=O-1),!L&&V){I=U;break}N++}return I||b},mL=function(t){var n=zt(t)?[]:t.toString().split(gie);return[{words:n}]},L$e=function(t){var n=t.width,r=t.scaleToFit,i=t.children,s=t.style,a=t.breakAll,o=t.maxLines;if((n||r)&&!Al.isSsr){var u,d,h=yie({breakAll:a,children:i,style:s});if(h){var m=h.wordsWithComputedWidth,y=h.spaceWidth;u=m,d=y}else return mL(i);return F$e({breakAll:a,children:i,maxLines:o,style:s},u,d,n,r)}return mL(i)},gL="#808080",Jf=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,s=i===void 0?0:i,a=t.lineHeight,o=a===void 0?"1em":a,u=t.capHeight,d=u===void 0?"0.71em":u,h=t.scaleToFit,m=h===void 0?!1:h,y=t.textAnchor,b=y===void 0?"start":y,C=t.verticalAnchor,w=C===void 0?"end":C,A=t.fill,_=A===void 0?gL:A,E=fL(t,O$e),N=T.useMemo(function(){return L$e({breakAll:E.breakAll,children:E.children,maxLines:E.maxLines,scaleToFit:m,style:E.style,width:E.width})},[E.breakAll,E.children,E.maxLines,m,E.style,E.width]),I=E.dx,O=E.dy,k=E.angle,M=E.className,R=E.breakAll,L=fL(E,j$e);if(!li(r)||!li(s))return null;var U=r+(Xe(I)?I:0),X=s+(Xe(O)?O:0),F;switch(w){case"start":F=z_("calc(".concat(d,")"));break;case"middle":F=z_("calc(".concat((N.length-1)/2," * -").concat(o," + (").concat(d," / 2))"));break;default:F=z_("calc(".concat(N.length-1," * -").concat(o,")"));break}var V=[];if(m){var Z=N[0].width,H=E.width;V.push("scale(".concat((Xe(H)?H/Z:1)/Z,")"))}return k&&V.push("rotate(".concat(k,", ").concat(U,", ").concat(X,")")),V.length&&(L.transform=V.join(" ")),te.createElement("text",pO({},Nt(L,!0),{x:U,y:X,className:Gt("recharts-text",M),textAnchor:b,fill:_.includes("url")?gL:_}),N.map(function(q,G){var W=q.words.join(R?"":" ");return te.createElement("tspan",{x:U,dy:G===0?F:o,key:"".concat(W,"-").concat(G)},W)}))};function Wu(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function B$e(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function _4(e){let t,n,r;e.length!==2?(t=Wu,n=(o,u)=>Wu(e(o),u),r=(o,u)=>e(o)-u):(t=e===Wu||e===B$e?e:$$e,n=e,r=e);function i(o,u,d=0,h=o.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;n(o[m],u)<0?d=m+1:h=m}while(d<h)}return d}function s(o,u,d=0,h=o.length){if(d<h){if(t(u,u)!==0)return h;do{const m=d+h>>>1;n(o[m],u)<=0?d=m+1:h=m}while(d<h)}return d}function a(o,u,d=0,h=o.length){const m=i(o,u,d,h-1);return m>d&&r(o[m-1],u)>-r(o[m],u)?m-1:m}return{left:i,center:a,right:s}}function $$e(){return 0}function vie(e){return e===null?NaN:+e}function*U$e(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const z$e=_4(Wu),ox=z$e.right;_4(vie).center;class yL extends Map{constructor(t,n=H$e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(vL(this,t))}has(t){return super.has(vL(this,t))}set(t,n){return super.set(V$e(this,t),n)}delete(t){return super.delete(W$e(this,t))}}function vL({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function V$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function W$e({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function H$e(e){return e!==null&&typeof e=="object"?e.valueOf():e}function G$e(e=Wu){if(e===Wu)return xie;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function xie(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const q$e=Math.sqrt(50),K$e=Math.sqrt(10),X$e=Math.sqrt(2);function H2(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=q$e?10:s>=K$e?5:s>=X$e?2:1;let o,u,d;return i<0?(d=Math.pow(10,-i)/a,o=Math.round(e*d),u=Math.round(t*d),o/d<e&&++o,u/d>t&&--u,d=-d):(d=Math.pow(10,i)*a,o=Math.round(e/d),u=Math.round(t/d),o*d<e&&++o,u*d>t&&--u),u<o&&.5<=n&&n<2?H2(e,t,n*2):[o,u,d]}function mO(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,s,a]=r?H2(t,e,n):H2(e,t,n);if(!(s>=i))return[];const o=s-i+1,u=new Array(o);if(r)if(a<0)for(let d=0;d<o;++d)u[d]=(s-d)/-a;else for(let d=0;d<o;++d)u[d]=(s-d)*a;else if(a<0)for(let d=0;d<o;++d)u[d]=(i+d)/-a;else for(let d=0;d<o;++d)u[d]=(i+d)*a;return u}function gO(e,t,n){return t=+t,e=+e,n=+n,H2(e,t,n)[2]}function yO(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?gO(t,e,n):gO(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xL(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bL(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function bie(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?xie:G$e(i);r>n;){if(r-n>600){const u=r-n+1,d=t-n+1,h=Math.log(u),m=.5*Math.exp(2*h/3),y=.5*Math.sqrt(h*m*(u-m)/u)*(d-u/2<0?-1:1),b=Math.max(n,Math.floor(t-d*m/u+y)),C=Math.min(r,Math.floor(t+(u-d)*m/u+y));bie(e,t,b,C,i)}const s=e[t];let a=n,o=r;for(A0(e,n,t),i(e[r],s)>0&&A0(e,n,r);a<o;){for(A0(e,a,o),++a,--o;i(e[a],s)<0;)++a;for(;i(e[o],s)>0;)--o}i(e[n],s)===0?A0(e,n,o):(++o,A0(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function A0(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Y$e(e,t,n){if(e=Float64Array.from(U$e(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bL(e);if(t>=1)return xL(e);var r,i=(r-1)*t,s=Math.floor(i),a=xL(bie(e,s).subarray(0,s+1)),o=bL(e.subarray(s+1));return a+(o-a)*(i-s)}}function Z$e(e,t,n=vie){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,s=Math.floor(i),a=+n(e[s],s,e),o=+n(e[s+1],s+1,e);return a+(o-a)*(i-s)}}function Q$e(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,s=new Array(i);++r<i;)s[r]=e+r*n;return s}function Za(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Wc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const vO=Symbol("implicit");function T4(){var e=new yL,t=[],n=[],r=vO;function i(s){let a=e.get(s);if(a===void 0){if(r!==vO)return r;e.set(s,a=t.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return t.slice();t=[],e=new yL;for(const a of s)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return T4(t,n).unknown(r)},Za.apply(i,arguments),i}function _1(){var e=T4().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,s,a,o=!1,u=0,d=0,h=.5;delete e.unknown;function m(){var y=t().length,b=i<r,C=b?i:r,w=b?r:i;s=(w-C)/Math.max(1,y-u+d*2),o&&(s=Math.floor(s)),C+=(w-C-s*(y-u))*h,a=s*(1-u),o&&(C=Math.round(C),a=Math.round(a));var A=Q$e(y).map(function(_){return C+s*_});return n(b?A.reverse():A)}return e.domain=function(y){return arguments.length?(t(y),m()):t()},e.range=function(y){return arguments.length?([r,i]=y,r=+r,i=+i,m()):[r,i]},e.rangeRound=function(y){return[r,i]=y,r=+r,i=+i,o=!0,m()},e.bandwidth=function(){return a},e.step=function(){return s},e.round=function(y){return arguments.length?(o=!!y,m()):o},e.padding=function(y){return arguments.length?(u=Math.min(1,d=+y),m()):u},e.paddingInner=function(y){return arguments.length?(u=Math.min(1,y),m()):u},e.paddingOuter=function(y){return arguments.length?(d=+y,m()):d},e.align=function(y){return arguments.length?(h=Math.max(0,Math.min(1,y)),m()):h},e.copy=function(){return _1(t(),[r,i]).round(o).paddingInner(u).paddingOuter(d).align(h)},Za.apply(m(),arguments)}function wie(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return wie(t())},e}function yy(){return wie(_1.apply(null,arguments).paddingInner(1))}function N4(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function Sie(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function lx(){}var T1=.7,G2=1/T1,jp="\\s*([+-]?\\d+)\\s*",N1="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",El="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",J$e=/^#([0-9a-f]{3,8})$/,eUe=new RegExp(`^rgb\\(${jp},${jp},${jp}\\)$`),tUe=new RegExp(`^rgb\\(${El},${El},${El}\\)$`),nUe=new RegExp(`^rgba\\(${jp},${jp},${jp},${N1}\\)$`),rUe=new RegExp(`^rgba\\(${El},${El},${El},${N1}\\)$`),iUe=new RegExp(`^hsl\\(${N1},${El},${El}\\)$`),sUe=new RegExp(`^hsla\\(${N1},${El},${El},${N1}\\)$`),wL={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};N4(lx,P1,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:SL,formatHex:SL,formatHex8:aUe,formatHsl:oUe,formatRgb:CL,toString:CL});function SL(){return this.rgb().formatHex()}function aUe(){return this.rgb().formatHex8()}function oUe(){return Cie(this).formatHsl()}function CL(){return this.rgb().formatRgb()}function P1(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=J$e.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?AL(t):n===3?new Rs(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?xb(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?xb(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=eUe.exec(e))?new Rs(t[1],t[2],t[3],1):(t=tUe.exec(e))?new Rs(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=nUe.exec(e))?xb(t[1],t[2],t[3],t[4]):(t=rUe.exec(e))?xb(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=iUe.exec(e))?TL(t[1],t[2]/100,t[3]/100,1):(t=sUe.exec(e))?TL(t[1],t[2]/100,t[3]/100,t[4]):wL.hasOwnProperty(e)?AL(wL[e]):e==="transparent"?new Rs(NaN,NaN,NaN,0):null}function AL(e){return new Rs(e>>16&255,e>>8&255,e&255,1)}function xb(e,t,n,r){return r<=0&&(e=t=n=NaN),new Rs(e,t,n,r)}function lUe(e){return e instanceof lx||(e=P1(e)),e?(e=e.rgb(),new Rs(e.r,e.g,e.b,e.opacity)):new Rs}function xO(e,t,n,r){return arguments.length===1?lUe(e):new Rs(e,t,n,r??1)}function Rs(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}N4(Rs,xO,Sie(lx,{brighter(e){return e=e==null?G2:Math.pow(G2,e),new Rs(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?T1:Math.pow(T1,e),new Rs(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new Rs(Pf(this.r),Pf(this.g),Pf(this.b),q2(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:EL,formatHex:EL,formatHex8:cUe,formatRgb:_L,toString:_L}));function EL(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}`}function cUe(){return`#${ef(this.r)}${ef(this.g)}${ef(this.b)}${ef((isNaN(this.opacity)?1:this.opacity)*255)}`}function _L(){const e=q2(this.opacity);return`${e===1?"rgb(":"rgba("}${Pf(this.r)}, ${Pf(this.g)}, ${Pf(this.b)}${e===1?")":`, ${e})`}`}function q2(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Pf(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ef(e){return e=Pf(e),(e<16?"0":"")+e.toString(16)}function TL(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new To(e,t,n,r)}function Cie(e){if(e instanceof To)return new To(e.h,e.s,e.l,e.opacity);if(e instanceof lx||(e=P1(e)),!e)return new To;if(e instanceof To)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),s=Math.max(t,n,r),a=NaN,o=s-i,u=(s+i)/2;return o?(t===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-t)/o+2:a=(t-n)/o+4,o/=u<.5?s+i:2-s-i,a*=60):o=u>0&&u<1?0:a,new To(a,o,u,e.opacity)}function uUe(e,t,n,r){return arguments.length===1?Cie(e):new To(e,t,n,r??1)}function To(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}N4(To,uUe,Sie(lx,{brighter(e){return e=e==null?G2:Math.pow(G2,e),new To(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?T1:Math.pow(T1,e),new To(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new Rs(V_(e>=240?e-240:e+120,i,r),V_(e,i,r),V_(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new To(NL(this.h),bb(this.s),bb(this.l),q2(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=q2(this.opacity);return`${e===1?"hsl(":"hsla("}${NL(this.h)}, ${bb(this.s)*100}%, ${bb(this.l)*100}%${e===1?")":`, ${e})`}`}}));function NL(e){return e=(e||0)%360,e<0?e+360:e}function bb(e){return Math.max(0,Math.min(1,e||0))}function V_(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const P4=e=>()=>e;function dUe(e,t){return function(n){return e+n*t}}function fUe(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hUe(e){return(e=+e)==1?Aie:function(t,n){return n-t?fUe(t,n,e):P4(isNaN(t)?n:t)}}function Aie(e,t){var n=t-e;return n?dUe(e,n):P4(isNaN(e)?t:e)}const PL=function e(t){var n=hUe(t);function r(i,s){var a=n((i=xO(i)).r,(s=xO(s)).r),o=n(i.g,s.g),u=n(i.b,s.b),d=Aie(i.opacity,s.opacity);return function(h){return i.r=a(h),i.g=o(h),i.b=u(h),i.opacity=d(h),i+""}}return r.gamma=e,r}(1);function pUe(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=e[i]*(1-s)+t[i]*s;return r}}function mUe(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function gUe(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=Bg(e[a],t[a]);for(;a<n;++a)s[a]=t[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function yUe(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function K2(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function vUe(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=Bg(e[i],t[i]):r[i]=t[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var bO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,W_=new RegExp(bO.source,"g");function xUe(e){return function(){return e}}function bUe(e){return function(t){return e(t)+""}}function wUe(e,t){var n=bO.lastIndex=W_.lastIndex=0,r,i,s,a=-1,o=[],u=[];for(e=e+"",t=t+"";(r=bO.exec(e))&&(i=W_.exec(t));)(s=i.index)>n&&(s=t.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,u.push({i:a,x:K2(r,i)})),n=W_.lastIndex;return n<t.length&&(s=t.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?u[0]?bUe(u[0].x):xUe(t):(t=u.length,function(d){for(var h=0,m;h<t;++h)o[(m=u[h]).i]=m.x(d);return o.join("")})}function Bg(e,t){var n=typeof t,r;return t==null||n==="boolean"?P4(t):(n==="number"?K2:n==="string"?(r=P1(t))?(t=r,PL):wUe:t instanceof P1?PL:t instanceof Date?yUe:mUe(t)?pUe:Array.isArray(t)?gUe:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?vUe:K2)(e,t)}function O4(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function SUe(e,t){t===void 0&&(t=e,e=Bg);for(var n=0,r=t.length-1,i=t[0],s=new Array(r<0?0:r);n<r;)s[n]=e(i,i=t[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function CUe(e){return function(){return e}}function X2(e){return+e}var OL=[0,1];function gs(e){return e}function wO(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:CUe(isNaN(t)?NaN:.5)}function AUe(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function EUe(e,t,n){var r=e[0],i=e[1],s=t[0],a=t[1];return i<r?(r=wO(i,r),s=n(a,s)):(r=wO(r,i),s=n(s,a)),function(o){return s(r(o))}}function _Ue(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),s=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=wO(e[a],e[a+1]),s[a]=n(t[a],t[a+1]);return function(o){var u=ox(e,o,1,r)-1;return s[u](i[u](o))}}function cx(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wA(){var e=OL,t=OL,n=Bg,r,i,s,a=gs,o,u,d;function h(){var y=Math.min(e.length,t.length);return a!==gs&&(a=AUe(e[0],e[y-1])),o=y>2?_Ue:EUe,u=d=null,m}function m(y){return y==null||isNaN(y=+y)?s:(u||(u=o(e.map(r),t,n)))(r(a(y)))}return m.invert=function(y){return a(i((d||(d=o(t,e.map(r),K2)))(y)))},m.domain=function(y){return arguments.length?(e=Array.from(y,X2),h()):e.slice()},m.range=function(y){return arguments.length?(t=Array.from(y),h()):t.slice()},m.rangeRound=function(y){return t=Array.from(y),n=O4,h()},m.clamp=function(y){return arguments.length?(a=y?!0:gs,h()):a!==gs},m.interpolate=function(y){return arguments.length?(n=y,h()):n},m.unknown=function(y){return arguments.length?(s=y,m):s},function(y,b){return r=y,i=b,h()}}function j4(){return wA()(gs,gs)}function TUe(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Y2(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Vm(e){return e=Y2(Math.abs(e)),e?e[1]:NaN}function NUe(e,t){return function(n,r){for(var i=n.length,s=[],a=0,o=e[0],u=0;i>0&&o>0&&(u+o+1>r&&(o=Math.max(1,r-u)),s.push(n.substring(i-=o,i+o)),!((u+=o+1)>r));)o=e[a=(a+1)%e.length];return s.reverse().join(t)}}function PUe(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var OUe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function O1(e){if(!(t=OUe.exec(e)))throw new Error("invalid format: "+e);var t;return new k4({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}O1.prototype=k4.prototype;function k4(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}k4.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function jUe(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var Eie;function kUe(e,t){var n=Y2(e,t);if(!n)return e+"";var r=n[0],i=n[1],s=i-(Eie=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Y2(e,Math.max(0,t+s-1))[0]}function jL(e,t){var n=Y2(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const kL={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:TUe,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>jL(e*100,t),r:jL,s:kUe,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function IL(e){return e}var ML=Array.prototype.map,DL=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function IUe(e){var t=e.grouping===void 0||e.thousands===void 0?IL:NUe(ML.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",s=e.numerals===void 0?IL:PUe(ML.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function d(m){m=O1(m);var y=m.fill,b=m.align,C=m.sign,w=m.symbol,A=m.zero,_=m.width,E=m.comma,N=m.precision,I=m.trim,O=m.type;O==="n"?(E=!0,O="g"):kL[O]||(N===void 0&&(N=12),I=!0,O="g"),(A||y==="0"&&b==="=")&&(A=!0,y="0",b="=");var k=w==="$"?n:w==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",M=w==="$"?r:/[%p]/.test(O)?a:"",R=kL[O],L=/[defgprs%]/.test(O);N=N===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function U(X){var F=k,V=M,Z,H,q;if(O==="c")V=R(X)+V,X="";else{X=+X;var G=X<0||1/X<0;if(X=isNaN(X)?u:R(Math.abs(X),N),I&&(X=jUe(X)),G&&+X==0&&C!=="+"&&(G=!1),F=(G?C==="("?C:o:C==="-"||C==="("?"":C)+F,V=(O==="s"?DL[8+Eie/3]:"")+V+(G&&C==="("?")":""),L){for(Z=-1,H=X.length;++Z<H;)if(q=X.charCodeAt(Z),48>q||q>57){V=(q===46?i+X.slice(Z+1):X.slice(Z))+V,X=X.slice(0,Z);break}}}E&&!A&&(X=t(X,1/0));var W=F.length+X.length+V.length,oe=W<_?new Array(_-W+1).join(y):"";switch(E&&A&&(X=t(oe+X,oe.length?_-V.length:1/0),oe=""),b){case"<":X=F+X+V+oe;break;case"=":X=F+oe+X+V;break;case"^":X=oe.slice(0,W=oe.length>>1)+F+X+V+oe.slice(W);break;default:X=oe+F+X+V;break}return s(X)}return U.toString=function(){return m+""},U}function h(m,y){var b=d((m=O1(m),m.type="f",m)),C=Math.max(-8,Math.min(8,Math.floor(Vm(y)/3)))*3,w=Math.pow(10,-C),A=DL[8+C/3];return function(_){return b(w*_)+A}}return{format:d,formatPrefix:h}}var wb,I4,_ie;MUe({thousands:",",grouping:[3],currency:["$",""]});function MUe(e){return wb=IUe(e),I4=wb.format,_ie=wb.formatPrefix,wb}function DUe(e){return Math.max(0,-Vm(Math.abs(e)))}function RUe(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Vm(t)/3)))*3-Vm(Math.abs(e)))}function FUe(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Vm(t)-Vm(e))+1}function Tie(e,t,n,r){var i=yO(e,t,n),s;switch(r=O1(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(s=RUe(i,a))&&(r.precision=s),_ie(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=FUe(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=DUe(i))&&(r.precision=s-(r.type==="%")*2);break}}return I4(r)}function yd(e){var t=e.domain;return e.ticks=function(n){var r=t();return mO(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Tie(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,s=r.length-1,a=r[i],o=r[s],u,d,h=10;for(o<a&&(d=a,a=o,o=d,d=i,i=s,s=d);h-- >0;){if(d=gO(a,o,n),d===u)return r[i]=a,r[s]=o,t(r);if(d>0)a=Math.floor(a/d)*d,o=Math.ceil(o/d)*d;else if(d<0)a=Math.ceil(a*d)/d,o=Math.floor(o*d)/d;else break;u=d}return e},e}function Z2(){var e=j4();return e.copy=function(){return cx(e,Z2())},Za.apply(e,arguments),yd(e)}function Nie(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,X2),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Nie(e).unknown(t)},e=arguments.length?Array.from(e,X2):[0,1],yd(n)}function Pie(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],s=e[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),e[n]=t.floor(i),e[r]=t.ceil(s),e}function RL(e){return Math.log(e)}function FL(e){return Math.exp(e)}function LUe(e){return-Math.log(-e)}function BUe(e){return-Math.exp(-e)}function $Ue(e){return isFinite(e)?+("1e"+e):e<0?0:e}function UUe(e){return e===10?$Ue:e===Math.E?Math.exp:t=>Math.pow(e,t)}function zUe(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function LL(e){return(t,n)=>-e(-t,n)}function M4(e){const t=e(RL,FL),n=t.domain;let r=10,i,s;function a(){return i=zUe(r),s=UUe(r),n()[0]<0?(i=LL(i),s=LL(s),e(LUe,BUe)):e(RL,FL),t}return t.base=function(o){return arguments.length?(r=+o,a()):r},t.domain=function(o){return arguments.length?(n(o),a()):n()},t.ticks=o=>{const u=n();let d=u[0],h=u[u.length-1];const m=h<d;m&&([d,h]=[h,d]);let y=i(d),b=i(h),C,w;const A=o==null?10:+o;let _=[];if(!(r%1)&&b-y<A){if(y=Math.floor(y),b=Math.ceil(b),d>0){for(;y<=b;++y)for(C=1;C<r;++C)if(w=y<0?C/s(-y):C*s(y),!(w<d)){if(w>h)break;_.push(w)}}else for(;y<=b;++y)for(C=r-1;C>=1;--C)if(w=y>0?C/s(-y):C*s(y),!(w<d)){if(w>h)break;_.push(w)}_.length*2<A&&(_=mO(d,h,A))}else _=mO(y,b,Math.min(b-y,A)).map(s);return m?_.reverse():_},t.tickFormat=(o,u)=>{if(o==null&&(o=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=O1(u)).precision==null&&(u.trim=!0),u=I4(u)),o===1/0)return u;const d=Math.max(1,r*o/t.ticks().length);return h=>{let m=h/s(Math.round(i(h)));return m*r<r-.5&&(m*=r),m<=d?u(h):""}},t.nice=()=>n(Pie(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),t}function Oie(){const e=M4(wA()).domain([1,10]);return e.copy=()=>cx(e,Oie()).base(e.base()),Za.apply(e,arguments),e}function BL(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $L(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function D4(e){var t=1,n=e(BL(t),$L(t));return n.constant=function(r){return arguments.length?e(BL(t=+r),$L(t)):t},yd(n)}function jie(){var e=D4(wA());return e.copy=function(){return cx(e,jie()).constant(e.constant())},Za.apply(e,arguments)}function UL(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function VUe(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function WUe(e){return e<0?-e*e:e*e}function R4(e){var t=e(gs,gs),n=1;function r(){return n===1?e(gs,gs):n===.5?e(VUe,WUe):e(UL(n),UL(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},yd(t)}function F4(){var e=R4(wA());return e.copy=function(){return cx(e,F4()).exponent(e.exponent())},Za.apply(e,arguments),e}function HUe(){return F4.apply(null,arguments).exponent(.5)}function zL(e){return Math.sign(e)*e*e}function GUe(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function kie(){var e=j4(),t=[0,1],n=!1,r;function i(s){var a=GUe(e(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return e.invert(zL(s))},i.domain=function(s){return arguments.length?(e.domain(s),i):e.domain()},i.range=function(s){return arguments.length?(e.range((t=Array.from(s,X2)).map(zL)),i):t.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(e.clamp(s),i):e.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return kie(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Za.apply(i,arguments),yd(i)}function Iie(){var e=[],t=[],n=[],r;function i(){var a=0,o=Math.max(1,t.length);for(n=new Array(o-1);++a<o;)n[a-1]=Z$e(e,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:t[ox(n,a)]}return s.invertExtent=function(a){var o=t.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},s.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let o of a)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(Wu),i()},s.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return Iie().domain(e).range(t).unknown(r)},Za.apply(s,arguments)}function Mie(){var e=0,t=1,n=1,r=[.5],i=[0,1],s;function a(u){return u!=null&&u<=u?i[ox(r,u,0,n)]:s}function o(){var u=-1;for(r=new Array(n);++u<n;)r[u]=((u+1)*t-(u-n)*e)/(n+1);return a}return a.domain=function(u){return arguments.length?([e,t]=u,e=+e,t=+t,o()):[e,t]},a.range=function(u){return arguments.length?(n=(i=Array.from(u)).length-1,o()):i.slice()},a.invertExtent=function(u){var d=i.indexOf(u);return d<0?[NaN,NaN]:d<1?[e,r[0]]:d>=n?[r[n-1],t]:[r[d-1],r[d]]},a.unknown=function(u){return arguments.length&&(s=u),a},a.thresholds=function(){return r.slice()},a.copy=function(){return Mie().domain([e,t]).range(i).unknown(s)},Za.apply(yd(a),arguments)}function Die(){var e=[.5],t=[0,1],n,r=1;function i(s){return s!=null&&s<=s?t[ox(e,s,0,r)]:n}return i.domain=function(s){return arguments.length?(e=Array.from(s),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(s){return arguments.length?(t=Array.from(s),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(s){var a=t.indexOf(s);return[e[a-1],e[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Die().domain(e).range(t).unknown(n)},Za.apply(i,arguments)}const H_=new Date,G_=new Date;function ci(e,t,n,r){function i(s){return e(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(e(s=new Date(+s)),s),i.ceil=s=>(e(s=new Date(s-1)),t(s,1),e(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(t(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const u=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return u;let d;do u.push(d=new Date(+s)),t(s,o),e(s);while(d<s&&s<a);return u},i.filter=s=>ci(a=>{if(a>=a)for(;e(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;t(a,-1),!s(a););else for(;--o>=0;)for(;t(a,1),!s(a););}),n&&(i.count=(s,a)=>(H_.setTime(+s),G_.setTime(+a),e(H_),e(G_),Math.floor(n(H_,G_))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const Q2=ci(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Q2.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ci(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Q2);Q2.range;const dc=1e3,za=dc*60,fc=za*60,Dc=fc*24,L4=Dc*7,VL=Dc*30,q_=Dc*365,tf=ci(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*dc)},(e,t)=>(t-e)/dc,e=>e.getUTCSeconds());tf.range;const B4=ci(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dc)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getMinutes());B4.range;const $4=ci(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*za)},(e,t)=>(t-e)/za,e=>e.getUTCMinutes());$4.range;const U4=ci(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*dc-e.getMinutes()*za)},(e,t)=>{e.setTime(+e+t*fc)},(e,t)=>(t-e)/fc,e=>e.getHours());U4.range;const z4=ci(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*fc)},(e,t)=>(t-e)/fc,e=>e.getUTCHours());z4.range;const ux=ci(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*za)/Dc,e=>e.getDate()-1);ux.range;const SA=ci(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dc,e=>e.getUTCDate()-1);SA.range;const Rie=ci(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Dc,e=>Math.floor(e/Dc));Rie.range;function dh(e){return ci(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*za)/L4)}const CA=dh(0),J2=dh(1),qUe=dh(2),KUe=dh(3),Wm=dh(4),XUe=dh(5),YUe=dh(6);CA.range;J2.range;qUe.range;KUe.range;Wm.range;XUe.range;YUe.range;function fh(e){return ci(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/L4)}const AA=fh(0),eS=fh(1),ZUe=fh(2),QUe=fh(3),Hm=fh(4),JUe=fh(5),eze=fh(6);AA.range;eS.range;ZUe.range;QUe.range;Hm.range;JUe.range;eze.range;const V4=ci(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());V4.range;const W4=ci(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());W4.range;const Rc=ci(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Rc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ci(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});Rc.range;const Fc=ci(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Fc.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ci(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});Fc.range;function Fie(e,t,n,r,i,s){const a=[[tf,1,dc],[tf,5,5*dc],[tf,15,15*dc],[tf,30,30*dc],[s,1,za],[s,5,5*za],[s,15,15*za],[s,30,30*za],[i,1,fc],[i,3,3*fc],[i,6,6*fc],[i,12,12*fc],[r,1,Dc],[r,2,2*Dc],[n,1,L4],[t,1,VL],[t,3,3*VL],[e,1,q_]];function o(d,h,m){const y=h<d;y&&([d,h]=[h,d]);const b=m&&typeof m.range=="function"?m:u(d,h,m),C=b?b.range(d,+h+1):[];return y?C.reverse():C}function u(d,h,m){const y=Math.abs(h-d)/m,b=_4(([,,A])=>A).right(a,y);if(b===a.length)return e.every(yO(d/q_,h/q_,m));if(b===0)return Q2.every(Math.max(yO(d,h,m),1));const[C,w]=a[y/a[b-1][2]<a[b][2]/y?b-1:b];return C.every(w)}return[o,u]}const[tze,nze]=Fie(Fc,W4,AA,Rie,z4,$4),[rze,ize]=Fie(Rc,V4,CA,ux,U4,B4);function K_(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function X_(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function E0(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function sze(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,s=e.days,a=e.shortDays,o=e.months,u=e.shortMonths,d=_0(i),h=T0(i),m=_0(s),y=T0(s),b=_0(a),C=T0(a),w=_0(o),A=T0(o),_=_0(u),E=T0(u),N={a:G,A:W,b:oe,B:J,c:null,d:XL,e:XL,f:Nze,g:Lze,G:$ze,H:Eze,I:_ze,j:Tze,L:Lie,m:Pze,M:Oze,p:Y,q:ne,Q:QL,s:JL,S:jze,u:kze,U:Ize,V:Mze,w:Dze,W:Rze,x:null,X:null,y:Fze,Y:Bze,Z:Uze,"%":ZL},I={a:pe,A:he,b:we,B:me,c:null,d:YL,e:YL,f:Hze,g:tVe,G:rVe,H:zze,I:Vze,j:Wze,L:$ie,m:Gze,M:qze,p:be,q:Ne,Q:QL,s:JL,S:Kze,u:Xze,U:Yze,V:Zze,w:Qze,W:Jze,x:null,X:null,y:eVe,Y:nVe,Z:iVe,"%":ZL},O={a:U,A:X,b:F,B:V,c:Z,d:qL,e:qL,f:wze,g:GL,G:HL,H:KL,I:KL,j:yze,L:bze,m:gze,M:vze,p:L,q:mze,Q:Cze,s:Aze,S:xze,u:uze,U:dze,V:fze,w:cze,W:hze,x:H,X:q,y:GL,Y:HL,Z:pze,"%":Sze};N.x=k(n,N),N.X=k(r,N),N.c=k(t,N),I.x=k(n,I),I.X=k(r,I),I.c=k(t,I);function k(xe,Oe){return function(je){var ve=[],ze=-1,Be=0,dt=xe.length,Ct,yt,At;for(je instanceof Date||(je=new Date(+je));++ze<dt;)xe.charCodeAt(ze)===37&&(ve.push(xe.slice(Be,ze)),(yt=WL[Ct=xe.charAt(++ze)])!=null?Ct=xe.charAt(++ze):yt=Ct==="e"?" ":"0",(At=Oe[Ct])&&(Ct=At(je,yt)),ve.push(Ct),Be=ze+1);return ve.push(xe.slice(Be,ze)),ve.join("")}}function M(xe,Oe){return function(je){var ve=E0(1900,void 0,1),ze=R(ve,xe,je+="",0),Be,dt;if(ze!=je.length)return null;if("Q"in ve)return new Date(ve.Q);if("s"in ve)return new Date(ve.s*1e3+("L"in ve?ve.L:0));if(Oe&&!("Z"in ve)&&(ve.Z=0),"p"in ve&&(ve.H=ve.H%12+ve.p*12),ve.m===void 0&&(ve.m="q"in ve?ve.q:0),"V"in ve){if(ve.V<1||ve.V>53)return null;"w"in ve||(ve.w=1),"Z"in ve?(Be=X_(E0(ve.y,0,1)),dt=Be.getUTCDay(),Be=dt>4||dt===0?eS.ceil(Be):eS(Be),Be=SA.offset(Be,(ve.V-1)*7),ve.y=Be.getUTCFullYear(),ve.m=Be.getUTCMonth(),ve.d=Be.getUTCDate()+(ve.w+6)%7):(Be=K_(E0(ve.y,0,1)),dt=Be.getDay(),Be=dt>4||dt===0?J2.ceil(Be):J2(Be),Be=ux.offset(Be,(ve.V-1)*7),ve.y=Be.getFullYear(),ve.m=Be.getMonth(),ve.d=Be.getDate()+(ve.w+6)%7)}else("W"in ve||"U"in ve)&&("w"in ve||(ve.w="u"in ve?ve.u%7:"W"in ve?1:0),dt="Z"in ve?X_(E0(ve.y,0,1)).getUTCDay():K_(E0(ve.y,0,1)).getDay(),ve.m=0,ve.d="W"in ve?(ve.w+6)%7+ve.W*7-(dt+5)%7:ve.w+ve.U*7-(dt+6)%7);return"Z"in ve?(ve.H+=ve.Z/100|0,ve.M+=ve.Z%100,X_(ve)):K_(ve)}}function R(xe,Oe,je,ve){for(var ze=0,Be=Oe.length,dt=je.length,Ct,yt;ze<Be;){if(ve>=dt)return-1;if(Ct=Oe.charCodeAt(ze++),Ct===37){if(Ct=Oe.charAt(ze++),yt=O[Ct in WL?Oe.charAt(ze++):Ct],!yt||(ve=yt(xe,je,ve))<0)return-1}else if(Ct!=je.charCodeAt(ve++))return-1}return ve}function L(xe,Oe,je){var ve=d.exec(Oe.slice(je));return ve?(xe.p=h.get(ve[0].toLowerCase()),je+ve[0].length):-1}function U(xe,Oe,je){var ve=b.exec(Oe.slice(je));return ve?(xe.w=C.get(ve[0].toLowerCase()),je+ve[0].length):-1}function X(xe,Oe,je){var ve=m.exec(Oe.slice(je));return ve?(xe.w=y.get(ve[0].toLowerCase()),je+ve[0].length):-1}function F(xe,Oe,je){var ve=_.exec(Oe.slice(je));return ve?(xe.m=E.get(ve[0].toLowerCase()),je+ve[0].length):-1}function V(xe,Oe,je){var ve=w.exec(Oe.slice(je));return ve?(xe.m=A.get(ve[0].toLowerCase()),je+ve[0].length):-1}function Z(xe,Oe,je){return R(xe,t,Oe,je)}function H(xe,Oe,je){return R(xe,n,Oe,je)}function q(xe,Oe,je){return R(xe,r,Oe,je)}function G(xe){return a[xe.getDay()]}function W(xe){return s[xe.getDay()]}function oe(xe){return u[xe.getMonth()]}function J(xe){return o[xe.getMonth()]}function Y(xe){return i[+(xe.getHours()>=12)]}function ne(xe){return 1+~~(xe.getMonth()/3)}function pe(xe){return a[xe.getUTCDay()]}function he(xe){return s[xe.getUTCDay()]}function we(xe){return u[xe.getUTCMonth()]}function me(xe){return o[xe.getUTCMonth()]}function be(xe){return i[+(xe.getUTCHours()>=12)]}function Ne(xe){return 1+~~(xe.getUTCMonth()/3)}return{format:function(xe){var Oe=k(xe+="",N);return Oe.toString=function(){return xe},Oe},parse:function(xe){var Oe=M(xe+="",!1);return Oe.toString=function(){return xe},Oe},utcFormat:function(xe){var Oe=k(xe+="",I);return Oe.toString=function(){return xe},Oe},utcParse:function(xe){var Oe=M(xe+="",!0);return Oe.toString=function(){return xe},Oe}}}var WL={"-":"",_:" ",0:"0"},wi=/^\s*\d+/,aze=/^%/,oze=/[\\^$*+?|[\]().{}]/g;function vn(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(t)+i:i)}function lze(e){return e.replace(oze,"\\$&")}function _0(e){return new RegExp("^(?:"+e.map(lze).join("|")+")","i")}function T0(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function cze(e,t,n){var r=wi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function uze(e,t,n){var r=wi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function dze(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function fze(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function hze(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function HL(e,t,n){var r=wi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function GL(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function pze(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function mze(e,t,n){var r=wi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function gze(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function qL(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function yze(e,t,n){var r=wi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function KL(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function vze(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function xze(e,t,n){var r=wi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function bze(e,t,n){var r=wi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function wze(e,t,n){var r=wi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Sze(e,t,n){var r=aze.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Cze(e,t,n){var r=wi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Aze(e,t,n){var r=wi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function XL(e,t){return vn(e.getDate(),t,2)}function Eze(e,t){return vn(e.getHours(),t,2)}function _ze(e,t){return vn(e.getHours()%12||12,t,2)}function Tze(e,t){return vn(1+ux.count(Rc(e),e),t,3)}function Lie(e,t){return vn(e.getMilliseconds(),t,3)}function Nze(e,t){return Lie(e,t)+"000"}function Pze(e,t){return vn(e.getMonth()+1,t,2)}function Oze(e,t){return vn(e.getMinutes(),t,2)}function jze(e,t){return vn(e.getSeconds(),t,2)}function kze(e){var t=e.getDay();return t===0?7:t}function Ize(e,t){return vn(CA.count(Rc(e)-1,e),t,2)}function Bie(e){var t=e.getDay();return t>=4||t===0?Wm(e):Wm.ceil(e)}function Mze(e,t){return e=Bie(e),vn(Wm.count(Rc(e),e)+(Rc(e).getDay()===4),t,2)}function Dze(e){return e.getDay()}function Rze(e,t){return vn(J2.count(Rc(e)-1,e),t,2)}function Fze(e,t){return vn(e.getFullYear()%100,t,2)}function Lze(e,t){return e=Bie(e),vn(e.getFullYear()%100,t,2)}function Bze(e,t){return vn(e.getFullYear()%1e4,t,4)}function $ze(e,t){var n=e.getDay();return e=n>=4||n===0?Wm(e):Wm.ceil(e),vn(e.getFullYear()%1e4,t,4)}function Uze(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+vn(t/60|0,"0",2)+vn(t%60,"0",2)}function YL(e,t){return vn(e.getUTCDate(),t,2)}function zze(e,t){return vn(e.getUTCHours(),t,2)}function Vze(e,t){return vn(e.getUTCHours()%12||12,t,2)}function Wze(e,t){return vn(1+SA.count(Fc(e),e),t,3)}function $ie(e,t){return vn(e.getUTCMilliseconds(),t,3)}function Hze(e,t){return $ie(e,t)+"000"}function Gze(e,t){return vn(e.getUTCMonth()+1,t,2)}function qze(e,t){return vn(e.getUTCMinutes(),t,2)}function Kze(e,t){return vn(e.getUTCSeconds(),t,2)}function Xze(e){var t=e.getUTCDay();return t===0?7:t}function Yze(e,t){return vn(AA.count(Fc(e)-1,e),t,2)}function Uie(e){var t=e.getUTCDay();return t>=4||t===0?Hm(e):Hm.ceil(e)}function Zze(e,t){return e=Uie(e),vn(Hm.count(Fc(e),e)+(Fc(e).getUTCDay()===4),t,2)}function Qze(e){return e.getUTCDay()}function Jze(e,t){return vn(eS.count(Fc(e)-1,e),t,2)}function eVe(e,t){return vn(e.getUTCFullYear()%100,t,2)}function tVe(e,t){return e=Uie(e),vn(e.getUTCFullYear()%100,t,2)}function nVe(e,t){return vn(e.getUTCFullYear()%1e4,t,4)}function rVe(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Hm(e):Hm.ceil(e),vn(e.getUTCFullYear()%1e4,t,4)}function iVe(){return"+0000"}function ZL(){return"%"}function QL(e){return+e}function JL(e){return Math.floor(+e/1e3)}var Mh,zie,Vie;sVe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function sVe(e){return Mh=sze(e),zie=Mh.format,Mh.parse,Vie=Mh.utcFormat,Mh.utcParse,Mh}function aVe(e){return new Date(e)}function oVe(e){return e instanceof Date?+e:+new Date(+e)}function H4(e,t,n,r,i,s,a,o,u,d){var h=j4(),m=h.invert,y=h.domain,b=d(".%L"),C=d(":%S"),w=d("%I:%M"),A=d("%I %p"),_=d("%a %d"),E=d("%b %d"),N=d("%B"),I=d("%Y");function O(k){return(u(k)<k?b:o(k)<k?C:a(k)<k?w:s(k)<k?A:r(k)<k?i(k)<k?_:E:n(k)<k?N:I)(k)}return h.invert=function(k){return new Date(m(k))},h.domain=function(k){return arguments.length?y(Array.from(k,oVe)):y().map(aVe)},h.ticks=function(k){var M=y();return e(M[0],M[M.length-1],k??10)},h.tickFormat=function(k,M){return M==null?O:d(M)},h.nice=function(k){var M=y();return(!k||typeof k.range!="function")&&(k=t(M[0],M[M.length-1],k??10)),k?y(Pie(M,k)):h},h.copy=function(){return cx(h,H4(e,t,n,r,i,s,a,o,u,d))},h}function lVe(){return Za.apply(H4(rze,ize,Rc,V4,CA,ux,U4,B4,tf,zie).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function cVe(){return Za.apply(H4(tze,nze,Fc,W4,AA,SA,z4,$4,tf,Vie).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function EA(){var e=0,t=1,n,r,i,s,a=gs,o=!1,u;function d(m){return m==null||isNaN(m=+m)?u:a(i===0?.5:(m=(s(m)-n)*i,o?Math.max(0,Math.min(1,m)):m))}d.domain=function(m){return arguments.length?([e,t]=m,n=s(e=+e),r=s(t=+t),i=n===r?0:1/(r-n),d):[e,t]},d.clamp=function(m){return arguments.length?(o=!!m,d):o},d.interpolator=function(m){return arguments.length?(a=m,d):a};function h(m){return function(y){var b,C;return arguments.length?([b,C]=y,a=m(b,C),d):[a(0),a(1)]}}return d.range=h(Bg),d.rangeRound=h(O4),d.unknown=function(m){return arguments.length?(u=m,d):u},function(m){return s=m,n=m(e),r=m(t),i=n===r?0:1/(r-n),d}}function vd(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Wie(){var e=yd(EA()(gs));return e.copy=function(){return vd(e,Wie())},Wc.apply(e,arguments)}function Hie(){var e=M4(EA()).domain([1,10]);return e.copy=function(){return vd(e,Hie()).base(e.base())},Wc.apply(e,arguments)}function Gie(){var e=D4(EA());return e.copy=function(){return vd(e,Gie()).constant(e.constant())},Wc.apply(e,arguments)}function G4(){var e=R4(EA());return e.copy=function(){return vd(e,G4()).exponent(e.exponent())},Wc.apply(e,arguments)}function uVe(){return G4.apply(null,arguments).exponent(.5)}function qie(){var e=[],t=gs;function n(r){if(r!=null&&!isNaN(r=+r))return t((ox(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(Wu),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>Y$e(e,s/r))},n.copy=function(){return qie(t).domain(e)},Wc.apply(n,arguments)}function _A(){var e=0,t=.5,n=1,r=1,i,s,a,o,u,d=gs,h,m=!1,y;function b(w){return isNaN(w=+w)?y:(w=.5+((w=+h(w))-s)*(r*w<r*s?o:u),d(m?Math.max(0,Math.min(1,w)):w))}b.domain=function(w){return arguments.length?([e,t,n]=w,i=h(e=+e),s=h(t=+t),a=h(n=+n),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,b):[e,t,n]},b.clamp=function(w){return arguments.length?(m=!!w,b):m},b.interpolator=function(w){return arguments.length?(d=w,b):d};function C(w){return function(A){var _,E,N;return arguments.length?([_,E,N]=A,d=SUe(w,[_,E,N]),b):[d(0),d(.5),d(1)]}}return b.range=C(Bg),b.rangeRound=C(O4),b.unknown=function(w){return arguments.length?(y=w,b):y},function(w){return h=w,i=w(e),s=w(t),a=w(n),o=i===s?0:.5/(s-i),u=s===a?0:.5/(a-s),r=s<i?-1:1,b}}function Kie(){var e=yd(_A()(gs));return e.copy=function(){return vd(e,Kie())},Wc.apply(e,arguments)}function Xie(){var e=M4(_A()).domain([.1,1,10]);return e.copy=function(){return vd(e,Xie()).base(e.base())},Wc.apply(e,arguments)}function Yie(){var e=D4(_A());return e.copy=function(){return vd(e,Yie()).constant(e.constant())},Wc.apply(e,arguments)}function q4(){var e=R4(_A());return e.copy=function(){return vd(e,q4()).exponent(e.exponent())},Wc.apply(e,arguments)}function dVe(){return q4.apply(null,arguments).exponent(.5)}const e7=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:_1,scaleDiverging:Kie,scaleDivergingLog:Xie,scaleDivergingPow:q4,scaleDivergingSqrt:dVe,scaleDivergingSymlog:Yie,scaleIdentity:Nie,scaleImplicit:vO,scaleLinear:Z2,scaleLog:Oie,scaleOrdinal:T4,scalePoint:yy,scalePow:F4,scaleQuantile:Iie,scaleQuantize:Mie,scaleRadial:kie,scaleSequential:Wie,scaleSequentialLog:Hie,scaleSequentialPow:G4,scaleSequentialQuantile:qie,scaleSequentialSqrt:uVe,scaleSequentialSymlog:Gie,scaleSqrt:HUe,scaleSymlog:jie,scaleThreshold:Die,scaleTime:lVe,scaleUtc:cVe,tickFormat:Tie},Symbol.toStringTag,{value:"Module"}));var fVe=Tg;function hVe(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],a=t(s);if(a!=null&&(o===void 0?a===a&&!fVe(a):n(a,o)))var o=a,u=s}return u}var TA=hVe;function pVe(e,t){return e>t}var Zie=pVe,mVe=TA,gVe=Zie,yVe=Lg;function vVe(e){return e&&e.length?mVe(e,yVe,gVe):void 0}var xVe=vVe;const NA=en(xVe);function bVe(e,t){return e<t}var Qie=bVe,wVe=TA,SVe=Qie,CVe=Lg;function AVe(e){return e&&e.length?wVe(e,CVe,SVe):void 0}var EVe=AVe;const PA=en(EVe);var _Ve=o4,TVe=Rl,NVe=lie,PVe=Gs;function OVe(e,t){var n=PVe(e)?_Ve:NVe;return n(e,TVe(t))}var jVe=OVe,kVe=aie,IVe=jVe;function MVe(e,t){return kVe(IVe(e,t),1)}var DVe=MVe;const RVe=en(DVe);var FVe=S4;function LVe(e,t){return FVe(e,t)}var BVe=LVe;const dx=en(BVe);var $g=1e9,$Ve={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},X4,ar=!0,Ka="[DecimalError] ",Of=Ka+"Invalid argument: ",K4=Ka+"Exponent out of range: ",Ug=Math.floor,zd=Math.pow,UVe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ca,pi=1e7,tr=7,Jie=9007199254740991,tS=Ug(Jie/tr),lt={};lt.absoluteValue=lt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};lt.comparedTo=lt.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};lt.decimalPlaces=lt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*tr;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};lt.dividedBy=lt.div=function(e){return bc(this,new this.constructor(e))};lt.dividedToIntegerBy=lt.idiv=function(e){var t=this,n=t.constructor;return Fn(bc(t,new n(e),0,1),n.precision)};lt.equals=lt.eq=function(e){return!this.cmp(e)};lt.exponent=function(){return Xr(this)};lt.greaterThan=lt.gt=function(e){return this.cmp(e)>0};lt.greaterThanOrEqualTo=lt.gte=function(e){return this.cmp(e)>=0};lt.isInteger=lt.isint=function(){return this.e>this.d.length-2};lt.isNegative=lt.isneg=function(){return this.s<0};lt.isPositive=lt.ispos=function(){return this.s>0};lt.isZero=function(){return this.s===0};lt.lessThan=lt.lt=function(e){return this.cmp(e)<0};lt.lessThanOrEqualTo=lt.lte=function(e){return this.cmp(e)<1};lt.logarithm=lt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(ca))throw Error(Ka+"NaN");if(n.s<1)throw Error(Ka+(n.s?"NaN":"-Infinity"));return n.eq(ca)?new r(0):(ar=!1,t=bc(j1(n,s),j1(e,s),s),ar=!0,Fn(t,i))};lt.minus=lt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?nse(t,e):ese(t,(e.s=-e.s,e))};lt.modulo=lt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ka+"NaN");return n.s?(ar=!1,t=bc(n,e,0,1).times(e),ar=!0,n.minus(t)):Fn(new r(n),i)};lt.naturalExponential=lt.exp=function(){return tse(this)};lt.naturalLogarithm=lt.ln=function(){return j1(this)};lt.negated=lt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};lt.plus=lt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ese(t,e):nse(t,(e.s=-e.s,e))};lt.precision=lt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Of+e);if(t=Xr(i)+1,r=i.d.length-1,n=r*tr+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};lt.squareRoot=lt.sqrt=function(){var e,t,n,r,i,s,a,o=this,u=o.constructor;if(o.s<1){if(!o.s)return new u(0);throw Error(Ka+"NaN")}for(e=Xr(o),ar=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=ml(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=Ug((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new u(t)):r=new u(i.toString()),n=u.precision,i=a=n+3;;)if(s=r,r=s.plus(bc(o,s,a+2)).times(.5),ml(s.d).slice(0,a)===(t=ml(r.d)).slice(0,a)){if(t=t.slice(a-3,a+1),i==a&&t=="4999"){if(Fn(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(t!="9999")break;a+=4}return ar=!0,Fn(r,n)};lt.times=lt.mul=function(e){var t,n,r,i,s,a,o,u,d,h=this,m=h.constructor,y=h.d,b=(e=new m(e)).d;if(!h.s||!e.s)return new m(0);for(e.s*=h.s,n=h.e+e.e,u=y.length,d=b.length,u<d&&(s=y,y=b,b=s,a=u,u=d,d=a),s=[],a=u+d,r=a;r--;)s.push(0);for(r=d;--r>=0;){for(t=0,i=u+r;i>r;)o=s[i]+b[r]*y[i-r-1]+t,s[i--]=o%pi|0,t=o/pi|0;s[i]=(s[i]+t)%pi|0}for(;!s[--a];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,ar?Fn(e,m.precision):e};lt.toDecimalPlaces=lt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(jl(e,0,$g),t===void 0?t=r.rounding:jl(t,0,8),Fn(n,e+Xr(n)+1,t))};lt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=eh(r,!0):(jl(e,0,$g),t===void 0?t=i.rounding:jl(t,0,8),r=Fn(new i(r),e+1,t),n=eh(r,!0,e+1)),n};lt.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?eh(i):(jl(e,0,$g),t===void 0?t=s.rounding:jl(t,0,8),r=Fn(new s(i),e+Xr(i)+1,t),n=eh(r.abs(),!1,e+Xr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};lt.toInteger=lt.toint=function(){var e=this,t=e.constructor;return Fn(new t(e),Xr(e)+1,t.rounding)};lt.toNumber=function(){return+this};lt.toPower=lt.pow=function(e){var t,n,r,i,s,a,o=this,u=o.constructor,d=12,h=+(e=new u(e));if(!e.s)return new u(ca);if(o=new u(o),!o.s){if(e.s<1)throw Error(Ka+"Infinity");return o}if(o.eq(ca))return o;if(r=u.precision,e.eq(ca))return Fn(o,r);if(t=e.e,n=e.d.length-1,a=t>=n,s=o.s,a){if((n=h<0?-h:h)<=Jie){for(i=new u(ca),t=Math.ceil(r/tr+4),ar=!1;n%2&&(i=i.times(o),n7(i.d,t)),n=Ug(n/2),n!==0;)o=o.times(o),n7(o.d,t);return ar=!0,e.s<0?new u(ca).div(i):Fn(i,r)}}else if(s<0)throw Error(Ka+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,ar=!1,i=e.times(j1(o,r+d)),ar=!0,i=tse(i),i.s=s,i};lt.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=Xr(i),r=eh(i,n<=s.toExpNeg||n>=s.toExpPos)):(jl(e,1,$g),t===void 0?t=s.rounding:jl(t,0,8),i=Fn(new s(i),e,t),n=Xr(i),r=eh(i,e<=n||n<=s.toExpNeg,e)),r};lt.toSignificantDigits=lt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(jl(e,1,$g),t===void 0?t=r.rounding:jl(t,0,8)),Fn(new r(n),e,t)};lt.toString=lt.valueOf=lt.val=lt.toJSON=lt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Xr(e),n=e.constructor;return eh(e,t<=n.toExpNeg||t>=n.toExpPos)};function ese(e,t){var n,r,i,s,a,o,u,d,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s||(t=new h(e)),ar?Fn(t,m):t;if(u=e.d,d=t.d,a=e.e,i=t.e,u=u.slice(),s=a-i,s){for(s<0?(r=u,s=-s,o=d.length):(r=d,i=a,o=u.length),a=Math.ceil(m/tr),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=u.length,s=d.length,o-s<0&&(s=o,r=d,d=u,u=r),n=0;s;)n=(u[--s]=u[s]+d[s]+n)/pi|0,u[s]%=pi;for(n&&(u.unshift(n),++i),o=u.length;u[--o]==0;)u.pop();return t.d=u,t.e=i,ar?Fn(t,m):t}function jl(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Of+e)}function ml(e){var t,n,r,i=e.length-1,s="",a=e[0];if(i>0){for(s+=a,t=1;t<i;t++)r=e[t]+"",n=tr-r.length,n&&(s+=uu(n)),s+=r;a=e[t],r=a+"",n=tr-r.length,n&&(s+=uu(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var bc=function(){function e(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%pi|0,a=s/pi|0;return a&&r.unshift(a),r}function t(r,i,s,a){var o,u;if(s!=a)u=s>a?1:-1;else for(o=u=0;o<s;o++)if(r[o]!=i[o]){u=r[o]>i[o]?1:-1;break}return u}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*pi+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,u,d,h,m,y,b,C,w,A,_,E,N,I,O,k,M,R,L=r.constructor,U=r.s==i.s?1:-1,X=r.d,F=i.d;if(!r.s)return new L(r);if(!i.s)throw Error(Ka+"Division by zero");for(u=r.e-i.e,M=F.length,O=X.length,b=new L(U),C=b.d=[],d=0;F[d]==(X[d]||0);)++d;if(F[d]>(X[d]||0)&&--u,s==null?E=s=L.precision:a?E=s+(Xr(r)-Xr(i))+1:E=s,E<0)return new L(0);if(E=E/tr+2|0,d=0,M==1)for(h=0,F=F[0],E++;(d<O||h)&&E--;d++)N=h*pi+(X[d]||0),C[d]=N/F|0,h=N%F|0;else{for(h=pi/(F[0]+1)|0,h>1&&(F=e(F,h),X=e(X,h),M=F.length,O=X.length),I=M,w=X.slice(0,M),A=w.length;A<M;)w[A++]=0;R=F.slice(),R.unshift(0),k=F[0],F[1]>=pi/2&&++k;do h=0,o=t(F,w,M,A),o<0?(_=w[0],M!=A&&(_=_*pi+(w[1]||0)),h=_/k|0,h>1?(h>=pi&&(h=pi-1),m=e(F,h),y=m.length,A=w.length,o=t(m,w,y,A),o==1&&(h--,n(m,M<y?R:F,y))):(h==0&&(o=h=1),m=F.slice()),y=m.length,y<A&&m.unshift(0),n(w,m,A),o==-1&&(A=w.length,o=t(F,w,M,A),o<1&&(h++,n(w,M<A?R:F,A))),A=w.length):o===0&&(h++,w=[0]),C[d++]=h,o&&w[0]?w[A++]=X[I]||0:(w=[X[I]],A=1);while((I++<O||w[0]!==void 0)&&E--)}return C[0]||C.shift(),b.e=u,Fn(b,a?s+Xr(b)+1:s)}}();function tse(e,t){var n,r,i,s,a,o,u=0,d=0,h=e.constructor,m=h.precision;if(Xr(e)>16)throw Error(K4+Xr(e));if(!e.s)return new h(ca);for(t==null?(ar=!1,o=m):o=t,a=new h(.03125);e.abs().gte(.1);)e=e.times(a),d+=5;for(r=Math.log(zd(2,d))/Math.LN10*2+5|0,o+=r,n=i=s=new h(ca),h.precision=o;;){if(i=Fn(i.times(e),o),n=n.times(++u),a=s.plus(bc(i,n,o)),ml(a.d).slice(0,o)===ml(s.d).slice(0,o)){for(;d--;)s=Fn(s.times(s),o);return h.precision=m,t==null?(ar=!0,Fn(s,m)):s}s=a}}function Xr(e){for(var t=e.e*tr,n=e.d[0];n>=10;n/=10)t++;return t}function Y_(e,t,n){if(t>e.LN10.sd())throw ar=!0,n&&(e.precision=n),Error(Ka+"LN10 precision limit exceeded");return Fn(new e(e.LN10),t)}function uu(e){for(var t="";e--;)t+="0";return t}function j1(e,t){var n,r,i,s,a,o,u,d,h,m=1,y=10,b=e,C=b.d,w=b.constructor,A=w.precision;if(b.s<1)throw Error(Ka+(b.s?"NaN":"-Infinity"));if(b.eq(ca))return new w(0);if(t==null?(ar=!1,d=A):d=t,b.eq(10))return t==null&&(ar=!0),Y_(w,d);if(d+=y,w.precision=d,n=ml(C),r=n.charAt(0),s=Xr(b),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)b=b.times(e),n=ml(b.d),r=n.charAt(0),m++;s=Xr(b),r>1?(b=new w("0."+n),s++):b=new w(r+"."+n.slice(1))}else return u=Y_(w,d+2,A).times(s+""),b=j1(new w(r+"."+n.slice(1)),d-y).plus(u),w.precision=A,t==null?(ar=!0,Fn(b,A)):b;for(o=a=b=bc(b.minus(ca),b.plus(ca),d),h=Fn(b.times(b),d),i=3;;){if(a=Fn(a.times(h),d),u=o.plus(bc(a,new w(i),d)),ml(u.d).slice(0,d)===ml(o.d).slice(0,d))return o=o.times(2),s!==0&&(o=o.plus(Y_(w,d+2,A).times(s+""))),o=bc(o,new w(m),d),w.precision=A,t==null?(ar=!0,Fn(o,A)):o;o=u,i+=2}}function t7(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=Ug(n/tr),e.d=[],r=(n+1)%tr,n<0&&(r+=tr),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=tr;r<i;)e.d.push(+t.slice(r,r+=tr));t=t.slice(r),r=tr-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),ar&&(e.e>tS||e.e<-tS))throw Error(K4+n)}else e.s=0,e.e=0,e.d=[0];return e}function Fn(e,t,n){var r,i,s,a,o,u,d,h,m=e.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(r=t-a,r<0)r+=tr,i=t,d=m[h=0];else{if(h=Math.ceil((r+1)/tr),s=m.length,h>=s)return e;for(d=s=m[h],a=1;s>=10;s/=10)a++;r%=tr,i=r-tr+a}if(n!==void 0&&(s=zd(10,a-i-1),o=d/s%10|0,u=t<0||m[h+1]!==void 0||d%s,u=n<4?(o||u)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||u||n==6&&(r>0?i>0?d/zd(10,a-i):0:m[h-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return u?(s=Xr(e),m.length=1,t=t-s-1,m[0]=zd(10,(tr-t%tr)%tr),e.e=Ug(-t/tr)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=h,s=1,h--):(m.length=h+1,s=zd(10,tr-r),m[h]=i>0?(d/zd(10,a-i)%zd(10,i)|0)*s:0),u)for(;;)if(h==0){(m[0]+=s)==pi&&(m[0]=1,++e.e);break}else{if(m[h]+=s,m[h]!=pi)break;m[h--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(ar&&(e.e>tS||e.e<-tS))throw Error(K4+Xr(e));return e}function nse(e,t){var n,r,i,s,a,o,u,d,h,m,y=e.constructor,b=y.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new y(e),ar?Fn(t,b):t;if(u=e.d,m=t.d,r=t.e,d=e.e,u=u.slice(),a=d-r,a){for(h=a<0,h?(n=u,a=-a,o=m.length):(n=m,r=d,o=u.length),i=Math.max(Math.ceil(b/tr),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=u.length,o=m.length,h=i<o,h&&(o=i),i=0;i<o;i++)if(u[i]!=m[i]){h=u[i]<m[i];break}a=0}for(h&&(n=u,u=m,m=n,t.s=-t.s),o=u.length,i=m.length-o;i>0;--i)u[o++]=0;for(i=m.length;i>a;){if(u[--i]<m[i]){for(s=i;s&&u[--s]===0;)u[s]=pi-1;--u[s],u[i]+=pi}u[i]-=m[i]}for(;u[--o]===0;)u.pop();for(;u[0]===0;u.shift())--r;return u[0]?(t.d=u,t.e=r,ar?Fn(t,b):t):new y(0)}function eh(e,t,n){var r,i=Xr(e),s=ml(e.d),a=s.length;return t?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+uu(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+uu(-i-1)+s,n&&(r=n-a)>0&&(s+=uu(r))):i>=a?(s+=uu(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+uu(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=uu(r))),e.s<0?"-"+s:s}function n7(e,t){if(e.length>t)return e.length=t,!0}function rse(e){var t,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Of+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return t7(a,s.toString())}else if(typeof s!="string")throw Error(Of+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,UVe.test(s))t7(a,s);else throw Error(Of+s)}if(i.prototype=lt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=rse,i.config=i.set=zVe,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function zVe(e){if(!e||typeof e!="object")throw Error(Ka+"Object expected");var t,n,r,i=["precision",1,$g,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(Ug(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Of+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Of+n+": "+r);return this}var X4=rse($Ve);ca=new X4(1);const Nn=X4;function VVe(e){return qVe(e)||GVe(e)||HVe(e)||WVe()}function WVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HVe(e,t){if(e){if(typeof e=="string")return SO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return SO(e,t)}}function GVe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function qVe(e){if(Array.isArray(e))return SO(e)}function SO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var KVe=function(t){return t},ise={"@@functional/placeholder":!0},sse=function(t){return t===ise},r7=function(t){return function n(){return arguments.length===0||arguments.length===1&&sse(arguments.length<=0?void 0:arguments[0])?n:t.apply(void 0,arguments)}},XVe=function e(t,n){return t===1?n:r7(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==ise}).length;return a>=t?n.apply(void 0,i):e(t-a,r7(function(){for(var o=arguments.length,u=new Array(o),d=0;d<o;d++)u[d]=arguments[d];var h=i.map(function(m){return sse(m)?u.shift():m});return n.apply(void 0,VVe(h).concat(u))}))})},OA=function(t){return XVe(t.length,t)},CO=function(t,n){for(var r=[],i=t;i<n;++i)r[i-t]=i;return r},YVe=OA(function(e,t){return Array.isArray(t)?t.map(e):Object.keys(t).map(function(n){return t[n]}).map(e)}),ZVe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return KVe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,u){return u(o)},s.apply(void 0,arguments))}},AO=function(t){return Array.isArray(t)?t.reverse():t.split("").reverse.join("")},ase=function(t){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,u){return o===n[u]})||(n=s,r=t.apply(void 0,s)),r}};function QVe(e){var t;return e===0?t=1:t=Math.floor(new Nn(e).abs().log(10).toNumber())+1,t}function JVe(e,t,n){for(var r=new Nn(e),i=0,s=[];r.lt(t)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var eWe=OA(function(e,t,n){var r=+e,i=+t;return r+n*(i-r)}),tWe=OA(function(e,t,n){var r=t-+e;return r=r||1/0,(n-e)/r}),nWe=OA(function(e,t,n){var r=t-+e;return r=r||1/0,Math.max(0,Math.min(1,(n-e)/r))});const jA={rangeStep:JVe,getDigitCount:QVe,interpolateNumber:eWe,uninterpolateNumber:tWe,uninterpolateTruncation:nWe};function EO(e){return sWe(e)||iWe(e)||ose(e)||rWe()}function rWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function iWe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function sWe(e){if(Array.isArray(e))return _O(e)}function k1(e,t){return lWe(e)||oWe(e,t)||ose(e,t)||aWe()}function aWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ose(e,t){if(e){if(typeof e=="string")return _O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _O(e,t)}}function _O(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oWe(e,t){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(e)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=e[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(t&&n.length===t));r=!0);}catch(u){i=!0,s=u}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function lWe(e){if(Array.isArray(e))return e}function lse(e){var t=k1(e,2),n=t[0],r=t[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function cse(e,t,n){if(e.lte(0))return new Nn(0);var r=jA.getDigitCount(e.toNumber()),i=new Nn(10).pow(r),s=e.div(i),a=r!==1?.05:.1,o=new Nn(Math.ceil(s.div(a).toNumber())).add(n).mul(a),u=o.mul(i);return t?u:new Nn(Math.ceil(u))}function cWe(e,t,n){var r=1,i=new Nn(e);if(!i.isint()&&n){var s=Math.abs(e);s<1?(r=new Nn(10).pow(jA.getDigitCount(e)-1),i=new Nn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new Nn(Math.floor(e)))}else e===0?i=new Nn(Math.floor((t-1)/2)):n||(i=new Nn(Math.floor(e)));var a=Math.floor((t-1)/2),o=ZVe(YVe(function(u){return i.add(new Nn(u-a).mul(r)).toNumber()}),CO);return o(0,t)}function use(e,t,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((t-e)/(n-1)))return{step:new Nn(0),tickMin:new Nn(0),tickMax:new Nn(0)};var s=cse(new Nn(t).sub(e).div(n-1),r,i),a;e<=0&&t>=0?a=new Nn(0):(a=new Nn(e).add(t).div(2),a=a.sub(new Nn(a).mod(s)));var o=Math.ceil(a.sub(e).div(s).toNumber()),u=Math.ceil(new Nn(t).sub(a).div(s).toNumber()),d=o+u+1;return d>n?use(e,t,n,r,i+1):(d<n&&(u=t>0?u+(n-d):u,o=t>0?o:o+(n-d)),{step:s,tickMin:a.sub(new Nn(o).mul(s)),tickMax:a.add(new Nn(u).mul(s))})}function uWe(e){var t=k1(e,2),n=t[0],r=t[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=lse([n,r]),u=k1(o,2),d=u[0],h=u[1];if(d===-1/0||h===1/0){var m=h===1/0?[d].concat(EO(CO(0,i-1).map(function(){return 1/0}))):[].concat(EO(CO(0,i-1).map(function(){return-1/0})),[h]);return n>r?AO(m):m}if(d===h)return cWe(d,i,s);var y=use(d,h,a,s),b=y.step,C=y.tickMin,w=y.tickMax,A=jA.rangeStep(C,w.add(new Nn(.1).mul(b)),b);return n>r?AO(A):A}function dWe(e,t){var n=k1(e,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=lse([r,i]),o=k1(a,2),u=o[0],d=o[1];if(u===-1/0||d===1/0)return[r,i];if(u===d)return[u];var h=Math.max(t,2),m=cse(new Nn(d).sub(u).div(h-1),s,0),y=[].concat(EO(jA.rangeStep(new Nn(u),new Nn(d).sub(new Nn(.99).mul(m)),m)),[d]);return r>i?AO(y):y}var fWe=ase(uWe),hWe=ase(dWe),pWe="Invariant failed";function th(e,t){throw new Error(pWe)}var mWe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Gm(e){"@babel/helpers - typeof";return Gm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gm(e)}function nS(){return nS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nS.apply(this,arguments)}function gWe(e,t){return bWe(e)||xWe(e,t)||vWe(e,t)||yWe()}function yWe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vWe(e,t){if(e){if(typeof e=="string")return i7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i7(e,t)}}function i7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function xWe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function bWe(e){if(Array.isArray(e))return e}function wWe(e,t){if(e==null)return{};var n=SWe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SWe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function CWe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function AWe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,hse(r.key),r)}}function EWe(e,t,n){return t&&AWe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function _We(e,t,n){return t=rS(t),TWe(e,dse()?Reflect.construct(t,n||[],rS(e).constructor):t.apply(e,n))}function TWe(e,t){if(t&&(Gm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return NWe(e)}function NWe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function dse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(dse=function(){return!!e})()}function rS(e){return rS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rS(e)}function PWe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&TO(e,t)}function TO(e,t){return TO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TO(e,t)}function fse(e,t,n){return t=hse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hse(e){var t=OWe(e,"string");return Gm(t)=="symbol"?t:t+""}function OWe(e,t){if(Gm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Gm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fx=function(e){function t(){return CWe(this,t),_We(this,t,arguments)}return PWe(t,e),EWe(t,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,u=r.data,d=r.dataPointFormatter,h=r.xAxis,m=r.yAxis,y=wWe(r,mWe),b=Nt(y,!1);this.props.direction==="x"&&h.type!=="number"&&th();var C=u.map(function(w){var A=d(w,o),_=A.x,E=A.y,N=A.value,I=A.errorVal;if(!I)return null;var O=[],k,M;if(Array.isArray(I)){var R=gWe(I,2);k=R[0],M=R[1]}else k=M=I;if(s==="vertical"){var L=h.scale,U=E+i,X=U+a,F=U-a,V=L(N-k),Z=L(N+M);O.push({x1:Z,y1:X,x2:Z,y2:F}),O.push({x1:V,y1:U,x2:Z,y2:U}),O.push({x1:V,y1:X,x2:V,y2:F})}else if(s==="horizontal"){var H=m.scale,q=_+i,G=q-a,W=q+a,oe=H(N-k),J=H(N+M);O.push({x1:G,y1:J,x2:W,y2:J}),O.push({x1:q,y1:oe,x2:q,y2:J}),O.push({x1:G,y1:oe,x2:W,y2:oe})}return te.createElement(yn,nS({className:"recharts-errorBar",key:"bar-".concat(O.map(function(Y){return"".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))},b),O.map(function(Y){return te.createElement("line",nS({},Y,{key:"line-".concat(Y.x1,"-").concat(Y.x2,"-").concat(Y.y1,"-").concat(Y.y2)}))}))});return te.createElement(yn,{className:"recharts-errorBars"},C)}}])}(te.Component);fse(fx,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});fse(fx,"displayName","ErrorBar");function I1(e){"@babel/helpers - typeof";return I1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},I1(e)}function s7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Od(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?s7(Object(n),!0).forEach(function(r){jWe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jWe(e,t,n){return t=kWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kWe(e){var t=IWe(e,"string");return I1(t)=="symbol"?t:t+""}function IWe(e,t){if(I1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(I1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pse=function(t){var n=t.children,r=t.formattedGraphicalItems,i=t.legendWidth,s=t.legendContent,a=ia(n,Nf);if(!a)return null;var o=Nf.defaultProps,u=o!==void 0?Od(Od({},o),a.props):{},d;return a.props&&a.props.payload?d=a.props&&a.props.payload:s==="children"?d=(r||[]).reduce(function(h,m){var y=m.item,b=m.props,C=b.sectors||b.data||[];return h.concat(C.map(function(w){return{type:a.props.iconType||y.props.legendType,value:w.name,color:w.fill,payload:w}}))},[]):d=(r||[]).map(function(h){var m=h.item,y=m.type.defaultProps,b=y!==void 0?Od(Od({},y),m.props):{},C=b.dataKey,w=b.name,A=b.legendType,_=b.hide;return{inactive:_,dataKey:C,type:u.iconType||A||"square",color:Y4(m),value:w||C,payload:b}}),Od(Od(Od({},u),Nf.getWithHeight(a,i)),{},{payload:d,item:a})};function M1(e){"@babel/helpers - typeof";return M1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},M1(e)}function a7(e){return FWe(e)||RWe(e)||DWe(e)||MWe()}function MWe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function DWe(e,t){if(e){if(typeof e=="string")return NO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return NO(e,t)}}function RWe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function FWe(e){if(Array.isArray(e))return NO(e)}function NO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ar(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o7(Object(n),!0).forEach(function(r){kp(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function kp(e,t,n){return t=LWe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LWe(e){var t=BWe(e,"string");return M1(t)=="symbol"?t:t+""}function BWe(e,t){if(M1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(M1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ai(e,t,n){return zt(e)||zt(t)?n:li(t)?ya(e,t,n):Lt(t)?t(e):n}function vy(e,t,n,r){var i=RVe(e,function(o){return ai(o,t)});if(n==="number"){var s=i.filter(function(o){return Xe(o)||parseFloat(o)});return s.length?[PA(s),NA(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!zt(o)}):i;return a.map(function(o){return li(o)||o instanceof Date?o:""})}var $We=function(t){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var u=s.range,d=0;d<o;d++){var h=d>0?i[d-1].coordinate:i[o-1].coordinate,m=i[d].coordinate,y=d>=o-1?i[0].coordinate:i[d+1].coordinate,b=void 0;if(ps(m-h)!==ps(y-m)){var C=[];if(ps(y-m)===ps(u[1]-u[0])){b=y;var w=m+u[1]-u[0];C[0]=Math.min(w,(w+h)/2),C[1]=Math.max(w,(w+h)/2)}else{b=h;var A=y+u[1]-u[0];C[0]=Math.min(m,(A+m)/2),C[1]=Math.max(m,(A+m)/2)}var _=[Math.min(m,(b+m)/2),Math.max(m,(b+m)/2)];if(t>_[0]&&t<=_[1]||t>=C[0]&&t<=C[1]){a=i[d].index;break}}else{var E=Math.min(h,y),N=Math.max(h,y);if(t>(E+m)/2&&t<=(N+m)/2){a=i[d].index;break}}}else for(var I=0;I<o;I++)if(I===0&&t<=(r[I].coordinate+r[I+1].coordinate)/2||I>0&&I<o-1&&t>(r[I].coordinate+r[I-1].coordinate)/2&&t<=(r[I].coordinate+r[I+1].coordinate)/2||I===o-1&&t>(r[I].coordinate+r[I-1].coordinate)/2){a=r[I].index;break}return a},Y4=function(t){var n,r=t,i=r.type.displayName,s=(n=t.type)!==null&&n!==void 0&&n.defaultProps?Ar(Ar({},t.type.defaultProps),t.props):t.props,a=s.stroke,o=s.fill,u;switch(i){case"Line":u=a;break;case"Area":case"Radar":u=a&&a!=="none"?a:o;break;default:u=o;break}return u},UWe=function(t){var n=t.barSize,r=t.totalSize,i=t.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),u=0,d=o.length;u<d;u++)for(var h=s[o[u]].stackGroups,m=Object.keys(h),y=0,b=m.length;y<b;y++){var C=h[m[y]],w=C.items,A=C.cateAxisId,_=w.filter(function(M){return xc(M.type).indexOf("Bar")>=0});if(_&&_.length){var E=_[0].type.defaultProps,N=E!==void 0?Ar(Ar({},E),_[0].props):_[0].props,I=N.barSize,O=N[A];a[O]||(a[O]=[]);var k=zt(I)?n:I;a[O].push({item:_[0],stackList:_.slice(1),barSize:zt(k)?void 0:ms(k,r,0)})}}return a},zWe=function(t){var n=t.barGap,r=t.barCategoryGap,i=t.bandSize,s=t.sizeList,a=s===void 0?[]:s,o=t.maxBarSize,u=a.length;if(u<1)return null;var d=ms(n,i,0,!0),h,m=[];if(a[0].barSize===+a[0].barSize){var y=!1,b=i/u,C=a.reduce(function(I,O){return I+O.barSize||0},0);C+=(u-1)*d,C>=i&&(C-=(u-1)*d,d=0),C>=i&&b>0&&(y=!0,b*=.9,C=u*b);var w=(i-C)/2>>0,A={offset:w-d,size:0};h=a.reduce(function(I,O){var k={item:O.item,position:{offset:A.offset+A.size+d,size:y?b:O.barSize}},M=[].concat(a7(I),[k]);return A=M[M.length-1].position,O.stackList&&O.stackList.length&&O.stackList.forEach(function(R){M.push({item:R,position:A})}),M},m)}else{var _=ms(r,i,0,!0);i-2*_-(u-1)*d<=0&&(d=0);var E=(i-2*_-(u-1)*d)/u;E>1&&(E>>=0);var N=o===+o?Math.min(E,o):E;h=a.reduce(function(I,O,k){var M=[].concat(a7(I),[{item:O.item,position:{offset:_+(E+d)*k+(E-N)/2,size:N}}]);return O.stackList&&O.stackList.length&&O.stackList.forEach(function(R){M.push({item:R,position:M[M.length-1].position})}),M},m)}return h},VWe=function(t,n,r,i){var s=r.children,a=r.width,o=r.margin,u=a-(o.left||0)-(o.right||0),d=pse({children:s,legendWidth:u});if(d){var h=i||{},m=h.width,y=h.height,b=d.align,C=d.verticalAlign,w=d.layout;if((w==="vertical"||w==="horizontal"&&C==="middle")&&b!=="center"&&Xe(t[b]))return Ar(Ar({},t),{},kp({},b,t[b]+(m||0)));if((w==="horizontal"||w==="vertical"&&b==="center")&&C!=="middle"&&Xe(t[C]))return Ar(Ar({},t),{},kp({},C,t[C]+(y||0)))}return t},WWe=function(t,n,r){return zt(n)?!0:t==="horizontal"?n==="yAxis":t==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},mse=function(t,n,r,i,s){var a=n.props.children,o=va(a,fx).filter(function(d){return WWe(i,s,d.props.direction)});if(o&&o.length){var u=o.map(function(d){return d.props.dataKey});return t.reduce(function(d,h){var m=ai(h,r);if(zt(m))return d;var y=Array.isArray(m)?[PA(m),NA(m)]:[m,m],b=u.reduce(function(C,w){var A=ai(h,w,0),_=y[0]-Math.abs(Array.isArray(A)?A[0]:A),E=y[1]+Math.abs(Array.isArray(A)?A[1]:A);return[Math.min(_,C[0]),Math.max(E,C[1])]},[1/0,-1/0]);return[Math.min(b[0],d[0]),Math.max(b[1],d[1])]},[1/0,-1/0])}return null},HWe=function(t,n,r,i,s){var a=n.map(function(o){return mse(t,o,r,s,i)}).filter(function(o){return!zt(o)});return a&&a.length?a.reduce(function(o,u){return[Math.min(o[0],u[0]),Math.max(o[1],u[1])]},[1/0,-1/0]):null},gse=function(t,n,r,i,s){var a=n.map(function(u){var d=u.props.dataKey;return r==="number"&&d&&mse(t,u,d,i)||vy(t,d,r,s)});if(r==="number")return a.reduce(function(u,d){return[Math.min(u[0],d[0]),Math.max(u[1],d[1])]},[1/0,-1/0]);var o={};return a.reduce(function(u,d){for(var h=0,m=d.length;h<m;h++)o[d[h]]||(o[d[h]]=!0,u.push(d[h]));return u},[])},yse=function(t,n){return t==="horizontal"&&n==="xAxis"||t==="vertical"&&n==="yAxis"||t==="centric"&&n==="angleAxis"||t==="radial"&&n==="radiusAxis"},vse=function(t,n,r,i){if(i)return t.map(function(u){return u.coordinate});var s,a,o=t.map(function(u){return u.coordinate===n&&(s=!0),u.coordinate===r&&(a=!0),u.coordinate});return s||o.push(n),a||o.push(r),o},hc=function(t,n,r){if(!t)return null;var i=t.scale,s=t.duplicateDomain,a=t.type,o=t.range,u=t.realScaleType==="scaleBand"?i.bandwidth()/2:2,d=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/u:0;if(d=t.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?ps(o[0]-o[1])*2*d:d,n&&(t.ticks||t.niceTicks)){var h=(t.ticks||t.niceTicks).map(function(m){var y=s?s.indexOf(m):m;return{coordinate:i(y)+d,value:m,offset:d}});return h.filter(function(m){return!sx(m.coordinate)})}return t.isCategorical&&t.categoricalDomain?t.categoricalDomain.map(function(m,y){return{coordinate:i(m)+d,value:m,index:y,offset:d}}):i.ticks&&!r?i.ticks(t.tickCount).map(function(m){return{coordinate:i(m)+d,value:m,offset:d}}):i.domain().map(function(m,y){return{coordinate:i(m)+d,value:s?s[m]:m,index:y,offset:d}})},Z_=new WeakMap,Sb=function(t,n){if(typeof n!="function")return t;Z_.has(t)||Z_.set(t,new WeakMap);var r=Z_.get(t);if(r.has(n))return r.get(n);var i=function(){t.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},xse=function(t,n,r){var i=t.scale,s=t.type,a=t.layout,o=t.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:_1(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:Z2(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:yy(),realScaleType:"point"}:s==="category"?{scale:_1(),realScaleType:"band"}:{scale:Z2(),realScaleType:"linear"};if(ix(i)){var u="scale".concat(pA(i));return{scale:(e7[u]||yy)(),realScaleType:e7[u]?u:"point"}}return Lt(i)?{scale:i}:{scale:yy(),realScaleType:"point"}},l7=1e-4,bse=function(t){var n=t.domain();if(!(!n||n.length<=2)){var r=n.length,i=t.range(),s=Math.min(i[0],i[1])-l7,a=Math.max(i[0],i[1])+l7,o=t(n[0]),u=t(n[r-1]);(o<s||o>a||u<s||u>a)&&t.domain([n[0],n[r-1]])}},GWe=function(t,n){if(!t)return null;for(var r=0,i=t.length;r<i;r++)if(t[r].item===n)return t[r].position;return null},qWe=function(t,n){if(!n||n.length!==2||!Xe(n[0])||!Xe(n[1]))return t;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[t[0],t[1]];return(!Xe(t[0])||t[0]<r)&&(s[0]=r),(!Xe(t[1])||t[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},KWe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var u=sx(t[o][r][1])?t[o][r][0]:t[o][r][1];u>=0?(t[o][r][0]=s,t[o][r][1]=s+u,s=t[o][r][1]):(t[o][r][0]=a,t[o][r][1]=a+u,a=t[o][r][1])}},XWe=function(t){var n=t.length;if(!(n<=0))for(var r=0,i=t[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=sx(t[a][r][1])?t[a][r][0]:t[a][r][1];o>=0?(t[a][r][0]=s,t[a][r][1]=s+o,s=t[a][r][1]):(t[a][r][0]=0,t[a][r][1]=0)}},YWe={sign:KWe,expand:VRe,none:Lm,silhouette:WRe,wiggle:HRe,positive:XWe},ZWe=function(t,n,r){var i=n.map(function(o){return o.props.dataKey}),s=YWe[r],a=zRe().keys(i).value(function(o,u){return+ai(o,u,0)}).order(JP).offset(s);return a(t)},QWe=function(t,n,r,i,s,a){if(!t)return null;var o=a?n.reverse():n,u={},d=o.reduce(function(m,y){var b,C=(b=y.type)!==null&&b!==void 0&&b.defaultProps?Ar(Ar({},y.type.defaultProps),y.props):y.props,w=C.stackId,A=C.hide;if(A)return m;var _=C[r],E=m[_]||{hasStack:!1,stackGroups:{}};if(li(w)){var N=E.stackGroups[w]||{numericAxisId:r,cateAxisId:i,items:[]};N.items.push(y),E.hasStack=!0,E.stackGroups[w]=N}else E.stackGroups[Dg("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[y]};return Ar(Ar({},m),{},kp({},_,E))},u),h={};return Object.keys(d).reduce(function(m,y){var b=d[y];if(b.hasStack){var C={};b.stackGroups=Object.keys(b.stackGroups).reduce(function(w,A){var _=b.stackGroups[A];return Ar(Ar({},w),{},kp({},A,{numericAxisId:r,cateAxisId:i,items:_.items,stackedData:ZWe(t,_.items,s)}))},C)}return Ar(Ar({},m),{},kp({},y,b))},h)},wse=function(t,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,u=r||n.scale;if(u!=="auto"&&u!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var d=t.domain();if(!d.length)return null;var h=fWe(d,s,o);return t.domain([PA(h),NA(h)]),{niceTicks:h}}if(s&&i==="number"){var m=t.domain(),y=hWe(m,s,o);return{niceTicks:y}}return null};function c7(e){var t=e.axis,n=e.ticks,r=e.bandSize,i=e.entry,s=e.index,a=e.dataKey;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!zt(i[t.dataKey])){var o=O2(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var u=ai(i,zt(a)?t.dataKey:a);return zt(u)?null:t.scale(u)}var u7=function(t){var n=t.axis,r=t.ticks,i=t.offset,s=t.bandSize,a=t.entry,o=t.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var u=ai(a,n.dataKey,n.domain[o]);return zt(u)?null:n.scale(u)-s/2+i},JWe=function(t){var n=t.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},eHe=function(t,n){var r,i=(r=t.type)!==null&&r!==void 0&&r.defaultProps?Ar(Ar({},t.type.defaultProps),t.props):t.props,s=i.stackId;if(li(s)){var a=n[s];if(a){var o=a.items.indexOf(t);return o>=0?a.stackedData[o]:null}}return null},tHe=function(t){return t.reduce(function(n,r){return[PA(r.concat([n[0]]).filter(Xe)),NA(r.concat([n[1]]).filter(Xe))]},[1/0,-1/0])},Sse=function(t,n,r){return Object.keys(t).reduce(function(i,s){var a=t[s],o=a.stackedData,u=o.reduce(function(d,h){var m=tHe(h.slice(n,r+1));return[Math.min(d[0],m[0]),Math.max(d[1],m[1])]},[1/0,-1/0]);return[Math.min(u[0],i[0]),Math.max(u[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},d7=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,f7=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,PO=function(t,n,r){if(Lt(t))return t(n,r);if(!Array.isArray(t))return n;var i=[];if(Xe(t[0]))i[0]=r?t[0]:Math.min(t[0],n[0]);else if(d7.test(t[0])){var s=+d7.exec(t[0])[1];i[0]=n[0]-s}else Lt(t[0])?i[0]=t[0](n[0]):i[0]=n[0];if(Xe(t[1]))i[1]=r?t[1]:Math.max(t[1],n[1]);else if(f7.test(t[1])){var a=+f7.exec(t[1])[1];i[1]=n[1]+a}else Lt(t[1])?i[1]=t[1](n[1]):i[1]=n[1];return i},iS=function(t,n,r){if(t&&t.scale&&t.scale.bandwidth){var i=t.scale.bandwidth();if(!r||i>0)return i}if(t&&n&&n.length>=2){for(var s=A4(n,function(m){return m.coordinate}),a=1/0,o=1,u=s.length;o<u;o++){var d=s[o],h=s[o-1];a=Math.min((d.coordinate||0)-(h.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},h7=function(t,n,r){return!t||!t.length||dx(t,ya(r,"type.defaultProps.domain"))?n:t},Cse=function(t,n){var r=t.type.defaultProps?Ar(Ar({},t.type.defaultProps),t.props):t.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,u=r.tooltipType,d=r.chartType,h=r.hide;return Ar(Ar({},Nt(t,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:Y4(t),value:ai(n,i),type:u,payload:n,chartType:d,hide:h})};function D1(e){"@babel/helpers - typeof";return D1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},D1(e)}function p7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xl(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p7(Object(n),!0).forEach(function(r){Ase(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ase(e,t,n){return t=nHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nHe(e){var t=rHe(e,"string");return D1(t)=="symbol"?t:t+""}function rHe(e,t){if(D1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(D1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iHe(e,t){return lHe(e)||oHe(e,t)||aHe(e,t)||sHe()}function sHe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aHe(e,t){if(e){if(typeof e=="string")return m7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return m7(e,t)}}function m7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function oHe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function lHe(e){if(Array.isArray(e))return e}var sS=Math.PI/180,cHe=function(t){return t*180/Math.PI},Gn=function(t,n,r,i){return{x:t+Math.cos(-sS*i)*r,y:n+Math.sin(-sS*i)*r}},Ese=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},uHe=function(t,n,r,i,s){var a=t.width,o=t.height,u=t.startAngle,d=t.endAngle,h=ms(t.cx,a,a/2),m=ms(t.cy,o,o/2),y=Ese(a,o,r),b=ms(t.innerRadius,y,0),C=ms(t.outerRadius,y,y*.8),w=Object.keys(n);return w.reduce(function(A,_){var E=n[_],N=E.domain,I=E.reversed,O;if(zt(E.range))i==="angleAxis"?O=[u,d]:i==="radiusAxis"&&(O=[b,C]),I&&(O=[O[1],O[0]]);else{O=E.range;var k=O,M=iHe(k,2);u=M[0],d=M[1]}var R=xse(E,s),L=R.realScaleType,U=R.scale;U.domain(N).range(O),bse(U);var X=wse(U,Xl(Xl({},E),{},{realScaleType:L})),F=Xl(Xl(Xl({},E),X),{},{range:O,radius:C,realScaleType:L,scale:U,cx:h,cy:m,innerRadius:b,outerRadius:C,startAngle:u,endAngle:d});return Xl(Xl({},A),{},Ase({},_,F))},{})},dHe=function(t,n){var r=t.x,i=t.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},fHe=function(t,n){var r=t.x,i=t.y,s=n.cx,a=n.cy,o=dHe({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var u=(r-s)/o,d=Math.acos(u);return i>a&&(d=2*Math.PI-d),{radius:o,angle:cHe(d),angleInRadian:d}},hHe=function(t){var n=t.startAngle,r=t.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},pHe=function(t,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return t+o*360},g7=function(t,n){var r=t.x,i=t.y,s=fHe({x:r,y:i},n),a=s.radius,o=s.angle,u=n.innerRadius,d=n.outerRadius;if(a<u||a>d)return!1;if(a===0)return!0;var h=hHe(n),m=h.startAngle,y=h.endAngle,b=o,C;if(m<=y){for(;b>y;)b-=360;for(;b<m;)b+=360;C=b>=m&&b<=y}else{for(;b>m;)b-=360;for(;b<y;)b+=360;C=b>=y&&b<=m}return C?Xl(Xl({},n),{},{radius:a,angle:pHe(b,n)}):null},_se=function(t){return!T.isValidElement(t)&&!Lt(t)&&typeof t!="boolean"?t.className:""};function R1(e){"@babel/helpers - typeof";return R1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},R1(e)}var mHe=["offset"];function gHe(e){return bHe(e)||xHe(e)||vHe(e)||yHe()}function yHe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vHe(e,t){if(e){if(typeof e=="string")return OO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return OO(e,t)}}function xHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function bHe(e){if(Array.isArray(e))return OO(e)}function OO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function wHe(e,t){if(e==null)return{};var n=SHe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function SHe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?y7(Object(n),!0).forEach(function(r){CHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function CHe(e,t,n){return t=AHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function AHe(e){var t=EHe(e,"string");return R1(t)=="symbol"?t:t+""}function EHe(e,t){if(R1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(R1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function F1(){return F1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F1.apply(this,arguments)}var _He=function(t){var n=t.value,r=t.formatter,i=zt(t.children)?n:t.children;return Lt(r)?r(i):i},THe=function(t,n){var r=ps(n-t),i=Math.min(Math.abs(n-t),360);return r*i},NHe=function(t,n,r){var i=t.position,s=t.viewBox,a=t.offset,o=t.className,u=s,d=u.cx,h=u.cy,m=u.innerRadius,y=u.outerRadius,b=u.startAngle,C=u.endAngle,w=u.clockWise,A=(m+y)/2,_=THe(b,C),E=_>=0?1:-1,N,I;i==="insideStart"?(N=b+E*a,I=w):i==="insideEnd"?(N=C-E*a,I=!w):i==="end"&&(N=C+E*a,I=w),I=_<=0?I:!I;var O=Gn(d,h,A,N),k=Gn(d,h,A,N+(I?1:-1)*359),M="M".concat(O.x,",").concat(O.y,`
    A`).concat(A,",").concat(A,",0,1,").concat(I?0:1,`,
    `).concat(k.x,",").concat(k.y),R=zt(t.id)?Dg("recharts-radial-line-"):t.id;return te.createElement("text",F1({},r,{dominantBaseline:"central",className:Gt("recharts-radial-bar-label",o)}),te.createElement("defs",null,te.createElement("path",{id:R,d:M})),te.createElement("textPath",{xlinkHref:"#".concat(R)},n))},PHe=function(t){var n=t.viewBox,r=t.offset,i=t.position,s=n,a=s.cx,o=s.cy,u=s.innerRadius,d=s.outerRadius,h=s.startAngle,m=s.endAngle,y=(h+m)/2;if(i==="outside"){var b=Gn(a,o,d+r,y),C=b.x,w=b.y;return{x:C,y:w,textAnchor:C>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var A=(u+d)/2,_=Gn(a,o,A,y),E=_.x,N=_.y;return{x:E,y:N,textAnchor:"middle",verticalAnchor:"middle"}},OHe=function(t){var n=t.viewBox,r=t.parentViewBox,i=t.offset,s=t.position,a=n,o=a.x,u=a.y,d=a.width,h=a.height,m=h>=0?1:-1,y=m*i,b=m>0?"end":"start",C=m>0?"start":"end",w=d>=0?1:-1,A=w*i,_=w>0?"end":"start",E=w>0?"start":"end";if(s==="top"){var N={x:o+d/2,y:u-m*i,textAnchor:"middle",verticalAnchor:b};return ti(ti({},N),r?{height:Math.max(u-r.y,0),width:d}:{})}if(s==="bottom"){var I={x:o+d/2,y:u+h+y,textAnchor:"middle",verticalAnchor:C};return ti(ti({},I),r?{height:Math.max(r.y+r.height-(u+h),0),width:d}:{})}if(s==="left"){var O={x:o-A,y:u+h/2,textAnchor:_,verticalAnchor:"middle"};return ti(ti({},O),r?{width:Math.max(O.x-r.x,0),height:h}:{})}if(s==="right"){var k={x:o+d+A,y:u+h/2,textAnchor:E,verticalAnchor:"middle"};return ti(ti({},k),r?{width:Math.max(r.x+r.width-k.x,0),height:h}:{})}var M=r?{width:d,height:h}:{};return s==="insideLeft"?ti({x:o+A,y:u+h/2,textAnchor:E,verticalAnchor:"middle"},M):s==="insideRight"?ti({x:o+d-A,y:u+h/2,textAnchor:_,verticalAnchor:"middle"},M):s==="insideTop"?ti({x:o+d/2,y:u+y,textAnchor:"middle",verticalAnchor:C},M):s==="insideBottom"?ti({x:o+d/2,y:u+h-y,textAnchor:"middle",verticalAnchor:b},M):s==="insideTopLeft"?ti({x:o+A,y:u+y,textAnchor:E,verticalAnchor:C},M):s==="insideTopRight"?ti({x:o+d-A,y:u+y,textAnchor:_,verticalAnchor:C},M):s==="insideBottomLeft"?ti({x:o+A,y:u+h-y,textAnchor:E,verticalAnchor:b},M):s==="insideBottomRight"?ti({x:o+d-A,y:u+h-y,textAnchor:_,verticalAnchor:b},M):_g(s)&&(Xe(s.x)||Jd(s.x))&&(Xe(s.y)||Jd(s.y))?ti({x:o+ms(s.x,d),y:u+ms(s.y,h),textAnchor:"end",verticalAnchor:"end"},M):ti({x:o+d/2,y:u+h/2,textAnchor:"middle",verticalAnchor:"middle"},M)},jHe=function(t){return"cx"in t&&Xe(t.cx)};function gi(e){var t=e.offset,n=t===void 0?5:t,r=wHe(e,mHe),i=ti({offset:n},r),s=i.viewBox,a=i.position,o=i.value,u=i.children,d=i.content,h=i.className,m=h===void 0?"":h,y=i.textBreakAll;if(!s||zt(o)&&zt(u)&&!T.isValidElement(d)&&!Lt(d))return null;if(T.isValidElement(d))return T.cloneElement(d,i);var b;if(Lt(d)){if(b=T.createElement(d,i),T.isValidElement(b))return b}else b=_He(i);var C=jHe(s),w=Nt(i,!0);if(C&&(a==="insideStart"||a==="insideEnd"||a==="end"))return NHe(i,b,w);var A=C?PHe(i):OHe(i);return te.createElement(Jf,F1({className:Gt("recharts-label",m)},w,A,{breakAll:y}),b)}gi.displayName="Label";var Tse=function(t){var n=t.cx,r=t.cy,i=t.angle,s=t.startAngle,a=t.endAngle,o=t.r,u=t.radius,d=t.innerRadius,h=t.outerRadius,m=t.x,y=t.y,b=t.top,C=t.left,w=t.width,A=t.height,_=t.clockWise,E=t.labelViewBox;if(E)return E;if(Xe(w)&&Xe(A)){if(Xe(m)&&Xe(y))return{x:m,y,width:w,height:A};if(Xe(b)&&Xe(C))return{x:b,y:C,width:w,height:A}}return Xe(m)&&Xe(y)?{x:m,y,width:0,height:0}:Xe(n)&&Xe(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:d||0,outerRadius:h||u||o||0,clockWise:_}:t.viewBox?t.viewBox:{}},kHe=function(t,n){return t?t===!0?te.createElement(gi,{key:"label-implicit",viewBox:n}):li(t)?te.createElement(gi,{key:"label-implicit",viewBox:n,value:t}):T.isValidElement(t)?t.type===gi?T.cloneElement(t,{key:"label-implicit",viewBox:n}):te.createElement(gi,{key:"label-implicit",content:t,viewBox:n}):Lt(t)?te.createElement(gi,{key:"label-implicit",content:t,viewBox:n}):_g(t)?te.createElement(gi,F1({viewBox:n},t,{key:"label-implicit"})):null:null},IHe=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&r&&!t.label)return null;var i=t.children,s=Tse(t),a=va(i,gi).map(function(u,d){return T.cloneElement(u,{viewBox:n||s,key:"label-".concat(d)})});if(!r)return a;var o=kHe(t.label,n||s);return[o].concat(gHe(a))};gi.parseViewBox=Tse;gi.renderCallByParent=IHe;function MHe(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var DHe=MHe;const RHe=en(DHe);function L1(e){"@babel/helpers - typeof";return L1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},L1(e)}var FHe=["valueAccessor"],LHe=["data","dataKey","clockWise","id","textBreakAll"];function BHe(e){return VHe(e)||zHe(e)||UHe(e)||$He()}function $He(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UHe(e,t){if(e){if(typeof e=="string")return jO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jO(e,t)}}function zHe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function VHe(e){if(Array.isArray(e))return jO(e)}function jO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function aS(){return aS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aS.apply(this,arguments)}function v7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function x7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v7(Object(n),!0).forEach(function(r){WHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function WHe(e,t,n){return t=HHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HHe(e){var t=GHe(e,"string");return L1(t)=="symbol"?t:t+""}function GHe(e,t){if(L1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(L1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function b7(e,t){if(e==null)return{};var n=qHe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function qHe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var KHe=function(t){return Array.isArray(t.value)?RHe(t.value):t.value};function wc(e){var t=e.valueAccessor,n=t===void 0?KHe:t,r=b7(e,FHe),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,u=r.textBreakAll,d=b7(r,LHe);return!i||!i.length?null:te.createElement(yn,{className:"recharts-label-list"},i.map(function(h,m){var y=zt(s)?n(h,m):ai(h&&h.payload,s),b=zt(o)?{}:{id:"".concat(o,"-").concat(m)};return te.createElement(gi,aS({},Nt(h,!0),d,b,{parentViewBox:h.parentViewBox,value:y,textBreakAll:u,viewBox:gi.parseViewBox(zt(a)?h:x7(x7({},h),{},{clockWise:a})),key:"label-".concat(m),index:m}))}))}wc.displayName="LabelList";function XHe(e,t){return e?e===!0?te.createElement(wc,{key:"labelList-implicit",data:t}):te.isValidElement(e)||Lt(e)?te.createElement(wc,{key:"labelList-implicit",data:t,content:e}):_g(e)?te.createElement(wc,aS({data:t},e,{key:"labelList-implicit"})):null:null}function YHe(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&n&&!e.label)return null;var r=e.children,i=va(r,wc).map(function(a,o){return T.cloneElement(a,{data:t,key:"labelList-".concat(o)})});if(!n)return i;var s=XHe(e.label,t);return[s].concat(BHe(i))}wc.renderCallByParent=YHe;function B1(e){"@babel/helpers - typeof";return B1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},B1(e)}function kO(){return kO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},kO.apply(this,arguments)}function w7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function S7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?w7(Object(n),!0).forEach(function(r){ZHe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function ZHe(e,t,n){return t=QHe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QHe(e){var t=JHe(e,"string");return B1(t)=="symbol"?t:t+""}function JHe(e,t){if(B1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(B1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var eGe=function(t,n){var r=ps(n-t),i=Math.min(Math.abs(n-t),359.999);return r*i},Cb=function(t){var n=t.cx,r=t.cy,i=t.radius,s=t.angle,a=t.sign,o=t.isExternal,u=t.cornerRadius,d=t.cornerIsExternal,h=u*(o?1:-1)+i,m=Math.asin(u/h)/sS,y=d?s:s+a*m,b=Gn(n,r,h,y),C=Gn(n,r,i,y),w=d?s-a*m:s,A=Gn(n,r,h*Math.cos(m*sS),w);return{center:b,circleTangency:C,lineTangency:A,theta:m}},Nse=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,s=t.outerRadius,a=t.startAngle,o=t.endAngle,u=eGe(a,o),d=a+u,h=Gn(n,r,s,a),m=Gn(n,r,s,d),y="M ".concat(h.x,",").concat(h.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(u)>180),",").concat(+(a>d),`,
    `).concat(m.x,",").concat(m.y,`
  `);if(i>0){var b=Gn(n,r,i,a),C=Gn(n,r,i,d);y+="L ".concat(C.x,",").concat(C.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(u)>180),",").concat(+(a<=d),`,
            `).concat(b.x,",").concat(b.y," Z")}else y+="L ".concat(n,",").concat(r," Z");return y},tGe=function(t){var n=t.cx,r=t.cy,i=t.innerRadius,s=t.outerRadius,a=t.cornerRadius,o=t.forceCornerRadius,u=t.cornerIsExternal,d=t.startAngle,h=t.endAngle,m=ps(h-d),y=Cb({cx:n,cy:r,radius:s,angle:d,sign:m,cornerRadius:a,cornerIsExternal:u}),b=y.circleTangency,C=y.lineTangency,w=y.theta,A=Cb({cx:n,cy:r,radius:s,angle:h,sign:-m,cornerRadius:a,cornerIsExternal:u}),_=A.circleTangency,E=A.lineTangency,N=A.theta,I=u?Math.abs(d-h):Math.abs(d-h)-w-N;if(I<0)return o?"M ".concat(C.x,",").concat(C.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):Nse({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:d,endAngle:h});var O="M ".concat(C.x,",").concat(C.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(b.x,",").concat(b.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(I>180),",").concat(+(m<0),",").concat(_.x,",").concat(_.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(E.x,",").concat(E.y,`
  `);if(i>0){var k=Cb({cx:n,cy:r,radius:i,angle:d,sign:m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),M=k.circleTangency,R=k.lineTangency,L=k.theta,U=Cb({cx:n,cy:r,radius:i,angle:h,sign:-m,isExternal:!0,cornerRadius:a,cornerIsExternal:u}),X=U.circleTangency,F=U.lineTangency,V=U.theta,Z=u?Math.abs(d-h):Math.abs(d-h)-L-V;if(Z<0&&a===0)return"".concat(O,"L").concat(n,",").concat(r,"Z");O+="L".concat(F.x,",").concat(F.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(X.x,",").concat(X.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(Z>180),",").concat(+(m>0),",").concat(M.x,",").concat(M.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(m<0),",").concat(R.x,",").concat(R.y,"Z")}else O+="L".concat(n,",").concat(r,"Z");return O},nGe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Pse=function(t){var n=S7(S7({},nGe),t),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,u=n.forceCornerRadius,d=n.cornerIsExternal,h=n.startAngle,m=n.endAngle,y=n.className;if(a<s||h===m)return null;var b=Gt("recharts-sector",y),C=a-s,w=ms(o,C,0,!0),A;return w>0&&Math.abs(h-m)<360?A=tGe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(w,C/2),forceCornerRadius:u,cornerIsExternal:d,startAngle:h,endAngle:m}):A=Nse({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:h,endAngle:m}),te.createElement("path",kO({},Nt(n,!0),{className:b,d:A,role:"img"}))};function $1(e){"@babel/helpers - typeof";return $1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},$1(e)}function IO(){return IO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},IO.apply(this,arguments)}function C7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function A7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C7(Object(n),!0).forEach(function(r){rGe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rGe(e,t,n){return t=iGe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iGe(e){var t=sGe(e,"string");return $1(t)=="symbol"?t:t+""}function sGe(e,t){if($1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if($1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var E7={curveBasisClosed:jRe,curveBasisOpen:kRe,curveBasis:ORe,curveBumpX:gRe,curveBumpY:yRe,curveLinearClosed:IRe,curveLinear:gA,curveMonotoneX:MRe,curveMonotoneY:DRe,curveNatural:RRe,curveStep:FRe,curveStepAfter:BRe,curveStepBefore:LRe},Ab=function(t){return t.x===+t.x&&t.y===+t.y},N0=function(t){return t.x},P0=function(t){return t.y},aGe=function(t,n){if(Lt(t))return t;var r="curve".concat(pA(t));return(r==="curveMonotone"||r==="curveBump")&&n?E7["".concat(r).concat(n==="vertical"?"Y":"X")]:E7[r]||gA},oGe=function(t){var n=t.type,r=n===void 0?"linear":n,i=t.points,s=i===void 0?[]:i,a=t.baseLine,o=t.layout,u=t.connectNulls,d=u===void 0?!1:u,h=aGe(r,o),m=d?s.filter(function(w){return Ab(w)}):s,y;if(Array.isArray(a)){var b=d?a.filter(function(w){return Ab(w)}):a,C=m.map(function(w,A){return A7(A7({},w),{},{base:b[A]})});return o==="vertical"?y=hb().y(P0).x1(N0).x0(function(w){return w.base.x}):y=hb().x(N0).y1(P0).y0(function(w){return w.base.y}),y.defined(Ab).curve(h),y(C)}return o==="vertical"&&Xe(a)?y=hb().y(P0).x1(N0).x0(a):Xe(a)?y=hb().x(N0).y1(P0).y0(a):y=Ere().x(N0).y(P0),y.defined(Ab).curve(h),y(m)},oS=function(t){var n=t.className,r=t.points,i=t.path,s=t.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?oGe(t):i;return te.createElement("path",IO({},Nt(t,!1),j2(t),{className:Gt("recharts-curve",n),d:a,ref:s}))},Ose={exports:{}},lGe="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",cGe=lGe,uGe=cGe;function jse(){}function kse(){}kse.resetWarningCache=jse;var dGe=function(){function e(r,i,s,a,o,u){if(u!==uGe){var d=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw d.name="Invariant Violation",d}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:kse,resetWarningCache:jse};return n.PropTypes=n,n};Ose.exports=dGe();var fGe=Ose.exports;const wt=en(fGe);var hGe=Object.getOwnPropertyNames,pGe=Object.getOwnPropertySymbols,mGe=Object.prototype.hasOwnProperty;function _7(e,t){return function(r,i,s){return e(r,i,s)&&t(r,i,s)}}function Eb(e){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return e(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var u=e(n,r,i);return s.delete(n),s.delete(r),u}}function T7(e){return hGe(e).concat(pGe(e))}var gGe=Object.hasOwn||function(e,t){return mGe.call(e,t)};function hh(e,t){return e===t||!e&&!t&&e!==e&&t!==t}var yGe="__v",vGe="__o",xGe="_owner",N7=Object.getOwnPropertyDescriptor,P7=Object.keys;function bGe(e,t,n){var r=e.length;if(t.length!==r)return!1;for(;r-- >0;)if(!n.equals(e[r],t[r],r,r,e,t,n))return!1;return!0}function wGe(e,t){return hh(e.getTime(),t.getTime())}function SGe(e,t){return e.name===t.name&&e.message===t.message&&e.cause===t.cause&&e.stack===t.stack}function CGe(e,t){return e===t}function O7(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.entries(),a,o,u=0;(a=s.next())&&!a.done;){for(var d=t.entries(),h=!1,m=0;(o=d.next())&&!o.done;){if(i[m]){m++;continue}var y=a.value,b=o.value;if(n.equals(y[0],b[0],u,m,e,t,n)&&n.equals(y[1],b[1],y[0],b[0],e,t,n)){h=i[m]=!0;break}m++}if(!h)return!1;u++}return!0}var AGe=hh;function EGe(e,t,n){var r=P7(e),i=r.length;if(P7(t).length!==i)return!1;for(;i-- >0;)if(!Ise(e,t,n,r[i]))return!1;return!0}function O0(e,t,n){var r=T7(e),i=r.length;if(T7(t).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!Ise(e,t,n,s)||(a=N7(e,s),o=N7(t,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function _Ge(e,t){return hh(e.valueOf(),t.valueOf())}function TGe(e,t){return e.source===t.source&&e.flags===t.flags}function j7(e,t,n){var r=e.size;if(r!==t.size)return!1;if(!r)return!0;for(var i=new Array(r),s=e.values(),a,o;(a=s.next())&&!a.done;){for(var u=t.values(),d=!1,h=0;(o=u.next())&&!o.done;){if(!i[h]&&n.equals(a.value,o.value,a.value,o.value,e,t,n)){d=i[h]=!0;break}h++}if(!d)return!1}return!0}function NGe(e,t){var n=e.length;if(t.length!==n)return!1;for(;n-- >0;)if(e[n]!==t[n])return!1;return!0}function PGe(e,t){return e.hostname===t.hostname&&e.pathname===t.pathname&&e.protocol===t.protocol&&e.port===t.port&&e.hash===t.hash&&e.username===t.username&&e.password===t.password}function Ise(e,t,n,r){return(r===xGe||r===vGe||r===yGe)&&(e.$$typeof||t.$$typeof)?!0:gGe(t,r)&&n.equals(e[r],t[r],r,r,e,t,n)}var OGe="[object Arguments]",jGe="[object Boolean]",kGe="[object Date]",IGe="[object Error]",MGe="[object Map]",DGe="[object Number]",RGe="[object Object]",FGe="[object RegExp]",LGe="[object Set]",BGe="[object String]",$Ge="[object URL]",UGe=Array.isArray,k7=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,I7=Object.assign,zGe=Object.prototype.toString.call.bind(Object.prototype.toString);function VGe(e){var t=e.areArraysEqual,n=e.areDatesEqual,r=e.areErrorsEqual,i=e.areFunctionsEqual,s=e.areMapsEqual,a=e.areNumbersEqual,o=e.areObjectsEqual,u=e.arePrimitiveWrappersEqual,d=e.areRegExpsEqual,h=e.areSetsEqual,m=e.areTypedArraysEqual,y=e.areUrlsEqual;return function(C,w,A){if(C===w)return!0;if(C==null||w==null)return!1;var _=typeof C;if(_!==typeof w)return!1;if(_!=="object")return _==="number"?a(C,w,A):_==="function"?i(C,w,A):!1;var E=C.constructor;if(E!==w.constructor)return!1;if(E===Object)return o(C,w,A);if(UGe(C))return t(C,w,A);if(k7!=null&&k7(C))return m(C,w,A);if(E===Date)return n(C,w,A);if(E===RegExp)return d(C,w,A);if(E===Map)return s(C,w,A);if(E===Set)return h(C,w,A);var N=zGe(C);return N===kGe?n(C,w,A):N===FGe?d(C,w,A):N===MGe?s(C,w,A):N===LGe?h(C,w,A):N===RGe?typeof C.then!="function"&&typeof w.then!="function"&&o(C,w,A):N===$Ge?y(C,w,A):N===IGe?r(C,w,A):N===OGe?o(C,w,A):N===jGe||N===DGe||N===BGe?u(C,w,A):!1}}function WGe(e){var t=e.circular,n=e.createCustomConfig,r=e.strict,i={areArraysEqual:r?O0:bGe,areDatesEqual:wGe,areErrorsEqual:SGe,areFunctionsEqual:CGe,areMapsEqual:r?_7(O7,O0):O7,areNumbersEqual:AGe,areObjectsEqual:r?O0:EGe,arePrimitiveWrappersEqual:_Ge,areRegExpsEqual:TGe,areSetsEqual:r?_7(j7,O0):j7,areTypedArraysEqual:r?O0:NGe,areUrlsEqual:PGe};if(n&&(i=I7({},i,n(i))),t){var s=Eb(i.areArraysEqual),a=Eb(i.areMapsEqual),o=Eb(i.areObjectsEqual),u=Eb(i.areSetsEqual);i=I7({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:u})}return i}function HGe(e){return function(t,n,r,i,s,a,o){return e(t,n,o)}}function GGe(e){var t=e.circular,n=e.comparator,r=e.createState,i=e.equals,s=e.strict;if(r)return function(u,d){var h=r(),m=h.cache,y=m===void 0?t?new WeakMap:void 0:m,b=h.meta;return n(u,d,{cache:y,equals:i,meta:b,strict:s})};if(t)return function(u,d){return n(u,d,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(u,d){return n(u,d,a)}}var qGe=xd();xd({strict:!0});xd({circular:!0});xd({circular:!0,strict:!0});xd({createInternalComparator:function(){return hh}});xd({strict:!0,createInternalComparator:function(){return hh}});xd({circular:!0,createInternalComparator:function(){return hh}});xd({circular:!0,createInternalComparator:function(){return hh},strict:!0});function xd(e){e===void 0&&(e={});var t=e.circular,n=t===void 0?!1:t,r=e.createInternalComparator,i=e.createState,s=e.strict,a=s===void 0?!1:s,o=WGe(e),u=VGe(o),d=r?r(u):HGe(u);return GGe({circular:n,comparator:u,createState:i,equals:d,strict:a})}function KGe(e){typeof requestAnimationFrame<"u"&&requestAnimationFrame(e)}function M7(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>t?(e(s),n=-1):KGe(i)};requestAnimationFrame(r)}function MO(e){"@babel/helpers - typeof";return MO=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},MO(e)}function XGe(e){return JGe(e)||QGe(e)||ZGe(e)||YGe()}function YGe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZGe(e,t){if(e){if(typeof e=="string")return D7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D7(e,t)}}function D7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function QGe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function JGe(e){if(Array.isArray(e))return e}function eqe(){var e={},t=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=XGe(a),u=o[0],d=o.slice(1);if(typeof u=="number"){M7(i.bind(null,d),u);return}i(u),M7(i.bind(null,d));return}MO(s)==="object"&&(e=s,t(e)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return t=s,function(){t=function(){return null}}}}}function U1(e){"@babel/helpers - typeof";return U1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},U1(e)}function R7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function F7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?R7(Object(n),!0).forEach(function(r){Mse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Mse(e,t,n){return t=tqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tqe(e){var t=nqe(e,"string");return U1(t)==="symbol"?t:String(t)}function nqe(e,t){if(U1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(U1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rqe=function(t,n){return[Object.keys(t),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},iqe=function(t){return t},sqe=function(t){return t.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},xy=function(t,n){return Object.keys(n).reduce(function(r,i){return F7(F7({},r),{},Mse({},i,t(i,n[i])))},{})},L7=function(t,n,r){return t.map(function(i){return"".concat(sqe(i)," ").concat(n,"ms ").concat(r)}).join(",")};function aqe(e,t){return cqe(e)||lqe(e,t)||Dse(e,t)||oqe()}function oqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lqe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function cqe(e){if(Array.isArray(e))return e}function uqe(e){return hqe(e)||fqe(e)||Dse(e)||dqe()}function dqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dse(e,t){if(e){if(typeof e=="string")return DO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return DO(e,t)}}function fqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function hqe(e){if(Array.isArray(e))return DO(e)}function DO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var lS=1e-4,Rse=function(t,n){return[0,3*t,3*n-6*t,3*t-3*n+1]},Fse=function(t,n){return t.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},B7=function(t,n){return function(r){var i=Rse(t,n);return Fse(i,r)}},pqe=function(t,n){return function(r){var i=Rse(t,n),s=[].concat(uqe(i.map(function(a,o){return a*o}).slice(1)),[0]);return Fse(s,r)}},$7=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var u=n[0].split("(");if(u[0]==="cubic-bezier"&&u[1].split(")")[0].split(",").length===4){var d=u[1].split(")")[0].split(",").map(function(A){return parseFloat(A)}),h=aqe(d,4);i=h[0],s=h[1],a=h[2],o=h[3]}}}var m=B7(i,a),y=B7(s,o),b=pqe(i,a),C=function(_){return _>1?1:_<0?0:_},w=function(_){for(var E=_>1?1:_,N=E,I=0;I<8;++I){var O=m(N)-E,k=b(N);if(Math.abs(O-E)<lS||k<lS)return y(N);N=C(N-O/k)}return y(N)};return w.isStepper=!1,w},mqe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=t.stiff,r=n===void 0?100:n,i=t.damping,s=i===void 0?8:i,a=t.dt,o=a===void 0?17:a,u=function(h,m,y){var b=-(h-m)*r,C=y*s,w=y+(b-C)*o/1e3,A=y*o/1e3+h;return Math.abs(A-m)<lS&&Math.abs(w)<lS?[m,0]:[A,w]};return u.isStepper=!0,u.dt=o,u},gqe=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return $7(i);case"spring":return mqe();default:if(i.split("(")[0]==="cubic-bezier")return $7(i)}return typeof i=="function"?i:null};function z1(e){"@babel/helpers - typeof";return z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},z1(e)}function U7(e){return xqe(e)||vqe(e)||Lse(e)||yqe()}function yqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function xqe(e){if(Array.isArray(e))return FO(e)}function z7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Ni(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?z7(Object(n),!0).forEach(function(r){RO(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RO(e,t,n){return t=bqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function bqe(e){var t=wqe(e,"string");return z1(t)==="symbol"?t:String(t)}function wqe(e,t){if(z1(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(z1(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Sqe(e,t){return Eqe(e)||Aqe(e,t)||Lse(e,t)||Cqe()}function Cqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Lse(e,t){if(e){if(typeof e=="string")return FO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return FO(e,t)}}function FO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Aqe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function Eqe(e){if(Array.isArray(e))return e}var cS=function(t,n,r){return t+(n-t)*r},LO=function(t){var n=t.from,r=t.to;return n!==r},_qe=function e(t,n,r){var i=xy(function(s,a){if(LO(a)){var o=t(a.from,a.to,a.velocity),u=Sqe(o,2),d=u[0],h=u[1];return Ni(Ni({},a),{},{from:d,velocity:h})}return a},n);return r<1?xy(function(s,a){return LO(a)?Ni(Ni({},a),{},{velocity:cS(a.velocity,i[s].velocity,r),from:cS(a.from,i[s].from,r)}):a},n):e(t,i,r-1)};const Tqe=function(e,t,n,r,i){var s=rqe(e,t),a=s.reduce(function(A,_){return Ni(Ni({},A),{},RO({},_,[e[_],t[_]]))},{}),o=s.reduce(function(A,_){return Ni(Ni({},A),{},RO({},_,{from:e[_],velocity:0,to:t[_]}))},{}),u=-1,d,h,m=function(){return null},y=function(){return xy(function(_,E){return E.from},o)},b=function(){return!Object.values(o).filter(LO).length},C=function(_){d||(d=_);var E=_-d,N=E/n.dt;o=_qe(n,o,N),i(Ni(Ni(Ni({},e),t),y())),d=_,b()||(u=requestAnimationFrame(m))},w=function(_){h||(h=_);var E=(_-h)/r,N=xy(function(O,k){return cS.apply(void 0,U7(k).concat([n(E)]))},a);if(i(Ni(Ni(Ni({},e),t),N)),E<1)u=requestAnimationFrame(m);else{var I=xy(function(O,k){return cS.apply(void 0,U7(k).concat([n(1)]))},a);i(Ni(Ni(Ni({},e),t),I))}};return m=n.isStepper?C:w,function(){return requestAnimationFrame(m),function(){cancelAnimationFrame(u)}}};function qm(e){"@babel/helpers - typeof";return qm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},qm(e)}var Nqe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function Pqe(e,t){if(e==null)return{};var n=Oqe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function Oqe(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Q_(e){return Mqe(e)||Iqe(e)||kqe(e)||jqe()}function jqe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kqe(e,t){if(e){if(typeof e=="string")return BO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return BO(e,t)}}function Iqe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function Mqe(e){if(Array.isArray(e))return BO(e)}function BO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function V7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ao(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?V7(Object(n),!0).forEach(function(r){X0(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):V7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function X0(e,t,n){return t=Bse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Dqe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Rqe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Bse(r.key),r)}}function Fqe(e,t,n){return t&&Rqe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function Bse(e){var t=Lqe(e,"string");return qm(t)==="symbol"?t:String(t)}function Lqe(e,t){if(qm(e)!=="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(qm(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Bqe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$O(e,t)}function $O(e,t){return $O=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},$O(e,t)}function $qe(e){var t=Uqe();return function(){var r=uS(e),i;if(t){var s=uS(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return UO(this,i)}}function UO(e,t){if(t&&(qm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return zO(e)}function zO(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Uqe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function uS(e){return uS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},uS(e)}var kl=function(e){Bqe(n,e);var t=$qe(n);function n(r,i){var s;Dqe(this,n),s=t.call(this,r,i);var a=s.props,o=a.isActive,u=a.attributeName,d=a.from,h=a.to,m=a.steps,y=a.children,b=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(zO(s)),s.changeStyle=s.changeStyle.bind(zO(s)),!o||b<=0)return s.state={style:{}},typeof y=="function"&&(s.state={style:h}),UO(s);if(m&&m.length)s.state={style:m[0].style};else if(d){if(typeof y=="function")return s.state={style:d},UO(s);s.state={style:u?X0({},u,d):d}}else s.state={style:{}};return s}return Fqe(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,u=s.attributeName,d=s.shouldReAnimate,h=s.to,m=s.from,y=this.state.style;if(o){if(!a){var b={style:u?X0({},u,h):h};this.state&&y&&(u&&y[u]!==h||!u&&y!==h)&&this.setState(b);return}if(!(qGe(i.to,h)&&i.canBegin&&i.isActive)){var C=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var w=C||d?m:i.to;if(this.state&&y){var A={style:u?X0({},u,w):w};(u&&y[u]!==w||!u&&y!==w)&&this.setState(A)}this.runAnimation(ao(ao({},this.props),{},{from:w,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,u=i.duration,d=i.easing,h=i.begin,m=i.onAnimationEnd,y=i.onAnimationStart,b=Tqe(a,o,gqe(d),u,this.changeStyle),C=function(){s.stopJSAnimation=b()};this.manager.start([y,h,C,u,m])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,u=i.onAnimationStart,d=a[0],h=d.style,m=d.duration,y=m===void 0?0:m,b=function(w,A,_){if(_===0)return w;var E=A.duration,N=A.easing,I=N===void 0?"ease":N,O=A.style,k=A.properties,M=A.onAnimationEnd,R=_>0?a[_-1]:A,L=k||Object.keys(O);if(typeof I=="function"||I==="spring")return[].concat(Q_(w),[s.runJSAnimation.bind(s,{from:R.style,to:O,duration:E,easing:I}),E]);var U=L7(L,E,I),X=ao(ao(ao({},R.style),O),{},{transition:U});return[].concat(Q_(w),[X,E,M]).filter(iqe)};return this.manager.start([u].concat(Q_(a.reduce(b,[h,Math.max(y,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=eqe());var s=i.begin,a=i.duration,o=i.attributeName,u=i.to,d=i.easing,h=i.onAnimationStart,m=i.onAnimationEnd,y=i.steps,b=i.children,C=this.manager;if(this.unSubscribe=C.subscribe(this.handleStyleChange),typeof d=="function"||typeof b=="function"||d==="spring"){this.runJSAnimation(i);return}if(y.length>1){this.runStepAnimation(i);return}var w=o?X0({},o,u):u,A=L7(Object.keys(w),a,d);C.start([h,s,ao(ao({},w),{},{transition:A}),a,m])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var u=Pqe(i,Nqe),d=T.Children.count(s),h=this.state.style;if(typeof s=="function")return s(h);if(!o||d===0||a<=0)return s;var m=function(b){var C=b.props,w=C.style,A=w===void 0?{}:w,_=C.className,E=T.cloneElement(b,ao(ao({},u),{},{style:ao(ao({},A),h),className:_}));return E};return d===1?m(T.Children.only(s)):te.createElement("div",null,T.Children.map(s,function(y){return m(y)}))}}]),n}(T.PureComponent);kl.displayName="Animate";kl.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};kl.propTypes={from:wt.oneOfType([wt.object,wt.string]),to:wt.oneOfType([wt.object,wt.string]),attributeName:wt.string,duration:wt.number,begin:wt.number,easing:wt.oneOfType([wt.string,wt.func]),steps:wt.arrayOf(wt.shape({duration:wt.number.isRequired,style:wt.object.isRequired,easing:wt.oneOfType([wt.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),wt.func]),properties:wt.arrayOf("string"),onAnimationEnd:wt.func})),children:wt.oneOfType([wt.node,wt.func]),isActive:wt.bool,canBegin:wt.bool,onAnimationEnd:wt.func,shouldReAnimate:wt.bool,onAnimationStart:wt.func,onAnimationReStart:wt.func};function V1(e){"@babel/helpers - typeof";return V1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},V1(e)}function dS(){return dS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dS.apply(this,arguments)}function zqe(e,t){return Gqe(e)||Hqe(e,t)||Wqe(e,t)||Vqe()}function Vqe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Wqe(e,t){if(e){if(typeof e=="string")return W7(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return W7(e,t)}}function W7(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Hqe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function Gqe(e){if(Array.isArray(e))return e}function H7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function G7(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?H7(Object(n),!0).forEach(function(r){qqe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function qqe(e,t,n){return t=Kqe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Kqe(e){var t=Xqe(e,"string");return V1(t)=="symbol"?t:t+""}function Xqe(e,t){if(V1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(V1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var q7=function(t,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,u=r>=0?1:-1,d=i>=0&&r>=0||i<0&&r<0?1:0,h;if(a>0&&s instanceof Array){for(var m=[0,0,0,0],y=0,b=4;y<b;y++)m[y]=s[y]>a?a:s[y];h="M".concat(t,",").concat(n+o*m[0]),m[0]>0&&(h+="A ".concat(m[0],",").concat(m[0],",0,0,").concat(d,",").concat(t+u*m[0],",").concat(n)),h+="L ".concat(t+r-u*m[1],",").concat(n),m[1]>0&&(h+="A ".concat(m[1],",").concat(m[1],",0,0,").concat(d,`,
        `).concat(t+r,",").concat(n+o*m[1])),h+="L ".concat(t+r,",").concat(n+i-o*m[2]),m[2]>0&&(h+="A ".concat(m[2],",").concat(m[2],",0,0,").concat(d,`,
        `).concat(t+r-u*m[2],",").concat(n+i)),h+="L ".concat(t+u*m[3],",").concat(n+i),m[3]>0&&(h+="A ".concat(m[3],",").concat(m[3],",0,0,").concat(d,`,
        `).concat(t,",").concat(n+i-o*m[3])),h+="Z"}else if(a>0&&s===+s&&s>0){var C=Math.min(a,s);h="M ".concat(t,",").concat(n+o*C,`
            A `).concat(C,",").concat(C,",0,0,").concat(d,",").concat(t+u*C,",").concat(n,`
            L `).concat(t+r-u*C,",").concat(n,`
            A `).concat(C,",").concat(C,",0,0,").concat(d,",").concat(t+r,",").concat(n+o*C,`
            L `).concat(t+r,",").concat(n+i-o*C,`
            A `).concat(C,",").concat(C,",0,0,").concat(d,",").concat(t+r-u*C,",").concat(n+i,`
            L `).concat(t+u*C,",").concat(n+i,`
            A `).concat(C,",").concat(C,",0,0,").concat(d,",").concat(t,",").concat(n+i-o*C," Z")}else h="M ".concat(t,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return h},Yqe=function(t,n){if(!t||!n)return!1;var r=t.x,i=t.y,s=n.x,a=n.y,o=n.width,u=n.height;if(Math.abs(o)>0&&Math.abs(u)>0){var d=Math.min(s,s+o),h=Math.max(s,s+o),m=Math.min(a,a+u),y=Math.max(a,a+u);return r>=d&&r<=h&&i>=m&&i<=y}return!1},Zqe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Z4=function(t){var n=G7(G7({},Zqe),t),r=T.useRef(),i=T.useState(-1),s=zqe(i,2),a=s[0],o=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var I=r.current.getTotalLength();I&&o(I)}catch{}},[]);var u=n.x,d=n.y,h=n.width,m=n.height,y=n.radius,b=n.className,C=n.animationEasing,w=n.animationDuration,A=n.animationBegin,_=n.isAnimationActive,E=n.isUpdateAnimationActive;if(u!==+u||d!==+d||h!==+h||m!==+m||h===0||m===0)return null;var N=Gt("recharts-rectangle",b);return E?te.createElement(kl,{canBegin:a>0,from:{width:h,height:m,x:u,y:d},to:{width:h,height:m,x:u,y:d},duration:w,animationEasing:C,isActive:E},function(I){var O=I.width,k=I.height,M=I.x,R=I.y;return te.createElement(kl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:w,isActive:_,easing:C},te.createElement("path",dS({},Nt(n,!0),{className:N,d:q7(M,R,O,k,y),ref:r})))}):te.createElement("path",dS({},Nt(n,!0),{className:N,d:q7(u,d,h,m,y)}))},Qqe=["points","className","baseLinePoints","connectNulls"];function cp(){return cp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cp.apply(this,arguments)}function Jqe(e,t){if(e==null)return{};var n=eKe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function K7(e){return iKe(e)||rKe(e)||nKe(e)||tKe()}function tKe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function nKe(e,t){if(e){if(typeof e=="string")return VO(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VO(e,t)}}function rKe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function iKe(e){if(Array.isArray(e))return VO(e)}function VO(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var X7=function(t){return t&&t.x===+t.x&&t.y===+t.y},sKe=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],n=[[]];return t.forEach(function(r){X7(r)?n[n.length-1].push(r):n[n.length-1].length>0&&n.push([])}),X7(t[0])&&n[n.length-1].push(t[0]),n[n.length-1].length<=0&&(n=n.slice(0,-1)),n},by=function(t,n){var r=sKe(t);n&&(r=[r.reduce(function(s,a){return[].concat(K7(s),K7(a))},[])]);var i=r.map(function(s){return s.reduce(function(a,o,u){return"".concat(a).concat(u===0?"M":"L").concat(o.x,",").concat(o.y)},"")}).join("");return r.length===1?"".concat(i,"Z"):i},aKe=function(t,n,r){var i=by(t,r);return"".concat(i.slice(-1)==="Z"?i.slice(0,-1):i,"L").concat(by(n.reverse(),r).slice(1))},oKe=function(t){var n=t.points,r=t.className,i=t.baseLinePoints,s=t.connectNulls,a=Jqe(t,Qqe);if(!n||!n.length)return null;var o=Gt("recharts-polygon",r);if(i&&i.length){var u=a.stroke&&a.stroke!=="none",d=aKe(n,i,s);return te.createElement("g",{className:o},te.createElement("path",cp({},Nt(a,!0),{fill:d.slice(-1)==="Z"?a.fill:"none",stroke:"none",d})),u?te.createElement("path",cp({},Nt(a,!0),{fill:"none",d:by(n,s)})):null,u?te.createElement("path",cp({},Nt(a,!0),{fill:"none",d:by(i,s)})):null)}var h=by(n,s);return te.createElement("path",cp({},Nt(a,!0),{fill:h.slice(-1)==="Z"?a.fill:"none",className:o,d:h}))};function WO(){return WO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},WO.apply(this,arguments)}var kA=function(t){var n=t.cx,r=t.cy,i=t.r,s=t.className,a=Gt("recharts-dot",s);return n===+n&&r===+r&&i===+i?te.createElement("circle",WO({},Nt(t,!1),j2(t),{className:a,cx:n,cy:r,r:i})):null};function W1(e){"@babel/helpers - typeof";return W1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},W1(e)}var lKe=["x","y","top","left","width","height","className"];function HO(){return HO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},HO.apply(this,arguments)}function Y7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cKe(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Y7(Object(n),!0).forEach(function(r){uKe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Y7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uKe(e,t,n){return t=dKe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dKe(e){var t=fKe(e,"string");return W1(t)=="symbol"?t:t+""}function fKe(e,t){if(W1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(W1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function hKe(e,t){if(e==null)return{};var n=pKe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function pKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var mKe=function(t,n,r,i,s,a){return"M".concat(t,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},gKe=function(t){var n=t.x,r=n===void 0?0:n,i=t.y,s=i===void 0?0:i,a=t.top,o=a===void 0?0:a,u=t.left,d=u===void 0?0:u,h=t.width,m=h===void 0?0:h,y=t.height,b=y===void 0?0:y,C=t.className,w=hKe(t,lKe),A=cKe({x:r,y:s,top:o,left:d,width:m,height:b},w);return!Xe(r)||!Xe(s)||!Xe(m)||!Xe(b)||!Xe(o)||!Xe(d)?null:te.createElement("path",HO({},Nt(A,!0),{className:Gt("recharts-cross",C),d:mKe(r,s,m,b,o,d)}))},yKe=TA,vKe=Zie,xKe=Rl;function bKe(e,t){return e&&e.length?yKe(e,xKe(t),vKe):void 0}var wKe=bKe;const SKe=en(wKe);var CKe=TA,AKe=Rl,EKe=Qie;function _Ke(e,t){return e&&e.length?CKe(e,AKe(t),EKe):void 0}var TKe=_Ke;const NKe=en(TKe);var PKe=["cx","cy","angle","ticks","axisLine"],OKe=["ticks","tick","angle","tickFormatter","stroke"];function Km(e){"@babel/helpers - typeof";return Km=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Km(e)}function wy(){return wy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},wy.apply(this,arguments)}function Z7(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function jd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?Z7(Object(n),!0).forEach(function(r){IA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Z7(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Q7(e,t){if(e==null)return{};var n=jKe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function jKe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function kKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function J7(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Use(r.key),r)}}function IKe(e,t,n){return t&&J7(e.prototype,t),n&&J7(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function MKe(e,t,n){return t=fS(t),DKe(e,$se()?Reflect.construct(t,n||[],fS(e).constructor):t.apply(e,n))}function DKe(e,t){if(t&&(Km(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RKe(e)}function RKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $se(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return($se=function(){return!!e})()}function fS(e){return fS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},fS(e)}function FKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&GO(e,t)}function GO(e,t){return GO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},GO(e,t)}function IA(e,t,n){return t=Use(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Use(e){var t=LKe(e,"string");return Km(t)=="symbol"?t:t+""}function LKe(e,t){if(Km(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Km(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var MA=function(e){function t(){return kKe(this,t),MKe(this,t,arguments)}return FKe(t,e),IKe(t,[{key:"getTickValueCoord",value:function(r){var i=r.coordinate,s=this.props,a=s.angle,o=s.cx,u=s.cy;return Gn(o,u,i,a)}},{key:"getTickTextAnchor",value:function(){var r=this.props.orientation,i;switch(r){case"left":i="end";break;case"right":i="start";break;default:i="middle";break}return i}},{key:"getViewBox",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,u=SKe(o,function(h){return h.coordinate||0}),d=NKe(o,function(h){return h.coordinate||0});return{cx:i,cy:s,startAngle:a,endAngle:a,innerRadius:d.coordinate||0,outerRadius:u.coordinate||0}}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.angle,o=r.ticks,u=r.axisLine,d=Q7(r,PKe),h=o.reduce(function(C,w){return[Math.min(C[0],w.coordinate),Math.max(C[1],w.coordinate)]},[1/0,-1/0]),m=Gn(i,s,h[0],a),y=Gn(i,s,h[1],a),b=jd(jd(jd({},Nt(d,!1)),{},{fill:"none"},Nt(u,!1)),{},{x1:m.x,y1:m.y,x2:y.x,y2:y.y});return te.createElement("line",wy({className:"recharts-polar-radius-axis-line"},b))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.angle,u=i.tickFormatter,d=i.stroke,h=Q7(i,OKe),m=this.getTickTextAnchor(),y=Nt(h,!1),b=Nt(a,!1),C=s.map(function(w,A){var _=r.getTickValueCoord(w),E=jd(jd(jd(jd({textAnchor:m,transform:"rotate(".concat(90-o,", ").concat(_.x,", ").concat(_.y,")")},y),{},{stroke:"none",fill:d},b),{},{index:A},_),{},{payload:w});return te.createElement(yn,wy({className:Gt("recharts-polar-radius-axis-tick",_se(a)),key:"tick-".concat(w.coordinate)},Qf(r.props,w,A)),t.renderTickItem(a,E,u?u(w.value,A):w.value))});return te.createElement(yn,{className:"recharts-polar-radius-axis-ticks"},C)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.axisLine,a=r.tick;return!i||!i.length?null:te.createElement(yn,{className:Gt("recharts-polar-radius-axis",this.props.className)},s&&this.renderAxisLine(),a&&this.renderTicks(),gi.renderCallByParent(this.props,this.getViewBox()))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return te.isValidElement(r)?a=te.cloneElement(r,i):Lt(r)?a=r(i):a=te.createElement(Jf,wy({},i,{className:"recharts-polar-radius-axis-tick-value"}),s),a}}])}(T.PureComponent);IA(MA,"displayName","PolarRadiusAxis");IA(MA,"axisType","radiusAxis");IA(MA,"defaultProps",{type:"number",radiusAxisId:0,cx:0,cy:0,angle:0,orientation:"right",stroke:"#ccc",axisLine:!0,tick:!0,tickCount:5,allowDataOverflow:!1,scale:"auto",allowDuplicatedCategory:!0});function Xm(e){"@babel/helpers - typeof";return Xm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Xm(e)}function Wd(){return Wd=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wd.apply(this,arguments)}function e9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?e9(Object(n),!0).forEach(function(r){DA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):e9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BKe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Vse(r.key),r)}}function $Ke(e,t,n){return t&&t9(e.prototype,t),n&&t9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UKe(e,t,n){return t=hS(t),zKe(e,zse()?Reflect.construct(t,n||[],hS(e).constructor):t.apply(e,n))}function zKe(e,t){if(t&&(Xm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VKe(e)}function VKe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function zse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(zse=function(){return!!e})()}function hS(e){return hS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},hS(e)}function WKe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qO(e,t)}function qO(e,t){return qO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},qO(e,t)}function DA(e,t,n){return t=Vse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Vse(e){var t=HKe(e,"string");return Xm(t)=="symbol"?t:t+""}function HKe(e,t){if(Xm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Xm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var GKe=Math.PI/180,n9=1e-5,RA=function(e){function t(){return BKe(this,t),UKe(this,t,arguments)}return WKe(t,e),$Ke(t,[{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.cx,a=i.cy,o=i.radius,u=i.orientation,d=i.tickSize,h=d||8,m=Gn(s,a,o,r.coordinate),y=Gn(s,a,o+(u==="inner"?-1:1)*h,r.coordinate);return{x1:m.x,y1:m.y,x2:y.x,y2:y.y}}},{key:"getTickTextAnchor",value:function(r){var i=this.props.orientation,s=Math.cos(-r.coordinate*GKe),a;return s>n9?a=i==="outer"?"start":"end":s<-n9?a=i==="outer"?"end":"start":a="middle",a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.cx,s=r.cy,a=r.radius,o=r.axisLine,u=r.axisLineType,d=kd(kd({},Nt(this.props,!1)),{},{fill:"none"},Nt(o,!1));if(u==="circle")return te.createElement(kA,Wd({className:"recharts-polar-angle-axis-line"},d,{cx:i,cy:s,r:a}));var h=this.props.ticks,m=h.map(function(y){return Gn(i,s,a,y.coordinate)});return te.createElement(oKe,Wd({className:"recharts-polar-angle-axis-line"},d,{points:m}))}},{key:"renderTicks",value:function(){var r=this,i=this.props,s=i.ticks,a=i.tick,o=i.tickLine,u=i.tickFormatter,d=i.stroke,h=Nt(this.props,!1),m=Nt(a,!1),y=kd(kd({},h),{},{fill:"none"},Nt(o,!1)),b=s.map(function(C,w){var A=r.getTickLineCoord(C),_=r.getTickTextAnchor(C),E=kd(kd(kd({textAnchor:_},h),{},{stroke:"none",fill:d},m),{},{index:w,payload:C,x:A.x2,y:A.y2});return te.createElement(yn,Wd({className:Gt("recharts-polar-angle-axis-tick",_se(a)),key:"tick-".concat(C.coordinate)},Qf(r.props,C,w)),o&&te.createElement("line",Wd({className:"recharts-polar-angle-axis-tick-line"},y,A)),a&&t.renderTickItem(a,E,u?u(C.value,w):C.value))});return te.createElement(yn,{className:"recharts-polar-angle-axis-ticks"},b)}},{key:"render",value:function(){var r=this.props,i=r.ticks,s=r.radius,a=r.axisLine;return s<=0||!i||!i.length?null:te.createElement(yn,{className:Gt("recharts-polar-angle-axis",this.props.className)},a&&this.renderAxisLine(),this.renderTicks())}}],[{key:"renderTickItem",value:function(r,i,s){var a;return te.isValidElement(r)?a=te.cloneElement(r,i):Lt(r)?a=r(i):a=te.createElement(Jf,Wd({},i,{className:"recharts-polar-angle-axis-tick-value"}),s),a}}])}(T.PureComponent);DA(RA,"displayName","PolarAngleAxis");DA(RA,"axisType","angleAxis");DA(RA,"defaultProps",{type:"category",angleAxisId:0,scale:"auto",cx:0,cy:0,orientation:"outer",axisLine:!0,tickLine:!0,tickSize:8,tick:!0,hide:!1,allowDuplicatedCategory:!0});var qKe=Xre,KKe=qKe(Object.getPrototypeOf,Object),XKe=KKe,YKe=$c,ZKe=XKe,QKe=Uc,JKe="[object Object]",eXe=Function.prototype,tXe=Object.prototype,Wse=eXe.toString,nXe=tXe.hasOwnProperty,rXe=Wse.call(Object);function iXe(e){if(!QKe(e)||YKe(e)!=JKe)return!1;var t=ZKe(e);if(t===null)return!0;var n=nXe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Wse.call(n)==rXe}var sXe=iXe;const aXe=en(sXe);var oXe=$c,lXe=Uc,cXe="[object Boolean]";function uXe(e){return e===!0||e===!1||lXe(e)&&oXe(e)==cXe}var dXe=uXe;const fXe=en(dXe);function H1(e){"@babel/helpers - typeof";return H1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},H1(e)}function pS(){return pS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},pS.apply(this,arguments)}function hXe(e,t){return yXe(e)||gXe(e,t)||mXe(e,t)||pXe()}function pXe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function mXe(e,t){if(e){if(typeof e=="string")return r9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r9(e,t)}}function r9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function gXe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function yXe(e){if(Array.isArray(e))return e}function i9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function s9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?i9(Object(n),!0).forEach(function(r){vXe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function vXe(e,t,n){return t=xXe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function xXe(e){var t=bXe(e,"string");return H1(t)=="symbol"?t:t+""}function bXe(e,t){if(H1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(H1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var a9=function(t,n,r,i,s){var a=r-i,o;return o="M ".concat(t,",").concat(n),o+="L ".concat(t+r,",").concat(n),o+="L ".concat(t+r-a/2,",").concat(n+s),o+="L ".concat(t+r-a/2-i,",").concat(n+s),o+="L ".concat(t,",").concat(n," Z"),o},wXe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},SXe=function(t){var n=s9(s9({},wXe),t),r=T.useRef(),i=T.useState(-1),s=hXe(i,2),a=s[0],o=s[1];T.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var N=r.current.getTotalLength();N&&o(N)}catch{}},[]);var u=n.x,d=n.y,h=n.upperWidth,m=n.lowerWidth,y=n.height,b=n.className,C=n.animationEasing,w=n.animationDuration,A=n.animationBegin,_=n.isUpdateAnimationActive;if(u!==+u||d!==+d||h!==+h||m!==+m||y!==+y||h===0&&m===0||y===0)return null;var E=Gt("recharts-trapezoid",b);return _?te.createElement(kl,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:y,x:u,y:d},to:{upperWidth:h,lowerWidth:m,height:y,x:u,y:d},duration:w,animationEasing:C,isActive:_},function(N){var I=N.upperWidth,O=N.lowerWidth,k=N.height,M=N.x,R=N.y;return te.createElement(kl,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:A,duration:w,easing:C},te.createElement("path",pS({},Nt(n,!0),{className:E,d:a9(M,R,I,O,k),ref:r})))}):te.createElement("g",null,te.createElement("path",pS({},Nt(n,!0),{className:E,d:a9(u,d,h,m,y)})))},CXe=["option","shapeType","propTransformer","activeClassName","isActive"];function G1(e){"@babel/helpers - typeof";return G1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},G1(e)}function AXe(e,t){if(e==null)return{};var n=EXe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function EXe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function o9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function mS(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?o9(Object(n),!0).forEach(function(r){_Xe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _Xe(e,t,n){return t=TXe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function TXe(e){var t=NXe(e,"string");return G1(t)=="symbol"?t:t+""}function NXe(e,t){if(G1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(G1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function PXe(e,t){return mS(mS({},t),e)}function OXe(e,t){return e==="symbols"}function l9(e){var t=e.shapeType,n=e.elementProps;switch(t){case"rectangle":return te.createElement(Z4,n);case"trapezoid":return te.createElement(SXe,n);case"sector":return te.createElement(Pse,n);case"symbols":if(OXe(t))return te.createElement(g4,n);break;default:return null}}function jXe(e){return T.isValidElement(e)?e.props:e}function Hse(e){var t=e.option,n=e.shapeType,r=e.propTransformer,i=r===void 0?PXe:r,s=e.activeClassName,a=s===void 0?"recharts-active-shape":s,o=e.isActive,u=AXe(e,CXe),d;if(T.isValidElement(t))d=T.cloneElement(t,mS(mS({},u),jXe(t)));else if(Lt(t))d=t(u);else if(aXe(t)&&!fXe(t)){var h=i(t,u);d=te.createElement(l9,{shapeType:n,elementProps:h})}else{var m=u;d=te.createElement(l9,{shapeType:n,elementProps:m})}return o?te.createElement(yn,{className:a},d):d}function FA(e,t){return t!=null&&"trapezoids"in e.props}function LA(e,t){return t!=null&&"sectors"in e.props}function q1(e,t){return t!=null&&"points"in e.props}function kXe(e,t){var n,r,i=e.x===(t==null||(n=t.labelViewBox)===null||n===void 0?void 0:n.x)||e.x===t.x,s=e.y===(t==null||(r=t.labelViewBox)===null||r===void 0?void 0:r.y)||e.y===t.y;return i&&s}function IXe(e,t){var n=e.endAngle===t.endAngle,r=e.startAngle===t.startAngle;return n&&r}function MXe(e,t){var n=e.x===t.x,r=e.y===t.y,i=e.z===t.z;return n&&r&&i}function DXe(e,t){var n;return FA(e,t)?n=kXe:LA(e,t)?n=IXe:q1(e,t)&&(n=MXe),n}function RXe(e,t){var n;return FA(e,t)?n="trapezoids":LA(e,t)?n="sectors":q1(e,t)&&(n="points"),n}function FXe(e,t){if(FA(e,t)){var n;return(n=t.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(LA(e,t)){var r;return(r=t.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return q1(e,t)?t.payload:{}}function LXe(e){var t=e.activeTooltipItem,n=e.graphicalItem,r=e.itemData,i=RXe(n,t),s=FXe(n,t),a=r.filter(function(u,d){var h=dx(s,u),m=n.props[i].filter(function(C){var w=DXe(n,t);return w(C,t)}),y=n.props[i].indexOf(m[m.length-1]),b=d===y;return h&&b}),o=r.indexOf(a[a.length-1]);return o}var aw;function Ym(e){"@babel/helpers - typeof";return Ym=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ym(e)}function up(){return up=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},up.apply(this,arguments)}function c9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vn(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?c9(Object(n),!0).forEach(function(r){La(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):c9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BXe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,qse(r.key),r)}}function $Xe(e,t,n){return t&&u9(e.prototype,t),n&&u9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function UXe(e,t,n){return t=gS(t),zXe(e,Gse()?Reflect.construct(t,n||[],gS(e).constructor):t.apply(e,n))}function zXe(e,t){if(t&&(Ym(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return VXe(e)}function VXe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Gse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Gse=function(){return!!e})()}function gS(e){return gS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},gS(e)}function WXe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&KO(e,t)}function KO(e,t){return KO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},KO(e,t)}function La(e,t,n){return t=qse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qse(e){var t=HXe(e,"string");return Ym(t)=="symbol"?t:t+""}function HXe(e,t){if(Ym(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Ym(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Hc=function(e){function t(n){var r;return BXe(this,t),r=UXe(this,t,[n]),La(r,"pieRef",null),La(r,"sectorRefs",[]),La(r,"id",Dg("recharts-pie-")),La(r,"handleAnimationEnd",function(){var i=r.props.onAnimationEnd;r.setState({isAnimationFinished:!0}),Lt(i)&&i()}),La(r,"handleAnimationStart",function(){var i=r.props.onAnimationStart;r.setState({isAnimationFinished:!1}),Lt(i)&&i()}),r.state={isAnimationFinished:!n.isAnimationActive,prevIsAnimationActive:n.isAnimationActive,prevAnimationId:n.animationId,sectorToFocus:0},r}return WXe(t,e),$Xe(t,[{key:"isActiveIndex",value:function(r){var i=this.props.activeIndex;return Array.isArray(i)?i.indexOf(r)!==-1:r===i}},{key:"hasActiveIndex",value:function(){var r=this.props.activeIndex;return Array.isArray(r)?r.length!==0:r||r===0}},{key:"renderLabels",value:function(r){var i=this.props.isAnimationActive;if(i&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.label,o=s.labelLine,u=s.dataKey,d=s.valueKey,h=Nt(this.props,!1),m=Nt(a,!1),y=Nt(o,!1),b=a&&a.offsetRadius||20,C=r.map(function(w,A){var _=(w.startAngle+w.endAngle)/2,E=Gn(w.cx,w.cy,w.outerRadius+b,_),N=Vn(Vn(Vn(Vn({},h),w),{},{stroke:"none"},m),{},{index:A,textAnchor:t.getTextAnchor(E.x,w.cx)},E),I=Vn(Vn(Vn(Vn({},h),w),{},{fill:"none",stroke:w.fill},y),{},{index:A,points:[Gn(w.cx,w.cy,w.outerRadius,_),E]}),O=u;return zt(u)&&zt(d)?O="value":zt(u)&&(O=d),te.createElement(yn,{key:"label-".concat(w.startAngle,"-").concat(w.endAngle,"-").concat(w.midAngle,"-").concat(A)},o&&t.renderLabelLineItem(o,I,"line"),t.renderLabelItem(a,N,ai(w,O)))});return te.createElement(yn,{className:"recharts-pie-labels"},C)}},{key:"renderSectorsStatically",value:function(r){var i=this,s=this.props,a=s.activeShape,o=s.blendStroke,u=s.inactiveShape;return r.map(function(d,h){if((d==null?void 0:d.startAngle)===0&&(d==null?void 0:d.endAngle)===0&&r.length!==1)return null;var m=i.isActiveIndex(h),y=u&&i.hasActiveIndex()?u:null,b=m?a:y,C=Vn(Vn({},d),{},{stroke:o?d.fill:d.stroke,tabIndex:-1});return te.createElement(yn,up({ref:function(A){A&&!i.sectorRefs.includes(A)&&i.sectorRefs.push(A)},tabIndex:-1,className:"recharts-pie-sector"},Qf(i.props,d,h),{key:"sector-".concat(d==null?void 0:d.startAngle,"-").concat(d==null?void 0:d.endAngle,"-").concat(d.midAngle,"-").concat(h)}),te.createElement(Hse,up({option:b,isActive:m,shapeType:"sector"},C)))})}},{key:"renderSectorsWithAnimation",value:function(){var r=this,i=this.props,s=i.sectors,a=i.isAnimationActive,o=i.animationBegin,u=i.animationDuration,d=i.animationEasing,h=i.animationId,m=this.state,y=m.prevSectors,b=m.prevIsAnimationActive;return te.createElement(kl,{begin:o,duration:u,isActive:a,easing:d,from:{t:0},to:{t:1},key:"pie-".concat(h,"-").concat(b),onAnimationStart:this.handleAnimationStart,onAnimationEnd:this.handleAnimationEnd},function(C){var w=C.t,A=[],_=s&&s[0],E=_.startAngle;return s.forEach(function(N,I){var O=y&&y[I],k=I>0?ya(N,"paddingAngle",0):0;if(O){var M=la(O.endAngle-O.startAngle,N.endAngle-N.startAngle),R=Vn(Vn({},N),{},{startAngle:E+k,endAngle:E+M(w)+k});A.push(R),E=R.endAngle}else{var L=N.endAngle,U=N.startAngle,X=la(0,L-U),F=X(w),V=Vn(Vn({},N),{},{startAngle:E+k,endAngle:E+F+k});A.push(V),E=V.endAngle}}),te.createElement(yn,null,r.renderSectorsStatically(A))})}},{key:"attachKeyboardHandlers",value:function(r){var i=this;r.onkeydown=function(s){if(!s.altKey)switch(s.key){case"ArrowLeft":{var a=++i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[a].focus(),i.setState({sectorToFocus:a});break}case"ArrowRight":{var o=--i.state.sectorToFocus<0?i.sectorRefs.length-1:i.state.sectorToFocus%i.sectorRefs.length;i.sectorRefs[o].focus(),i.setState({sectorToFocus:o});break}case"Escape":{i.sectorRefs[i.state.sectorToFocus].blur(),i.setState({sectorToFocus:0});break}}}}},{key:"renderSectors",value:function(){var r=this.props,i=r.sectors,s=r.isAnimationActive,a=this.state.prevSectors;return s&&i&&i.length&&(!a||!dx(a,i))?this.renderSectorsWithAnimation():this.renderSectorsStatically(i)}},{key:"componentDidMount",value:function(){this.pieRef&&this.attachKeyboardHandlers(this.pieRef)}},{key:"render",value:function(){var r=this,i=this.props,s=i.hide,a=i.sectors,o=i.className,u=i.label,d=i.cx,h=i.cy,m=i.innerRadius,y=i.outerRadius,b=i.isAnimationActive,C=this.state.isAnimationFinished;if(s||!a||!a.length||!Xe(d)||!Xe(h)||!Xe(m)||!Xe(y))return null;var w=Gt("recharts-pie",o);return te.createElement(yn,{tabIndex:this.props.rootTabIndex,className:w,ref:function(_){r.pieRef=_}},this.renderSectors(),u&&this.renderLabels(a),gi.renderCallByParent(this.props,null,!1),(!b||C)&&wc.renderCallByParent(this.props,a,!1))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return i.prevIsAnimationActive!==r.isAnimationActive?{prevIsAnimationActive:r.isAnimationActive,prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:[],isAnimationFinished:!0}:r.isAnimationActive&&r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curSectors:r.sectors,prevSectors:i.curSectors,isAnimationFinished:!0}:r.sectors!==i.curSectors?{curSectors:r.sectors,isAnimationFinished:!0}:null}},{key:"getTextAnchor",value:function(r,i){return r>i?"start":r<i?"end":"middle"}},{key:"renderLabelLineItem",value:function(r,i,s){if(te.isValidElement(r))return te.cloneElement(r,i);if(Lt(r))return r(i);var a=Gt("recharts-pie-label-line",typeof r!="boolean"?r.className:"");return te.createElement(oS,up({},i,{key:s,type:"linear",className:a}))}},{key:"renderLabelItem",value:function(r,i,s){if(te.isValidElement(r))return te.cloneElement(r,i);var a=s;if(Lt(r)&&(a=r(i),te.isValidElement(a)))return a;var o=Gt("recharts-pie-label-text",typeof r!="boolean"&&!Lt(r)?r.className:"");return te.createElement(Jf,up({},i,{alignmentBaseline:"middle",className:o}),a)}}])}(T.PureComponent);aw=Hc;La(Hc,"displayName","Pie");La(Hc,"defaultProps",{stroke:"#fff",fill:"#808080",legendType:"rect",cx:"50%",cy:"50%",startAngle:0,endAngle:360,innerRadius:0,outerRadius:"80%",paddingAngle:0,labelLine:!0,hide:!1,minAngle:0,isAnimationActive:!Al.isSsr,animationBegin:400,animationDuration:1500,animationEasing:"ease",nameKey:"name",blendStroke:!1,rootTabIndex:0});La(Hc,"parseDeltaAngle",function(e,t){var n=ps(t-e),r=Math.min(Math.abs(t-e),360);return n*r});La(Hc,"getRealPieData",function(e){var t=e.data,n=e.children,r=Nt(e,!1),i=va(n,C1);return t&&t.length?t.map(function(s,a){return Vn(Vn(Vn({payload:s},r),s),i&&i[a]&&i[a].props)}):i&&i.length?i.map(function(s){return Vn(Vn({},r),s.props)}):[]});La(Hc,"parseCoordinateOfPie",function(e,t){var n=t.top,r=t.left,i=t.width,s=t.height,a=Ese(i,s),o=r+ms(e.cx,i,i/2),u=n+ms(e.cy,s,s/2),d=ms(e.innerRadius,a,0),h=ms(e.outerRadius,a,a*.8),m=e.maxRadius||Math.sqrt(i*i+s*s)/2;return{cx:o,cy:u,innerRadius:d,outerRadius:h,maxRadius:m}});La(Hc,"getComposedData",function(e){var t=e.item,n=e.offset,r=t.type.defaultProps!==void 0?Vn(Vn({},t.type.defaultProps),t.props):t.props,i=aw.getRealPieData(r);if(!i||!i.length)return null;var s=r.cornerRadius,a=r.startAngle,o=r.endAngle,u=r.paddingAngle,d=r.dataKey,h=r.nameKey,m=r.valueKey,y=r.tooltipType,b=Math.abs(r.minAngle),C=aw.parseCoordinateOfPie(r,n),w=aw.parseDeltaAngle(a,o),A=Math.abs(w),_=d;zt(d)&&zt(m)?(ko(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_="value"):zt(d)&&(ko(!1,`Use "dataKey" to specify the value of pie,
      the props "valueKey" will be deprecated in 1.1.0`),_=m);var E=i.filter(function(R){return ai(R,_,0)!==0}).length,N=(A>=360?E:E-1)*u,I=A-E*b-N,O=i.reduce(function(R,L){var U=ai(L,_,0);return R+(Xe(U)?U:0)},0),k;if(O>0){var M;k=i.map(function(R,L){var U=ai(R,_,0),X=ai(R,h,L),F=(Xe(U)?U:0)/O,V;L?V=M.endAngle+ps(w)*u*(U!==0?1:0):V=a;var Z=V+ps(w)*((U!==0?b:0)+F*I),H=(V+Z)/2,q=(C.innerRadius+C.outerRadius)/2,G=[{name:X,value:U,payload:R,dataKey:_,type:y}],W=Gn(C.cx,C.cy,q,H);return M=Vn(Vn(Vn({percent:F,cornerRadius:s,name:X,tooltipPayload:G,midAngle:H,middleRadius:q,tooltipPosition:W},R),C),{},{value:ai(R,_),startAngle:V,endAngle:Z,payload:R,paddingAngle:ps(w)*u}),M})}return Vn(Vn({},C),{},{sectors:k,data:i})});var GXe=Math.ceil,qXe=Math.max;function KXe(e,t,n,r){for(var i=-1,s=qXe(GXe((t-e)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=e,e+=n;return a}var XXe=KXe,YXe=_X,d9=1/0,ZXe=17976931348623157e292;function QXe(e){if(!e)return e===0?e:0;if(e=YXe(e),e===d9||e===-d9){var t=e<0?-1:1;return t*ZXe}return e===e?e:0}var Kse=QXe,JXe=XXe,eYe=bA,J_=Kse;function tYe(e){return function(t,n,r){return r&&typeof r!="number"&&eYe(t,n,r)&&(n=r=void 0),t=J_(t),n===void 0?(n=t,t=0):n=J_(n),r=r===void 0?t<n?1:-1:J_(r),JXe(t,n,r,e)}}var nYe=tYe,rYe=nYe,iYe=rYe(),sYe=iYe;const yS=en(sYe);function K1(e){"@babel/helpers - typeof";return K1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},K1(e)}function f9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function h9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?f9(Object(n),!0).forEach(function(r){Xse(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xse(e,t,n){return t=aYe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function aYe(e){var t=oYe(e,"string");return K1(t)=="symbol"?t:t+""}function oYe(e,t){if(K1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(K1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var lYe=["Webkit","Moz","O","ms"],cYe=function(t,n){var r=t.replace(/(\w)/,function(s){return s.toUpperCase()}),i=lYe.reduce(function(s,a){return h9(h9({},s),{},Xse({},a+r,n))},{});return i[t]=n,i};function Zm(e){"@babel/helpers - typeof";return Zm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Zm(e)}function vS(){return vS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vS.apply(this,arguments)}function p9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?p9(Object(n),!0).forEach(function(r){ta(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):p9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uYe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Zse(r.key),r)}}function dYe(e,t,n){return t&&m9(e.prototype,t),n&&m9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fYe(e,t,n){return t=xS(t),hYe(e,Yse()?Reflect.construct(t,n||[],xS(e).constructor):t.apply(e,n))}function hYe(e,t){if(t&&(Zm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pYe(e)}function pYe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Yse(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Yse=function(){return!!e})()}function xS(e){return xS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},xS(e)}function mYe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&XO(e,t)}function XO(e,t){return XO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},XO(e,t)}function ta(e,t,n){return t=Zse(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Zse(e){var t=gYe(e,"string");return Zm(t)=="symbol"?t:t+""}function gYe(e,t){if(Zm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Zm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yYe=function(t){var n=t.data,r=t.startIndex,i=t.endIndex,s=t.x,a=t.width,o=t.travellerWidth;if(!n||!n.length)return{};var u=n.length,d=yy().domain(yS(0,u)).range([s,s+a-o]),h=d.domain().map(function(m){return d(m)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:d(r),endX:d(i),scale:d,scaleValues:h}},g9=function(t){return t.changedTouches&&!!t.changedTouches.length},Qm=function(e){function t(n){var r;return uYe(this,t),r=fYe(this,t,[n]),ta(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),ta(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),ta(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),ta(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),ta(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),ta(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),ta(r,"handleSlideDragStart",function(i){var s=g9(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return mYe(t,e),dYe(t,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,u=o.gap,d=o.data,h=d.length-1,m=Math.min(i,s),y=Math.max(i,s),b=t.getIndexInRange(a,m),C=t.getIndexInRange(a,y);return{startIndex:b-b%u,endIndex:C===h?h:C-C%u}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,u=ai(s[r],o,r);return Lt(a)?a(u,r):u}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,u=this.props,d=u.x,h=u.width,m=u.travellerWidth,y=u.startIndex,b=u.endIndex,C=u.onChange,w=r.pageX-s;w>0?w=Math.min(w,d+h-m-o,d+h-m-a):w<0&&(w=Math.max(w,d-a,d-o));var A=this.getIndex({startX:a+w,endX:o+w});(A.startIndex!==y||A.endIndex!==b)&&C&&C(A),this.setState({startX:a+w,endX:o+w,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=g9(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,u=i.startX,d=this.state[a],h=this.props,m=h.x,y=h.width,b=h.travellerWidth,C=h.onChange,w=h.gap,A=h.data,_={startX:this.state.startX,endX:this.state.endX},E=r.pageX-s;E>0?E=Math.min(E,m+y-b-d):E<0&&(E=Math.max(E,m-d)),_[a]=d+E;var N=this.getIndex(_),I=N.startIndex,O=N.endIndex,k=function(){var R=A.length-1;return a==="startX"&&(o>u?I%w===0:O%w===0)||o<u&&O===R||a==="endX"&&(o>u?O%w===0:I%w===0)||o>u&&O===R};this.setState(ta(ta({},a,d+E),"brushMoveStartX",r.pageX),function(){C&&k()&&C(N)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,u=a.startX,d=a.endX,h=this.state[i],m=o.indexOf(h);if(m!==-1){var y=m+r;if(!(y===-1||y>=o.length)){var b=o[y];i==="startX"&&b>=d||i==="endX"&&b<=u||this.setState(ta({},i,b),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,u=r.fill,d=r.stroke;return te.createElement("rect",{stroke:d,fill:u,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,u=r.data,d=r.children,h=r.padding,m=T.Children.only(d);return m?te.cloneElement(m,{x:i,y:s,width:a,height:o,margin:h,compact:!0,data:u}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,u=this.props,d=u.y,h=u.travellerWidth,m=u.height,y=u.traveller,b=u.ariaLabel,C=u.data,w=u.startIndex,A=u.endIndex,_=Math.max(r,this.props.x),E=eT(eT({},Nt(this.props,!1)),{},{x:_,y:d,width:h,height:m}),N=b||"Min value: ".concat((s=C[w])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=C[A])===null||a===void 0?void 0:a.name);return te.createElement(yn,{tabIndex:0,role:"slider","aria-label":N,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(O){["ArrowLeft","ArrowRight"].includes(O.key)&&(O.preventDefault(),O.stopPropagation(),o.handleTravellerMoveKeyboard(O.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},t.renderTraveller(y,E))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,u=s.stroke,d=s.travellerWidth,h=Math.min(r,i)+d,m=Math.max(Math.abs(i-r)-d,0);return te.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:u,fillOpacity:.2,x:h,y:a,width:m,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,u=r.travellerWidth,d=r.stroke,h=this.state,m=h.startX,y=h.endX,b=5,C={pointerEvents:"none",fill:d};return te.createElement(yn,{className:"recharts-brush-texts"},te.createElement(Jf,vS({textAnchor:"end",verticalAnchor:"middle",x:Math.min(m,y)-b,y:a+o/2},C),this.getTextOfTick(i)),te.createElement(Jf,vS({textAnchor:"start",verticalAnchor:"middle",x:Math.max(m,y)+u+b,y:a+o/2},C),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,u=r.y,d=r.width,h=r.height,m=r.alwaysShowText,y=this.state,b=y.startX,C=y.endX,w=y.isTextActive,A=y.isSlideMoving,_=y.isTravellerMoving,E=y.isTravellerFocused;if(!i||!i.length||!Xe(o)||!Xe(u)||!Xe(d)||!Xe(h)||d<=0||h<=0)return null;var N=Gt("recharts-brush",s),I=te.Children.count(a)===1,O=cYe("userSelect","none");return te.createElement(yn,{className:N,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:O},this.renderBackground(),I&&this.renderPanorama(),this.renderSlide(b,C),this.renderTravellerLayer(b,"startX"),this.renderTravellerLayer(C,"endX"),(w||A||_||E||m)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,u=r.stroke,d=Math.floor(s+o/2)-1;return te.createElement(te.Fragment,null,te.createElement("rect",{x:i,y:s,width:a,height:o,fill:u,stroke:"none"}),te.createElement("line",{x1:i+1,y1:d,x2:i+a-1,y2:d,fill:"none",stroke:"#fff"}),te.createElement("line",{x1:i+1,y1:d+2,x2:i+a-1,y2:d+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return te.isValidElement(r)?s=te.cloneElement(r,i):Lt(r)?s=r(i):s=t.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,u=r.travellerWidth,d=r.updateId,h=r.startIndex,m=r.endIndex;if(s!==i.prevData||d!==i.prevUpdateId)return eT({prevData:s,prevTravellerWidth:u,prevUpdateId:d,prevX:o,prevWidth:a},s&&s.length?yYe({data:s,width:a,x:o,travellerWidth:u,startIndex:h,endIndex:m}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||u!==i.prevTravellerWidth)){i.scale.range([o,o+a-u]);var y=i.scale.domain().map(function(b){return i.scale(b)});return{prevData:s,prevTravellerWidth:u,prevUpdateId:d,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:y}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var u=Math.floor((a+o)/2);r[u]>i?o=u:a=u}return i>=r[o]?o:a}}])}(T.PureComponent);ta(Qm,"displayName","Brush");ta(Qm,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var vYe=C4;function xYe(e,t){var n;return vYe(e,function(r,i,s){return n=t(r,i,s),!n}),!!n}var bYe=xYe,wYe=Ure,SYe=Rl,CYe=bYe,AYe=Gs,EYe=bA;function _Ye(e,t,n){var r=AYe(e)?wYe:CYe;return n&&EYe(e,t,n)&&(t=void 0),r(e,SYe(t))}var TYe=_Ye;const NYe=en(TYe);var _l=function(t,n){var r=t.alwaysShow,i=t.ifOverflow;return r&&(i="extendDomain"),i===n},y9=cie;function PYe(e,t,n){t=="__proto__"&&y9?y9(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var OYe=PYe,jYe=OYe,kYe=oie,IYe=Rl;function MYe(e,t){var n={};return t=IYe(t),kYe(e,function(r,i,s){jYe(n,i,t(r,i,s))}),n}var DYe=MYe;const RYe=en(DYe);function FYe(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}var LYe=FYe,BYe=C4;function $Ye(e,t){var n=!0;return BYe(e,function(r,i,s){return n=!!t(r,i,s),n}),n}var UYe=$Ye,zYe=LYe,VYe=UYe,WYe=Rl,HYe=Gs,GYe=bA;function qYe(e,t,n){var r=HYe(e)?zYe:VYe;return n&&GYe(e,t,n)&&(t=void 0),r(e,WYe(t))}var KYe=qYe;const Qse=en(KYe);var XYe=["x","y"];function X1(e){"@babel/helpers - typeof";return X1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},X1(e)}function YO(){return YO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},YO.apply(this,arguments)}function v9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?v9(Object(n),!0).forEach(function(r){YYe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YYe(e,t,n){return t=ZYe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ZYe(e){var t=QYe(e,"string");return X1(t)=="symbol"?t:t+""}function QYe(e,t){if(X1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(X1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JYe(e,t){if(e==null)return{};var n=eZe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function eZe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function tZe(e,t){var n=e.x,r=e.y,i=JYe(e,XYe),s="".concat(n),a=parseInt(s,10),o="".concat(r),u=parseInt(o,10),d="".concat(t.height||i.height),h=parseInt(d,10),m="".concat(t.width||i.width),y=parseInt(m,10);return j0(j0(j0(j0(j0({},t),i),a?{x:a}:{}),u?{y:u}:{}),{},{height:h,width:y,name:t.name,radius:t.radius})}function x9(e){return te.createElement(Hse,YO({shapeType:"rectangle",propTransformer:tZe,activeClassName:"recharts-active-bar"},e))}var nZe=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof t=="number")return t;var s=typeof r=="number";return s?t(r,i):(s||th(),n)}},rZe=["value","background"],Jse;function Jm(e){"@babel/helpers - typeof";return Jm=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Jm(e)}function iZe(e,t){if(e==null)return{};var n=sZe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sZe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function bS(){return bS=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},bS.apply(this,arguments)}function b9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?b9(Object(n),!0).forEach(function(r){Ou(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):b9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function w9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,tae(r.key),r)}}function oZe(e,t,n){return t&&w9(e.prototype,t),n&&w9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function lZe(e,t,n){return t=wS(t),cZe(e,eae()?Reflect.construct(t,n||[],wS(e).constructor):t.apply(e,n))}function cZe(e,t){if(t&&(Jm(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uZe(e)}function uZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(eae=function(){return!!e})()}function wS(e){return wS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},wS(e)}function dZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ZO(e,t)}function ZO(e,t){return ZO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},ZO(e,t)}function Ou(e,t,n){return t=tae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function tae(e){var t=fZe(e,"string");return Jm(t)=="symbol"?t:t+""}function fZe(e,t){if(Jm(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Jm(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var id=function(e){function t(){var n;aZe(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=lZe(this,t,[].concat(i)),Ou(n,"state",{isAnimationFinished:!1}),Ou(n,"id",Dg("recharts-bar-")),Ou(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),Ou(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return dZe(t,e),oZe(t,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,u=s.activeIndex,d=s.activeBar,h=Nt(this.props,!1);return r&&r.map(function(m,y){var b=y===u,C=b?d:a,w=Vr(Vr(Vr({},h),m),{},{isActive:b,option:C,index:y,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return te.createElement(yn,bS({className:"recharts-bar-rectangle"},Qf(i.props,m,y),{key:"rectangle-".concat(m==null?void 0:m.x,"-").concat(m==null?void 0:m.y,"-").concat(m==null?void 0:m.value,"-").concat(y)}),te.createElement(x9,w))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,u=i.animationBegin,d=i.animationDuration,h=i.animationEasing,m=i.animationId,y=this.state.prevData;return te.createElement(kl,{begin:u,duration:d,isActive:o,easing:h,from:{t:0},to:{t:1},key:"bar-".concat(m),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(b){var C=b.t,w=s.map(function(A,_){var E=y&&y[_];if(E){var N=la(E.x,A.x),I=la(E.y,A.y),O=la(E.width,A.width),k=la(E.height,A.height);return Vr(Vr({},A),{},{x:N(C),y:I(C),width:O(C),height:k(C)})}if(a==="horizontal"){var M=la(0,A.height),R=M(C);return Vr(Vr({},A),{},{y:A.y+A.height-R,height:R})}var L=la(0,A.width),U=L(C);return Vr(Vr({},A),{},{width:U})});return te.createElement(yn,null,r.renderRectanglesStatically(w))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!dx(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,u=Nt(this.props.background,!1);return s.map(function(d,h){d.value;var m=d.background,y=iZe(d,rZe);if(!m)return null;var b=Vr(Vr(Vr(Vr(Vr({},y),{},{fill:"#eee"},m),u),Qf(r.props,d,h)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:h,className:"recharts-bar-background-rectangle"});return te.createElement(x9,bS({key:"background-bar-".concat(h),option:r.props.background,isActive:h===o},b))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,u=s.yAxis,d=s.layout,h=s.children,m=va(h,fx);if(!m)return null;var y=d==="vertical"?a[0].height/2:a[0].width/2,b=function(A,_){var E=Array.isArray(A.value)?A.value[1]:A.value;return{x:A.x,y:A.y,value:E,errorVal:ai(A,_)}},C={clipPath:r?"url(#clipPath-".concat(i,")"):null};return te.createElement(yn,C,m.map(function(w){return te.cloneElement(w,{key:"error-bar-".concat(i,"-").concat(w.props.dataKey),data:a,xAxis:o,yAxis:u,layout:d,offset:y,dataPointFormatter:b})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,u=r.yAxis,d=r.left,h=r.top,m=r.width,y=r.height,b=r.isAnimationActive,C=r.background,w=r.id;if(i||!s||!s.length)return null;var A=this.state.isAnimationFinished,_=Gt("recharts-bar",a),E=o&&o.allowDataOverflow,N=u&&u.allowDataOverflow,I=E||N,O=zt(w)?this.id:w;return te.createElement(yn,{className:_},E||N?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(O)},te.createElement("rect",{x:E?d:d-m/2,y:N?h:h-y/2,width:E?m:m*2,height:N?y:y*2}))):null,te.createElement(yn,{className:"recharts-bar-rectangles",clipPath:I?"url(#clipPath-".concat(O,")"):null},C?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(I,O),(!b||A)&&wc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(T.PureComponent);Jse=id;Ou(id,"displayName","Bar");Ou(id,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!Al.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});Ou(id,"getComposedData",function(e){var t=e.props,n=e.item,r=e.barPosition,i=e.bandSize,s=e.xAxis,a=e.yAxis,o=e.xAxisTicks,u=e.yAxisTicks,d=e.stackedData,h=e.dataStartIndex,m=e.displayedData,y=e.offset,b=GWe(r,n);if(!b)return null;var C=t.layout,w=n.type.defaultProps,A=w!==void 0?Vr(Vr({},w),n.props):n.props,_=A.dataKey,E=A.children,N=A.minPointSize,I=C==="horizontal"?a:s,O=d?I.scale.domain():null,k=JWe({numericAxis:I}),M=va(E,C1),R=m.map(function(L,U){var X,F,V,Z,H,q;d?X=qWe(d[h+U],O):(X=ai(L,_),Array.isArray(X)||(X=[k,X]));var G=nZe(N,Jse.defaultProps.minPointSize)(X[1],U);if(C==="horizontal"){var W,oe=[a.scale(X[0]),a.scale(X[1])],J=oe[0],Y=oe[1];F=u7({axis:s,ticks:o,bandSize:i,offset:b.offset,entry:L,index:U}),V=(W=Y??J)!==null&&W!==void 0?W:void 0,Z=b.size;var ne=J-Y;if(H=Number.isNaN(ne)?0:ne,q={x:F,y:a.y,width:Z,height:a.height},Math.abs(G)>0&&Math.abs(H)<Math.abs(G)){var pe=ps(H||G)*(Math.abs(G)-Math.abs(H));V-=pe,H+=pe}}else{var he=[s.scale(X[0]),s.scale(X[1])],we=he[0],me=he[1];if(F=we,V=u7({axis:a,ticks:u,bandSize:i,offset:b.offset,entry:L,index:U}),Z=me-we,H=b.size,q={x:s.x,y:V,width:s.width,height:H},Math.abs(G)>0&&Math.abs(Z)<Math.abs(G)){var be=ps(Z||G)*(Math.abs(G)-Math.abs(Z));Z+=be}}return Vr(Vr(Vr({},L),{},{x:F,y:V,width:Z,height:H,value:d?X:X[1],payload:L,background:q},M&&M[U]&&M[U].props),{},{tooltipPayload:[Cse(n,L)],tooltipPosition:{x:F+Z/2,y:V+H/2}})});return Vr({data:R,layout:C},y)});function Y1(e){"@babel/helpers - typeof";return Y1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Y1(e)}function hZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function S9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,nae(r.key),r)}}function pZe(e,t,n){return t&&S9(e.prototype,t),n&&S9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function C9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wo(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?C9(Object(n),!0).forEach(function(r){BA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):C9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function BA(e,t,n){return t=nae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nae(e){var t=mZe(e,"string");return Y1(t)=="symbol"?t:t+""}function mZe(e,t){if(Y1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Y1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rae=function(t,n,r,i,s){var a=t.width,o=t.height,u=t.layout,d=t.children,h=Object.keys(n),m={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},y=!!ia(d,id);return h.reduce(function(b,C){var w=n[C],A=w.orientation,_=w.domain,E=w.padding,N=E===void 0?{}:E,I=w.mirror,O=w.reversed,k="".concat(A).concat(I?"Mirror":""),M,R,L,U,X;if(w.type==="number"&&(w.padding==="gap"||w.padding==="no-gap")){var F=_[1]-_[0],V=1/0,Z=w.categoricalDomain.sort();if(Z.forEach(function(he,we){we>0&&(V=Math.min((he||0)-(Z[we-1]||0),V))}),Number.isFinite(V)){var H=V/F,q=w.layout==="vertical"?r.height:r.width;if(w.padding==="gap"&&(M=H*q/2),w.padding==="no-gap"){var G=ms(t.barCategoryGap,H*q),W=H*q/2;M=W-G-(W-G)/q*G}}}i==="xAxis"?R=[r.left+(N.left||0)+(M||0),r.left+r.width-(N.right||0)-(M||0)]:i==="yAxis"?R=u==="horizontal"?[r.top+r.height-(N.bottom||0),r.top+(N.top||0)]:[r.top+(N.top||0)+(M||0),r.top+r.height-(N.bottom||0)-(M||0)]:R=w.range,O&&(R=[R[1],R[0]]);var oe=xse(w,s,y),J=oe.scale,Y=oe.realScaleType;J.domain(_).range(R),bse(J);var ne=wse(J,wo(wo({},w),{},{realScaleType:Y}));i==="xAxis"?(X=A==="top"&&!I||A==="bottom"&&I,L=r.left,U=m[k]-X*w.height):i==="yAxis"&&(X=A==="left"&&!I||A==="right"&&I,L=m[k]-X*w.width,U=r.top);var pe=wo(wo(wo({},w),ne),{},{realScaleType:Y,x:L,y:U,scale:J,width:i==="xAxis"?r.width:w.width,height:i==="yAxis"?r.height:w.height});return pe.bandSize=iS(pe,ne),!w.hide&&i==="xAxis"?m[k]+=(X?-1:1)*pe.height:w.hide||(m[k]+=(X?-1:1)*pe.width),wo(wo({},b),{},BA({},C,pe))},{})},iae=function(t,n){var r=t.x,i=t.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},gZe=function(t){var n=t.x1,r=t.y1,i=t.x2,s=t.y2;return iae({x:n,y:r},{x:i,y:s})},sae=function(){function e(t){hZe(this,e),this.scale=t}return pZe(e,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var u=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+u}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new e(n)}}])}();BA(sae,"EPS",1e-4);var Q4=function(t){var n=Object.keys(t).reduce(function(r,i){return wo(wo({},r),{},BA({},i,sae.create(t[i])))},{});return wo(wo({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return RYe(i,function(u,d){return n[d].apply(u,{bandAware:a,position:o})})},isInRange:function(i){return Qse(i,function(s,a){return n[a].isInRange(s)})}})};function yZe(e){return(e%180+180)%180}var vZe=function(t){var n=t.width,r=t.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=yZe(i),a=s*Math.PI/180,o=Math.atan(r/n),u=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(u)},xZe=Rl,bZe=ax,wZe=vA;function SZe(e){return function(t,n,r){var i=Object(t);if(!bZe(t)){var s=xZe(n);t=wZe(t),n=function(o){return s(i[o],o,i)}}var a=e(t,n,r);return a>-1?i[s?t[a]:a]:void 0}}var CZe=SZe,AZe=Kse;function EZe(e){var t=AZe(e),n=t%1;return t===t?n?t-n:t:0}var _Ze=EZe,TZe=tie,NZe=Rl,PZe=_Ze,OZe=Math.max;function jZe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:PZe(n);return i<0&&(i=OZe(r+i,0)),TZe(e,NZe(t),i)}var kZe=jZe,IZe=CZe,MZe=kZe,DZe=IZe(MZe),RZe=DZe;const FZe=en(RZe);var LZe=oMe(function(e){return{x:e.left,y:e.top,width:e.width,height:e.height}},function(e){return["l",e.left,"t",e.top,"w",e.width,"h",e.height].join("")}),J4=T.createContext(void 0),eM=T.createContext(void 0),aae=T.createContext(void 0),oae=T.createContext({}),lae=T.createContext(void 0),cae=T.createContext(0),uae=T.createContext(0),A9=function(t){var n=t.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=t.clipPathId,o=t.children,u=t.width,d=t.height,h=LZe(s);return te.createElement(J4.Provider,{value:r},te.createElement(eM.Provider,{value:i},te.createElement(oae.Provider,{value:s},te.createElement(aae.Provider,{value:h},te.createElement(lae.Provider,{value:a},te.createElement(cae.Provider,{value:d},te.createElement(uae.Provider,{value:u},o)))))))},BZe=function(){return T.useContext(lae)},dae=function(t){var n=T.useContext(J4);n==null&&th();var r=n[t];return r==null&&th(),r},$Ze=function(){var t=T.useContext(J4);return pu(t)},UZe=function(){var t=T.useContext(eM),n=FZe(t,function(r){return Qse(r.domain,Number.isFinite)});return n||pu(t)},fae=function(t){var n=T.useContext(eM);n==null&&th();var r=n[t];return r==null&&th(),r},zZe=function(){var t=T.useContext(aae);return t},VZe=function(){return T.useContext(oae)},tM=function(){return T.useContext(uae)},nM=function(){return T.useContext(cae)};function eg(e){"@babel/helpers - typeof";return eg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},eg(e)}function WZe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function HZe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,pae(r.key),r)}}function GZe(e,t,n){return t&&HZe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function qZe(e,t,n){return t=SS(t),KZe(e,hae()?Reflect.construct(t,n||[],SS(e).constructor):t.apply(e,n))}function KZe(e,t){if(t&&(eg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return XZe(e)}function XZe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function hae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(hae=function(){return!!e})()}function SS(e){return SS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},SS(e)}function YZe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&QO(e,t)}function QO(e,t){return QO=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},QO(e,t)}function E9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?E9(Object(n),!0).forEach(function(r){rM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function rM(e,t,n){return t=pae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pae(e){var t=ZZe(e,"string");return eg(t)=="symbol"?t:t+""}function ZZe(e,t){if(eg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(eg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QZe(e,t){return nQe(e)||tQe(e,t)||eQe(e,t)||JZe()}function JZe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function eQe(e,t){if(e){if(typeof e=="string")return T9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return T9(e,t)}}function T9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function tQe(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function nQe(e){if(Array.isArray(e))return e}function JO(){return JO=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},JO.apply(this,arguments)}var rQe=function(t,n){var r;return te.isValidElement(t)?r=te.cloneElement(t,n):Lt(t)?r=t(n):r=te.createElement("line",JO({},n,{className:"recharts-reference-line-line"})),r},iQe=function(t,n,r,i,s,a,o,u,d){var h=s.x,m=s.y,y=s.width,b=s.height;if(r){var C=d.y,w=t.y.apply(C,{position:a});if(_l(d,"discard")&&!t.y.isInRange(w))return null;var A=[{x:h+y,y:w},{x:h,y:w}];return u==="left"?A.reverse():A}if(n){var _=d.x,E=t.x.apply(_,{position:a});if(_l(d,"discard")&&!t.x.isInRange(E))return null;var N=[{x:E,y:m+b},{x:E,y:m}];return o==="top"?N.reverse():N}if(i){var I=d.segment,O=I.map(function(k){return t.apply(k,{position:a})});return _l(d,"discard")&&NYe(O,function(k){return!t.isInRange(k)})?null:O}return null};function sQe(e){var t=e.x,n=e.y,r=e.segment,i=e.xAxisId,s=e.yAxisId,a=e.shape,o=e.className,u=e.alwaysShow,d=BZe(),h=dae(i),m=fae(s),y=zZe();if(!d||!y)return null;ko(u===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var b=Q4({x:h.scale,y:m.scale}),C=li(t),w=li(n),A=r&&r.length===2,_=iQe(b,C,w,A,y,e.position,h.orientation,m.orientation,e);if(!_)return null;var E=QZe(_,2),N=E[0],I=N.x,O=N.y,k=E[1],M=k.x,R=k.y,L=_l(e,"hidden")?"url(#".concat(d,")"):void 0,U=_9(_9({clipPath:L},Nt(e,!0)),{},{x1:I,y1:O,x2:M,y2:R});return te.createElement(yn,{className:Gt("recharts-reference-line",o)},rQe(a,U),gi.renderCallByParent(e,gZe({x1:I,y1:O,x2:M,y2:R})))}var iM=function(e){function t(){return WZe(this,t),qZe(this,t,arguments)}return YZe(t,e),GZe(t,[{key:"render",value:function(){return te.createElement(sQe,this.props)}}])}(te.Component);rM(iM,"displayName","ReferenceLine");rM(iM,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function e3(){return e3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},e3.apply(this,arguments)}function tg(e){"@babel/helpers - typeof";return tg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},tg(e)}function N9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function P9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?N9(Object(n),!0).forEach(function(r){$A(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function aQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function oQe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,gae(r.key),r)}}function lQe(e,t,n){return t&&oQe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cQe(e,t,n){return t=CS(t),uQe(e,mae()?Reflect.construct(t,n||[],CS(e).constructor):t.apply(e,n))}function uQe(e,t){if(t&&(tg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dQe(e)}function dQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function mae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(mae=function(){return!!e})()}function CS(e){return CS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},CS(e)}function fQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&t3(e,t)}function t3(e,t){return t3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},t3(e,t)}function $A(e,t,n){return t=gae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gae(e){var t=hQe(e,"string");return tg(t)=="symbol"?t:t+""}function hQe(e,t){if(tg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(tg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pQe=function(t){var n=t.x,r=t.y,i=t.xAxis,s=t.yAxis,a=Q4({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return _l(t,"discard")&&!a.isInRange(o)?null:o},UA=function(e){function t(){return aQe(this,t),cQe(this,t,arguments)}return fQe(t,e),lQe(t,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,u=r.clipPathId,d=li(i),h=li(s);if(ko(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!d||!h)return null;var m=pQe(this.props);if(!m)return null;var y=m.x,b=m.y,C=this.props,w=C.shape,A=C.className,_=_l(this.props,"hidden")?"url(#".concat(u,")"):void 0,E=P9(P9({clipPath:_},Nt(this.props,!0)),{},{cx:y,cy:b});return te.createElement(yn,{className:Gt("recharts-reference-dot",A)},t.renderDot(w,E),gi.renderCallByParent(this.props,{x:y-a,y:b-a,width:2*a,height:2*a}))}}])}(te.Component);$A(UA,"displayName","ReferenceDot");$A(UA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});$A(UA,"renderDot",function(e,t){var n;return te.isValidElement(e)?n=te.cloneElement(e,t):Lt(e)?n=e(t):n=te.createElement(kA,e3({},t,{cx:t.cx,cy:t.cy,className:"recharts-reference-dot-dot"})),n});function n3(){return n3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n3.apply(this,arguments)}function ng(e){"@babel/helpers - typeof";return ng=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ng(e)}function O9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function j9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?O9(Object(n),!0).forEach(function(r){zA(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function mQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function gQe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,vae(r.key),r)}}function yQe(e,t,n){return t&&gQe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function vQe(e,t,n){return t=AS(t),xQe(e,yae()?Reflect.construct(t,n||[],AS(e).constructor):t.apply(e,n))}function xQe(e,t){if(t&&(ng(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bQe(e)}function bQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function yae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yae=function(){return!!e})()}function AS(e){return AS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},AS(e)}function wQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&r3(e,t)}function r3(e,t){return r3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},r3(e,t)}function zA(e,t,n){return t=vae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function vae(e){var t=SQe(e,"string");return ng(t)=="symbol"?t:t+""}function SQe(e,t){if(ng(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ng(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var CQe=function(t,n,r,i,s){var a=s.x1,o=s.x2,u=s.y1,d=s.y2,h=s.xAxis,m=s.yAxis;if(!h||!m)return null;var y=Q4({x:h.scale,y:m.scale}),b={x:t?y.x.apply(a,{position:"start"}):y.x.rangeMin,y:r?y.y.apply(u,{position:"start"}):y.y.rangeMin},C={x:n?y.x.apply(o,{position:"end"}):y.x.rangeMax,y:i?y.y.apply(d,{position:"end"}):y.y.rangeMax};return _l(s,"discard")&&(!y.isInRange(b)||!y.isInRange(C))?null:iae(b,C)},VA=function(e){function t(){return mQe(this,t),vQe(this,t,arguments)}return wQe(t,e),yQe(t,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,u=r.className,d=r.alwaysShow,h=r.clipPathId;ko(d===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var m=li(i),y=li(s),b=li(a),C=li(o),w=this.props.shape;if(!m&&!y&&!b&&!C&&!w)return null;var A=CQe(m,y,b,C,this.props);if(!A&&!w)return null;var _=_l(this.props,"hidden")?"url(#".concat(h,")"):void 0;return te.createElement(yn,{className:Gt("recharts-reference-area",u)},t.renderRect(w,j9(j9({clipPath:_},Nt(this.props,!0)),A)),gi.renderCallByParent(this.props,A))}}])}(te.Component);zA(VA,"displayName","ReferenceArea");zA(VA,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});zA(VA,"renderRect",function(e,t){var n;return te.isValidElement(e)?n=te.cloneElement(e,t):Lt(e)?n=e(t):n=te.createElement(Z4,n3({},t,{className:"recharts-reference-area-rect"})),n});function xae(e,t,n){if(t<1)return[];if(t===1&&n===void 0)return e;for(var r=[],i=0;i<e.length;i+=t)r.push(e[i]);return r}function AQe(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return vZe(r,n)}function EQe(e,t,n){var r=n==="width",i=e.x,s=e.y,a=e.width,o=e.height;return t===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function ES(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var s=n();return e*(t-e*s/2-r)>=0&&e*(t+e*s/2-i)<=0}function _Qe(e,t){return xae(e,t+1)}function TQe(e,t,n,r,i){for(var s=(r||[]).slice(),a=t.start,o=t.end,u=0,d=1,h=a,m=function(){var C=r==null?void 0:r[u];if(C===void 0)return{v:xae(r,d)};var w=u,A,_=function(){return A===void 0&&(A=n(C,w)),A},E=C.coordinate,N=u===0||ES(e,E,_,h,o);N||(u=0,h=a,d+=1),N&&(h=E+e*(_()/2+i),u+=d)},y;d<=s.length;)if(y=m(),y)return y.v;return[]}function Z1(e){"@babel/helpers - typeof";return Z1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Z1(e)}function k9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?k9(Object(n),!0).forEach(function(r){NQe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function NQe(e,t,n){return t=PQe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function PQe(e){var t=OQe(e,"string");return Z1(t)=="symbol"?t:t+""}function OQe(e,t){if(Z1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(Z1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function jQe(e,t,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=t.start,u=t.end,d=function(y){var b=s[y],C,w=function(){return C===void 0&&(C=n(b,y)),C};if(y===a-1){var A=e*(b.coordinate+e*w()/2-u);s[y]=b=Wi(Wi({},b),{},{tickCoord:A>0?b.coordinate-A*e:b.coordinate})}else s[y]=b=Wi(Wi({},b),{},{tickCoord:b.coordinate});var _=ES(e,b.tickCoord,w,o,u);_&&(u=b.tickCoord-e*(w()/2+i),s[y]=Wi(Wi({},b),{},{isShow:!0}))},h=a-1;h>=0;h--)d(h);return s}function kQe(e,t,n,r,i,s){var a=(r||[]).slice(),o=a.length,u=t.start,d=t.end;if(s){var h=r[o-1],m=n(h,o-1),y=e*(h.coordinate+e*m/2-d);a[o-1]=h=Wi(Wi({},h),{},{tickCoord:y>0?h.coordinate-y*e:h.coordinate});var b=ES(e,h.tickCoord,function(){return m},u,d);b&&(d=h.tickCoord-e*(m/2+i),a[o-1]=Wi(Wi({},h),{},{isShow:!0}))}for(var C=s?o-1:o,w=function(E){var N=a[E],I,O=function(){return I===void 0&&(I=n(N,E)),I};if(E===0){var k=e*(N.coordinate-e*O()/2-u);a[E]=N=Wi(Wi({},N),{},{tickCoord:k<0?N.coordinate-k*e:N.coordinate})}else a[E]=N=Wi(Wi({},N),{},{tickCoord:N.coordinate});var M=ES(e,N.tickCoord,O,u,d);M&&(u=N.tickCoord+e*(O()/2+i),a[E]=Wi(Wi({},N),{},{isShow:!0}))},A=0;A<C;A++)w(A);return a}function sM(e,t,n){var r=e.tick,i=e.ticks,s=e.viewBox,a=e.minTickGap,o=e.orientation,u=e.interval,d=e.tickFormatter,h=e.unit,m=e.angle;if(!i||!i.length||!r)return[];if(Xe(u)||Al.isSsr)return _Qe(i,typeof u=="number"&&Xe(u)?u:0);var y=[],b=o==="top"||o==="bottom"?"width":"height",C=h&&b==="width"?gy(h,{fontSize:t,letterSpacing:n}):{width:0,height:0},w=function(N,I){var O=Lt(d)?d(N.value,I):N.value;return b==="width"?AQe(gy(O,{fontSize:t,letterSpacing:n}),C,m):gy(O,{fontSize:t,letterSpacing:n})[b]},A=i.length>=2?ps(i[1].coordinate-i[0].coordinate):1,_=EQe(s,A,b);return u==="equidistantPreserveStart"?TQe(A,_,w,i,a):(u==="preserveStart"||u==="preserveStartEnd"?y=kQe(A,_,w,i,a,u==="preserveStartEnd"):y=jQe(A,_,w,i,a),y.filter(function(E){return E.isShow}))}var IQe=["viewBox"],MQe=["viewBox"],DQe=["ticks"];function rg(e){"@babel/helpers - typeof";return rg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},rg(e)}function dp(){return dp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},dp.apply(this,arguments)}function I9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function is(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?I9(Object(n),!0).forEach(function(r){aM(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):I9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tT(e,t){if(e==null)return{};var n=RQe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function RQe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function FQe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function M9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,wae(r.key),r)}}function LQe(e,t,n){return t&&M9(e.prototype,t),n&&M9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function BQe(e,t,n){return t=_S(t),$Qe(e,bae()?Reflect.construct(t,n||[],_S(e).constructor):t.apply(e,n))}function $Qe(e,t){if(t&&(rg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return UQe(e)}function UQe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(bae=function(){return!!e})()}function _S(e){return _S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},_S(e)}function zQe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&i3(e,t)}function i3(e,t){return i3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},i3(e,t)}function aM(e,t,n){return t=wae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function wae(e){var t=VQe(e,"string");return rg(t)=="symbol"?t:t+""}function VQe(e,t){if(rg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(rg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var zg=function(e){function t(n){var r;return FQe(this,t),r=BQe(this,t,[n]),r.state={fontSize:"",letterSpacing:""},r}return zQe(t,e),LQe(t,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=tT(r,IQe),o=this.props,u=o.viewBox,d=tT(o,MQe);return!Op(s,u)||!Op(a,d)||!Op(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,u=i.height,d=i.orientation,h=i.tickSize,m=i.mirror,y=i.tickMargin,b,C,w,A,_,E,N=m?-1:1,I=r.tickSize||h,O=Xe(r.tickCoord)?r.tickCoord:r.coordinate;switch(d){case"top":b=C=r.coordinate,A=a+ +!m*u,w=A-N*I,E=w-N*y,_=O;break;case"left":w=A=r.coordinate,C=s+ +!m*o,b=C-N*I,_=b-N*y,E=O;break;case"right":w=A=r.coordinate,C=s+ +m*o,b=C+N*I,_=b+N*y,E=O;break;default:b=C=r.coordinate,A=a+ +m*u,w=A+N*I,E=w+N*y,_=O;break}return{line:{x1:b,y1:w,x2:C,y2:A},tick:{x:_,y:E}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,u=r.orientation,d=r.mirror,h=r.axisLine,m=is(is(is({},Nt(this.props,!1)),Nt(h,!1)),{},{fill:"none"});if(u==="top"||u==="bottom"){var y=+(u==="top"&&!d||u==="bottom"&&d);m=is(is({},m),{},{x1:i,y1:s+y*o,x2:i+a,y2:s+y*o})}else{var b=+(u==="left"&&!d||u==="right"&&d);m=is(is({},m),{},{x1:i+b*a,y1:s,x2:i+b*a,y2:s+o})}return te.createElement("line",dp({},m,{className:Gt("recharts-cartesian-axis-line",ya(h,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,u=o.tickLine,d=o.stroke,h=o.tick,m=o.tickFormatter,y=o.unit,b=sM(is(is({},this.props),{},{ticks:r}),i,s),C=this.getTickTextAnchor(),w=this.getTickVerticalAnchor(),A=Nt(this.props,!1),_=Nt(h,!1),E=is(is({},A),{},{fill:"none"},Nt(u,!1)),N=b.map(function(I,O){var k=a.getTickLineCoord(I),M=k.line,R=k.tick,L=is(is(is(is({textAnchor:C,verticalAnchor:w},A),{},{stroke:"none",fill:d},_),R),{},{index:O,payload:I,visibleTicksCount:b.length,tickFormatter:m});return te.createElement(yn,dp({className:"recharts-cartesian-axis-tick",key:"tick-".concat(I.value,"-").concat(I.coordinate,"-").concat(I.tickCoord)},Qf(a.props,I,O)),u&&te.createElement("line",dp({},E,M,{className:Gt("recharts-cartesian-axis-tick-line",ya(u,"className"))})),h&&t.renderTickItem(h,L,"".concat(Lt(m)?m(I.value,O):I.value).concat(y||"")))});return te.createElement("g",{className:"recharts-cartesian-axis-ticks"},N)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,u=i.ticksGenerator,d=i.className,h=i.hide;if(h)return null;var m=this.props,y=m.ticks,b=tT(m,DQe),C=y;return Lt(u)&&(C=y&&y.length>0?u(this.props):u(b)),a<=0||o<=0||!C||!C.length?null:te.createElement(yn,{className:Gt("recharts-cartesian-axis",d),ref:function(A){r.layerReference=A}},s&&this.renderAxisLine(),this.renderTicks(C,this.state.fontSize,this.state.letterSpacing),gi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a;return te.isValidElement(r)?a=te.cloneElement(r,i):Lt(r)?a=r(i):a=te.createElement(Jf,dp({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(T.Component);aM(zg,"displayName","CartesianAxis");aM(zg,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var WQe=["x1","y1","x2","y2","key"],HQe=["offset"];function nh(e){"@babel/helpers - typeof";return nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},nh(e)}function D9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function qi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?D9(Object(n),!0).forEach(function(r){GQe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function GQe(e,t,n){return t=qQe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qQe(e){var t=KQe(e,"string");return nh(t)=="symbol"?t:t+""}function KQe(e,t){if(nh(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function nf(){return nf=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nf.apply(this,arguments)}function R9(e,t){if(e==null)return{};var n=XQe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function XQe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}var YQe=function(t){var n=t.fill;if(!n||n==="none")return null;var r=t.fillOpacity,i=t.x,s=t.y,a=t.width,o=t.height,u=t.ry;return te.createElement("rect",{x:i,y:s,ry:u,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function Sae(e,t){var n;if(te.isValidElement(e))n=te.cloneElement(e,t);else if(Lt(e))n=e(t);else{var r=t.x1,i=t.y1,s=t.x2,a=t.y2,o=t.key,u=R9(t,WQe),d=Nt(u,!1);d.offset;var h=R9(d,HQe);n=te.createElement("line",nf({},h,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function ZQe(e){var t=e.x,n=e.width,r=e.horizontal,i=r===void 0?!0:r,s=e.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,u){var d=qi(qi({},e),{},{x1:t,y1:o,x2:t+n,y2:o,key:"line-".concat(u),index:u});return Sae(i,d)});return te.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function QQe(e){var t=e.y,n=e.height,r=e.vertical,i=r===void 0?!0:r,s=e.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,u){var d=qi(qi({},e),{},{x1:o,y1:t,x2:o,y2:t+n,key:"line-".concat(u),index:u});return Sae(i,d)});return te.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function JQe(e){var t=e.horizontalFill,n=e.fillOpacity,r=e.x,i=e.y,s=e.width,a=e.height,o=e.horizontalPoints,u=e.horizontal,d=u===void 0?!0:u;if(!d||!t||!t.length)return null;var h=o.map(function(y){return Math.round(y+i-i)}).sort(function(y,b){return y-b});i!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var C=!h[b+1],w=C?i+a-y:h[b+1]-y;if(w<=0)return null;var A=b%t.length;return te.createElement("rect",{key:"react-".concat(b),y,x:r,height:w,width:s,stroke:"none",fill:t[A],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},m)}function eJe(e){var t=e.vertical,n=t===void 0?!0:t,r=e.verticalFill,i=e.fillOpacity,s=e.x,a=e.y,o=e.width,u=e.height,d=e.verticalPoints;if(!n||!r||!r.length)return null;var h=d.map(function(y){return Math.round(y+s-s)}).sort(function(y,b){return y-b});s!==h[0]&&h.unshift(0);var m=h.map(function(y,b){var C=!h[b+1],w=C?s+o-y:h[b+1]-y;if(w<=0)return null;var A=b%r.length;return te.createElement("rect",{key:"react-".concat(b),x:y,y:a,width:w,height:u,stroke:"none",fill:r[A],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return te.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},m)}var tJe=function(t,n){var r=t.xAxis,i=t.width,s=t.height,a=t.offset;return vse(sM(qi(qi(qi({},zg.defaultProps),r),{},{ticks:hc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},nJe=function(t,n){var r=t.yAxis,i=t.width,s=t.height,a=t.offset;return vse(sM(qi(qi(qi({},zg.defaultProps),r),{},{ticks:hc(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},Dh={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function ow(e){var t,n,r,i,s,a,o=tM(),u=nM(),d=VZe(),h=qi(qi({},e),{},{stroke:(t=e.stroke)!==null&&t!==void 0?t:Dh.stroke,fill:(n=e.fill)!==null&&n!==void 0?n:Dh.fill,horizontal:(r=e.horizontal)!==null&&r!==void 0?r:Dh.horizontal,horizontalFill:(i=e.horizontalFill)!==null&&i!==void 0?i:Dh.horizontalFill,vertical:(s=e.vertical)!==null&&s!==void 0?s:Dh.vertical,verticalFill:(a=e.verticalFill)!==null&&a!==void 0?a:Dh.verticalFill,x:Xe(e.x)?e.x:d.left,y:Xe(e.y)?e.y:d.top,width:Xe(e.width)?e.width:d.width,height:Xe(e.height)?e.height:d.height}),m=h.x,y=h.y,b=h.width,C=h.height,w=h.syncWithTicks,A=h.horizontalValues,_=h.verticalValues,E=$Ze(),N=UZe();if(!Xe(b)||b<=0||!Xe(C)||C<=0||!Xe(m)||m!==+m||!Xe(y)||y!==+y)return null;var I=h.verticalCoordinatesGenerator||tJe,O=h.horizontalCoordinatesGenerator||nJe,k=h.horizontalPoints,M=h.verticalPoints;if((!k||!k.length)&&Lt(O)){var R=A&&A.length,L=O({yAxis:N?qi(qi({},N),{},{ticks:R?A:N.ticks}):void 0,width:o,height:u,offset:d},R?!0:w);ko(Array.isArray(L),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(nh(L),"]")),Array.isArray(L)&&(k=L)}if((!M||!M.length)&&Lt(I)){var U=_&&_.length,X=I({xAxis:E?qi(qi({},E),{},{ticks:U?_:E.ticks}):void 0,width:o,height:u,offset:d},U?!0:w);ko(Array.isArray(X),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(nh(X),"]")),Array.isArray(X)&&(M=X)}return te.createElement("g",{className:"recharts-cartesian-grid"},te.createElement(YQe,{fill:h.fill,fillOpacity:h.fillOpacity,x:h.x,y:h.y,width:h.width,height:h.height,ry:h.ry}),te.createElement(ZQe,nf({},h,{offset:d,horizontalPoints:k,xAxis:E,yAxis:N})),te.createElement(QQe,nf({},h,{offset:d,verticalPoints:M,xAxis:E,yAxis:N})),te.createElement(JQe,nf({},h,{horizontalPoints:k})),te.createElement(eJe,nf({},h,{verticalPoints:M})))}ow.displayName="CartesianGrid";var rJe=["type","layout","connectNulls","ref"],iJe=["key"];function ig(e){"@babel/helpers - typeof";return ig=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ig(e)}function F9(e,t){if(e==null)return{};var n=sJe(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function sJe(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function Sy(){return Sy=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Sy.apply(this,arguments)}function L9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Js(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?L9(Object(n),!0).forEach(function(r){So(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):L9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Rh(e){return cJe(e)||lJe(e)||oJe(e)||aJe()}function aJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function oJe(e,t){if(e){if(typeof e=="string")return s3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return s3(e,t)}}function lJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function cJe(e){if(Array.isArray(e))return s3(e)}function s3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function uJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function B9(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Aae(r.key),r)}}function dJe(e,t,n){return t&&B9(e.prototype,t),n&&B9(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function fJe(e,t,n){return t=TS(t),hJe(e,Cae()?Reflect.construct(t,n||[],TS(e).constructor):t.apply(e,n))}function hJe(e,t){if(t&&(ig(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return pJe(e)}function pJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Cae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Cae=function(){return!!e})()}function TS(e){return TS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},TS(e)}function mJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&a3(e,t)}function a3(e,t){return a3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},a3(e,t)}function So(e,t,n){return t=Aae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Aae(e){var t=gJe(e,"string");return ig(t)=="symbol"?t:t+""}function gJe(e,t){if(ig(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ig(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var sg=function(e){function t(){var n;uJe(this,t);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=fJe(this,t,[].concat(i)),So(n,"state",{isAnimationFinished:!0,totalLength:0}),So(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),So(n,"getStrokeDasharray",function(a,o,u){var d=u.reduce(function(_,E){return _+E});if(!d)return n.generateSimpleStrokeDasharray(o,a);for(var h=Math.floor(a/d),m=a%d,y=o-a,b=[],C=0,w=0;C<u.length;w+=u[C],++C)if(w+u[C]>m){b=[].concat(Rh(u.slice(0,C)),[m-w]);break}var A=b.length%2===0?[0,y]:[y];return[].concat(Rh(t.repeat(u,h)),Rh(b),A).map(function(_){return"".concat(_,"px")}).join(", ")}),So(n,"id",Dg("recharts-line-")),So(n,"pathRef",function(a){n.mainCurve=a}),So(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),So(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return mJe(t,e),dJe(t,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,u=s.yAxis,d=s.layout,h=s.children,m=va(h,fx);if(!m)return null;var y=function(w,A){return{x:w.x,y:w.y,value:w.value,errorVal:ai(w.payload,A)}},b={clipPath:r?"url(#clipPath-".concat(i,")"):null};return te.createElement(yn,b,m.map(function(C){return te.cloneElement(C,{key:"bar-".concat(C.props.dataKey),data:a,xAxis:o,yAxis:u,layout:d,dataPointFormatter:y})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,u=o.dot,d=o.points,h=o.dataKey,m=Nt(this.props,!1),y=Nt(u,!0),b=d.map(function(w,A){var _=Js(Js(Js({key:"dot-".concat(A),r:3},m),y),{},{index:A,cx:w.x,cy:w.y,value:w.value,dataKey:h,payload:w.payload,points:d});return t.renderDotItem(u,_)}),C={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return te.createElement(yn,Sy({className:"recharts-line-dots",key:"dots"},C),b)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,u=o.type,d=o.layout,h=o.connectNulls;o.ref;var m=F9(o,rJe),y=Js(Js(Js({},Nt(m,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:u,layout:d,connectNulls:h});return te.createElement(oS,Sy({},y,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,u=a.strokeDasharray,d=a.isAnimationActive,h=a.animationBegin,m=a.animationDuration,y=a.animationEasing,b=a.animationId,C=a.animateNewValues,w=a.width,A=a.height,_=this.state,E=_.prevPoints,N=_.totalLength;return te.createElement(kl,{begin:h,duration:m,isActive:d,easing:y,from:{t:0},to:{t:1},key:"line-".concat(b),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(I){var O=I.t;if(E){var k=E.length/o.length,M=o.map(function(F,V){var Z=Math.floor(V*k);if(E[Z]){var H=E[Z],q=la(H.x,F.x),G=la(H.y,F.y);return Js(Js({},F),{},{x:q(O),y:G(O)})}if(C){var W=la(w*2,F.x),oe=la(A/2,F.y);return Js(Js({},F),{},{x:W(O),y:oe(O)})}return Js(Js({},F),{},{x:F.x,y:F.y})});return s.renderCurveStatically(M,r,i)}var R=la(0,N),L=R(O),U;if(u){var X="".concat(u).split(/[,\s]+/gim).map(function(F){return parseFloat(F)});U=s.getStrokeDasharray(L,N,X)}else U=s.generateSimpleStrokeDasharray(N,L);return s.renderCurveStatically(o,r,i,{strokeDasharray:U})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,u=this.state,d=u.prevPoints,h=u.totalLength;return o&&a&&a.length&&(!d&&h>0||!dx(d,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,u=i.className,d=i.xAxis,h=i.yAxis,m=i.top,y=i.left,b=i.width,C=i.height,w=i.isAnimationActive,A=i.id;if(s||!o||!o.length)return null;var _=this.state.isAnimationFinished,E=o.length===1,N=Gt("recharts-line",u),I=d&&d.allowDataOverflow,O=h&&h.allowDataOverflow,k=I||O,M=zt(A)?this.id:A,R=(r=Nt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},L=R.r,U=L===void 0?3:L,X=R.strokeWidth,F=X===void 0?2:X,V=hDe(a)?a:{},Z=V.clipDot,H=Z===void 0?!0:Z,q=U*2+F;return te.createElement(yn,{className:N},I||O?te.createElement("defs",null,te.createElement("clipPath",{id:"clipPath-".concat(M)},te.createElement("rect",{x:I?y:y-b/2,y:O?m:m-C/2,width:I?b:b*2,height:O?C:C*2})),!H&&te.createElement("clipPath",{id:"clipPath-dots-".concat(M)},te.createElement("rect",{x:y-q/2,y:m-q/2,width:b+q,height:C+q}))):null,!E&&this.renderCurve(k,M),this.renderErrorBar(k,M),(E||a)&&this.renderDots(k,H,M),(!w||_)&&wc.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(Rh(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(Rh(a),Rh(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(te.isValidElement(r))s=te.cloneElement(r,i);else if(Lt(r))s=r(i);else{var a=i.key,o=F9(i,iJe),u=Gt("recharts-line-dot",typeof r!="boolean"?r.className:"");s=te.createElement(kA,Sy({key:a},o,{className:u}))}return s}}])}(T.PureComponent);So(sg,"displayName","Line");So(sg,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!Al.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});So(sg,"getComposedData",function(e){var t=e.props,n=e.xAxis,r=e.yAxis,i=e.xAxisTicks,s=e.yAxisTicks,a=e.dataKey,o=e.bandSize,u=e.displayedData,d=e.offset,h=t.layout,m=u.map(function(y,b){var C=ai(y,a);return h==="horizontal"?{x:c7({axis:n,ticks:i,bandSize:o,entry:y,index:b}),y:zt(C)?null:r.scale(C),value:C,payload:y}:{x:zt(C)?null:n.scale(C),y:c7({axis:r,ticks:s,bandSize:o,entry:y,index:b}),value:C,payload:y}});return Js({points:m,layout:h},d)});function ag(e){"@babel/helpers - typeof";return ag=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},ag(e)}function yJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function vJe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Tae(r.key),r)}}function xJe(e,t,n){return t&&vJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function bJe(e,t,n){return t=NS(t),wJe(e,Eae()?Reflect.construct(t,n||[],NS(e).constructor):t.apply(e,n))}function wJe(e,t){if(t&&(ag(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return SJe(e)}function SJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Eae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Eae=function(){return!!e})()}function NS(e){return NS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},NS(e)}function CJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&o3(e,t)}function o3(e,t){return o3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},o3(e,t)}function _ae(e,t,n){return t=Tae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Tae(e){var t=AJe(e,"string");return ag(t)=="symbol"?t:t+""}function AJe(e,t){if(ag(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(ag(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function l3(){return l3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l3.apply(this,arguments)}function EJe(e){var t=e.xAxisId,n=tM(),r=nM(),i=dae(t);return i==null?null:te.createElement(zg,l3({},i,{className:Gt("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return hc(a,!0)}}))}var jf=function(e){function t(){return yJe(this,t),bJe(this,t,arguments)}return CJe(t,e),xJe(t,[{key:"render",value:function(){return te.createElement(EJe,this.props)}}])}(te.Component);_ae(jf,"displayName","XAxis");_ae(jf,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function og(e){"@babel/helpers - typeof";return og=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},og(e)}function _Je(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function TJe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Oae(r.key),r)}}function NJe(e,t,n){return t&&TJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function PJe(e,t,n){return t=PS(t),OJe(e,Nae()?Reflect.construct(t,n||[],PS(e).constructor):t.apply(e,n))}function OJe(e,t){if(t&&(og(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return jJe(e)}function jJe(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Nae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Nae=function(){return!!e})()}function PS(e){return PS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},PS(e)}function kJe(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&c3(e,t)}function c3(e,t){return c3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},c3(e,t)}function Pae(e,t,n){return t=Oae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Oae(e){var t=IJe(e,"string");return og(t)=="symbol"?t:t+""}function IJe(e,t){if(og(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(og(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function u3(){return u3=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u3.apply(this,arguments)}var MJe=function(t){var n=t.yAxisId,r=tM(),i=nM(),s=fae(n);return s==null?null:te.createElement(zg,u3({},s,{className:Gt("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return hc(o,!0)}}))},kf=function(e){function t(){return _Je(this,t),PJe(this,t,arguments)}return kJe(t,e),NJe(t,[{key:"render",value:function(){return te.createElement(MJe,this.props)}}])}(te.Component);Pae(kf,"displayName","YAxis");Pae(kf,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function $9(e){return LJe(e)||FJe(e)||RJe(e)||DJe()}function DJe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RJe(e,t){if(e){if(typeof e=="string")return d3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d3(e,t)}}function FJe(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function LJe(e){if(Array.isArray(e))return d3(e)}function d3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var f3=function(t,n,r,i,s){var a=va(t,iM),o=va(t,UA),u=[].concat($9(a),$9(o)),d=va(t,VA),h="".concat(i,"Id"),m=i[0],y=n;if(u.length&&(y=u.reduce(function(w,A){if(A.props[h]===r&&_l(A.props,"extendDomain")&&Xe(A.props[m])){var _=A.props[m];return[Math.min(w[0],_),Math.max(w[1],_)]}return w},y)),d.length){var b="".concat(m,"1"),C="".concat(m,"2");y=d.reduce(function(w,A){if(A.props[h]===r&&_l(A.props,"extendDomain")&&Xe(A.props[b])&&Xe(A.props[C])){var _=A.props[b],E=A.props[C];return[Math.min(w[0],_,E),Math.max(w[1],_,E)]}return w},y)}return s&&s.length&&(y=s.reduce(function(w,A){return Xe(A)?[Math.min(w[0],A),Math.max(w[1],A)]:w},y)),y},jae={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(u,d,h){this.fn=u,this.context=d,this.once=h||!1}function s(u,d,h,m,y){if(typeof h!="function")throw new TypeError("The listener must be a function");var b=new i(h,m||u,y),C=n?n+d:d;return u._events[C]?u._events[C].fn?u._events[C]=[u._events[C],b]:u._events[C].push(b):(u._events[C]=b,u._eventsCount++),u}function a(u,d){--u._eventsCount===0?u._events=new r:delete u._events[d]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],h,m;if(this._eventsCount===0)return d;for(m in h=this._events)t.call(h,m)&&d.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(h)):d},o.prototype.listeners=function(d){var h=n?n+d:d,m=this._events[h];if(!m)return[];if(m.fn)return[m.fn];for(var y=0,b=m.length,C=new Array(b);y<b;y++)C[y]=m[y].fn;return C},o.prototype.listenerCount=function(d){var h=n?n+d:d,m=this._events[h];return m?m.fn?1:m.length:0},o.prototype.emit=function(d,h,m,y,b,C){var w=n?n+d:d;if(!this._events[w])return!1;var A=this._events[w],_=arguments.length,E,N;if(A.fn){switch(A.once&&this.removeListener(d,A.fn,void 0,!0),_){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,h),!0;case 3:return A.fn.call(A.context,h,m),!0;case 4:return A.fn.call(A.context,h,m,y),!0;case 5:return A.fn.call(A.context,h,m,y,b),!0;case 6:return A.fn.call(A.context,h,m,y,b,C),!0}for(N=1,E=new Array(_-1);N<_;N++)E[N-1]=arguments[N];A.fn.apply(A.context,E)}else{var I=A.length,O;for(N=0;N<I;N++)switch(A[N].once&&this.removeListener(d,A[N].fn,void 0,!0),_){case 1:A[N].fn.call(A[N].context);break;case 2:A[N].fn.call(A[N].context,h);break;case 3:A[N].fn.call(A[N].context,h,m);break;case 4:A[N].fn.call(A[N].context,h,m,y);break;default:if(!E)for(O=1,E=new Array(_-1);O<_;O++)E[O-1]=arguments[O];A[N].fn.apply(A[N].context,E)}}return!0},o.prototype.on=function(d,h,m){return s(this,d,h,m,!1)},o.prototype.once=function(d,h,m){return s(this,d,h,m,!0)},o.prototype.removeListener=function(d,h,m,y){var b=n?n+d:d;if(!this._events[b])return this;if(!h)return a(this,b),this;var C=this._events[b];if(C.fn)C.fn===h&&(!y||C.once)&&(!m||C.context===m)&&a(this,b);else{for(var w=0,A=[],_=C.length;w<_;w++)(C[w].fn!==h||y&&!C[w].once||m&&C[w].context!==m)&&A.push(C[w]);A.length?this._events[b]=A.length===1?A[0]:A:a(this,b)}return this},o.prototype.removeAllListeners=function(d){var h;return d?(h=n?n+d:d,this._events[h]&&a(this,h)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(jae);var BJe=jae.exports;const $Je=en(BJe);var nT=new $Je,rT="recharts.syncMouseEvents";function Q1(e){"@babel/helpers - typeof";return Q1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Q1(e)}function UJe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function zJe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,kae(r.key),r)}}function VJe(e,t,n){return t&&zJe(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function iT(e,t,n){return t=kae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function kae(e){var t=WJe(e,"string");return Q1(t)=="symbol"?t:t+""}function WJe(e,t){if(Q1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(Q1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}var HJe=function(){function e(){UJe(this,e),iT(this,"activeIndex",0),iT(this,"coordinateList",[]),iT(this,"layout","horizontal")}return VJe(e,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,u=n.layout,d=u===void 0?null:u,h=n.offset,m=h===void 0?null:h,y=n.mouseHandlerCallback,b=y===void 0?null:y;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=d??this.layout,this.offset=m??this.offset,this.mouseHandlerCallback=b??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,u=this.coordinateList[this.activeIndex].coordinate,d=((n=window)===null||n===void 0?void 0:n.scrollX)||0,h=((r=window)===null||r===void 0?void 0:r.scrollY)||0,m=s+u+d,y=a+this.offset.top+o/2+h;this.mouseHandlerCallback({pageX:m,pageY:y})}}}])}();function GJe(e,t,n){if(n==="number"&&t===!0&&Array.isArray(e)){var r=e==null?void 0:e[0],i=e==null?void 0:e[1];if(r&&i&&Xe(r)&&Xe(i))return!0}return!1}function qJe(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function Iae(e){var t=e.cx,n=e.cy,r=e.radius,i=e.startAngle,s=e.endAngle,a=Gn(t,n,r,i),o=Gn(t,n,r,s);return{points:[a,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:s}}function KJe(e,t,n){var r,i,s,a;if(e==="horizontal")r=t.x,s=r,i=n.top,a=n.top+n.height;else if(e==="vertical")i=t.y,a=i,r=n.left,s=n.left+n.width;else if(t.cx!=null&&t.cy!=null)if(e==="centric"){var o=t.cx,u=t.cy,d=t.innerRadius,h=t.outerRadius,m=t.angle,y=Gn(o,u,d,m),b=Gn(o,u,h,m);r=y.x,i=y.y,s=b.x,a=b.y}else return Iae(t);return[{x:r,y:i},{x:s,y:a}]}function J1(e){"@babel/helpers - typeof";return J1=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},J1(e)}function U9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _b(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?U9(Object(n),!0).forEach(function(r){XJe(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):U9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XJe(e,t,n){return t=YJe(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function YJe(e){var t=ZJe(e,"string");return J1(t)=="symbol"?t:t+""}function ZJe(e,t){if(J1(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(J1(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function QJe(e){var t,n,r=e.element,i=e.tooltipEventType,s=e.isActive,a=e.activeCoordinate,o=e.activePayload,u=e.offset,d=e.activeTooltipIndex,h=e.tooltipAxisBandSize,m=e.layout,y=e.chartName,b=(t=r.props.cursor)!==null&&t!==void 0?t:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!b||!s||!a||y!=="ScatterChart"&&i!=="axis")return null;var C,w=oS;if(y==="ScatterChart")C=a,w=gKe;else if(y==="BarChart")C=qJe(m,a,u,h),w=Z4;else if(m==="radial"){var A=Iae(a),_=A.cx,E=A.cy,N=A.radius,I=A.startAngle,O=A.endAngle;C={cx:_,cy:E,startAngle:I,endAngle:O,innerRadius:N,outerRadius:N},w=Pse}else C={points:KJe(m,a,u)},w=oS;var k=_b(_b(_b(_b({stroke:"#ccc",pointerEvents:"none"},u),C),Nt(b,!1)),{},{payload:o,payloadIndex:d,className:Gt("recharts-tooltip-cursor",b.className)});return T.isValidElement(b)?T.cloneElement(b,k):T.createElement(w,k)}var JJe=["item"],eet=["children","className","width","height","style","compact","title","desc"];function lg(e){"@babel/helpers - typeof";return lg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lg(e)}function fp(){return fp=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},fp.apply(this,arguments)}function z9(e,t){return ret(e)||net(e,t)||Dae(e,t)||tet()}function tet(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function net(e,t){var n=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(n!=null){var r,i,s,a,o=[],u=!0,d=!1;try{if(s=(n=n.call(e)).next,t!==0)for(;!(u=(r=s.call(n)).done)&&(o.push(r.value),o.length!==t);u=!0);}catch(h){d=!0,i=h}finally{try{if(!u&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(d)throw i}}return o}}function ret(e){if(Array.isArray(e))return e}function V9(e,t){if(e==null)return{};var n=iet(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function iet(e,t){if(e==null)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}function set(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function aet(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,Rae(r.key),r)}}function oet(e,t,n){return t&&aet(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function cet(e,t,n){return t=OS(t),uet(e,Mae()?Reflect.construct(t,n||[],OS(e).constructor):t.apply(e,n))}function uet(e,t){if(t&&(lg(t)==="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return det(e)}function det(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function Mae(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Mae=function(){return!!e})()}function OS(e){return OS=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},OS(e)}function fet(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&h3(e,t)}function h3(e,t){return h3=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},h3(e,t)}function cg(e){return met(e)||pet(e)||Dae(e)||het()}function het(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dae(e,t){if(e){if(typeof e=="string")return p3(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p3(e,t)}}function pet(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function met(e){if(Array.isArray(e))return p3(e)}function p3(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function W9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ke(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?W9(Object(n),!0).forEach(function(r){jt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jt(e,t,n){return t=Rae(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Rae(e){var t=get(e,"string");return lg(t)=="symbol"?t:t+""}function get(e,t){if(lg(e)!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(lg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var yet={xAxis:["bottom","top"],yAxis:["left","right"]},vet={width:"100%",height:"100%"},Fae={x:0,y:0};function Tb(e){return e}var xet=function(t,n){return n==="horizontal"?t.x:n==="vertical"?t.y:n==="centric"?t.angle:t.radius},bet=function(t,n,r,i){var s=n.find(function(h){return h&&h.index===r});if(s){if(t==="horizontal")return{x:s.coordinate,y:i.y};if(t==="vertical")return{x:i.x,y:s.coordinate};if(t==="centric"){var a=s.coordinate,o=i.radius;return ke(ke(ke({},i),Gn(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var u=s.coordinate,d=i.angle;return ke(ke(ke({},i),Gn(i.cx,i.cy,u,d)),{},{angle:d,radius:u})}return Fae},WA=function(t,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,u){var d=u.props.data;return d&&d.length?[].concat(cg(o),cg(d)):o},[]);return a.length>0?a:t&&t.length&&Xe(i)&&Xe(s)?t.slice(i,s+1):[]};function Lae(e){return e==="number"?[0,"auto"]:void 0}var m3=function(t,n,r,i){var s=t.graphicalItems,a=t.tooltipAxis,o=WA(n,t);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(u,d){var h,m=(h=d.props.data)!==null&&h!==void 0?h:n;m&&t.dataStartIndex+t.dataEndIndex!==0&&t.dataEndIndex-t.dataStartIndex>=r&&(m=m.slice(t.dataStartIndex,t.dataEndIndex+1));var y;if(a.dataKey&&!a.allowDuplicatedCategory){var b=m===void 0?o:m;y=O2(b,a.dataKey,i)}else y=m&&m[r]||o[r];return y?[].concat(cg(u),[Cse(d,y)]):u},[])},H9=function(t,n,r,i){var s=i||{x:t.chartX,y:t.chartY},a=xet(s,r),o=t.orderedTooltipTicks,u=t.tooltipAxis,d=t.tooltipTicks,h=$We(a,o,d,u);if(h>=0&&d){var m=d[h]&&d[h].value,y=m3(t,n,h,m),b=bet(r,o,h,s);return{activeTooltipIndex:h,activeLabel:m,activePayload:y,activeCoordinate:b}}return null},wet=function(t,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,h=t.layout,m=t.children,y=t.stackOffset,b=yse(h,s);return r.reduce(function(C,w){var A,_=w.type.defaultProps!==void 0?ke(ke({},w.type.defaultProps),w.props):w.props,E=_.type,N=_.dataKey,I=_.allowDataOverflow,O=_.allowDuplicatedCategory,k=_.scale,M=_.ticks,R=_.includeHidden,L=_[a];if(C[L])return C;var U=WA(t.data,{graphicalItems:i.filter(function(ne){var pe,he=a in ne.props?ne.props[a]:(pe=ne.type.defaultProps)===null||pe===void 0?void 0:pe[a];return he===L}),dataStartIndex:u,dataEndIndex:d}),X=U.length,F,V,Z;GJe(_.domain,I,E)&&(F=PO(_.domain,null,I),b&&(E==="number"||k!=="auto")&&(Z=vy(U,N,"category")));var H=Lae(E);if(!F||F.length===0){var q,G=(q=_.domain)!==null&&q!==void 0?q:H;if(N){if(F=vy(U,N,E),E==="category"&&b){var W=iDe(F);O&&W?(V=F,F=yS(0,X)):O||(F=h7(G,F,w).reduce(function(ne,pe){return ne.indexOf(pe)>=0?ne:[].concat(cg(ne),[pe])},[]))}else if(E==="category")O?F=F.filter(function(ne){return ne!==""&&!zt(ne)}):F=h7(G,F,w).reduce(function(ne,pe){return ne.indexOf(pe)>=0||pe===""||zt(pe)?ne:[].concat(cg(ne),[pe])},[]);else if(E==="number"){var oe=HWe(U,i.filter(function(ne){var pe,he,we=a in ne.props?ne.props[a]:(pe=ne.type.defaultProps)===null||pe===void 0?void 0:pe[a],me="hide"in ne.props?ne.props.hide:(he=ne.type.defaultProps)===null||he===void 0?void 0:he.hide;return we===L&&(R||!me)}),N,s,h);oe&&(F=oe)}b&&(E==="number"||k!=="auto")&&(Z=vy(U,N,"category"))}else b?F=yS(0,X):o&&o[L]&&o[L].hasStack&&E==="number"?F=y==="expand"?[0,1]:Sse(o[L].stackGroups,u,d):F=gse(U,i.filter(function(ne){var pe=a in ne.props?ne.props[a]:ne.type.defaultProps[a],he="hide"in ne.props?ne.props.hide:ne.type.defaultProps.hide;return pe===L&&(R||!he)}),E,h,!0);if(E==="number")F=f3(m,F,L,s,M),G&&(F=PO(G,F,I));else if(E==="category"&&G){var J=G,Y=F.every(function(ne){return J.indexOf(ne)>=0});Y&&(F=J)}}return ke(ke({},C),{},jt({},L,ke(ke({},_),{},{axisType:s,domain:F,categoricalDomain:Z,duplicateDomain:V,originalDomain:(A=_.domain)!==null&&A!==void 0?A:H,isCategorical:b,layout:h})))},{})},Cet=function(t,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,h=t.layout,m=t.children,y=WA(t.data,{graphicalItems:r,dataStartIndex:u,dataEndIndex:d}),b=y.length,C=yse(h,s),w=-1;return r.reduce(function(A,_){var E=_.type.defaultProps!==void 0?ke(ke({},_.type.defaultProps),_.props):_.props,N=E[a],I=Lae("number");if(!A[N]){w++;var O;return C?O=yS(0,b):o&&o[N]&&o[N].hasStack?(O=Sse(o[N].stackGroups,u,d),O=f3(m,O,N,s)):(O=PO(I,gse(y,r.filter(function(k){var M,R,L=a in k.props?k.props[a]:(M=k.type.defaultProps)===null||M===void 0?void 0:M[a],U="hide"in k.props?k.props.hide:(R=k.type.defaultProps)===null||R===void 0?void 0:R.hide;return L===N&&!U}),"number",h),i.defaultProps.allowDataOverflow),O=f3(m,O,N,s)),ke(ke({},A),{},jt({},N,ke(ke({axisType:s},i.defaultProps),{},{hide:!0,orientation:ya(yet,"".concat(s,".").concat(w%2),null),domain:O,originalDomain:I,isCategorical:C,layout:h})))}return A},{})},Aet=function(t,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,u=n.dataStartIndex,d=n.dataEndIndex,h=t.children,m="".concat(i,"Id"),y=va(h,s),b={};return y&&y.length?b=wet(t,{axes:y,graphicalItems:a,axisType:i,axisIdKey:m,stackGroups:o,dataStartIndex:u,dataEndIndex:d}):a&&a.length&&(b=Cet(t,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:m,stackGroups:o,dataStartIndex:u,dataEndIndex:d})),b},Eet=function(t){var n=pu(t),r=hc(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:A4(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:iS(n,r)}},G9=function(t){var n=t.children,r=t.defaultShowTooltip,i=ia(n,Qm),s=0,a=0;return t.data&&t.data.length!==0&&(a=t.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},_et=function(t){return!t||!t.length?!1:t.some(function(n){var r=xc(n&&n.type);return r&&r.indexOf("Bar")>=0})},q9=function(t){return t==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:t==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:t==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},Tet=function(t,n){var r=t.props,i=t.graphicalItems,s=t.xAxisMap,a=s===void 0?{}:s,o=t.yAxisMap,u=o===void 0?{}:o,d=r.width,h=r.height,m=r.children,y=r.margin||{},b=ia(m,Qm),C=ia(m,Nf),w=Object.keys(u).reduce(function(O,k){var M=u[k],R=M.orientation;return!M.mirror&&!M.hide?ke(ke({},O),{},jt({},R,O[R]+M.width)):O},{left:y.left||0,right:y.right||0}),A=Object.keys(a).reduce(function(O,k){var M=a[k],R=M.orientation;return!M.mirror&&!M.hide?ke(ke({},O),{},jt({},R,ya(O,"".concat(R))+M.height)):O},{top:y.top||0,bottom:y.bottom||0}),_=ke(ke({},A),w),E=_.bottom;b&&(_.bottom+=b.props.height||Qm.defaultProps.height),C&&n&&(_=VWe(_,i,r,n));var N=d-_.left-_.right,I=h-_.top-_.bottom;return ke(ke({brushBottom:E},_),{},{width:Math.max(N,0),height:Math.max(I,0)})},Net=function(t,n){if(n==="xAxis")return t[n].width;if(n==="yAxis")return t[n].height},oM=function(t){var n=t.chartName,r=t.GraphicalChild,i=t.defaultTooltipEventType,s=i===void 0?"axis":i,a=t.validateTooltipEventTypes,o=a===void 0?["axis"]:a,u=t.axisComponents,d=t.legendContent,h=t.formatAxisMap,m=t.defaultProps,y=function(_,E){var N=E.graphicalItems,I=E.stackGroups,O=E.offset,k=E.updateId,M=E.dataStartIndex,R=E.dataEndIndex,L=_.barSize,U=_.layout,X=_.barGap,F=_.barCategoryGap,V=_.maxBarSize,Z=q9(U),H=Z.numericAxisName,q=Z.cateAxisName,G=_et(N),W=[];return N.forEach(function(oe,J){var Y=WA(_.data,{graphicalItems:[oe],dataStartIndex:M,dataEndIndex:R}),ne=oe.type.defaultProps!==void 0?ke(ke({},oe.type.defaultProps),oe.props):oe.props,pe=ne.dataKey,he=ne.maxBarSize,we=ne["".concat(H,"Id")],me=ne["".concat(q,"Id")],be={},Ne=u.reduce(function(Ze,ae){var le=E["".concat(ae.axisType,"Map")],ee=ne["".concat(ae.axisType,"Id")];le&&le[ee]||ae.axisType==="zAxis"||th();var Ee=le[ee];return ke(ke({},Ze),{},jt(jt({},ae.axisType,Ee),"".concat(ae.axisType,"Ticks"),hc(Ee)))},be),xe=Ne[q],Oe=Ne["".concat(q,"Ticks")],je=I&&I[we]&&I[we].hasStack&&eHe(oe,I[we].stackGroups),ve=xc(oe.type).indexOf("Bar")>=0,ze=iS(xe,Oe),Be=[],dt=G&&UWe({barSize:L,stackGroups:I,totalSize:Net(Ne,q)});if(ve){var Ct,yt,At=zt(he)?V:he,ct=(Ct=(yt=iS(xe,Oe,!0))!==null&&yt!==void 0?yt:At)!==null&&Ct!==void 0?Ct:0;Be=zWe({barGap:X,barCategoryGap:F,bandSize:ct!==ze?ct:ze,sizeList:dt[me],maxBarSize:At}),ct!==ze&&(Be=Be.map(function(Ze){return ke(ke({},Ze),{},{position:ke(ke({},Ze.position),{},{offset:Ze.position.offset-ct/2})})}))}var xn=oe&&oe.type&&oe.type.getComposedData;xn&&W.push({props:ke(ke({},xn(ke(ke({},Ne),{},{displayedData:Y,props:_,dataKey:pe,item:oe,bandSize:ze,barPosition:Be,offset:O,stackedData:je,layout:U,dataStartIndex:M,dataEndIndex:R}))),{},jt(jt(jt({key:oe.key||"item-".concat(J)},H,Ne[H]),q,Ne[q]),"animationId",k)),childIndex:gDe(oe,_.children),item:oe})}),W},b=function(_,E){var N=_.props,I=_.dataStartIndex,O=_.dataEndIndex,k=_.updateId;if(!cF({props:N}))return null;var M=N.children,R=N.layout,L=N.stackOffset,U=N.data,X=N.reverseStackOrder,F=q9(R),V=F.numericAxisName,Z=F.cateAxisName,H=va(M,r),q=QWe(U,H,"".concat(V,"Id"),"".concat(Z,"Id"),L,X),G=u.reduce(function(ne,pe){var he="".concat(pe.axisType,"Map");return ke(ke({},ne),{},jt({},he,Aet(N,ke(ke({},pe),{},{graphicalItems:H,stackGroups:pe.axisType===V&&q,dataStartIndex:I,dataEndIndex:O}))))},{}),W=Tet(ke(ke({},G),{},{props:N,graphicalItems:H}),E==null?void 0:E.legendBBox);Object.keys(G).forEach(function(ne){G[ne]=h(N,G[ne],W,ne.replace("Map",""),n)});var oe=G["".concat(Z,"Map")],J=Eet(oe),Y=y(N,ke(ke({},G),{},{dataStartIndex:I,dataEndIndex:O,updateId:k,graphicalItems:H,stackGroups:q,offset:W}));return ke(ke({formattedGraphicalItems:Y,graphicalItems:H,offset:W,stackGroups:q},J),G)},C=function(A){function _(E){var N,I,O;return set(this,_),O=cet(this,_,[E]),jt(O,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),jt(O,"accessibilityManager",new HJe),jt(O,"handleLegendBBoxUpdate",function(k){if(k){var M=O.state,R=M.dataStartIndex,L=M.dataEndIndex,U=M.updateId;O.setState(ke({legendBBox:k},b({props:O.props,dataStartIndex:R,dataEndIndex:L,updateId:U},ke(ke({},O.state),{},{legendBBox:k}))))}}),jt(O,"handleReceiveSyncEvent",function(k,M,R){if(O.props.syncId===k){if(R===O.eventEmitterSymbol&&typeof O.props.syncMethod!="function")return;O.applySyncEvent(M)}}),jt(O,"handleBrushChange",function(k){var M=k.startIndex,R=k.endIndex;if(M!==O.state.dataStartIndex||R!==O.state.dataEndIndex){var L=O.state.updateId;O.setState(function(){return ke({dataStartIndex:M,dataEndIndex:R},b({props:O.props,dataStartIndex:M,dataEndIndex:R,updateId:L},O.state))}),O.triggerSyncEvent({dataStartIndex:M,dataEndIndex:R})}}),jt(O,"handleMouseEnter",function(k){var M=O.getMouseInfo(k);if(M){var R=ke(ke({},M),{},{isTooltipActive:!0});O.setState(R),O.triggerSyncEvent(R);var L=O.props.onMouseEnter;Lt(L)&&L(R,k)}}),jt(O,"triggeredAfterMouseMove",function(k){var M=O.getMouseInfo(k),R=M?ke(ke({},M),{},{isTooltipActive:!0}):{isTooltipActive:!1};O.setState(R),O.triggerSyncEvent(R);var L=O.props.onMouseMove;Lt(L)&&L(R,k)}),jt(O,"handleItemMouseEnter",function(k){O.setState(function(){return{isTooltipActive:!0,activeItem:k,activePayload:k.tooltipPayload,activeCoordinate:k.tooltipPosition||{x:k.cx,y:k.cy}}})}),jt(O,"handleItemMouseLeave",function(){O.setState(function(){return{isTooltipActive:!1}})}),jt(O,"handleMouseMove",function(k){k.persist(),O.throttleTriggeredAfterMouseMove(k)}),jt(O,"handleMouseLeave",function(k){O.throttleTriggeredAfterMouseMove.cancel();var M={isTooltipActive:!1};O.setState(M),O.triggerSyncEvent(M);var R=O.props.onMouseLeave;Lt(R)&&R(M,k)}),jt(O,"handleOuterEvent",function(k){var M=mDe(k),R=ya(O.props,"".concat(M));if(M&&Lt(R)){var L,U;/.*touch.*/i.test(M)?U=O.getMouseInfo(k.changedTouches[0]):U=O.getMouseInfo(k),R((L=U)!==null&&L!==void 0?L:{},k)}}),jt(O,"handleClick",function(k){var M=O.getMouseInfo(k);if(M){var R=ke(ke({},M),{},{isTooltipActive:!0});O.setState(R),O.triggerSyncEvent(R);var L=O.props.onClick;Lt(L)&&L(R,k)}}),jt(O,"handleMouseDown",function(k){var M=O.props.onMouseDown;if(Lt(M)){var R=O.getMouseInfo(k);M(R,k)}}),jt(O,"handleMouseUp",function(k){var M=O.props.onMouseUp;if(Lt(M)){var R=O.getMouseInfo(k);M(R,k)}}),jt(O,"handleTouchMove",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.throttleTriggeredAfterMouseMove(k.changedTouches[0])}),jt(O,"handleTouchStart",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.handleMouseDown(k.changedTouches[0])}),jt(O,"handleTouchEnd",function(k){k.changedTouches!=null&&k.changedTouches.length>0&&O.handleMouseUp(k.changedTouches[0])}),jt(O,"handleDoubleClick",function(k){var M=O.props.onDoubleClick;if(Lt(M)){var R=O.getMouseInfo(k);M(R,k)}}),jt(O,"handleContextMenu",function(k){var M=O.props.onContextMenu;if(Lt(M)){var R=O.getMouseInfo(k);M(R,k)}}),jt(O,"triggerSyncEvent",function(k){O.props.syncId!==void 0&&nT.emit(rT,O.props.syncId,k,O.eventEmitterSymbol)}),jt(O,"applySyncEvent",function(k){var M=O.props,R=M.layout,L=M.syncMethod,U=O.state.updateId,X=k.dataStartIndex,F=k.dataEndIndex;if(k.dataStartIndex!==void 0||k.dataEndIndex!==void 0)O.setState(ke({dataStartIndex:X,dataEndIndex:F},b({props:O.props,dataStartIndex:X,dataEndIndex:F,updateId:U},O.state)));else if(k.activeTooltipIndex!==void 0){var V=k.chartX,Z=k.chartY,H=k.activeTooltipIndex,q=O.state,G=q.offset,W=q.tooltipTicks;if(!G)return;if(typeof L=="function")H=L(W,k);else if(L==="value"){H=-1;for(var oe=0;oe<W.length;oe++)if(W[oe].value===k.activeLabel){H=oe;break}}var J=ke(ke({},G),{},{x:G.left,y:G.top}),Y=Math.min(V,J.x+J.width),ne=Math.min(Z,J.y+J.height),pe=W[H]&&W[H].value,he=m3(O.state,O.props.data,H),we=W[H]?{x:R==="horizontal"?W[H].coordinate:Y,y:R==="horizontal"?ne:W[H].coordinate}:Fae;O.setState(ke(ke({},k),{},{activeLabel:pe,activeCoordinate:we,activePayload:he,activeTooltipIndex:H}))}else O.setState(k)}),jt(O,"renderCursor",function(k){var M,R=O.state,L=R.isTooltipActive,U=R.activeCoordinate,X=R.activePayload,F=R.offset,V=R.activeTooltipIndex,Z=R.tooltipAxisBandSize,H=O.getTooltipEventType(),q=(M=k.props.active)!==null&&M!==void 0?M:L,G=O.props.layout,W=k.key||"_recharts-cursor";return te.createElement(QJe,{key:W,activeCoordinate:U,activePayload:X,activeTooltipIndex:V,chartName:n,element:k,isActive:q,layout:G,offset:F,tooltipAxisBandSize:Z,tooltipEventType:H})}),jt(O,"renderPolarAxis",function(k,M,R){var L=ya(k,"type.axisType"),U=ya(O.state,"".concat(L,"Map")),X=k.type.defaultProps,F=X!==void 0?ke(ke({},X),k.props):k.props,V=U&&U[F["".concat(L,"Id")]];return T.cloneElement(k,ke(ke({},V),{},{className:Gt(L,V.className),key:k.key||"".concat(M,"-").concat(R),ticks:hc(V,!0)}))}),jt(O,"renderPolarGrid",function(k){var M=k.props,R=M.radialLines,L=M.polarAngles,U=M.polarRadius,X=O.state,F=X.radiusAxisMap,V=X.angleAxisMap,Z=pu(F),H=pu(V),q=H.cx,G=H.cy,W=H.innerRadius,oe=H.outerRadius;return T.cloneElement(k,{polarAngles:Array.isArray(L)?L:hc(H,!0).map(function(J){return J.coordinate}),polarRadius:Array.isArray(U)?U:hc(Z,!0).map(function(J){return J.coordinate}),cx:q,cy:G,innerRadius:W,outerRadius:oe,key:k.key||"polar-grid",radialLines:R})}),jt(O,"renderLegend",function(){var k=O.state.formattedGraphicalItems,M=O.props,R=M.children,L=M.width,U=M.height,X=O.props.margin||{},F=L-(X.left||0)-(X.right||0),V=pse({children:R,formattedGraphicalItems:k,legendWidth:F,legendContent:d});if(!V)return null;var Z=V.item,H=V9(V,JJe);return T.cloneElement(Z,ke(ke({},H),{},{chartWidth:L,chartHeight:U,margin:X,onBBoxUpdate:O.handleLegendBBoxUpdate}))}),jt(O,"renderTooltip",function(){var k,M=O.props,R=M.children,L=M.accessibilityLayer,U=ia(R,aa);if(!U)return null;var X=O.state,F=X.isTooltipActive,V=X.activeCoordinate,Z=X.activePayload,H=X.activeLabel,q=X.offset,G=(k=U.props.active)!==null&&k!==void 0?k:F;return T.cloneElement(U,{viewBox:ke(ke({},q),{},{x:q.left,y:q.top}),active:G,label:H,payload:G?Z:[],coordinate:V,accessibilityLayer:L})}),jt(O,"renderBrush",function(k){var M=O.props,R=M.margin,L=M.data,U=O.state,X=U.offset,F=U.dataStartIndex,V=U.dataEndIndex,Z=U.updateId;return T.cloneElement(k,{key:k.key||"_recharts-brush",onChange:Sb(O.handleBrushChange,k.props.onChange),data:L,x:Xe(k.props.x)?k.props.x:X.left,y:Xe(k.props.y)?k.props.y:X.top+X.height+X.brushBottom-(R.bottom||0),width:Xe(k.props.width)?k.props.width:X.width,startIndex:F,endIndex:V,updateId:"brush-".concat(Z)})}),jt(O,"renderReferenceElement",function(k,M,R){if(!k)return null;var L=O,U=L.clipPathId,X=O.state,F=X.xAxisMap,V=X.yAxisMap,Z=X.offset,H=k.type.defaultProps||{},q=k.props,G=q.xAxisId,W=G===void 0?H.xAxisId:G,oe=q.yAxisId,J=oe===void 0?H.yAxisId:oe;return T.cloneElement(k,{key:k.key||"".concat(M,"-").concat(R),xAxis:F[W],yAxis:V[J],viewBox:{x:Z.left,y:Z.top,width:Z.width,height:Z.height},clipPathId:U})}),jt(O,"renderActivePoints",function(k){var M=k.item,R=k.activePoint,L=k.basePoint,U=k.childIndex,X=k.isRange,F=[],V=M.props.key,Z=M.item.type.defaultProps!==void 0?ke(ke({},M.item.type.defaultProps),M.item.props):M.item.props,H=Z.activeDot,q=Z.dataKey,G=ke(ke({index:U,dataKey:q,cx:R.x,cy:R.y,r:4,fill:Y4(M.item),strokeWidth:2,stroke:"#fff",payload:R.payload,value:R.value},Nt(H,!1)),j2(H));return F.push(_.renderActiveDot(H,G,"".concat(V,"-activePoint-").concat(U))),L?F.push(_.renderActiveDot(H,ke(ke({},G),{},{cx:L.x,cy:L.y}),"".concat(V,"-basePoint-").concat(U))):X&&F.push(null),F}),jt(O,"renderGraphicChild",function(k,M,R){var L=O.filterFormatItem(k,M,R);if(!L)return null;var U=O.getTooltipEventType(),X=O.state,F=X.isTooltipActive,V=X.tooltipAxis,Z=X.activeTooltipIndex,H=X.activeLabel,q=O.props.children,G=ia(q,aa),W=L.props,oe=W.points,J=W.isRange,Y=W.baseLine,ne=L.item.type.defaultProps!==void 0?ke(ke({},L.item.type.defaultProps),L.item.props):L.item.props,pe=ne.activeDot,he=ne.hide,we=ne.activeBar,me=ne.activeShape,be=!!(!he&&F&&G&&(pe||we||me)),Ne={};U!=="axis"&&G&&G.props.trigger==="click"?Ne={onClick:Sb(O.handleItemMouseEnter,k.props.onClick)}:U!=="axis"&&(Ne={onMouseLeave:Sb(O.handleItemMouseLeave,k.props.onMouseLeave),onMouseEnter:Sb(O.handleItemMouseEnter,k.props.onMouseEnter)});var xe=T.cloneElement(k,ke(ke({},L.props),Ne));function Oe(ae){return typeof V.dataKey=="function"?V.dataKey(ae.payload):null}if(be)if(Z>=0){var je,ve;if(V.dataKey&&!V.allowDuplicatedCategory){var ze=typeof V.dataKey=="function"?Oe:"payload.".concat(V.dataKey.toString());je=O2(oe,ze,H),ve=J&&Y&&O2(Y,ze,H)}else je=oe==null?void 0:oe[Z],ve=J&&Y&&Y[Z];if(me||we){var Be=k.props.activeIndex!==void 0?k.props.activeIndex:Z;return[T.cloneElement(k,ke(ke(ke({},L.props),Ne),{},{activeIndex:Be})),null,null]}if(!zt(je))return[xe].concat(cg(O.renderActivePoints({item:L,activePoint:je,basePoint:ve,childIndex:Z,isRange:J})))}else{var dt,Ct=(dt=O.getItemByXY(O.state.activeCoordinate))!==null&&dt!==void 0?dt:{graphicalItem:xe},yt=Ct.graphicalItem,At=yt.item,ct=At===void 0?k:At,xn=yt.childIndex,Ze=ke(ke(ke({},L.props),Ne),{},{activeIndex:xn});return[T.cloneElement(ct,Ze),null,null]}return J?[xe,null,null]:[xe,null]}),jt(O,"renderCustomized",function(k,M,R){return T.cloneElement(k,ke(ke({key:"recharts-customized-".concat(R)},O.props),O.state))}),jt(O,"renderMap",{CartesianGrid:{handler:Tb,once:!0},ReferenceArea:{handler:O.renderReferenceElement},ReferenceLine:{handler:Tb},ReferenceDot:{handler:O.renderReferenceElement},XAxis:{handler:Tb},YAxis:{handler:Tb},Brush:{handler:O.renderBrush,once:!0},Bar:{handler:O.renderGraphicChild},Line:{handler:O.renderGraphicChild},Area:{handler:O.renderGraphicChild},Radar:{handler:O.renderGraphicChild},RadialBar:{handler:O.renderGraphicChild},Scatter:{handler:O.renderGraphicChild},Pie:{handler:O.renderGraphicChild},Funnel:{handler:O.renderGraphicChild},Tooltip:{handler:O.renderCursor,once:!0},PolarGrid:{handler:O.renderPolarGrid,once:!0},PolarAngleAxis:{handler:O.renderPolarAxis},PolarRadiusAxis:{handler:O.renderPolarAxis},Customized:{handler:O.renderCustomized}}),O.clipPathId="".concat((N=E.id)!==null&&N!==void 0?N:Dg("recharts"),"-clip"),O.throttleTriggeredAfterMouseMove=hk(O.triggeredAfterMouseMove,(I=E.throttleDelay)!==null&&I!==void 0?I:1e3/60),O.state={},O}return fet(_,A),oet(_,[{key:"componentDidMount",value:function(){var N,I;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(N=this.props.margin.left)!==null&&N!==void 0?N:0,top:(I=this.props.margin.top)!==null&&I!==void 0?I:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var N=this.props,I=N.children,O=N.data,k=N.height,M=N.layout,R=ia(I,aa);if(R){var L=R.props.defaultIndex;if(!(typeof L!="number"||L<0||L>this.state.tooltipTicks.length-1)){var U=this.state.tooltipTicks[L]&&this.state.tooltipTicks[L].value,X=m3(this.state,O,L,U),F=this.state.tooltipTicks[L].coordinate,V=(this.state.offset.top+k)/2,Z=M==="horizontal",H=Z?{x:F,y:V}:{y:F,x:V},q=this.state.formattedGraphicalItems.find(function(W){var oe=W.item;return oe.type.name==="Scatter"});q&&(H=ke(ke({},H),q.props.points[L].tooltipPosition),X=q.props.points[L].tooltipPayload);var G={activeTooltipIndex:L,isTooltipActive:!0,activeLabel:U,activePayload:X,activeCoordinate:H};this.setState(G),this.renderCursor(R),this.accessibilityManager.setIndex(L)}}}},{key:"getSnapshotBeforeUpdate",value:function(N,I){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==I.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==N.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==N.margin){var O,k;this.accessibilityManager.setDetails({offset:{left:(O=this.props.margin.left)!==null&&O!==void 0?O:0,top:(k=this.props.margin.top)!==null&&k!==void 0?k:0}})}return null}},{key:"componentDidUpdate",value:function(N){WP([ia(N.children,aa)],[ia(this.props.children,aa)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var N=ia(this.props.children,aa);if(N&&typeof N.props.shared=="boolean"){var I=N.props.shared?"axis":"item";return o.indexOf(I)>=0?I:s}return s}},{key:"getMouseInfo",value:function(N){if(!this.container)return null;var I=this.container,O=I.getBoundingClientRect(),k=p$e(O),M={chartX:Math.round(N.pageX-k.left),chartY:Math.round(N.pageY-k.top)},R=O.width/I.offsetWidth||1,L=this.inRange(M.chartX,M.chartY,R);if(!L)return null;var U=this.state,X=U.xAxisMap,F=U.yAxisMap,V=this.getTooltipEventType(),Z=H9(this.state,this.props.data,this.props.layout,L);if(V!=="axis"&&X&&F){var H=pu(X).scale,q=pu(F).scale,G=H&&H.invert?H.invert(M.chartX):null,W=q&&q.invert?q.invert(M.chartY):null;return ke(ke({},M),{},{xValue:G,yValue:W},Z)}return Z?ke(ke({},M),Z):null}},{key:"inRange",value:function(N,I){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=this.props.layout,M=N/O,R=I/O;if(k==="horizontal"||k==="vertical"){var L=this.state.offset,U=M>=L.left&&M<=L.left+L.width&&R>=L.top&&R<=L.top+L.height;return U?{x:M,y:R}:null}var X=this.state,F=X.angleAxisMap,V=X.radiusAxisMap;if(F&&V){var Z=pu(F);return g7({x:M,y:R},Z)}return null}},{key:"parseEventsOfWrapper",value:function(){var N=this.props.children,I=this.getTooltipEventType(),O=ia(N,aa),k={};O&&I==="axis"&&(O.props.trigger==="click"?k={onClick:this.handleClick}:k={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var M=j2(this.props,this.handleOuterEvent);return ke(ke({},M),k)}},{key:"addListener",value:function(){nT.on(rT,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){nT.removeListener(rT,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(N,I,O){for(var k=this.state.formattedGraphicalItems,M=0,R=k.length;M<R;M++){var L=k[M];if(L.item===N||L.props.key===N.key||I===xc(L.item.type)&&O===L.childIndex)return L}return null}},{key:"renderClipPath",value:function(){var N=this.clipPathId,I=this.state.offset,O=I.left,k=I.top,M=I.height,R=I.width;return te.createElement("defs",null,te.createElement("clipPath",{id:N},te.createElement("rect",{x:O,y:k,height:M,width:R})))}},{key:"getXScales",value:function(){var N=this.state.xAxisMap;return N?Object.entries(N).reduce(function(I,O){var k=z9(O,2),M=k[0],R=k[1];return ke(ke({},I),{},jt({},M,R.scale))},{}):null}},{key:"getYScales",value:function(){var N=this.state.yAxisMap;return N?Object.entries(N).reduce(function(I,O){var k=z9(O,2),M=k[0],R=k[1];return ke(ke({},I),{},jt({},M,R.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(N){var I;return(I=this.state.xAxisMap)===null||I===void 0||(I=I[N])===null||I===void 0?void 0:I.scale}},{key:"getYScaleByAxisId",value:function(N){var I;return(I=this.state.yAxisMap)===null||I===void 0||(I=I[N])===null||I===void 0?void 0:I.scale}},{key:"getItemByXY",value:function(N){var I=this.state,O=I.formattedGraphicalItems,k=I.activeItem;if(O&&O.length)for(var M=0,R=O.length;M<R;M++){var L=O[M],U=L.props,X=L.item,F=X.type.defaultProps!==void 0?ke(ke({},X.type.defaultProps),X.props):X.props,V=xc(X.type);if(V==="Bar"){var Z=(U.data||[]).find(function(W){return Yqe(N,W)});if(Z)return{graphicalItem:L,payload:Z}}else if(V==="RadialBar"){var H=(U.data||[]).find(function(W){return g7(N,W)});if(H)return{graphicalItem:L,payload:H}}else if(FA(L,k)||LA(L,k)||q1(L,k)){var q=LXe({graphicalItem:L,activeTooltipItem:k,itemData:F.data}),G=F.activeIndex===void 0?q:F.activeIndex;return{graphicalItem:ke(ke({},L),{},{childIndex:G}),payload:q1(L,k)?F.data[q]:L.props.data[q]}}}return null}},{key:"render",value:function(){var N=this;if(!cF(this))return null;var I=this.props,O=I.children,k=I.className,M=I.width,R=I.height,L=I.style,U=I.compact,X=I.title,F=I.desc,V=V9(I,eet),Z=Nt(V,!1);if(U)return te.createElement(A9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement(GP,fp({},Z,{width:M,height:R,title:X,desc:F}),this.renderClipPath(),dF(O,this.renderMap)));if(this.props.accessibilityLayer){var H,q;Z.tabIndex=(H=this.props.tabIndex)!==null&&H!==void 0?H:0,Z.role=(q=this.props.role)!==null&&q!==void 0?q:"application",Z.onKeyDown=function(W){N.accessibilityManager.keyboardEvent(W)},Z.onFocus=function(){N.accessibilityManager.focus()}}var G=this.parseEventsOfWrapper();return te.createElement(A9,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},te.createElement("div",fp({className:Gt("recharts-wrapper",k),style:ke({position:"relative",cursor:"default",width:M,height:R},L)},G,{ref:function(oe){N.container=oe}}),te.createElement(GP,fp({},Z,{width:M,height:R,title:X,desc:F,style:vet}),this.renderClipPath(),dF(O,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(T.Component);jt(C,"displayName",n),jt(C,"defaultProps",ke({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},m)),jt(C,"getDerivedStateFromProps",function(A,_){var E=A.dataKey,N=A.data,I=A.children,O=A.width,k=A.height,M=A.layout,R=A.stackOffset,L=A.margin,U=_.dataStartIndex,X=_.dataEndIndex;if(_.updateId===void 0){var F=G9(A);return ke(ke(ke({},F),{},{updateId:0},b(ke(ke({props:A},F),{},{updateId:0}),_)),{},{prevDataKey:E,prevData:N,prevWidth:O,prevHeight:k,prevLayout:M,prevStackOffset:R,prevMargin:L,prevChildren:I})}if(E!==_.prevDataKey||N!==_.prevData||O!==_.prevWidth||k!==_.prevHeight||M!==_.prevLayout||R!==_.prevStackOffset||!Op(L,_.prevMargin)){var V=G9(A),Z={chartX:_.chartX,chartY:_.chartY,isTooltipActive:_.isTooltipActive},H=ke(ke({},H9(_,N,M)),{},{updateId:_.updateId+1}),q=ke(ke(ke({},V),Z),H);return ke(ke(ke({},q),b(ke({props:A},q),_)),{},{prevDataKey:E,prevData:N,prevWidth:O,prevHeight:k,prevLayout:M,prevStackOffset:R,prevMargin:L,prevChildren:I})}if(!WP(I,_.prevChildren)){var G,W,oe,J,Y=ia(I,Qm),ne=Y&&(G=(W=Y.props)===null||W===void 0?void 0:W.startIndex)!==null&&G!==void 0?G:U,pe=Y&&(oe=(J=Y.props)===null||J===void 0?void 0:J.endIndex)!==null&&oe!==void 0?oe:X,he=ne!==U||pe!==X,we=!zt(N),me=we&&!he?_.updateId:_.updateId+1;return ke(ke({updateId:me},b(ke(ke({props:A},_),{},{updateId:me,dataStartIndex:ne,dataEndIndex:pe}),_)),{},{prevChildren:I,dataStartIndex:ne,dataEndIndex:pe})}return null}),jt(C,"renderActiveDot",function(A,_,E){var N;return T.isValidElement(A)?N=T.cloneElement(A,_):Lt(A)?N=A(_):N=te.createElement(kA,_),te.createElement(yn,{className:"recharts-active-dot",key:E},N)});var w=T.forwardRef(function(_,E){return te.createElement(C,fp({},_,{ref:E}))});return w.displayName=C.displayName,w},Pet=oM({chartName:"LineChart",GraphicalChild:sg,axisComponents:[{axisType:"xAxis",AxisComp:jf},{axisType:"yAxis",AxisComp:kf}],formatAxisMap:rae}),K9=oM({chartName:"BarChart",GraphicalChild:id,defaultTooltipEventType:"axis",validateTooltipEventTypes:["axis","item"],axisComponents:[{axisType:"xAxis",AxisComp:jf},{axisType:"yAxis",AxisComp:kf}],formatAxisMap:rae}),Oet=oM({chartName:"PieChart",GraphicalChild:Hc,validateTooltipEventTypes:["item"],defaultTooltipEventType:"item",legendContent:"children",axisComponents:[{axisType:"angleAxis",AxisComp:RA},{axisType:"radiusAxis",AxisComp:MA}],formatAxisMap:uHe,defaultProps:{layout:"centric",startAngle:0,endAngle:360,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"}});const sT={positive:"#10b981",neutral:"#f59e0b",negative:"#ef4444",chart:["#10b981","#3b82f6","#f59e0b","#ef4444","#8b5cf6","#ec4899"]};function jet(){var h;const[e,t]=T.useState(30);T.useState("all");const{data:n,isLoading:r}=un({queryKey:["/api/feedback/analytics/summary",{days:e}]}),{data:i,isLoading:s}=un({queryKey:["/api/feedback",{limit:20}]});if(r||s)return c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})});if(!n)return c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsx("p",{className:"text-muted-foreground",children:"No analytics data available"})});const a=[{name:"Positive",value:n.sentimentDistribution.positive,color:sT.positive},{name:"Neutral",value:n.sentimentDistribution.neutral,color:sT.neutral},{name:"Negative",value:n.sentimentDistribution.negative,color:sT.negative}],o=Object.entries(n.typeDistribution).map(([m,y])=>({name:m.replace(/_/g," ").replace(/\b\w/g,b=>b.toUpperCase()),count:y})),u=Object.entries(n.priorityDistribution).map(([m,y])=>({name:m.charAt(0).toUpperCase()+m.slice(1),count:y,color:m==="critical"?"#ef4444":m==="high"?"#f59e0b":m==="medium"?"#3b82f6":"#10b981"})),d=n.totalFeedback>0?Math.round(n.sentimentDistribution.positive/n.totalFeedback*100):0;return c.jsxs("div",{className:"flex flex-col h-full",children:[c.jsx("div",{className:"border-b border-border p-4 bg-gradient-to-r from-lime-950/50 to-green-50/30 dark:from-lime-50/20 dark:to-green-950/20",children:c.jsxs("div",{className:"max-w-7xl mx-auto flex items-center justify-between gap-4",children:[c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold text-foreground",children:"Feedback Analytics"}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Monitor user feedback and sentiment trends"})]}),c.jsx("div",{className:"flex gap-2",children:c.jsx(WK,{value:e.toString(),onValueChange:m=>t(parseInt(m)),children:c.jsxs(sk,{children:[c.jsx(Ef,{value:"7",children:"7 Days"}),c.jsx(Ef,{value:"30",children:"30 Days"}),c.jsx(Ef,{value:"90",children:"90 Days"})]})})})]})}),c.jsx(h1,{className:"flex-1",children:c.jsxs("div",{className:"max-w-7xl mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[c.jsxs(xt,{className:"glass-morph hover-elevate",children:[c.jsx(gt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(vt,{className:"text-sm font-medium",children:"Total Feedback"}),c.jsx(wm,{className:"w-4 h-4 text-muted-foreground"})]})}),c.jsxs(it,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n.totalFeedback}),c.jsxs("p",{className:"text-xs text-muted-foreground",children:["Last ",e," days"]})]})]}),c.jsxs(xt,{className:"glass-morph hover-elevate",children:[c.jsx(gt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(vt,{className:"text-sm font-medium",children:"Average Rating"}),c.jsx(Af,{className:"w-4 h-4 text-muted-foreground"})]})}),c.jsxs(it,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n.averageRating?n.averageRating.toFixed(1):"N/A"}),c.jsx("div",{className:"flex gap-0.5 mt-1",children:[1,2,3,4,5].map(m=>c.jsx(Af,{className:Te("w-4 h-4",n.averageRating&&m<=n.averageRating?"fill-amber-500 text-amber-500":"text-muted-foreground")},m))})]})]}),c.jsxs(xt,{className:"glass-morph hover-elevate",children:[c.jsx(gt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(vt,{className:"text-sm font-medium",children:"Satisfaction"}),c.jsx(PG,{className:"w-4 h-4 text-muted-foreground"})]})}),c.jsxs(it,{children:[c.jsxs("div",{className:"text-2xl font-bold",children:[d,"%"]}),c.jsx(nre,{value:d,className:"mt-2"})]})]}),c.jsxs(xt,{className:"glass-morph hover-elevate",children:[c.jsx(gt,{className:"pb-3",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsx(vt,{className:"text-sm font-medium",children:"Top Issues"}),c.jsx(Tc,{className:"w-4 h-4 text-muted-foreground"})]})}),c.jsxs(it,{children:[c.jsx("div",{className:"text-2xl font-bold",children:n.topIssues.length}),c.jsx("p",{className:"text-xs text-muted-foreground",children:((h=n.topIssues[0])==null?void 0:h.category)||"No issues"})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(xt,{className:"glass-morph",children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Sentiment Distribution"}),c.jsx(Pn,{children:"User satisfaction breakdown"})]}),c.jsx(it,{children:c.jsx(yb,{width:"100%",height:300,children:c.jsxs(Oet,{children:[c.jsx(Hc,{data:a,cx:"50%",cy:"50%",outerRadius:100,fill:"#8884d8",dataKey:"value",label:({name:m,percent:y})=>`${m} ${(y*100).toFixed(0)}%`,children:a.map((m,y)=>c.jsx(C1,{fill:m.color},`cell-${y}`))}),c.jsx(aa,{})]})})})]}),c.jsxs(xt,{className:"glass-morph",children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Feedback by Type"}),c.jsx(Pn,{children:"Distribution of feedback categories"})]}),c.jsx(it,{children:c.jsx(yb,{width:"100%",height:300,children:c.jsxs(K9,{data:o,children:[c.jsx(ow,{strokeDasharray:"3 3"}),c.jsx(jf,{dataKey:"name",angle:-45,textAnchor:"end",height:70}),c.jsx(kf,{}),c.jsx(aa,{}),c.jsx(id,{dataKey:"count",fill:"#10b981"})]})})})]}),c.jsxs(xt,{className:"glass-morph",children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Feedback Trends"}),c.jsx(Pn,{children:"Daily feedback volume and sentiment"})]}),c.jsx(it,{children:c.jsx(yb,{width:"100%",height:300,children:c.jsxs(Pet,{data:n.recentTrends,children:[c.jsx(ow,{strokeDasharray:"3 3"}),c.jsx(jf,{dataKey:"date"}),c.jsx(kf,{}),c.jsx(aa,{}),c.jsx(Nf,{}),c.jsx(sg,{type:"monotone",dataKey:"count",stroke:"#3b82f6",name:"Feedback Count"}),c.jsx(sg,{type:"monotone",dataKey:"averageSentiment",stroke:"#10b981",name:"Avg Sentiment"})]})})})]}),c.jsxs(xt,{className:"glass-morph",children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Issue Priority"}),c.jsx(Pn,{children:"Breakdown by priority level"})]}),c.jsx(it,{children:c.jsx(yb,{width:"100%",height:300,children:c.jsxs(K9,{data:u,children:[c.jsx(ow,{strokeDasharray:"3 3"}),c.jsx(jf,{dataKey:"name"}),c.jsx(kf,{}),c.jsx(aa,{}),c.jsx(id,{dataKey:"count",children:u.map((m,y)=>c.jsx(C1,{fill:m.color},`cell-${y}`))})]})})})]})]}),c.jsxs(xt,{className:"glass-morph",children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Top Issues"}),c.jsx(Pn,{children:"Most reported problems by category"})]}),c.jsx(it,{children:c.jsx("div",{className:"space-y-3",children:n.topIssues.slice(0,5).map((m,y)=>c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("span",{className:"text-sm font-medium",children:[y+1,"."]}),c.jsx("span",{className:"text-sm",children:m.category})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{variant:m.priority==="critical"?"destructive":m.priority==="high"?"secondary":"outline",children:m.priority}),c.jsxs("span",{className:"text-sm text-muted-foreground",children:[m.count," reports"]})]})]},y))})})]}),c.jsxs(xt,{className:"glass-morph",children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Recent Feedback"}),c.jsx(Pn,{children:"Latest user submissions"})]}),c.jsx(it,{children:c.jsx(h1,{className:"h-96",children:c.jsx("div",{className:"space-y-4",children:i==null?void 0:i.slice(0,10).map(m=>c.jsxs("div",{className:"flex items-start gap-3 pb-3 border-b",children:[c.jsx("div",{className:Te("w-2 h-2 rounded-full mt-2",m.sentiment==="positive"?"bg-green-500":m.sentiment==="negative"?"bg-red-500":"bg-yellow-500")}),c.jsxs("div",{className:"flex-1 space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Ot,{variant:"outline",children:m.type}),m.rating&&c.jsx("div",{className:"flex gap-0.5",children:[1,2,3,4,5].map(y=>c.jsx(Af,{className:Te("w-3 h-3",y<=m.rating?"fill-amber-500 text-amber-500":"text-muted-foreground")},y))}),c.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(m.createdAt).toLocaleDateString()})]}),m.content&&c.jsx("p",{className:"text-sm text-muted-foreground line-clamp-2",children:m.content})]})]},m.id))})})})]})]})})]})}function ket(){const[e,t]=T.useState("recent"),[n,r]=T.useState("upvotes"),[i,s]=T.useState("upvotes"),[a,o]=T.useState("recent"),{data:u=[],isLoading:d}=un({queryKey:["/api/feedback",e]}),{data:h=[],isLoading:m}=un({queryKey:["/api/feedback/community","feature",n],queryFn:async()=>{try{const k=await fetch(`/api/feedback/community?type=feature&sortBy=${n}`);if(!k.ok)return[];const M=await k.json();return Array.isArray(M)?M:[]}catch{return[]}}}),{data:y=[],isLoading:b}=un({queryKey:["/api/feedback/community","bug",i],queryFn:async()=>{try{const k=await fetch(`/api/feedback/community?type=bug&sortBy=${i}`);if(!k.ok)return[];const M=await k.json();return Array.isArray(M)?M:[]}catch{return[]}}}),{data:C=[],isLoading:w}=un({queryKey:["/api/feedback/community","general",a],queryFn:async()=>{try{const k=await fetch(`/api/feedback/community?type=general&sortBy=${a}`);if(!k.ok)return[];const M=await k.json();return Array.isArray(M)?M:[]}catch{return[]}}}),A=Dn({mutationFn:async({feedbackId:k,action:M})=>M==="add"?Xt("POST",`/api/feedback/${k}/upvote`):Xt("DELETE",`/api/feedback/${k}/upvote`),onSuccess:()=>{St.invalidateQueries({queryKey:["/api/feedback/community"]})}}),_=(k,M)=>{A.mutate({feedbackId:k,action:M?"remove":"add"})},E=k=>{const M={open:"bg-blue-500/10 text-blue-600 dark:text-blue-400",in_progress:"bg-yellow-500/10 text-yellow-600 dark:text-yellow-400",completed:"bg-green-500/10 text-green-600 dark:text-green-400",wont_fix:"bg-gray-500/10 text-gray-600 dark:text-gray-400"};return c.jsx(Ot,{variant:"secondary",className:M[k],children:k.replace("_"," ")})},N=k=>{if(!k)return null;const M={low:"bg-gray-500/10 text-gray-600 dark:text-gray-400",medium:"bg-blue-500/10 text-blue-600 dark:text-blue-400",high:"bg-orange-500/10 text-orange-600 dark:text-orange-400",critical:"bg-red-500/10 text-red-600 dark:text-red-400"};return c.jsx(Ot,{variant:"secondary",className:M[k],children:k})},I=({item:k,showStatus:M=!1,showUpvote:R=!1})=>{const L="userUpvoted"in k,U={feature:c.jsx(Aj,{className:"w-4 h-4"}),bug:c.jsx(xG,{className:"w-4 h-4"}),general:c.jsx(wm,{className:"w-4 h-4"}),chat_response:c.jsx(wm,{className:"w-4 h-4"}),recipe:c.jsx(JD,{className:"w-4 h-4"}),food_item:c.jsx(JD,{className:"w-4 h-4"})};return c.jsx(xt,{className:"hover-elevate",children:c.jsx(it,{className:"p-4",children:c.jsxs("div",{className:"flex gap-3",children:[R&&L&&c.jsxs("button",{onClick:()=>_(k.id,k.userUpvoted),className:Te("flex flex-col items-center gap-1 min-w-[48px] hover-elevate active-elevate-2 rounded-md p-2",k.userUpvoted?"text-primary":"text-muted-foreground"),"data-testid":`button-upvote-${k.id}`,children:[c.jsx(wfe,{className:Te("w-6 h-6",k.userUpvoted&&"fill-current")}),c.jsx("span",{className:"text-sm font-medium","data-testid":`text-upvotes-${k.id}`,children:k.upvoteCount||0})]}),c.jsxs("div",{className:"flex-1 space-y-2",children:[c.jsxs("div",{className:"flex items-start gap-2 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[U[k.type],N(k.priority),M&&E(k.status)]}),k.tags&&k.tags.length>0&&c.jsx("div",{className:"flex gap-1 flex-wrap",children:k.tags.slice(0,3).map((X,F)=>c.jsx(Ot,{variant:"outline",className:"text-xs",children:X},F))})]}),c.jsx("p",{className:"text-sm","data-testid":`text-content-${k.id}`,children:k.content||"No description provided"}),c.jsxs("div",{className:"flex items-center gap-4 text-xs text-muted-foreground",children:[c.jsx("span",{children:new Date(k.createdAt).toLocaleDateString()}),M&&k.estimatedTurnaround&&c.jsxs("div",{className:"flex items-center gap-1","data-testid":`text-eta-${k.id}`,children:[c.jsx(Uy,{className:"w-3 h-3"}),c.jsxs("span",{children:["ETA: ",k.estimatedTurnaround]})]}),k.category&&c.jsx("span",{className:"capitalize",children:k.category})]})]})]})})})},O=({value:k,onChange:M,label:R})=>c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("label",{className:"text-sm text-muted-foreground",children:[R,":"]}),c.jsxs(qr,{value:k,onValueChange:M,children:[c.jsx(Rr,{className:"w-[140px] h-8","data-testid":`select-sort-${R.toLowerCase().replace(" ","-")}`,children:c.jsx(Kr,{})}),c.jsxs(Fr,{children:[c.jsx(mt,{value:"recent",children:"Most Recent"}),c.jsx(mt,{value:"upvotes",children:"Most Upvoted"})]})]})]});return c.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx("h1",{className:"text-3xl font-bold","data-testid":"text-page-title",children:"Community Feedback Board"}),c.jsx("p",{className:"text-muted-foreground",children:"Share your feedback and help shape the future of ChefSpAIce"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs(xt,{children:[c.jsx(gt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(vt,{"data-testid":"text-personal-title",children:"My Feedback"}),c.jsx(Pn,{children:"Track your submissions and their status"})]}),c.jsx(O,{value:e,onChange:t,label:"Sort"})]})}),c.jsx(it,{className:"space-y-3 max-h-[600px] overflow-y-auto",children:d?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):!u||u.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground","data-testid":"text-no-personal-feedback",children:"No feedback submitted yet"}):u.map(k=>c.jsx(I,{item:k,showStatus:!0},k.id))})]}),c.jsxs(xt,{children:[c.jsx(gt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(vt,{"data-testid":"text-features-title",children:"Feature Requests"}),c.jsx(Pn,{children:"Vote for features you'd like to see"})]}),c.jsx(O,{value:n,onChange:r,label:"Sort"})]})}),c.jsx(it,{className:"space-y-3 max-h-[600px] overflow-y-auto",children:m?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):!h||h.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No feature requests yet"}):h.map(k=>c.jsx(I,{item:k,showUpvote:!0},k.id))})]}),c.jsxs(xt,{children:[c.jsx(gt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(vt,{"data-testid":"text-bugs-title",children:"Bug Reports"}),c.jsx(Pn,{children:"Help us improve by reporting issues"})]}),c.jsx(O,{value:i,onChange:s,label:"Sort"})]})}),c.jsx(it,{className:"space-y-3 max-h-[600px] overflow-y-auto",children:b?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):!y||y.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No bug reports yet"}):y.map(k=>c.jsx(I,{item:k,showUpvote:!0},k.id))})]}),c.jsxs(xt,{children:[c.jsx(gt,{children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx(vt,{"data-testid":"text-general-title",children:"General Feedback"}),c.jsx(Pn,{children:"Share your thoughts and suggestions"})]}),c.jsx(O,{value:a,onChange:o,label:"Sort"})]})}),c.jsx(it,{className:"space-y-3 max-h-[600px] overflow-y-auto",children:w?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"Loading..."}):!C||C.length===0?c.jsx("div",{className:"text-center py-8 text-muted-foreground",children:"No general feedback yet"}):C.map(k=>c.jsx(I,{item:k,showUpvote:!0},k.id))})]})]})]})}function X9(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Y9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?X9(Object(n),!0).forEach(function(r){Bae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X9(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function lw(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?lw=function(t){return typeof t}:lw=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},lw(e)}function Bae(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Iet(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function Met(e,t){if(e==null)return{};var n=Iet(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}function $ae(e,t){return Det(e)||Ret(e,t)||Fet(e,t)||Let()}function Det(e){if(Array.isArray(e))return e}function Ret(e,t){var n=e&&(typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"]);if(n!=null){var r=[],i=!0,s=!1,a,o;try{for(n=n.call(e);!(i=(a=n.next()).done)&&(r.push(a.value),!(t&&r.length===t));i=!0);}catch(u){s=!0,o=u}finally{try{!i&&n.return!=null&&n.return()}finally{if(s)throw o}}return r}}function Fet(e,t){if(e){if(typeof e=="string")return Z9(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z9(e,t)}}function Z9(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Let(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ss=function(t,n,r){var i=!!r,s=te.useRef(r);te.useEffect(function(){s.current=r},[r]),te.useEffect(function(){if(!i||!t)return function(){};var a=function(){s.current&&s.current.apply(s,arguments)};return t.on(n,a),function(){t.off(n,a)}},[i,n,t,s])},g3=function(t){var n=te.useRef(t);return te.useEffect(function(){n.current=t},[t]),n.current},ug=function(t){return t!==null&&lw(t)==="object"},Bet=function(t){return ug(t)&&typeof t.then=="function"},$et=function(t){return ug(t)&&typeof t.elements=="function"&&typeof t.createToken=="function"&&typeof t.createPaymentMethod=="function"&&typeof t.confirmCardPayment=="function"},Q9="[object Object]",Uet=function e(t,n){if(!ug(t)||!ug(n))return t===n;var r=Array.isArray(t),i=Array.isArray(n);if(r!==i)return!1;var s=Object.prototype.toString.call(t)===Q9,a=Object.prototype.toString.call(n)===Q9;if(s!==a)return!1;if(!s&&!r)return t===n;var o=Object.keys(t),u=Object.keys(n);if(o.length!==u.length)return!1;for(var d={},h=0;h<o.length;h+=1)d[o[h]]=!0;for(var m=0;m<u.length;m+=1)d[u[m]]=!0;var y=Object.keys(d);if(y.length!==o.length)return!1;var b=t,C=n,w=function(_){return e(b[_],C[_])};return y.every(w)},Uae=function(t,n,r){return ug(t)?Object.keys(t).reduce(function(i,s){var a=!ug(n)||!Uet(t[s],n[s]);return r.includes(s)?(a&&console.warn("Unsupported prop change: options.".concat(s," is not a mutable property.")),i):a?Y9(Y9({},i||{}),{},Bae({},s,t[s])):i},null):null},zae="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",J9=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zae;if(t===null||$et(t))return t;throw new Error(n)},zet=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:zae;if(Bet(t))return{tag:"async",stripePromise:Promise.resolve(t).then(function(i){return J9(i,n)})};var r=J9(t,n);return r===null?{tag:"empty"}:{tag:"sync",stripe:r}},Vet=function(t){!t||!t._registerWrapper||!t.registerAppInfo||(t._registerWrapper({name:"react-stripe-js",version:"5.2.0"}),t.registerAppInfo({name:"react-stripe-js",version:"5.2.0",url:"https://stripe.com/docs/stripe-js/react"}))},HA=te.createContext(null);HA.displayName="ElementsContext";var Vae=function(t,n){if(!t)throw new Error("Could not find Elements context; You need to wrap the part of your app that ".concat(n," in an <Elements> provider."));return t},Wae=function(t){var n=t.stripe,r=t.options,i=t.children,s=te.useMemo(function(){return zet(n)},[n]),a=te.useState(function(){return{stripe:s.tag==="sync"?s.stripe:null,elements:s.tag==="sync"?s.stripe.elements(r):null}}),o=$ae(a,2),u=o[0],d=o[1];te.useEffect(function(){var y=!0,b=function(w){d(function(A){return A.stripe?A:{stripe:w,elements:w.elements(r)}})};return s.tag==="async"&&!u.stripe?s.stripePromise.then(function(C){C&&y&&b(C)}):s.tag==="sync"&&!u.stripe&&b(s.stripe),function(){y=!1}},[s,u,r]);var h=g3(n);te.useEffect(function(){h!==null&&h!==n&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[h,n]);var m=g3(r);return te.useEffect(function(){if(u.elements){var y=Uae(r,m,["clientSecret","fonts"]);y&&u.elements.update(y)}},[r,m,u.elements]),te.useEffect(function(){Vet(u.stripe)},[u.stripe]),te.createElement(HA.Provider,{value:u},i)};Wae.propTypes={stripe:wt.any,options:wt.object};var Wet=function(t){var n=te.useContext(HA);return Vae(n,t)},Het=function(){var t=Wet("calls useElements()"),n=t.elements;return n};wt.func.isRequired;var Hae=te.createContext(null);Hae.displayName="CheckoutContext";wt.any,wt.shape({clientSecret:wt.oneOfType([wt.string,wt.instanceOf(Promise)]).isRequired,elementsOptions:wt.object}).isRequired;var y3=function(t){var n=te.useContext(Hae),r=te.useContext(HA);if(n){if(r)throw new Error("You cannot wrap the part of your app that ".concat(t," in both <CheckoutProvider> and <Elements> providers."));return n}else return Vae(r,t)},Get=["mode"],qet=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},qs=function(t,n){var r="".concat(qet(t),"Element"),i=function(u){var d=u.id,h=u.className,m=u.options,y=m===void 0?{}:m,b=u.onBlur,C=u.onFocus,w=u.onReady,A=u.onChange,_=u.onEscape,E=u.onClick,N=u.onLoadError,I=u.onLoaderStart,O=u.onNetworksChange,k=u.onConfirm,M=u.onCancel,R=u.onShippingAddressChange,L=u.onShippingRateChange,U=u.onSavedPaymentMethodRemove,X=u.onSavedPaymentMethodUpdate,F=y3("mounts <".concat(r,">")),V="elements"in F?F.elements:null,Z="checkoutState"in F?F.checkoutState:null,H=(Z==null?void 0:Z.type)==="success"||(Z==null?void 0:Z.type)==="loading"?Z.sdk:null,q=te.useState(null),G=$ae(q,2),W=G[0],oe=G[1],J=te.useRef(null),Y=te.useRef(null);ss(W,"blur",b),ss(W,"focus",C),ss(W,"escape",_),ss(W,"click",E),ss(W,"loaderror",N),ss(W,"loaderstart",I),ss(W,"networkschange",O),ss(W,"confirm",k),ss(W,"cancel",M),ss(W,"shippingaddresschange",R),ss(W,"shippingratechange",L),ss(W,"savedpaymentmethodremove",U),ss(W,"savedpaymentmethodupdate",X),ss(W,"change",A);var ne;w&&(t==="expressCheckout"?ne=w:ne=function(){w(W)}),ss(W,"ready",ne),te.useLayoutEffect(function(){if(J.current===null&&Y.current!==null&&(V||H)){var he=null;if(H)switch(t){case"payment":he=H.createPaymentElement(y);break;case"address":if("mode"in y){var we=y.mode,me=Met(y,Get);if(we==="shipping")he=H.createShippingAddressElement(me);else if(we==="billing")he=H.createBillingAddressElement(me);else throw new Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw new Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":he=H.createExpressCheckoutElement(y);break;case"currencySelector":he=H.createCurrencySelectorElement();break;case"taxId":he=H.createTaxIdElement(y);break;default:throw new Error("Invalid Element type ".concat(r,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else V&&(he=V.create(t,y));J.current=he,oe(he),he&&he.mount(Y.current)}},[V,H,y]);var pe=g3(y);return te.useEffect(function(){if(J.current){var he=Uae(y,pe,["paymentRequest"]);he&&"update"in J.current&&J.current.update(he)}},[y,pe]),te.useLayoutEffect(function(){return function(){if(J.current&&typeof J.current.destroy=="function")try{J.current.destroy(),J.current=null}catch{}}},[]),te.createElement("div",{id:d,className:h,ref:Y})},s=function(u){y3("mounts <".concat(r,">"));var d=u.id,h=u.className;return te.createElement("div",{id:d,className:h})},a=n?s:i;return a.propTypes={id:wt.string,className:wt.string,onChange:wt.func,onBlur:wt.func,onFocus:wt.func,onReady:wt.func,onEscape:wt.func,onClick:wt.func,onLoadError:wt.func,onLoaderStart:wt.func,onNetworksChange:wt.func,onConfirm:wt.func,onCancel:wt.func,onShippingAddressChange:wt.func,onShippingRateChange:wt.func,onSavedPaymentMethodRemove:wt.func,onSavedPaymentMethodUpdate:wt.func,options:wt.object},a.displayName=r,a.__elementType=t,a},Ks=typeof window>"u",Ket=te.createContext(null);Ket.displayName="EmbeddedCheckoutProviderContext";var Xet=function(){var t=y3("calls useStripe()"),n=t.stripe;return n};qs("auBankAccount",Ks);qs("card",Ks);qs("cardNumber",Ks);qs("cardExpiry",Ks);qs("cardCvc",Ks);qs("iban",Ks);var Yet=qs("payment",Ks);qs("expressCheckout",Ks);qs("paymentRequestButton",Ks);qs("linkAuthentication",Ks);qs("address",Ks);qs("shippingAddress",Ks);qs("paymentMethodMessaging",Ks);qs("taxId",Ks);var Gae="clover",Zet=function(t){return t===3?"v3":t},qae="https://js.stripe.com",Qet="".concat(qae,"/").concat(Gae,"/stripe.js"),Jet=/^https:\/\/js\.stripe\.com\/v3\/?(\?.*)?$/,ett=/^https:\/\/js\.stripe\.com\/(v3|[a-z]+)\/stripe\.js(\?.*)?$/,eB="loadStripe.setLoadParameters was called but an existing Stripe.js script already exists in the document; existing script parameters will be used",ttt=function(t){return Jet.test(t)||ett.test(t)},ntt=function(){for(var t=document.querySelectorAll('script[src^="'.concat(qae,'"]')),n=0;n<t.length;n++){var r=t[n];if(ttt(r.src))return r}return null},tB=function(t){var n="",r=document.createElement("script");r.src="".concat(Qet).concat(n);var i=document.head||document.body;if(!i)throw new Error("Expected document.body not to be null. Stripe.js requires a <body> element.");return i.appendChild(r),r},rtt=function(t,n){!t||!t._registerWrapper||t._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:n})},k0=null,Nb=null,Pb=null,itt=function(t){return function(n){t(new Error("Failed to load Stripe.js",{cause:n}))}},stt=function(t,n){return function(){window.Stripe?t(window.Stripe):n(new Error("Stripe.js not available"))}},att=function(t){return k0!==null?k0:(k0=new Promise(function(n,r){if(typeof window>"u"||typeof document>"u"){n(null);return}if(window.Stripe&&t&&console.warn(eB),window.Stripe){n(window.Stripe);return}try{var i=ntt();if(i&&t)console.warn(eB);else if(!i)i=tB(t);else if(i&&Pb!==null&&Nb!==null){var s;i.removeEventListener("load",Pb),i.removeEventListener("error",Nb),(s=i.parentNode)===null||s===void 0||s.removeChild(i),i=tB(t)}Pb=stt(n,r),Nb=itt(r),i.addEventListener("load",Pb),i.addEventListener("error",Nb)}catch(a){r(a);return}}),k0.catch(function(n){return k0=null,Promise.reject(n)}))},ott=function(t,n,r){if(t===null)return null;var i=n[0],s=i.match(/^pk_test/),a=Zet(t.version),o=Gae;s&&a!==o&&console.warn("Stripe.js@".concat(a," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(o,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var u=t.apply(void 0,n);return rtt(u,r),u},I0,Kae=!1,Xae=function(){return I0||(I0=att(null).catch(function(t){return I0=null,Promise.reject(t)}),I0)};Promise.resolve().then(function(){return Xae()}).catch(function(e){Kae||console.warn(e)});var ltt=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];Kae=!0;var i=Date.now();return Xae().then(function(s){return ott(s,n,i)})};const ctt=ltt("pk_live_51R8iZSAhTVJwjKJtvmfeuoEVpj711mITFlmbdKXNw21uwOvJTKXpByQAFcTYmeFPHEYhdpuTYTuUd1SqfENIkNmK00RkthPA71"),utt=({donorInfo:e,setDonorInfo:t,clientSecret:n})=>{const r=Xet(),i=Het(),{toast:s}=or();Bc();const[a,o]=T.useState(!1),u=async d=>{if(d.preventDefault(),!(!r||!i)){o(!0);try{const h=n.split("_secret_")[0];await Xt("POST","/api/donations/update-donor-info",{paymentIntentId:h,donorName:e.donorName,donorEmail:e.donorEmail,message:e.message,anonymous:e.anonymous});const{error:m}=await r.confirmPayment({elements:i,confirmParams:{return_url:`${window.location.origin}/donate/success`,payment_method_data:{billing_details:{name:e.anonymous?"Anonymous":e.donorName||"Anonymous",email:e.donorEmail||void 0}}}});m&&s({title:"Payment Failed",description:m.message,variant:"destructive"})}catch{s({title:"Payment Error",description:"An unexpected error occurred. Please try again.",variant:"destructive"})}finally{o(!1)}}};return c.jsxs("form",{onSubmit:u,className:"space-y-6",children:[c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"donorName",children:"Your Name (Optional)"}),c.jsx(gn,{id:"donorName",type:"text",placeholder:"John Doe",value:e.donorName,onChange:d=>t(h=>({...h,donorName:d.target.value})),disabled:e.anonymous,"data-testid":"input-donor-name"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"donorEmail",children:"Email (Optional)"}),c.jsx(gn,{id:"donorEmail",type:"email",placeholder:"john@example.com",value:e.donorEmail,onChange:d=>t(h=>({...h,donorEmail:d.target.value})),disabled:e.anonymous,"data-testid":"input-donor-email"})]}),c.jsxs("div",{className:"space-y-2",children:[c.jsx(Tt,{htmlFor:"message",children:"Message (Optional)"}),c.jsx(gc,{id:"message",placeholder:"Leave a supportive message...",value:e.message,onChange:d=>t(h=>({...h,message:d.target.value})),disabled:e.anonymous,"data-testid":"input-donor-message"})]}),c.jsxs("div",{className:"flex items-center space-x-2",children:[c.jsx(WI,{id:"anonymous",checked:e.anonymous,onCheckedChange:d=>t(h=>({...h,anonymous:d,donorName:d?"":h.donorName,donorEmail:d?"":h.donorEmail,message:d?"":h.message})),"data-testid":"checkbox-anonymous"}),c.jsx(Tt,{htmlFor:"anonymous",className:"text-sm font-medium cursor-pointer",children:"Make this donation anonymous"})]})]}),c.jsx("div",{className:"border rounded-md p-4",children:c.jsx(Yet,{})}),c.jsx(Re,{type:"submit",disabled:!r||a,className:"w-full","data-testid":"button-donate-submit",children:a?c.jsxs(c.Fragment,{children:[c.jsx(Nu,{className:"mr-2 h-4 w-4 animate-spin"}),"Processing..."]}):c.jsxs(c.Fragment,{children:[c.jsx(oc,{className:"mr-2 h-4 w-4"}),"Complete Donation"]})})]})},dtt=()=>{const{data:e,isLoading:t}=un({queryKey:["/api/donations/recent"]});return t||!e||e.length===0?null:c.jsxs(xt,{children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Recent Supporters"}),c.jsx(Pn,{children:"Thank you to our amazing community!"})]}),c.jsx(it,{children:c.jsx("div",{className:"space-y-3",children:e.slice(0,5).map(n=>c.jsxs("div",{className:"flex items-center justify-between py-2 border-b last:border-0",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium","data-testid":`text-donor-name-${n.id}`,children:n.donorName}),n.message&&c.jsx("p",{className:"text-sm text-muted-foreground","data-testid":`text-donor-message-${n.id}`,children:n.message})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("p",{className:"font-semibold","data-testid":`text-donation-amount-${n.id}`,children:["$",(n.amount/100).toFixed(2)]}),c.jsx("p",{className:"text-xs text-muted-foreground","data-testid":`text-donation-date-${n.id}`,children:new Date(n.createdAt).toLocaleDateString()})]})]},n.id))})})]})};function ftt(){const[e,t]=T.useState(""),[n,r]=T.useState(1e3),[i,s]=T.useState(""),[a,o]=T.useState(!1),[u,d]=T.useState({donorName:"",donorEmail:"",message:"",anonymous:!1}),{toast:h}=or(),{data:m}=un({queryKey:["/api/donations/stats"]}),y=[500,1e3,2e3,5e3,1e4],b=async A=>{r(A),s(""),await w(A)},C=async()=>{const A=parseFloat(i);if(isNaN(A)||A<1){h({title:"Invalid Amount",description:"Please enter a valid amount of at least $1.00",variant:"destructive"});return}const _=Math.round(A*100);r(_),await w(_)},w=async(A,_)=>{o(!0);try{const N=await(await Xt("POST","/api/donations/create-payment-intent",{amount:A,..._})).json();if(N.clientSecret)t(N.clientSecret);else throw new Error(N.error||"Failed to create payment intent")}catch(E){h({title:"Error",description:E.message||"Failed to initialize donation",variant:"destructive"})}finally{o(!1)}};return T.useEffect(()=>{w(n)},[]),c.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[c.jsx("div",{className:"mb-6",children:c.jsx(zr,{href:"/",children:c.jsxs(Re,{variant:"ghost",size:"sm","data-testid":"button-back",children:[c.jsx(hC,{className:"mr-2 h-4 w-4"}),"Back to Home"]})})}),c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-bold mb-4",children:"Support Our Mission"}),c.jsx("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"Your donation helps us continue providing tools to reduce food waste and make meal planning easier for everyone."}),m&&c.jsxs("div",{className:"mt-6 flex justify-center gap-8",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"text-3xl font-bold text-primary","data-testid":"text-total-raised",children:["$",(m.totalAmount/100).toFixed(0)]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Total Raised"})]}),c.jsxs("div",{children:[c.jsx("p",{className:"text-3xl font-bold text-primary","data-testid":"text-total-donors",children:m.donationCount}),c.jsx("p",{className:"text-sm text-muted-foreground",children:"Supporters"})]})]})]}),c.jsxs("div",{className:"grid md:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"md:col-span-2 space-y-6",children:[c.jsxs(xt,{children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Select Amount"}),c.jsx(Pn,{children:"Choose a donation amount or enter a custom value"})]}),c.jsxs(it,{children:[c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mb-4",children:[y.map(A=>c.jsxs(Re,{variant:n===A?"default":"outline",onClick:()=>b(A),disabled:a,"data-testid":`button-amount-${A}`,children:["$",(A/100).toFixed(0)]},A)),c.jsx("div",{className:"col-span-2 md:col-span-3",children:c.jsxs("div",{className:"flex gap-2",children:[c.jsx(gn,{type:"number",placeholder:"Custom amount",value:i,onChange:A=>s(A.target.value),min:"1",step:"0.01",disabled:a,"data-testid":"input-custom-amount"}),c.jsx(Re,{onClick:C,disabled:a||!i,"data-testid":"button-set-custom-amount",children:"Set Amount"})]})})]}),c.jsxs("div",{className:"text-center text-lg font-semibold text-primary",children:["Selected: $",(n/100).toFixed(2)]})]})]}),e&&c.jsxs(xt,{children:[c.jsxs(gt,{children:[c.jsx(vt,{children:"Payment Details"}),c.jsx(Pn,{children:"Complete your secure donation through Stripe"})]}),c.jsx(it,{children:c.jsx(Wae,{stripe:ctt,options:{clientSecret:e,appearance:{theme:"stripe",variables:{colorPrimary:"hsl(var(--primary))"}}},children:c.jsx(utt,{donorInfo:u,setDonorInfo:d,clientSecret:e})},e)})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx(dtt,{}),c.jsxs(xt,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Why Donate?"})}),c.jsx(it,{children:c.jsxs("ul",{className:"space-y-2 text-sm",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(oc,{className:"mr-2 h-4 w-4 text-primary mt-0.5"}),c.jsx("span",{children:"Help reduce food waste globally"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(oc,{className:"mr-2 h-4 w-4 text-primary mt-0.5"}),c.jsx("span",{children:"Support continuous improvements"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(oc,{className:"mr-2 h-4 w-4 text-primary mt-0.5"}),c.jsx("span",{children:"Keep the platform free for everyone"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(oc,{className:"mr-2 h-4 w-4 text-primary mt-0.5"}),c.jsx("span",{children:"Enable new features and integrations"})]})]})}),c.jsx(OZ,{children:c.jsx("p",{className:"text-xs text-muted-foreground",children:"All donations are processed securely through Stripe. Your support is greatly appreciated!"})})]})]})]})]})}function htt(){const[,e]=Bc(),{toast:t}=or(),[n,r]=T.useState("");T.useEffect(()=>{const s=new URLSearchParams(window.location.search),a=s.get("payment_intent"),o=s.get("payment_intent_client_secret");if(!a&&!o){e("/donate");return}(async()=>{if(a)try{const w=await(await Xt("POST","/api/donations/confirm",{paymentIntentId:a})).json();w.status!=="succeeded"&&console.warn("Payment not yet confirmed:",w.status)}catch(C){console.error("Error confirming donation:",C)}})();const d=3*1e3,h=Date.now()+d,m={startVelocity:30,spread:360,ticks:60,zIndex:0};function y(C,w){return Math.random()*(w-C)+C}const b=setInterval(function(){const C=h-Date.now();if(C<=0)return clearInterval(b);const w=50*(C/d);N2({...m,particleCount:w,origin:{x:y(.1,.3),y:Math.random()-.2}}),N2({...m,particleCount:w,origin:{x:y(.7,.9),y:Math.random()-.2}})},250);return r(window.location.origin+"/donate"),()=>clearInterval(b)},[e]);const i=async()=>{const s="I just supported an amazing cause! Join me in making a difference.";if(navigator.share)try{await navigator.share({title:"Support Our Mission",text:s,url:n})}catch{console.log("Share cancelled or failed")}else{const a=`${s} ${n}`;navigator.clipboard.writeText(a),t({title:"Link Copied!",description:"Share link has been copied to your clipboard."})}};return c.jsx("div",{className:"container mx-auto px-4 py-16 max-w-2xl",children:c.jsxs(xt,{className:"text-center",children:[c.jsxs(gt,{className:"pb-8",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx(Xd,{className:"h-16 w-16 text-green-500"})}),c.jsx(vt,{className:"text-3xl font-bold mb-2",children:"Thank You for Your Support!"}),c.jsx(Pn,{className:"text-lg",children:"Your donation has been successfully processed"})]}),c.jsxs(it,{className:"space-y-6",children:[c.jsxs("div",{className:"bg-muted rounded-lg p-6",children:[c.jsx(oc,{className:"h-12 w-12 text-primary mx-auto mb-3"}),c.jsx("p",{className:"text-muted-foreground",children:"Your generosity helps us continue our mission to reduce food waste and make meal planning accessible to everyone. Every contribution makes a real difference!"})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsx("h3",{className:"font-semibold text-lg mb-3",children:"What happens next?"}),c.jsxs("ul",{className:"text-left space-y-2 max-w-md mx-auto",children:[c.jsxs("li",{className:"flex items-start",children:[c.jsx(Xd,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-muted-foreground",children:"You'll receive an email receipt from Stripe shortly"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Xd,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-muted-foreground",children:"Your donation will be put to work immediately"})]}),c.jsxs("li",{className:"flex items-start",children:[c.jsx(Xd,{className:"h-5 w-5 text-green-500 mr-2 mt-0.5 flex-shrink-0"}),c.jsx("span",{className:"text-muted-foreground",children:"You're now part of our community of supporters"})]})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 justify-center pt-4",children:[c.jsx(zr,{href:"/",children:c.jsxs(Re,{variant:"default",size:"lg","data-testid":"button-home",children:[c.jsx(SG,{className:"mr-2 h-4 w-4"}),"Return Home"]})}),c.jsxs(Re,{variant:"outline",size:"lg",onClick:i,"data-testid":"button-share",children:[c.jsx(ohe,{className:"mr-2 h-4 w-4"}),"Share Your Support"]})]}),c.jsx("div",{className:"pt-4 border-t",children:c.jsxs("p",{className:"text-sm text-muted-foreground",children:["Want to make an even bigger impact?"," ",c.jsx(zr,{href:"/donate",children:c.jsx("span",{className:"text-primary hover:underline cursor-pointer","data-testid":"link-donate-again",children:"Make another donation"})})," ","or spread the word about our mission!"]})})]})]})})}const ptt={slide:{initial:{x:-50,opacity:0},animate:{x:0,opacity:1},hover:{x:5}},scale:{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},hover:{scale:1.05}},fade:{initial:{opacity:0},animate:{opacity:1},hover:{opacity:.95}},flip:{initial:{rotateY:90,opacity:0},animate:{rotateY:0,opacity:1},hover:{rotateY:5}}};function Hi({children:e,className:t,delay:n=0,hover:r=!0,variant:i="scale"}){const s=ptt[i];return c.jsx(ap.div,{initial:"initial",animate:"animate",whileHover:r?"hover":void 0,variants:s,transition:{duration:.5,delay:n,ease:[.4,0,.2,1]},className:Te("relative transition-all",t),children:e})}function mtt(){const e=[{category:"Frontend",icon:Dfe,items:[{name:"React",description:"UI library for building user interfaces",link:"https://react.dev"},{name:"TypeScript",description:"Type-safe JavaScript superset",link:"https://www.typescriptlang.org"},{name:"Vite",description:"Next generation frontend build tool",link:"https://vitejs.dev"},{name:"Tailwind CSS",description:"Utility-first CSS framework",link:"https://tailwindcss.com"},{name:"shadcn/ui",description:"Beautifully designed components",link:"https://ui.shadcn.com"},{name:"Wouter",description:"Minimalist routing library",link:"https://github.com/molefrog/wouter"},{name:"TanStack Query",description:"Powerful data synchronization",link:"https://tanstack.com/query"},{name:"Framer Motion",description:"Animation library",link:"https://www.framer.com/motion"},{name:"Recharts",description:"Data visualization",link:"https://recharts.org"},{name:"Lucide React",description:"Beautiful icon library",link:"https://lucide.dev"}]},{category:"Backend & Database",icon:wp,items:[{name:"Node.js",description:"JavaScript runtime",link:"https://nodejs.org"},{name:"Express",description:"Web application framework",link:"https://expressjs.com"},{name:"PostgreSQL",description:"Advanced relational database",link:"https://www.postgresql.org"},{name:"Drizzle ORM",description:"TypeScript ORM",link:"https://orm.drizzle.team"},{name:"Passport.js",description:"Authentication middleware",link:"http://www.passportjs.org"},{name:"OpenAI API",description:"AI language models",link:"https://openai.com"}]},{category:"Services & APIs",icon:Vy,items:[{name:"USDA FoodData Central",description:"Comprehensive food database",link:"https://fdc.nal.usda.gov"},{name:"Stripe",description:"Payment processing",link:"https://stripe.com"},{name:"Replit Auth",description:"Simple authentication",link:"https://replit.com"},{name:"Google Cloud Storage",description:"Object storage service",link:"https://cloud.google.com/storage"}]},{category:"Development Tools",icon:Rw,items:[{name:"Replit",description:"Cloud development platform",link:"https://replit.com"},{name:"ESLint",description:"Code linting",link:"https://eslint.org"},{name:"Prettier",description:"Code formatting",link:"https://prettier.io"},{name:"tsx",description:"TypeScript execution",link:"https://github.com/esbuild-kit/tsx"}]}],t=[{title:"Open Source Community",description:"Special thanks to all the maintainers and contributors of the open source projects that make this application possible."},{title:"USDA Food Database",description:"Nutrition data is provided by the USDA FoodData Central, a trusted source for food and nutrient information."},{title:"Recipe Inspiration",description:"Recipe generation powered by advanced AI models to help you create delicious meals from your available ingredients."},{title:"Community Feedback",description:"Thanks to all our users who provide valuable feedback and suggestions to improve the application."}];return c.jsxs(QC,{className:"container max-w-6xl mx-auto p-6 space-y-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(bs,{className:"w-10 h-10 text-primary"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold",children:"About ChefSpAIce"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Your intelligent kitchen companion for smarter cooking and food management"})]})]})}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsxs(vt,{className:"flex items-center gap-2",children:[c.jsx(oc,{className:"w-5 h-5 text-red-500"}),"Our Mission"]})}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"ChefSpAIce is designed to revolutionize how you manage your kitchen and cooking. We combine artificial intelligence with practical kitchen management to help you reduce food waste, discover new recipes, and make meal planning effortless."}),c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"Whether you're a beginner cook or a seasoned chef, our application adapts to your needs, dietary preferences, and cooking style. Track your inventory, get recipe suggestions based on what you have, and never forget what's in your fridge again."})]})]}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Technologies & Attributions"}),c.jsx("div",{className:"grid gap-6",children:e.map(n=>{const r=n.icon;return c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsxs(vt,{className:"flex items-center gap-2 text-lg",children:[c.jsx(r,{className:"w-5 h-5 text-primary"}),n.category]})}),c.jsx(it,{children:c.jsx("div",{className:"grid sm:grid-cols-2 gap-4",children:n.items.map(i=>c.jsxs("div",{className:"space-y-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("a",{href:i.link,target:"_blank",rel:"noopener noreferrer",className:"font-medium hover:text-primary transition-colors","data-testid":`link-tech-${i.name.toLowerCase().replace(/\s+/g,"-")}`,children:i.name}),c.jsx(Ot,{variant:"outline",className:"text-xs",children:"Open Source"})]}),c.jsx("p",{className:"text-sm text-muted-foreground",children:i.description})]},i.name))})})]},n.category)})})]}),c.jsx(Yu,{className:"my-8"}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Acknowledgements"}),c.jsx("div",{className:"grid gap-4",children:t.map((n,r)=>c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{className:"text-lg",children:n.title})}),c.jsx(it,{children:c.jsx("p",{className:"text-muted-foreground",children:n.description})})]},r))})]}),c.jsx(Yu,{className:"my-8"}),c.jsxs("div",{className:"text-center space-y-4 pb-8",children:[c.jsxs("p",{className:"text-sm text-muted-foreground",children:["ChefSpAIce  2025 | Built with ",c.jsx(oc,{className:"w-4 h-4 inline text-red-500"})," for home cooks everywhere"]}),c.jsx("p",{className:"text-xs text-muted-foreground",children:"Version 1.0.0 | Last updated: October 2025"})]})]})}function gtt(){const e=[{icon:wp,title:"Information We Collect",content:["Account information (email, username) when you sign up","Food inventory data you add to the application","Recipe preferences and dietary restrictions","Meal planning and shopping list data","Usage analytics to improve the service","Feedback and support communications"]},{icon:Kfe,title:"How We Use Your Information",content:["Provide personalized recipe recommendations","Track your food inventory and expiration dates","Generate shopping lists based on your meal plans","Improve our AI models and service quality","Send important service updates and notifications","Respond to your support requests"]},{icon:Rw,title:"Data Security",content:["All data is encrypted in transit using HTTPS","Database encryption at rest for sensitive information","Regular security audits and updates","Access controls and authentication requirements","Secure cloud infrastructure with redundancy","No storage of payment card details (handled by Stripe)"]},{icon:Ufe,title:"Third-Party Services",content:["OpenAI for recipe generation and AI features","Stripe for secure payment processing","USDA FoodData Central for nutrition information","Google Cloud for secure data storage","Analytics services for usage insights","Email services for notifications"]},{icon:Lfe,title:"Your Privacy Rights",content:["Access your personal data at any time","Request correction of inaccurate information","Delete your account and associated data","Export your data in a portable format","Opt-out of non-essential communications","Control sharing preferences"]},{icon:dhe,title:"Data Retention",content:["Active account data kept while account is active","Deleted accounts removed within 30 days","Aggregated analytics data may be retained","Legal obligations may require longer retention","Backup data purged on regular schedule","You can request immediate deletion"]}];return c.jsxs(QC,{className:"container max-w-4xl mx-auto p-6 space-y-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(Rw,{className:"w-10 h-10 text-primary"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Last updated: October 14, 2025"})]})]})}),c.jsxs(jc,{className:"border-primary/50",children:[c.jsx(Tc,{className:"h-4 w-4"}),c.jsx(kc,{children:"Your privacy is important to us. This policy explains how we collect, use, and protect your information when you use ChefSpAIce."})]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Our Commitment to Privacy"})}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"ChefSpAIce is committed to protecting your privacy and ensuring the security of your personal information. We believe in transparency about our data practices and giving you control over your information."}),c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"This Privacy Policy describes how we collect, use, share, and protect information when you use our application. By using ChefSpAIce, you agree to the collection and use of information in accordance with this policy."})]})]}),c.jsx("div",{className:"space-y-6",children:e.map((t,n)=>{const r=t.icon;return c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsxs(vt,{className:"flex items-center gap-2 text-lg",children:[c.jsx(r,{className:"w-5 h-5 text-primary"}),t.title]})}),c.jsx(it,{children:c.jsx("ul",{className:"space-y-2",children:t.content.map((i,s)=>c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-primary mt-1",children:""}),c.jsx("span",{className:"text-muted-foreground",children:i})]},s))})})]},n)})}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsxs(vt,{className:"flex items-center gap-2 text-lg",children:[c.jsx(Xfe,{className:"w-5 h-5 text-primary"}),"Cookies and Tracking"]})}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground",children:"We use cookies and similar tracking technologies to improve your experience:"}),c.jsxs("ul",{className:"space-y-2",children:[c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-primary mt-1",children:""}),c.jsxs("span",{className:"text-muted-foreground",children:[c.jsx("strong",{children:"Essential cookies:"})," Required for authentication and core functionality"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-primary mt-1",children:""}),c.jsxs("span",{className:"text-muted-foreground",children:[c.jsx("strong",{children:"Preference cookies:"})," Remember your settings and preferences"]})]}),c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-primary mt-1",children:""}),c.jsxs("span",{className:"text-muted-foreground",children:[c.jsx("strong",{children:"Analytics cookies:"})," Help us understand usage patterns (anonymized)"]})]})]}),c.jsx("p",{className:"text-muted-foreground",children:"You can control cookie preferences in your browser settings. Disabling cookies may affect functionality."})]})]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Children's Privacy"})}),c.jsx(it,{className:"space-y-4",children:c.jsx("p",{className:"text-muted-foreground",children:"ChefSpAIce is not intended for use by children under 13 years of age. We do not knowingly collect personal information from children under 13. If you believe we have collected information from a child under 13, please contact us immediately."})})]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"International Data Transfers"})}),c.jsx(it,{className:"space-y-4",children:c.jsx("p",{className:"text-muted-foreground",children:"Your information may be transferred to and maintained on servers located outside of your state, province, country, or other governmental jurisdiction. We ensure appropriate safeguards are in place to protect your information in accordance with this Privacy Policy."})})]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Changes to This Policy"})}),c.jsx(it,{className:"space-y-4",children:c.jsx("p",{className:"text-muted-foreground",children:'We may update our Privacy Policy from time to time. We will notify you of any changes by posting the new Privacy Policy on this page and updating the "Last updated" date. Continued use of the service after changes indicates acceptance of the updated policy.'})})]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Contact Us"})}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground",children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"}),c.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[c.jsx("p",{children:"Email: privacy@aichef.app"}),c.jsx("p",{children:"Support: Use the in-app feedback feature"}),c.jsx("p",{children:"Response time: Within 48 hours"})]})]})]}),c.jsx("div",{className:"text-center text-sm text-muted-foreground pb-8",children:c.jsx("p",{children:" 2025 ChefSpAIce. All rights reserved."})})]})}function ytt(){const e=[{icon:Xd,title:"1. Acceptance of Terms",content:'By accessing and using ChefSpAIce ("the Service"), you accept and agree to be bound by these Terms of Service. If you do not agree to these terms, please do not use our Service. We reserve the right to update these terms at any time, and continued use of the Service constitutes acceptance of any changes.'},{icon:Iv,title:"2. User Accounts",content:"You are responsible for maintaining the confidentiality of your account credentials and for all activities that occur under your account. You must provide accurate and complete information when creating an account. You must be at least 13 years old to use this Service. You may not use another person's account without permission."},{icon:ahe,title:"3. Acceptable Use",content:"You agree to use ChefSpAIce only for lawful purposes and in accordance with these Terms. You may not use the Service to: violate any laws or regulations; infringe on intellectual property rights; transmit harmful code or malware; attempt to gain unauthorized access; harass or harm other users; or engage in any activity that disrupts the Service."},{icon:zy,title:"4. Content and Intellectual Property",content:"The Service and its original content, features, and functionality are owned by ChefSpAIce and are protected by international copyright, trademark, and other intellectual property laws. User-generated content remains the property of the user, but you grant us a license to use, store, and display such content as necessary to provide the Service."},{icon:Vf,title:"5. Disclaimers and Limitations",content:'ChefSpAIce is provided "as is" without warranties of any kind. We do not guarantee the accuracy of nutritional information, recipe suggestions, or food safety recommendations. Users should verify all information and use their own judgment regarding food safety and dietary requirements. We are not responsible for any allergic reactions or health issues resulting from use of the Service.'},{icon:Efe,title:"6. Limitation of Liability",content:"To the maximum extent permitted by law, ChefSpAIce shall not be liable for any indirect, incidental, special, consequential, or punitive damages, including loss of profits, data, or other intangible losses resulting from your use of the Service, even if we have been advised of the possibility of such damages."},{icon:$fe,title:"7. Governing Law",content:"These Terms shall be governed by and construed in accordance with the laws of the United States, without regard to its conflict of law provisions. Any disputes arising from these Terms or the Service shall be resolved through binding arbitration in accordance with the rules of the American Arbitration Association."}],t=[{title:"Subscription and Payments",items:["Free tier includes basic features with usage limits","Premium subscriptions auto-renew unless cancelled","Refunds are available within 7 days of purchase","Prices may change with 30 days notice","Payment processing handled securely by Stripe"]},{title:"Data Usage and Privacy",items:["Your data is used to provide and improve the Service","We do not sell personal information to third parties","You can export or delete your data at any time","Analytics data may be used in aggregate form","See our Privacy Policy for detailed information"]},{title:"Service Availability",items:["We strive for 99.9% uptime but do not guarantee it","Scheduled maintenance will be announced in advance","We may suspend service for security reasons","Features may be added or removed over time","API access subject to rate limiting"]},{title:"User Responsibilities",items:["Maintain accurate account information","Secure your account credentials","Report any unauthorized access immediately","Comply with all applicable laws","Respect other users and their privacy"]}];return c.jsxs(QC,{className:"container max-w-4xl mx-auto p-6 space-y-8",children:[c.jsx("div",{className:"space-y-4",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx(EG,{className:"w-10 h-10 text-primary"}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-4xl font-bold",children:"Terms of Service"}),c.jsx("p",{className:"text-muted-foreground mt-2",children:"Last updated: October 14, 2025 | Effective immediately"})]})]})}),c.jsxs(jc,{className:"border-primary/50",children:[c.jsx(zy,{className:"h-4 w-4"}),c.jsx(kc,{children:"Please read these Terms of Service carefully before using ChefSpAIce. Your use of the Service indicates your acceptance of these terms."})]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Agreement Overview"})}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:'These Terms of Service ("Terms") govern your use of ChefSpAIce, including our website, mobile applications, and all related services (collectively, the "Service"). This is a legal agreement between you and ChefSpAIce.'}),c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:"By using our Service, you acknowledge that you have read, understood, and agree to be bound by these Terms and our Privacy Policy. If you are using the Service on behalf of an organization, you agree to these Terms on behalf of that organization."})]})]}),c.jsx("div",{className:"space-y-6",children:e.map((n,r)=>{const i=n.icon;return c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsxs(vt,{className:"flex items-center gap-2 text-lg",children:[c.jsx(i,{className:"w-5 h-5 text-primary"}),n.title]})}),c.jsx(it,{children:c.jsx("p",{className:"text-muted-foreground leading-relaxed",children:n.content})})]},r)})}),c.jsxs("div",{className:"space-y-6",children:[c.jsx("h2",{className:"text-2xl font-semibold",children:"Additional Terms"}),t.map((n,r)=>c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{className:"text-lg",children:n.title})}),c.jsx(it,{children:c.jsx("ul",{className:"space-y-2",children:n.items.map((i,s)=>c.jsxs("li",{className:"flex items-start gap-2",children:[c.jsx("span",{className:"text-primary mt-1",children:""}),c.jsx("span",{className:"text-muted-foreground",children:i})]},s))})})]},r))]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Medical and Health Disclaimer"})}),c.jsxs(it,{className:"space-y-4",children:[c.jsxs(jc,{className:"border-warning",children:[c.jsx(Vf,{className:"h-4 w-4"}),c.jsxs(kc,{children:[c.jsx("strong",{children:"Important:"})," ChefSpAIce is not a substitute for professional medical or nutritional advice."]})]}),c.jsx("p",{className:"text-muted-foreground",children:"The nutritional information and dietary suggestions provided by ChefSpAIce are for informational purposes only. Always consult with a qualified healthcare provider or registered dietitian before making significant changes to your diet, especially if you have health conditions or food allergies."}),c.jsx("p",{className:"text-muted-foreground",children:"We make no representations or warranties about the accuracy of nutritional data, recipe safety, or suitability for specific dietary needs. Users are responsible for verifying all information and ensuring food safety practices."})]})]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Termination"})}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground",children:"We reserve the right to terminate or suspend your account and access to the Service immediately, without prior notice or liability, for any reason, including breach of these Terms. Upon termination, your right to use the Service will immediately cease."}),c.jsx("p",{className:"text-muted-foreground",children:"You may terminate your account at any time through the account settings. Upon termination, your data will be deleted according to our data retention policy outlined in the Privacy Policy."})]})]}),c.jsxs(Hi,{children:[c.jsx(gt,{children:c.jsx(vt,{children:"Contact Information"})}),c.jsxs(it,{className:"space-y-4",children:[c.jsx("p",{className:"text-muted-foreground",children:"For questions about these Terms of Service, please contact us:"}),c.jsxs("div",{className:"space-y-2 text-muted-foreground",children:[c.jsx("p",{children:"Email: legal@aichef.app"}),c.jsx("p",{children:"Support: Use the in-app feedback feature"}),c.jsx("p",{children:"Mailing: ChefSpAIce Legal, PO Box 12345, Tech City, TC 54321"})]})]})]}),c.jsxs("div",{className:"text-center text-sm text-muted-foreground pb-8",children:[c.jsx("p",{children:" 2025 ChefSpAIce. All rights reserved."}),c.jsx("p",{className:"mt-2",children:"By using ChefSpAIce, you agree to these Terms of Service and our Privacy Policy."})]})]})}function vtt(){return c.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:c.jsx(xt,{className:"w-full max-w-md mx-4",children:c.jsxs(it,{className:"pt-6",children:[c.jsxs("div",{className:"flex mb-4 gap-2",children:[c.jsx(Tc,{className:"h-8 w-8 text-red-500"}),c.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),c.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}function xtt(){return c.jsxs(AH,{children:[c.jsx(Or,{path:"/",component:x8}),c.jsx(Or,{path:"/chat",component:x8}),c.jsx(Or,{path:"/cookbook",component:Dje}),c.jsx(Or,{path:"/nutrition",component:Rje}),c.jsx(Or,{path:"/meal-planner",component:Fje}),c.jsx(Or,{path:"/shopping-list",component:Vje}),c.jsx(Or,{path:"/appliances",component:ike}),c.jsx(Or,{path:"/storage/:location",component:hNe}),c.jsx(Or,{path:"/food-groups",component:zke}),c.jsx(Or,{path:"/fdc-search",component:Uke}),c.jsx(Or,{path:"/feedback-analytics",component:jet}),c.jsx(Or,{path:"/feedback",component:ket}),c.jsx(Or,{path:"/donate",component:ftt}),c.jsx(Or,{path:"/donate/success",component:htt}),c.jsx(Or,{path:"/settings",component:uke}),c.jsx(Or,{path:"/about",component:mtt}),c.jsx(Or,{path:"/privacy",component:gtt}),c.jsx(Or,{path:"/terms",component:ytt}),c.jsx(Or,{component:vtt})]})}function nB(){const{isAuthenticated:e,isLoading:t}=FC();return t||!e?c.jsxs(AH,{children:[c.jsx(Or,{path:"/",component:D5}),c.jsx(Or,{component:D5})]}):c.jsx(xtt,{})}function btt(){const{isAuthenticated:e,isLoading:t}=FC(),[n,r]=T.useState(!1),[i,s]=T.useState(!1),[a,o]=T.useState(!1),u=T.useRef(null),[d]=Bc(),{data:h,isLoading:m}=qj({queryKey:["/api/user/preferences"],cacheKey:"cache:user:preferences",enabled:e});T.useEffect(()=>{const b=()=>{if(u.current){const w=u.current.scrollTop>10;o(w)}},C=u.current;if(C)return C.addEventListener("scroll",b),()=>C.removeEventListener("scroll",b)},[]);const y={"--sidebar-width":"20rem","--sidebar-width-icon":"4rem"};return t||!e?c.jsx(nB,{}):!m&&(!h||!h.hasCompletedOnboarding)?c.jsx(hCe,{}):c.jsxs(c.Fragment,{children:[c.jsx(R2e,{variant:"both",gradientType:"soft",particleCount:30}),c.jsx(qge,{onAddFood:()=>r(!0),onGenerateRecipe:()=>s(!0),onScanBarcode:()=>{window.location.href="/fdc-search?scanBarcode=true"}}),c.jsx(KY,{open:n,onOpenChange:r}),c.jsx(mZ,{open:i,onOpenChange:s}),d!=="/"&&!d.startsWith("/chat")&&c.jsx(PZ,{}),c.jsx(sge,{style:y,children:c.jsxs("div",{className:"flex h-screen w-full relative overflow-x-hidden",children:[c.jsx(bge,{}),c.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[c.jsxs("header",{className:Te("flex items-center gap-4 p-4 border-b transition-all-smooth sticky top-0 z-20",a?"glass-ultra navbar-scroll scrolled shadow-lg":"glass-vibrant border-border/30"),children:[c.jsx(oge,{"data-testid":"button-sidebar-toggle",className:"transition-morph hover:scale-105"}),c.jsx("div",{className:"ml-auto",children:c.jsx(Kge,{onAddFood:()=>r(!0),onGenerateRecipe:()=>s(!0),onScanBarcode:()=>{window.location.href="/fdc-search?scanBarcode=true"}})})]}),c.jsx("main",{ref:u,className:"flex-1 overflow-y-auto overflow-x-hidden",children:c.jsx(nB,{})})]})]})})]})}function wtt(){return c.jsx(F2e,{children:c.jsx(Mue,{client:St,children:c.jsxs(CC,{children:[c.jsx(btt,{}),c.jsx(yhe,{})]})})})}hH(document.getElementById("root")).render(c.jsx(wtt,{}))});export default Stt();
